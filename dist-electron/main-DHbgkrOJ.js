import { app, ipcMain, BrowserWindow, Menu, shell } from "electron";
import path$1 from "node:path";
import fs$1, { ReadStream } from "node:fs";
import { fileURLToPath } from "node:url";
import fs from "fs/promises";
import path from "path";
import Stream$2 from "stream";
import http from "http";
import Url from "url";
import require$$0 from "punycode";
import https from "https";
import zlib from "zlib";
import require$$0$1, { deprecate, inspect } from "util";
import { Readable as Readable$1 } from "node:stream";
import { ReadableStream as ReadableStream$4 } from "node:stream/web";
const storageDir = path.join(app.getPath("userData"), "TheLLMAIImprovTheaterData");
async function ensureStorageDirExists() {
  try {
    await fs.access(storageDir);
  } catch (error) {
    let errorCode;
    if (error && typeof error === "object" && "code" in error) {
      errorCode = error.code;
    }
    if (errorCode === "ENOENT") {
      try {
        await fs.mkdir(storageDir, { recursive: true });
        console.log(`Storage directory created: ${storageDir}`);
      } catch (mkdirError) {
        console.error(`Error creating storage directory ${storageDir}:`, mkdirError);
        throw new Error(`Failed to create storage directory: ${storageDir}`);
      }
    } else {
      console.error(`Error accessing storage directory ${storageDir}:`, error);
      throw new Error(`Failed to access storage directory: ${storageDir}`);
    }
  }
}
async function readStore(fileName, defaultValue) {
  await ensureStorageDirExists();
  const filePath = path.join(storageDir, fileName);
  try {
    const fileContent = await fs.readFile(filePath, { encoding: "utf-8" });
    if (!fileContent) {
      return defaultValue;
    }
    try {
      return JSON.parse(fileContent);
    } catch (parseError) {
      console.error(`Error parsing JSON from file ${filePath}:`, parseError);
      return defaultValue;
    }
  } catch (error) {
    if (error && typeof error === "object" && "code" in error) {
      if (error.code === "ENOENT") {
        console.log(`Store file ${fileName} not found, returning default value.`);
        return defaultValue;
      }
    }
    console.error(`Error reading store file ${filePath}:`, error);
    return defaultValue;
  }
}
async function writeStore(fileName, data) {
  await ensureStorageDirExists();
  const filePath = path.join(storageDir, fileName);
  try {
    const fileContent = JSON.stringify(data, null, 2);
    await fs.writeFile(filePath, fileContent, { encoding: "utf-8" });
    console.log(`Data successfully written to ${filePath}`);
  } catch (error) {
    console.error(`Error writing store file ${filePath}:`, error);
    const message = error instanceof Error ? error.message : "写入存储时发生未知错误";
    throw new Error(`Failed to write store file: ${fileName}. Reason: ${message}`);
  }
}
const default_format = "RFC3986";
const formatters = {
  RFC1738: (v2) => String(v2).replace(/%20/g, "+"),
  RFC3986: (v2) => String(v2)
};
const RFC1738 = "RFC1738";
const is_array$1 = Array.isArray;
const hex_table = (() => {
  const array = [];
  for (let i2 = 0; i2 < 256; ++i2) {
    array.push("%" + ((i2 < 16 ? "0" : "") + i2.toString(16)).toUpperCase());
  }
  return array;
})();
const limit = 1024;
const encode = (str2, _defaultEncoder, charset, _kind, format) => {
  if (str2.length === 0) {
    return str2;
  }
  let string = str2;
  if (typeof str2 === "symbol") {
    string = Symbol.prototype.toString.call(str2);
  } else if (typeof str2 !== "string") {
    string = String(str2);
  }
  if (charset === "iso-8859-1") {
    return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
      return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
    });
  }
  let out = "";
  for (let j2 = 0; j2 < string.length; j2 += limit) {
    const segment = string.length >= limit ? string.slice(j2, j2 + limit) : string;
    const arr = [];
    for (let i2 = 0; i2 < segment.length; ++i2) {
      let c2 = segment.charCodeAt(i2);
      if (c2 === 45 || // -
      c2 === 46 || // .
      c2 === 95 || // _
      c2 === 126 || // ~
      c2 >= 48 && c2 <= 57 || // 0-9
      c2 >= 65 && c2 <= 90 || // a-z
      c2 >= 97 && c2 <= 122 || // A-Z
      format === RFC1738 && (c2 === 40 || c2 === 41)) {
        arr[arr.length] = segment.charAt(i2);
        continue;
      }
      if (c2 < 128) {
        arr[arr.length] = hex_table[c2];
        continue;
      }
      if (c2 < 2048) {
        arr[arr.length] = hex_table[192 | c2 >> 6] + hex_table[128 | c2 & 63];
        continue;
      }
      if (c2 < 55296 || c2 >= 57344) {
        arr[arr.length] = hex_table[224 | c2 >> 12] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
        continue;
      }
      i2 += 1;
      c2 = 65536 + ((c2 & 1023) << 10 | segment.charCodeAt(i2) & 1023);
      arr[arr.length] = hex_table[240 | c2 >> 18] + hex_table[128 | c2 >> 12 & 63] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
    }
    out += arr.join("");
  }
  return out;
};
function is_buffer(obj) {
  if (!obj || typeof obj !== "object") {
    return false;
  }
  return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
}
function maybe_map(val, fn) {
  if (is_array$1(val)) {
    const mapped = [];
    for (let i2 = 0; i2 < val.length; i2 += 1) {
      mapped.push(fn(val[i2]));
    }
    return mapped;
  }
  return fn(val);
}
const has = Object.prototype.hasOwnProperty;
const array_prefix_generators = {
  brackets(prefix) {
    return String(prefix) + "[]";
  },
  comma: "comma",
  indices(prefix, key) {
    return String(prefix) + "[" + key + "]";
  },
  repeat(prefix) {
    return String(prefix);
  }
};
const is_array = Array.isArray;
const push = Array.prototype.push;
const push_to_array = function(arr, value_or_array) {
  push.apply(arr, is_array(value_or_array) ? value_or_array : [value_or_array]);
};
const to_ISO = Date.prototype.toISOString;
const defaults = {
  addQueryPrefix: false,
  allowDots: false,
  allowEmptyArrays: false,
  arrayFormat: "indices",
  charset: "utf-8",
  charsetSentinel: false,
  delimiter: "&",
  encode: true,
  encodeDotInKeys: false,
  encoder: encode,
  encodeValuesOnly: false,
  format: default_format,
  formatter: formatters[default_format],
  /** @deprecated */
  indices: false,
  serializeDate(date) {
    return to_ISO.call(date);
  },
  skipNulls: false,
  strictNullHandling: false
};
function is_non_nullish_primitive(v2) {
  return typeof v2 === "string" || typeof v2 === "number" || typeof v2 === "boolean" || typeof v2 === "symbol" || typeof v2 === "bigint";
}
const sentinel = {};
function inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {
  let obj = object;
  let tmp_sc = sideChannel;
  let step = 0;
  let find_flag = false;
  while ((tmp_sc = tmp_sc.get(sentinel)) !== void 0 && !find_flag) {
    const pos = tmp_sc.get(object);
    step += 1;
    if (typeof pos !== "undefined") {
      if (pos === step) {
        throw new RangeError("Cyclic object value");
      } else {
        find_flag = true;
      }
    }
    if (typeof tmp_sc.get(sentinel) === "undefined") {
      step = 0;
    }
  }
  if (typeof filter === "function") {
    obj = filter(prefix, obj);
  } else if (obj instanceof Date) {
    obj = serializeDate == null ? void 0 : serializeDate(obj);
  } else if (generateArrayPrefix === "comma" && is_array(obj)) {
    obj = maybe_map(obj, function(value) {
      if (value instanceof Date) {
        return serializeDate == null ? void 0 : serializeDate(value);
      }
      return value;
    });
  }
  if (obj === null) {
    if (strictNullHandling) {
      return encoder && !encodeValuesOnly ? (
        // @ts-expect-error
        encoder(prefix, defaults.encoder, charset, "key", format)
      ) : prefix;
    }
    obj = "";
  }
  if (is_non_nullish_primitive(obj) || is_buffer(obj)) {
    if (encoder) {
      const key_value = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, "key", format);
      return [
        (formatter == null ? void 0 : formatter(key_value)) + "=" + // @ts-expect-error
        (formatter == null ? void 0 : formatter(encoder(obj, defaults.encoder, charset, "value", format)))
      ];
    }
    return [(formatter == null ? void 0 : formatter(prefix)) + "=" + (formatter == null ? void 0 : formatter(String(obj)))];
  }
  const values = [];
  if (typeof obj === "undefined") {
    return values;
  }
  let obj_keys;
  if (generateArrayPrefix === "comma" && is_array(obj)) {
    if (encodeValuesOnly && encoder) {
      obj = maybe_map(obj, encoder);
    }
    obj_keys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
  } else if (is_array(filter)) {
    obj_keys = filter;
  } else {
    const keys = Object.keys(obj);
    obj_keys = sort ? keys.sort(sort) : keys;
  }
  const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\./g, "%2E") : String(prefix);
  const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + "[]" : encoded_prefix;
  if (allowEmptyArrays && is_array(obj) && obj.length === 0) {
    return adjusted_prefix + "[]";
  }
  for (let j2 = 0; j2 < obj_keys.length; ++j2) {
    const key = obj_keys[j2];
    const value = (
      // @ts-ignore
      typeof key === "object" && typeof key.value !== "undefined" ? key.value : obj[key]
    );
    if (skipNulls && value === null) {
      continue;
    }
    const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\./g, "%2E") : key;
    const key_prefix = is_array(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? "." + encoded_key : "[" + encoded_key + "]");
    sideChannel.set(object, step);
    const valueSideChannel = /* @__PURE__ */ new WeakMap();
    valueSideChannel.set(sentinel, sideChannel);
    push_to_array(values, inner_stringify(
      value,
      key_prefix,
      generateArrayPrefix,
      commaRoundTrip,
      allowEmptyArrays,
      strictNullHandling,
      skipNulls,
      encodeDotInKeys,
      // @ts-ignore
      generateArrayPrefix === "comma" && encodeValuesOnly && is_array(obj) ? null : encoder,
      filter,
      sort,
      allowDots,
      serializeDate,
      format,
      formatter,
      encodeValuesOnly,
      charset,
      valueSideChannel
    ));
  }
  return values;
}
function normalize_stringify_options(opts = defaults) {
  if (typeof opts.allowEmptyArrays !== "undefined" && typeof opts.allowEmptyArrays !== "boolean") {
    throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
  }
  if (typeof opts.encodeDotInKeys !== "undefined" && typeof opts.encodeDotInKeys !== "boolean") {
    throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");
  }
  if (opts.encoder !== null && typeof opts.encoder !== "undefined" && typeof opts.encoder !== "function") {
    throw new TypeError("Encoder has to be a function.");
  }
  const charset = opts.charset || defaults.charset;
  if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
    throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
  }
  let format = default_format;
  if (typeof opts.format !== "undefined") {
    if (!has.call(formatters, opts.format)) {
      throw new TypeError("Unknown format option provided.");
    }
    format = opts.format;
  }
  const formatter = formatters[format];
  let filter = defaults.filter;
  if (typeof opts.filter === "function" || is_array(opts.filter)) {
    filter = opts.filter;
  }
  let arrayFormat;
  if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {
    arrayFormat = opts.arrayFormat;
  } else if ("indices" in opts) {
    arrayFormat = opts.indices ? "indices" : "repeat";
  } else {
    arrayFormat = defaults.arrayFormat;
  }
  if ("commaRoundTrip" in opts && typeof opts.commaRoundTrip !== "boolean") {
    throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
  }
  const allowDots = typeof opts.allowDots === "undefined" ? !!opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;
  return {
    addQueryPrefix: typeof opts.addQueryPrefix === "boolean" ? opts.addQueryPrefix : defaults.addQueryPrefix,
    // @ts-ignore
    allowDots,
    allowEmptyArrays: typeof opts.allowEmptyArrays === "boolean" ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,
    arrayFormat,
    charset,
    charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults.charsetSentinel,
    commaRoundTrip: !!opts.commaRoundTrip,
    delimiter: typeof opts.delimiter === "undefined" ? defaults.delimiter : opts.delimiter,
    encode: typeof opts.encode === "boolean" ? opts.encode : defaults.encode,
    encodeDotInKeys: typeof opts.encodeDotInKeys === "boolean" ? opts.encodeDotInKeys : defaults.encodeDotInKeys,
    encoder: typeof opts.encoder === "function" ? opts.encoder : defaults.encoder,
    encodeValuesOnly: typeof opts.encodeValuesOnly === "boolean" ? opts.encodeValuesOnly : defaults.encodeValuesOnly,
    filter,
    format,
    formatter,
    serializeDate: typeof opts.serializeDate === "function" ? opts.serializeDate : defaults.serializeDate,
    skipNulls: typeof opts.skipNulls === "boolean" ? opts.skipNulls : defaults.skipNulls,
    // @ts-ignore
    sort: typeof opts.sort === "function" ? opts.sort : null,
    strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults.strictNullHandling
  };
}
function stringify(object, opts = {}) {
  let obj = object;
  const options = normalize_stringify_options(opts);
  let obj_keys;
  let filter;
  if (typeof options.filter === "function") {
    filter = options.filter;
    obj = filter("", obj);
  } else if (is_array(options.filter)) {
    filter = options.filter;
    obj_keys = filter;
  }
  const keys = [];
  if (typeof obj !== "object" || obj === null) {
    return "";
  }
  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];
  const commaRoundTrip = generateArrayPrefix === "comma" && options.commaRoundTrip;
  if (!obj_keys) {
    obj_keys = Object.keys(obj);
  }
  if (options.sort) {
    obj_keys.sort(options.sort);
  }
  const sideChannel = /* @__PURE__ */ new WeakMap();
  for (let i2 = 0; i2 < obj_keys.length; ++i2) {
    const key = obj_keys[i2];
    if (options.skipNulls && obj[key] === null) {
      continue;
    }
    push_to_array(keys, inner_stringify(
      obj[key],
      key,
      // @ts-expect-error
      generateArrayPrefix,
      commaRoundTrip,
      options.allowEmptyArrays,
      options.strictNullHandling,
      options.skipNulls,
      options.encodeDotInKeys,
      options.encode ? options.encoder : null,
      options.filter,
      options.sort,
      options.allowDots,
      options.serializeDate,
      options.format,
      options.formatter,
      options.encodeValuesOnly,
      options.charset,
      sideChannel
    ));
  }
  const joined = keys.join(options.delimiter);
  let prefix = options.addQueryPrefix === true ? "?" : "";
  if (options.charsetSentinel) {
    if (options.charset === "iso-8859-1") {
      prefix += "utf8=%26%2310003%3B&";
    } else {
      prefix += "utf8=%E2%9C%93&";
    }
  }
  return joined.length > 0 ? prefix + joined : "";
}
const VERSION$1 = "4.96.0";
let auto$1 = false;
let kind$1 = void 0;
let fetch$3 = void 0;
let FormData$1 = void 0;
let File$2 = void 0;
let ReadableStream$3 = void 0;
let getMultipartRequestOptions$2 = void 0;
let getDefaultAgent$1 = void 0;
let fileFromPath$3 = void 0;
let isFsReadStream = void 0;
function setShims$1(shims, options = { auto: false }) {
  if (auto$1) {
    throw new Error(`you must \`import 'openai/shims/${shims.kind}'\` before importing anything else from openai`);
  }
  if (kind$1) {
    throw new Error(`can't \`import 'openai/shims/${shims.kind}'\` after \`import 'openai/shims/${kind$1}'\``);
  }
  auto$1 = options.auto;
  kind$1 = shims.kind;
  fetch$3 = shims.fetch;
  FormData$1 = shims.FormData;
  File$2 = shims.File;
  ReadableStream$3 = shims.ReadableStream;
  getMultipartRequestOptions$2 = shims.getMultipartRequestOptions;
  getDefaultAgent$1 = shims.getDefaultAgent;
  fileFromPath$3 = shims.fileFromPath;
  isFsReadStream = shims.isFsReadStream;
}
function getDefaultExportFromCjs(x2) {
  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, "default") ? x2["default"] : x2;
}
var publicApi = {};
var URL$2 = { exports: {} };
var lib;
var hasRequiredLib;
function requireLib() {
  if (hasRequiredLib) return lib;
  hasRequiredLib = 1;
  var conversions = {};
  lib = conversions;
  function sign(x2) {
    return x2 < 0 ? -1 : 1;
  }
  function evenRound(x2) {
    if (x2 % 1 === 0.5 && (x2 & 1) === 0) {
      return Math.floor(x2);
    } else {
      return Math.round(x2);
    }
  }
  function createNumberConversion(bitLength, typeOpts) {
    if (!typeOpts.unsigned) {
      --bitLength;
    }
    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);
    const upperBound = Math.pow(2, bitLength) - 1;
    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);
    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);
    return function(V2, opts) {
      if (!opts) opts = {};
      let x2 = +V2;
      if (opts.enforceRange) {
        if (!Number.isFinite(x2)) {
          throw new TypeError("Argument is not a finite number");
        }
        x2 = sign(x2) * Math.floor(Math.abs(x2));
        if (x2 < lowerBound || x2 > upperBound) {
          throw new TypeError("Argument is not in byte range");
        }
        return x2;
      }
      if (!isNaN(x2) && opts.clamp) {
        x2 = evenRound(x2);
        if (x2 < lowerBound) x2 = lowerBound;
        if (x2 > upperBound) x2 = upperBound;
        return x2;
      }
      if (!Number.isFinite(x2) || x2 === 0) {
        return 0;
      }
      x2 = sign(x2) * Math.floor(Math.abs(x2));
      x2 = x2 % moduloVal;
      if (!typeOpts.unsigned && x2 >= moduloBound) {
        return x2 - moduloVal;
      } else if (typeOpts.unsigned) {
        if (x2 < 0) {
          x2 += moduloVal;
        } else if (x2 === -0) {
          return 0;
        }
      }
      return x2;
    };
  }
  conversions["void"] = function() {
    return void 0;
  };
  conversions["boolean"] = function(val) {
    return !!val;
  };
  conversions["byte"] = createNumberConversion(8, { unsigned: false });
  conversions["octet"] = createNumberConversion(8, { unsigned: true });
  conversions["short"] = createNumberConversion(16, { unsigned: false });
  conversions["unsigned short"] = createNumberConversion(16, { unsigned: true });
  conversions["long"] = createNumberConversion(32, { unsigned: false });
  conversions["unsigned long"] = createNumberConversion(32, { unsigned: true });
  conversions["long long"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });
  conversions["unsigned long long"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });
  conversions["double"] = function(V2) {
    const x2 = +V2;
    if (!Number.isFinite(x2)) {
      throw new TypeError("Argument is not a finite floating-point value");
    }
    return x2;
  };
  conversions["unrestricted double"] = function(V2) {
    const x2 = +V2;
    if (isNaN(x2)) {
      throw new TypeError("Argument is NaN");
    }
    return x2;
  };
  conversions["float"] = conversions["double"];
  conversions["unrestricted float"] = conversions["unrestricted double"];
  conversions["DOMString"] = function(V2, opts) {
    if (!opts) opts = {};
    if (opts.treatNullAsEmptyString && V2 === null) {
      return "";
    }
    return String(V2);
  };
  conversions["ByteString"] = function(V2, opts) {
    const x2 = String(V2);
    let c2 = void 0;
    for (let i2 = 0; (c2 = x2.codePointAt(i2)) !== void 0; ++i2) {
      if (c2 > 255) {
        throw new TypeError("Argument is not a valid bytestring");
      }
    }
    return x2;
  };
  conversions["USVString"] = function(V2) {
    const S2 = String(V2);
    const n2 = S2.length;
    const U2 = [];
    for (let i2 = 0; i2 < n2; ++i2) {
      const c2 = S2.charCodeAt(i2);
      if (c2 < 55296 || c2 > 57343) {
        U2.push(String.fromCodePoint(c2));
      } else if (56320 <= c2 && c2 <= 57343) {
        U2.push(String.fromCodePoint(65533));
      } else {
        if (i2 === n2 - 1) {
          U2.push(String.fromCodePoint(65533));
        } else {
          const d2 = S2.charCodeAt(i2 + 1);
          if (56320 <= d2 && d2 <= 57343) {
            const a2 = c2 & 1023;
            const b2 = d2 & 1023;
            U2.push(String.fromCodePoint((2 << 15) + (2 << 9) * a2 + b2));
            ++i2;
          } else {
            U2.push(String.fromCodePoint(65533));
          }
        }
      }
    }
    return U2.join("");
  };
  conversions["Date"] = function(V2, opts) {
    if (!(V2 instanceof Date)) {
      throw new TypeError("Argument is not a Date object");
    }
    if (isNaN(V2)) {
      return void 0;
    }
    return V2;
  };
  conversions["RegExp"] = function(V2, opts) {
    if (!(V2 instanceof RegExp)) {
      V2 = new RegExp(V2);
    }
    return V2;
  };
  return lib;
}
var utils = { exports: {} };
var hasRequiredUtils;
function requireUtils() {
  if (hasRequiredUtils) return utils.exports;
  hasRequiredUtils = 1;
  (function(module) {
    module.exports.mixin = function mixin(target, source) {
      const keys = Object.getOwnPropertyNames(source);
      for (let i2 = 0; i2 < keys.length; ++i2) {
        Object.defineProperty(target, keys[i2], Object.getOwnPropertyDescriptor(source, keys[i2]));
      }
    };
    module.exports.wrapperSymbol = Symbol("wrapper");
    module.exports.implSymbol = Symbol("impl");
    module.exports.wrapperForImpl = function(impl) {
      return impl[module.exports.wrapperSymbol];
    };
    module.exports.implForWrapper = function(wrapper) {
      return wrapper[module.exports.implSymbol];
    };
  })(utils);
  return utils.exports;
}
var URLImpl = {};
var urlStateMachine = { exports: {} };
var tr46 = {};
const require$$1 = /* @__PURE__ */ JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]');
var hasRequiredTr46;
function requireTr46() {
  if (hasRequiredTr46) return tr46;
  hasRequiredTr46 = 1;
  var punycode = require$$0;
  var mappingTable = require$$1;
  var PROCESSING_OPTIONS = {
    TRANSITIONAL: 0,
    NONTRANSITIONAL: 1
  };
  function normalize(str2) {
    return str2.split("\0").map(function(s2) {
      return s2.normalize("NFC");
    }).join("\0");
  }
  function findStatus(val) {
    var start = 0;
    var end = mappingTable.length - 1;
    while (start <= end) {
      var mid = Math.floor((start + end) / 2);
      var target = mappingTable[mid];
      if (target[0][0] <= val && target[0][1] >= val) {
        return target;
      } else if (target[0][0] > val) {
        end = mid - 1;
      } else {
        start = mid + 1;
      }
    }
    return null;
  }
  var regexAstralSymbols = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
  function countSymbols(string) {
    return string.replace(regexAstralSymbols, "_").length;
  }
  function mapChars(domain_name, useSTD3, processing_option) {
    var hasError = false;
    var processed = "";
    var len = countSymbols(domain_name);
    for (var i2 = 0; i2 < len; ++i2) {
      var codePoint = domain_name.codePointAt(i2);
      var status = findStatus(codePoint);
      switch (status[1]) {
        case "disallowed":
          hasError = true;
          processed += String.fromCodePoint(codePoint);
          break;
        case "ignored":
          break;
        case "mapped":
          processed += String.fromCodePoint.apply(String, status[2]);
          break;
        case "deviation":
          if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {
            processed += String.fromCodePoint.apply(String, status[2]);
          } else {
            processed += String.fromCodePoint(codePoint);
          }
          break;
        case "valid":
          processed += String.fromCodePoint(codePoint);
          break;
        case "disallowed_STD3_mapped":
          if (useSTD3) {
            hasError = true;
            processed += String.fromCodePoint(codePoint);
          } else {
            processed += String.fromCodePoint.apply(String, status[2]);
          }
          break;
        case "disallowed_STD3_valid":
          if (useSTD3) {
            hasError = true;
          }
          processed += String.fromCodePoint(codePoint);
          break;
      }
    }
    return {
      string: processed,
      error: hasError
    };
  }
  var combiningMarksRegex = /[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;
  function validateLabel(label, processing_option) {
    if (label.substr(0, 4) === "xn--") {
      label = punycode.toUnicode(label);
      PROCESSING_OPTIONS.NONTRANSITIONAL;
    }
    var error = false;
    if (normalize(label) !== label || label[3] === "-" && label[4] === "-" || label[0] === "-" || label[label.length - 1] === "-" || label.indexOf(".") !== -1 || label.search(combiningMarksRegex) === 0) {
      error = true;
    }
    var len = countSymbols(label);
    for (var i2 = 0; i2 < len; ++i2) {
      var status = findStatus(label.codePointAt(i2));
      if (processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== "valid" || processing === PROCESSING_OPTIONS.NONTRANSITIONAL && status[1] !== "valid" && status[1] !== "deviation") {
        error = true;
        break;
      }
    }
    return {
      label,
      error
    };
  }
  function processing(domain_name, useSTD3, processing_option) {
    var result = mapChars(domain_name, useSTD3, processing_option);
    result.string = normalize(result.string);
    var labels = result.string.split(".");
    for (var i2 = 0; i2 < labels.length; ++i2) {
      try {
        var validation = validateLabel(labels[i2]);
        labels[i2] = validation.label;
        result.error = result.error || validation.error;
      } catch (e2) {
        result.error = true;
      }
    }
    return {
      string: labels.join("."),
      error: result.error
    };
  }
  tr46.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {
    var result = processing(domain_name, useSTD3, processing_option);
    var labels = result.string.split(".");
    labels = labels.map(function(l2) {
      try {
        return punycode.toASCII(l2);
      } catch (e2) {
        result.error = true;
        return l2;
      }
    });
    if (verifyDnsLength) {
      var total = labels.slice(0, labels.length - 1).join(".").length;
      if (total.length > 253 || total.length === 0) {
        result.error = true;
      }
      for (var i2 = 0; i2 < labels.length; ++i2) {
        if (labels.length > 63 || labels.length === 0) {
          result.error = true;
          break;
        }
      }
    }
    if (result.error) return null;
    return labels.join(".");
  };
  tr46.toUnicode = function(domain_name, useSTD3) {
    var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);
    return {
      domain: result.string,
      error: result.error
    };
  };
  tr46.PROCESSING_OPTIONS = PROCESSING_OPTIONS;
  return tr46;
}
var hasRequiredUrlStateMachine;
function requireUrlStateMachine() {
  if (hasRequiredUrlStateMachine) return urlStateMachine.exports;
  hasRequiredUrlStateMachine = 1;
  (function(module) {
    const punycode = require$$0;
    const tr462 = requireTr46();
    const specialSchemes = {
      ftp: 21,
      file: null,
      gopher: 70,
      http: 80,
      https: 443,
      ws: 80,
      wss: 443
    };
    const failure = Symbol("failure");
    function countSymbols(str2) {
      return punycode.ucs2.decode(str2).length;
    }
    function at2(input, idx) {
      const c2 = input[idx];
      return isNaN(c2) ? void 0 : String.fromCodePoint(c2);
    }
    function isASCIIDigit(c2) {
      return c2 >= 48 && c2 <= 57;
    }
    function isASCIIAlpha(c2) {
      return c2 >= 65 && c2 <= 90 || c2 >= 97 && c2 <= 122;
    }
    function isASCIIAlphanumeric(c2) {
      return isASCIIAlpha(c2) || isASCIIDigit(c2);
    }
    function isASCIIHex(c2) {
      return isASCIIDigit(c2) || c2 >= 65 && c2 <= 70 || c2 >= 97 && c2 <= 102;
    }
    function isSingleDot(buffer) {
      return buffer === "." || buffer.toLowerCase() === "%2e";
    }
    function isDoubleDot(buffer) {
      buffer = buffer.toLowerCase();
      return buffer === ".." || buffer === "%2e." || buffer === ".%2e" || buffer === "%2e%2e";
    }
    function isWindowsDriveLetterCodePoints(cp1, cp2) {
      return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);
    }
    function isWindowsDriveLetterString(string) {
      return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === ":" || string[1] === "|");
    }
    function isNormalizedWindowsDriveLetterString(string) {
      return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === ":";
    }
    function containsForbiddenHostCodePoint(string) {
      return string.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/) !== -1;
    }
    function containsForbiddenHostCodePointExcludingPercent(string) {
      return string.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/) !== -1;
    }
    function isSpecialScheme(scheme) {
      return specialSchemes[scheme] !== void 0;
    }
    function isSpecial(url) {
      return isSpecialScheme(url.scheme);
    }
    function defaultPort(scheme) {
      return specialSchemes[scheme];
    }
    function percentEncode(c2) {
      let hex = c2.toString(16).toUpperCase();
      if (hex.length === 1) {
        hex = "0" + hex;
      }
      return "%" + hex;
    }
    function utf8PercentEncode(c2) {
      const buf = new Buffer(c2);
      let str2 = "";
      for (let i2 = 0; i2 < buf.length; ++i2) {
        str2 += percentEncode(buf[i2]);
      }
      return str2;
    }
    function utf8PercentDecode(str2) {
      const input = new Buffer(str2);
      const output = [];
      for (let i2 = 0; i2 < input.length; ++i2) {
        if (input[i2] !== 37) {
          output.push(input[i2]);
        } else if (input[i2] === 37 && isASCIIHex(input[i2 + 1]) && isASCIIHex(input[i2 + 2])) {
          output.push(parseInt(input.slice(i2 + 1, i2 + 3).toString(), 16));
          i2 += 2;
        } else {
          output.push(input[i2]);
        }
      }
      return new Buffer(output).toString();
    }
    function isC0ControlPercentEncode(c2) {
      return c2 <= 31 || c2 > 126;
    }
    const extraPathPercentEncodeSet = /* @__PURE__ */ new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);
    function isPathPercentEncode(c2) {
      return isC0ControlPercentEncode(c2) || extraPathPercentEncodeSet.has(c2);
    }
    const extraUserinfoPercentEncodeSet = /* @__PURE__ */ new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);
    function isUserinfoPercentEncode(c2) {
      return isPathPercentEncode(c2) || extraUserinfoPercentEncodeSet.has(c2);
    }
    function percentEncodeChar(c2, encodeSetPredicate) {
      const cStr = String.fromCodePoint(c2);
      if (encodeSetPredicate(c2)) {
        return utf8PercentEncode(cStr);
      }
      return cStr;
    }
    function parseIPv4Number(input) {
      let R2 = 10;
      if (input.length >= 2 && input.charAt(0) === "0" && input.charAt(1).toLowerCase() === "x") {
        input = input.substring(2);
        R2 = 16;
      } else if (input.length >= 2 && input.charAt(0) === "0") {
        input = input.substring(1);
        R2 = 8;
      }
      if (input === "") {
        return 0;
      }
      const regex = R2 === 10 ? /[^0-9]/ : R2 === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/;
      if (regex.test(input)) {
        return failure;
      }
      return parseInt(input, R2);
    }
    function parseIPv4(input) {
      const parts = input.split(".");
      if (parts[parts.length - 1] === "") {
        if (parts.length > 1) {
          parts.pop();
        }
      }
      if (parts.length > 4) {
        return input;
      }
      const numbers = [];
      for (const part of parts) {
        if (part === "") {
          return input;
        }
        const n2 = parseIPv4Number(part);
        if (n2 === failure) {
          return input;
        }
        numbers.push(n2);
      }
      for (let i2 = 0; i2 < numbers.length - 1; ++i2) {
        if (numbers[i2] > 255) {
          return failure;
        }
      }
      if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {
        return failure;
      }
      let ipv4 = numbers.pop();
      let counter = 0;
      for (const n2 of numbers) {
        ipv4 += n2 * Math.pow(256, 3 - counter);
        ++counter;
      }
      return ipv4;
    }
    function serializeIPv4(address) {
      let output = "";
      let n2 = address;
      for (let i2 = 1; i2 <= 4; ++i2) {
        output = String(n2 % 256) + output;
        if (i2 !== 4) {
          output = "." + output;
        }
        n2 = Math.floor(n2 / 256);
      }
      return output;
    }
    function parseIPv6(input) {
      const address = [0, 0, 0, 0, 0, 0, 0, 0];
      let pieceIndex = 0;
      let compress = null;
      let pointer = 0;
      input = punycode.ucs2.decode(input);
      if (input[pointer] === 58) {
        if (input[pointer + 1] !== 58) {
          return failure;
        }
        pointer += 2;
        ++pieceIndex;
        compress = pieceIndex;
      }
      while (pointer < input.length) {
        if (pieceIndex === 8) {
          return failure;
        }
        if (input[pointer] === 58) {
          if (compress !== null) {
            return failure;
          }
          ++pointer;
          ++pieceIndex;
          compress = pieceIndex;
          continue;
        }
        let value = 0;
        let length = 0;
        while (length < 4 && isASCIIHex(input[pointer])) {
          value = value * 16 + parseInt(at2(input, pointer), 16);
          ++pointer;
          ++length;
        }
        if (input[pointer] === 46) {
          if (length === 0) {
            return failure;
          }
          pointer -= length;
          if (pieceIndex > 6) {
            return failure;
          }
          let numbersSeen = 0;
          while (input[pointer] !== void 0) {
            let ipv4Piece = null;
            if (numbersSeen > 0) {
              if (input[pointer] === 46 && numbersSeen < 4) {
                ++pointer;
              } else {
                return failure;
              }
            }
            if (!isASCIIDigit(input[pointer])) {
              return failure;
            }
            while (isASCIIDigit(input[pointer])) {
              const number = parseInt(at2(input, pointer));
              if (ipv4Piece === null) {
                ipv4Piece = number;
              } else if (ipv4Piece === 0) {
                return failure;
              } else {
                ipv4Piece = ipv4Piece * 10 + number;
              }
              if (ipv4Piece > 255) {
                return failure;
              }
              ++pointer;
            }
            address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
            ++numbersSeen;
            if (numbersSeen === 2 || numbersSeen === 4) {
              ++pieceIndex;
            }
          }
          if (numbersSeen !== 4) {
            return failure;
          }
          break;
        } else if (input[pointer] === 58) {
          ++pointer;
          if (input[pointer] === void 0) {
            return failure;
          }
        } else if (input[pointer] !== void 0) {
          return failure;
        }
        address[pieceIndex] = value;
        ++pieceIndex;
      }
      if (compress !== null) {
        let swaps = pieceIndex - compress;
        pieceIndex = 7;
        while (pieceIndex !== 0 && swaps > 0) {
          const temp = address[compress + swaps - 1];
          address[compress + swaps - 1] = address[pieceIndex];
          address[pieceIndex] = temp;
          --pieceIndex;
          --swaps;
        }
      } else if (compress === null && pieceIndex !== 8) {
        return failure;
      }
      return address;
    }
    function serializeIPv6(address) {
      let output = "";
      const seqResult = findLongestZeroSequence(address);
      const compress = seqResult.idx;
      let ignore0 = false;
      for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {
        if (ignore0 && address[pieceIndex] === 0) {
          continue;
        } else if (ignore0) {
          ignore0 = false;
        }
        if (compress === pieceIndex) {
          const separator = pieceIndex === 0 ? "::" : ":";
          output += separator;
          ignore0 = true;
          continue;
        }
        output += address[pieceIndex].toString(16);
        if (pieceIndex !== 7) {
          output += ":";
        }
      }
      return output;
    }
    function parseHost(input, isSpecialArg) {
      if (input[0] === "[") {
        if (input[input.length - 1] !== "]") {
          return failure;
        }
        return parseIPv6(input.substring(1, input.length - 1));
      }
      if (!isSpecialArg) {
        return parseOpaqueHost(input);
      }
      const domain = utf8PercentDecode(input);
      const asciiDomain = tr462.toASCII(domain, false, tr462.PROCESSING_OPTIONS.NONTRANSITIONAL, false);
      if (asciiDomain === null) {
        return failure;
      }
      if (containsForbiddenHostCodePoint(asciiDomain)) {
        return failure;
      }
      const ipv4Host = parseIPv4(asciiDomain);
      if (typeof ipv4Host === "number" || ipv4Host === failure) {
        return ipv4Host;
      }
      return asciiDomain;
    }
    function parseOpaqueHost(input) {
      if (containsForbiddenHostCodePointExcludingPercent(input)) {
        return failure;
      }
      let output = "";
      const decoded = punycode.ucs2.decode(input);
      for (let i2 = 0; i2 < decoded.length; ++i2) {
        output += percentEncodeChar(decoded[i2], isC0ControlPercentEncode);
      }
      return output;
    }
    function findLongestZeroSequence(arr) {
      let maxIdx = null;
      let maxLen = 1;
      let currStart = null;
      let currLen = 0;
      for (let i2 = 0; i2 < arr.length; ++i2) {
        if (arr[i2] !== 0) {
          if (currLen > maxLen) {
            maxIdx = currStart;
            maxLen = currLen;
          }
          currStart = null;
          currLen = 0;
        } else {
          if (currStart === null) {
            currStart = i2;
          }
          ++currLen;
        }
      }
      if (currLen > maxLen) {
        maxIdx = currStart;
        maxLen = currLen;
      }
      return {
        idx: maxIdx,
        len: maxLen
      };
    }
    function serializeHost(host) {
      if (typeof host === "number") {
        return serializeIPv4(host);
      }
      if (host instanceof Array) {
        return "[" + serializeIPv6(host) + "]";
      }
      return host;
    }
    function trimControlChars(url) {
      return url.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g, "");
    }
    function trimTabAndNewline(url) {
      return url.replace(/\u0009|\u000A|\u000D/g, "");
    }
    function shortenPath(url) {
      const path2 = url.path;
      if (path2.length === 0) {
        return;
      }
      if (url.scheme === "file" && path2.length === 1 && isNormalizedWindowsDriveLetter(path2[0])) {
        return;
      }
      path2.pop();
    }
    function includesCredentials(url) {
      return url.username !== "" || url.password !== "";
    }
    function cannotHaveAUsernamePasswordPort(url) {
      return url.host === null || url.host === "" || url.cannotBeABaseURL || url.scheme === "file";
    }
    function isNormalizedWindowsDriveLetter(string) {
      return /^[A-Za-z]:$/.test(string);
    }
    function URLStateMachine(input, base, encodingOverride, url, stateOverride) {
      this.pointer = 0;
      this.input = input;
      this.base = base || null;
      this.encodingOverride = encodingOverride || "utf-8";
      this.stateOverride = stateOverride;
      this.url = url;
      this.failure = false;
      this.parseError = false;
      if (!this.url) {
        this.url = {
          scheme: "",
          username: "",
          password: "",
          host: null,
          port: null,
          path: [],
          query: null,
          fragment: null,
          cannotBeABaseURL: false
        };
        const res2 = trimControlChars(this.input);
        if (res2 !== this.input) {
          this.parseError = true;
        }
        this.input = res2;
      }
      const res = trimTabAndNewline(this.input);
      if (res !== this.input) {
        this.parseError = true;
      }
      this.input = res;
      this.state = stateOverride || "scheme start";
      this.buffer = "";
      this.atFlag = false;
      this.arrFlag = false;
      this.passwordTokenSeenFlag = false;
      this.input = punycode.ucs2.decode(this.input);
      for (; this.pointer <= this.input.length; ++this.pointer) {
        const c2 = this.input[this.pointer];
        const cStr = isNaN(c2) ? void 0 : String.fromCodePoint(c2);
        const ret = this["parse " + this.state](c2, cStr);
        if (!ret) {
          break;
        } else if (ret === failure) {
          this.failure = true;
          break;
        }
      }
    }
    URLStateMachine.prototype["parse scheme start"] = function parseSchemeStart(c2, cStr) {
      if (isASCIIAlpha(c2)) {
        this.buffer += cStr.toLowerCase();
        this.state = "scheme";
      } else if (!this.stateOverride) {
        this.state = "no scheme";
        --this.pointer;
      } else {
        this.parseError = true;
        return failure;
      }
      return true;
    };
    URLStateMachine.prototype["parse scheme"] = function parseScheme(c2, cStr) {
      if (isASCIIAlphanumeric(c2) || c2 === 43 || c2 === 45 || c2 === 46) {
        this.buffer += cStr.toLowerCase();
      } else if (c2 === 58) {
        if (this.stateOverride) {
          if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {
            return false;
          }
          if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {
            return false;
          }
          if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === "file") {
            return false;
          }
          if (this.url.scheme === "file" && (this.url.host === "" || this.url.host === null)) {
            return false;
          }
        }
        this.url.scheme = this.buffer;
        this.buffer = "";
        if (this.stateOverride) {
          return false;
        }
        if (this.url.scheme === "file") {
          if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {
            this.parseError = true;
          }
          this.state = "file";
        } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {
          this.state = "special relative or authority";
        } else if (isSpecial(this.url)) {
          this.state = "special authority slashes";
        } else if (this.input[this.pointer + 1] === 47) {
          this.state = "path or authority";
          ++this.pointer;
        } else {
          this.url.cannotBeABaseURL = true;
          this.url.path.push("");
          this.state = "cannot-be-a-base-URL path";
        }
      } else if (!this.stateOverride) {
        this.buffer = "";
        this.state = "no scheme";
        this.pointer = -1;
      } else {
        this.parseError = true;
        return failure;
      }
      return true;
    };
    URLStateMachine.prototype["parse no scheme"] = function parseNoScheme(c2) {
      if (this.base === null || this.base.cannotBeABaseURL && c2 !== 35) {
        return failure;
      } else if (this.base.cannotBeABaseURL && c2 === 35) {
        this.url.scheme = this.base.scheme;
        this.url.path = this.base.path.slice();
        this.url.query = this.base.query;
        this.url.fragment = "";
        this.url.cannotBeABaseURL = true;
        this.state = "fragment";
      } else if (this.base.scheme === "file") {
        this.state = "file";
        --this.pointer;
      } else {
        this.state = "relative";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse special relative or authority"] = function parseSpecialRelativeOrAuthority(c2) {
      if (c2 === 47 && this.input[this.pointer + 1] === 47) {
        this.state = "special authority ignore slashes";
        ++this.pointer;
      } else {
        this.parseError = true;
        this.state = "relative";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse path or authority"] = function parsePathOrAuthority(c2) {
      if (c2 === 47) {
        this.state = "authority";
      } else {
        this.state = "path";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse relative"] = function parseRelative(c2) {
      this.url.scheme = this.base.scheme;
      if (isNaN(c2)) {
        this.url.username = this.base.username;
        this.url.password = this.base.password;
        this.url.host = this.base.host;
        this.url.port = this.base.port;
        this.url.path = this.base.path.slice();
        this.url.query = this.base.query;
      } else if (c2 === 47) {
        this.state = "relative slash";
      } else if (c2 === 63) {
        this.url.username = this.base.username;
        this.url.password = this.base.password;
        this.url.host = this.base.host;
        this.url.port = this.base.port;
        this.url.path = this.base.path.slice();
        this.url.query = "";
        this.state = "query";
      } else if (c2 === 35) {
        this.url.username = this.base.username;
        this.url.password = this.base.password;
        this.url.host = this.base.host;
        this.url.port = this.base.port;
        this.url.path = this.base.path.slice();
        this.url.query = this.base.query;
        this.url.fragment = "";
        this.state = "fragment";
      } else if (isSpecial(this.url) && c2 === 92) {
        this.parseError = true;
        this.state = "relative slash";
      } else {
        this.url.username = this.base.username;
        this.url.password = this.base.password;
        this.url.host = this.base.host;
        this.url.port = this.base.port;
        this.url.path = this.base.path.slice(0, this.base.path.length - 1);
        this.state = "path";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse relative slash"] = function parseRelativeSlash(c2) {
      if (isSpecial(this.url) && (c2 === 47 || c2 === 92)) {
        if (c2 === 92) {
          this.parseError = true;
        }
        this.state = "special authority ignore slashes";
      } else if (c2 === 47) {
        this.state = "authority";
      } else {
        this.url.username = this.base.username;
        this.url.password = this.base.password;
        this.url.host = this.base.host;
        this.url.port = this.base.port;
        this.state = "path";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse special authority slashes"] = function parseSpecialAuthoritySlashes(c2) {
      if (c2 === 47 && this.input[this.pointer + 1] === 47) {
        this.state = "special authority ignore slashes";
        ++this.pointer;
      } else {
        this.parseError = true;
        this.state = "special authority ignore slashes";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse special authority ignore slashes"] = function parseSpecialAuthorityIgnoreSlashes(c2) {
      if (c2 !== 47 && c2 !== 92) {
        this.state = "authority";
        --this.pointer;
      } else {
        this.parseError = true;
      }
      return true;
    };
    URLStateMachine.prototype["parse authority"] = function parseAuthority(c2, cStr) {
      if (c2 === 64) {
        this.parseError = true;
        if (this.atFlag) {
          this.buffer = "%40" + this.buffer;
        }
        this.atFlag = true;
        const len = countSymbols(this.buffer);
        for (let pointer = 0; pointer < len; ++pointer) {
          const codePoint = this.buffer.codePointAt(pointer);
          if (codePoint === 58 && !this.passwordTokenSeenFlag) {
            this.passwordTokenSeenFlag = true;
            continue;
          }
          const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);
          if (this.passwordTokenSeenFlag) {
            this.url.password += encodedCodePoints;
          } else {
            this.url.username += encodedCodePoints;
          }
        }
        this.buffer = "";
      } else if (isNaN(c2) || c2 === 47 || c2 === 63 || c2 === 35 || isSpecial(this.url) && c2 === 92) {
        if (this.atFlag && this.buffer === "") {
          this.parseError = true;
          return failure;
        }
        this.pointer -= countSymbols(this.buffer) + 1;
        this.buffer = "";
        this.state = "host";
      } else {
        this.buffer += cStr;
      }
      return true;
    };
    URLStateMachine.prototype["parse hostname"] = URLStateMachine.prototype["parse host"] = function parseHostName(c2, cStr) {
      if (this.stateOverride && this.url.scheme === "file") {
        --this.pointer;
        this.state = "file host";
      } else if (c2 === 58 && !this.arrFlag) {
        if (this.buffer === "") {
          this.parseError = true;
          return failure;
        }
        const host = parseHost(this.buffer, isSpecial(this.url));
        if (host === failure) {
          return failure;
        }
        this.url.host = host;
        this.buffer = "";
        this.state = "port";
        if (this.stateOverride === "hostname") {
          return false;
        }
      } else if (isNaN(c2) || c2 === 47 || c2 === 63 || c2 === 35 || isSpecial(this.url) && c2 === 92) {
        --this.pointer;
        if (isSpecial(this.url) && this.buffer === "") {
          this.parseError = true;
          return failure;
        } else if (this.stateOverride && this.buffer === "" && (includesCredentials(this.url) || this.url.port !== null)) {
          this.parseError = true;
          return false;
        }
        const host = parseHost(this.buffer, isSpecial(this.url));
        if (host === failure) {
          return failure;
        }
        this.url.host = host;
        this.buffer = "";
        this.state = "path start";
        if (this.stateOverride) {
          return false;
        }
      } else {
        if (c2 === 91) {
          this.arrFlag = true;
        } else if (c2 === 93) {
          this.arrFlag = false;
        }
        this.buffer += cStr;
      }
      return true;
    };
    URLStateMachine.prototype["parse port"] = function parsePort(c2, cStr) {
      if (isASCIIDigit(c2)) {
        this.buffer += cStr;
      } else if (isNaN(c2) || c2 === 47 || c2 === 63 || c2 === 35 || isSpecial(this.url) && c2 === 92 || this.stateOverride) {
        if (this.buffer !== "") {
          const port = parseInt(this.buffer);
          if (port > Math.pow(2, 16) - 1) {
            this.parseError = true;
            return failure;
          }
          this.url.port = port === defaultPort(this.url.scheme) ? null : port;
          this.buffer = "";
        }
        if (this.stateOverride) {
          return false;
        }
        this.state = "path start";
        --this.pointer;
      } else {
        this.parseError = true;
        return failure;
      }
      return true;
    };
    const fileOtherwiseCodePoints = /* @__PURE__ */ new Set([47, 92, 63, 35]);
    URLStateMachine.prototype["parse file"] = function parseFile(c2) {
      this.url.scheme = "file";
      if (c2 === 47 || c2 === 92) {
        if (c2 === 92) {
          this.parseError = true;
        }
        this.state = "file slash";
      } else if (this.base !== null && this.base.scheme === "file") {
        if (isNaN(c2)) {
          this.url.host = this.base.host;
          this.url.path = this.base.path.slice();
          this.url.query = this.base.query;
        } else if (c2 === 63) {
          this.url.host = this.base.host;
          this.url.path = this.base.path.slice();
          this.url.query = "";
          this.state = "query";
        } else if (c2 === 35) {
          this.url.host = this.base.host;
          this.url.path = this.base.path.slice();
          this.url.query = this.base.query;
          this.url.fragment = "";
          this.state = "fragment";
        } else {
          if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points
          !isWindowsDriveLetterCodePoints(c2, this.input[this.pointer + 1]) || this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points
          !fileOtherwiseCodePoints.has(this.input[this.pointer + 2])) {
            this.url.host = this.base.host;
            this.url.path = this.base.path.slice();
            shortenPath(this.url);
          } else {
            this.parseError = true;
          }
          this.state = "path";
          --this.pointer;
        }
      } else {
        this.state = "path";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse file slash"] = function parseFileSlash(c2) {
      if (c2 === 47 || c2 === 92) {
        if (c2 === 92) {
          this.parseError = true;
        }
        this.state = "file host";
      } else {
        if (this.base !== null && this.base.scheme === "file") {
          if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {
            this.url.path.push(this.base.path[0]);
          } else {
            this.url.host = this.base.host;
          }
        }
        this.state = "path";
        --this.pointer;
      }
      return true;
    };
    URLStateMachine.prototype["parse file host"] = function parseFileHost(c2, cStr) {
      if (isNaN(c2) || c2 === 47 || c2 === 92 || c2 === 63 || c2 === 35) {
        --this.pointer;
        if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {
          this.parseError = true;
          this.state = "path";
        } else if (this.buffer === "") {
          this.url.host = "";
          if (this.stateOverride) {
            return false;
          }
          this.state = "path start";
        } else {
          let host = parseHost(this.buffer, isSpecial(this.url));
          if (host === failure) {
            return failure;
          }
          if (host === "localhost") {
            host = "";
          }
          this.url.host = host;
          if (this.stateOverride) {
            return false;
          }
          this.buffer = "";
          this.state = "path start";
        }
      } else {
        this.buffer += cStr;
      }
      return true;
    };
    URLStateMachine.prototype["parse path start"] = function parsePathStart(c2) {
      if (isSpecial(this.url)) {
        if (c2 === 92) {
          this.parseError = true;
        }
        this.state = "path";
        if (c2 !== 47 && c2 !== 92) {
          --this.pointer;
        }
      } else if (!this.stateOverride && c2 === 63) {
        this.url.query = "";
        this.state = "query";
      } else if (!this.stateOverride && c2 === 35) {
        this.url.fragment = "";
        this.state = "fragment";
      } else if (c2 !== void 0) {
        this.state = "path";
        if (c2 !== 47) {
          --this.pointer;
        }
      }
      return true;
    };
    URLStateMachine.prototype["parse path"] = function parsePath(c2) {
      if (isNaN(c2) || c2 === 47 || isSpecial(this.url) && c2 === 92 || !this.stateOverride && (c2 === 63 || c2 === 35)) {
        if (isSpecial(this.url) && c2 === 92) {
          this.parseError = true;
        }
        if (isDoubleDot(this.buffer)) {
          shortenPath(this.url);
          if (c2 !== 47 && !(isSpecial(this.url) && c2 === 92)) {
            this.url.path.push("");
          }
        } else if (isSingleDot(this.buffer) && c2 !== 47 && !(isSpecial(this.url) && c2 === 92)) {
          this.url.path.push("");
        } else if (!isSingleDot(this.buffer)) {
          if (this.url.scheme === "file" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {
            if (this.url.host !== "" && this.url.host !== null) {
              this.parseError = true;
              this.url.host = "";
            }
            this.buffer = this.buffer[0] + ":";
          }
          this.url.path.push(this.buffer);
        }
        this.buffer = "";
        if (this.url.scheme === "file" && (c2 === void 0 || c2 === 63 || c2 === 35)) {
          while (this.url.path.length > 1 && this.url.path[0] === "") {
            this.parseError = true;
            this.url.path.shift();
          }
        }
        if (c2 === 63) {
          this.url.query = "";
          this.state = "query";
        }
        if (c2 === 35) {
          this.url.fragment = "";
          this.state = "fragment";
        }
      } else {
        if (c2 === 37 && (!isASCIIHex(this.input[this.pointer + 1]) || !isASCIIHex(this.input[this.pointer + 2]))) {
          this.parseError = true;
        }
        this.buffer += percentEncodeChar(c2, isPathPercentEncode);
      }
      return true;
    };
    URLStateMachine.prototype["parse cannot-be-a-base-URL path"] = function parseCannotBeABaseURLPath(c2) {
      if (c2 === 63) {
        this.url.query = "";
        this.state = "query";
      } else if (c2 === 35) {
        this.url.fragment = "";
        this.state = "fragment";
      } else {
        if (!isNaN(c2) && c2 !== 37) {
          this.parseError = true;
        }
        if (c2 === 37 && (!isASCIIHex(this.input[this.pointer + 1]) || !isASCIIHex(this.input[this.pointer + 2]))) {
          this.parseError = true;
        }
        if (!isNaN(c2)) {
          this.url.path[0] = this.url.path[0] + percentEncodeChar(c2, isC0ControlPercentEncode);
        }
      }
      return true;
    };
    URLStateMachine.prototype["parse query"] = function parseQuery(c2, cStr) {
      if (isNaN(c2) || !this.stateOverride && c2 === 35) {
        if (!isSpecial(this.url) || this.url.scheme === "ws" || this.url.scheme === "wss") {
          this.encodingOverride = "utf-8";
        }
        const buffer = new Buffer(this.buffer);
        for (let i2 = 0; i2 < buffer.length; ++i2) {
          if (buffer[i2] < 33 || buffer[i2] > 126 || buffer[i2] === 34 || buffer[i2] === 35 || buffer[i2] === 60 || buffer[i2] === 62) {
            this.url.query += percentEncode(buffer[i2]);
          } else {
            this.url.query += String.fromCodePoint(buffer[i2]);
          }
        }
        this.buffer = "";
        if (c2 === 35) {
          this.url.fragment = "";
          this.state = "fragment";
        }
      } else {
        if (c2 === 37 && (!isASCIIHex(this.input[this.pointer + 1]) || !isASCIIHex(this.input[this.pointer + 2]))) {
          this.parseError = true;
        }
        this.buffer += cStr;
      }
      return true;
    };
    URLStateMachine.prototype["parse fragment"] = function parseFragment(c2) {
      if (isNaN(c2)) ;
      else if (c2 === 0) {
        this.parseError = true;
      } else {
        if (c2 === 37 && (!isASCIIHex(this.input[this.pointer + 1]) || !isASCIIHex(this.input[this.pointer + 2]))) {
          this.parseError = true;
        }
        this.url.fragment += percentEncodeChar(c2, isC0ControlPercentEncode);
      }
      return true;
    };
    function serializeURL(url, excludeFragment) {
      let output = url.scheme + ":";
      if (url.host !== null) {
        output += "//";
        if (url.username !== "" || url.password !== "") {
          output += url.username;
          if (url.password !== "") {
            output += ":" + url.password;
          }
          output += "@";
        }
        output += serializeHost(url.host);
        if (url.port !== null) {
          output += ":" + url.port;
        }
      } else if (url.host === null && url.scheme === "file") {
        output += "//";
      }
      if (url.cannotBeABaseURL) {
        output += url.path[0];
      } else {
        for (const string of url.path) {
          output += "/" + string;
        }
      }
      if (url.query !== null) {
        output += "?" + url.query;
      }
      if (!excludeFragment && url.fragment !== null) {
        output += "#" + url.fragment;
      }
      return output;
    }
    function serializeOrigin(tuple) {
      let result = tuple.scheme + "://";
      result += serializeHost(tuple.host);
      if (tuple.port !== null) {
        result += ":" + tuple.port;
      }
      return result;
    }
    module.exports.serializeURL = serializeURL;
    module.exports.serializeURLOrigin = function(url) {
      switch (url.scheme) {
        case "blob":
          try {
            return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));
          } catch (e2) {
            return "null";
          }
        case "ftp":
        case "gopher":
        case "http":
        case "https":
        case "ws":
        case "wss":
          return serializeOrigin({
            scheme: url.scheme,
            host: url.host,
            port: url.port
          });
        case "file":
          return "file://";
        default:
          return "null";
      }
    };
    module.exports.basicURLParse = function(input, options) {
      if (options === void 0) {
        options = {};
      }
      const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);
      if (usm.failure) {
        return "failure";
      }
      return usm.url;
    };
    module.exports.setTheUsername = function(url, username) {
      url.username = "";
      const decoded = punycode.ucs2.decode(username);
      for (let i2 = 0; i2 < decoded.length; ++i2) {
        url.username += percentEncodeChar(decoded[i2], isUserinfoPercentEncode);
      }
    };
    module.exports.setThePassword = function(url, password) {
      url.password = "";
      const decoded = punycode.ucs2.decode(password);
      for (let i2 = 0; i2 < decoded.length; ++i2) {
        url.password += percentEncodeChar(decoded[i2], isUserinfoPercentEncode);
      }
    };
    module.exports.serializeHost = serializeHost;
    module.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;
    module.exports.serializeInteger = function(integer) {
      return String(integer);
    };
    module.exports.parseURL = function(input, options) {
      if (options === void 0) {
        options = {};
      }
      return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });
    };
  })(urlStateMachine);
  return urlStateMachine.exports;
}
var hasRequiredURLImpl;
function requireURLImpl() {
  if (hasRequiredURLImpl) return URLImpl;
  hasRequiredURLImpl = 1;
  const usm = requireUrlStateMachine();
  URLImpl.implementation = class URLImpl {
    constructor(constructorArgs) {
      const url = constructorArgs[0];
      const base = constructorArgs[1];
      let parsedBase = null;
      if (base !== void 0) {
        parsedBase = usm.basicURLParse(base);
        if (parsedBase === "failure") {
          throw new TypeError("Invalid base URL");
        }
      }
      const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });
      if (parsedURL === "failure") {
        throw new TypeError("Invalid URL");
      }
      this._url = parsedURL;
    }
    get href() {
      return usm.serializeURL(this._url);
    }
    set href(v2) {
      const parsedURL = usm.basicURLParse(v2);
      if (parsedURL === "failure") {
        throw new TypeError("Invalid URL");
      }
      this._url = parsedURL;
    }
    get origin() {
      return usm.serializeURLOrigin(this._url);
    }
    get protocol() {
      return this._url.scheme + ":";
    }
    set protocol(v2) {
      usm.basicURLParse(v2 + ":", { url: this._url, stateOverride: "scheme start" });
    }
    get username() {
      return this._url.username;
    }
    set username(v2) {
      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
        return;
      }
      usm.setTheUsername(this._url, v2);
    }
    get password() {
      return this._url.password;
    }
    set password(v2) {
      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
        return;
      }
      usm.setThePassword(this._url, v2);
    }
    get host() {
      const url = this._url;
      if (url.host === null) {
        return "";
      }
      if (url.port === null) {
        return usm.serializeHost(url.host);
      }
      return usm.serializeHost(url.host) + ":" + usm.serializeInteger(url.port);
    }
    set host(v2) {
      if (this._url.cannotBeABaseURL) {
        return;
      }
      usm.basicURLParse(v2, { url: this._url, stateOverride: "host" });
    }
    get hostname() {
      if (this._url.host === null) {
        return "";
      }
      return usm.serializeHost(this._url.host);
    }
    set hostname(v2) {
      if (this._url.cannotBeABaseURL) {
        return;
      }
      usm.basicURLParse(v2, { url: this._url, stateOverride: "hostname" });
    }
    get port() {
      if (this._url.port === null) {
        return "";
      }
      return usm.serializeInteger(this._url.port);
    }
    set port(v2) {
      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
        return;
      }
      if (v2 === "") {
        this._url.port = null;
      } else {
        usm.basicURLParse(v2, { url: this._url, stateOverride: "port" });
      }
    }
    get pathname() {
      if (this._url.cannotBeABaseURL) {
        return this._url.path[0];
      }
      if (this._url.path.length === 0) {
        return "";
      }
      return "/" + this._url.path.join("/");
    }
    set pathname(v2) {
      if (this._url.cannotBeABaseURL) {
        return;
      }
      this._url.path = [];
      usm.basicURLParse(v2, { url: this._url, stateOverride: "path start" });
    }
    get search() {
      if (this._url.query === null || this._url.query === "") {
        return "";
      }
      return "?" + this._url.query;
    }
    set search(v2) {
      const url = this._url;
      if (v2 === "") {
        url.query = null;
        return;
      }
      const input = v2[0] === "?" ? v2.substring(1) : v2;
      url.query = "";
      usm.basicURLParse(input, { url, stateOverride: "query" });
    }
    get hash() {
      if (this._url.fragment === null || this._url.fragment === "") {
        return "";
      }
      return "#" + this._url.fragment;
    }
    set hash(v2) {
      if (v2 === "") {
        this._url.fragment = null;
        return;
      }
      const input = v2[0] === "#" ? v2.substring(1) : v2;
      this._url.fragment = "";
      usm.basicURLParse(input, { url: this._url, stateOverride: "fragment" });
    }
    toJSON() {
      return this.href;
    }
  };
  return URLImpl;
}
var hasRequiredURL;
function requireURL() {
  if (hasRequiredURL) return URL$2.exports;
  hasRequiredURL = 1;
  (function(module) {
    const conversions = requireLib();
    const utils2 = requireUtils();
    const Impl = requireURLImpl();
    const impl = utils2.implSymbol;
    function URL2(url) {
      if (!this || this[impl] || !(this instanceof URL2)) {
        throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");
      }
      if (arguments.length < 1) {
        throw new TypeError("Failed to construct 'URL': 1 argument required, but only " + arguments.length + " present.");
      }
      const args = [];
      for (let i2 = 0; i2 < arguments.length && i2 < 2; ++i2) {
        args[i2] = arguments[i2];
      }
      args[0] = conversions["USVString"](args[0]);
      if (args[1] !== void 0) {
        args[1] = conversions["USVString"](args[1]);
      }
      module.exports.setup(this, args);
    }
    URL2.prototype.toJSON = function toJSON() {
      if (!this || !module.exports.is(this)) {
        throw new TypeError("Illegal invocation");
      }
      const args = [];
      for (let i2 = 0; i2 < arguments.length && i2 < 0; ++i2) {
        args[i2] = arguments[i2];
      }
      return this[impl].toJSON.apply(this[impl], args);
    };
    Object.defineProperty(URL2.prototype, "href", {
      get() {
        return this[impl].href;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].href = V2;
      },
      enumerable: true,
      configurable: true
    });
    URL2.prototype.toString = function() {
      if (!this || !module.exports.is(this)) {
        throw new TypeError("Illegal invocation");
      }
      return this.href;
    };
    Object.defineProperty(URL2.prototype, "origin", {
      get() {
        return this[impl].origin;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "protocol", {
      get() {
        return this[impl].protocol;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].protocol = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "username", {
      get() {
        return this[impl].username;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].username = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "password", {
      get() {
        return this[impl].password;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].password = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "host", {
      get() {
        return this[impl].host;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].host = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "hostname", {
      get() {
        return this[impl].hostname;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].hostname = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "port", {
      get() {
        return this[impl].port;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].port = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "pathname", {
      get() {
        return this[impl].pathname;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].pathname = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "search", {
      get() {
        return this[impl].search;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].search = V2;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(URL2.prototype, "hash", {
      get() {
        return this[impl].hash;
      },
      set(V2) {
        V2 = conversions["USVString"](V2);
        this[impl].hash = V2;
      },
      enumerable: true,
      configurable: true
    });
    module.exports = {
      is(obj) {
        return !!obj && obj[impl] instanceof Impl.implementation;
      },
      create(constructorArgs, privateData2) {
        let obj = Object.create(URL2.prototype);
        this.setup(obj, constructorArgs, privateData2);
        return obj;
      },
      setup(obj, constructorArgs, privateData2) {
        if (!privateData2) privateData2 = {};
        privateData2.wrapper = obj;
        obj[impl] = new Impl.implementation(constructorArgs, privateData2);
        obj[impl][utils2.wrapperSymbol] = obj;
      },
      interface: URL2,
      expose: {
        Window: { URL: URL2 },
        Worker: { URL: URL2 }
      }
    };
  })(URL$2);
  return URL$2.exports;
}
var hasRequiredPublicApi;
function requirePublicApi() {
  if (hasRequiredPublicApi) return publicApi;
  hasRequiredPublicApi = 1;
  publicApi.URL = requireURL().interface;
  publicApi.serializeURL = requireUrlStateMachine().serializeURL;
  publicApi.serializeURLOrigin = requireUrlStateMachine().serializeURLOrigin;
  publicApi.basicURLParse = requireUrlStateMachine().basicURLParse;
  publicApi.setTheUsername = requireUrlStateMachine().setTheUsername;
  publicApi.setThePassword = requireUrlStateMachine().setThePassword;
  publicApi.serializeHost = requireUrlStateMachine().serializeHost;
  publicApi.serializeInteger = requireUrlStateMachine().serializeInteger;
  publicApi.parseURL = requireUrlStateMachine().parseURL;
  return publicApi;
}
var publicApiExports = requirePublicApi();
const whatwgUrl = /* @__PURE__ */ getDefaultExportFromCjs(publicApiExports);
const Readable = Stream$2.Readable;
const BUFFER = Symbol("buffer");
const TYPE = Symbol("type");
let Blob$1 = class Blob {
  constructor() {
    this[TYPE] = "";
    const blobParts = arguments[0];
    const options = arguments[1];
    const buffers = [];
    let size = 0;
    if (blobParts) {
      const a2 = blobParts;
      const length = Number(a2.length);
      for (let i2 = 0; i2 < length; i2++) {
        const element = a2[i2];
        let buffer;
        if (element instanceof Buffer) {
          buffer = element;
        } else if (ArrayBuffer.isView(element)) {
          buffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);
        } else if (element instanceof ArrayBuffer) {
          buffer = Buffer.from(element);
        } else if (element instanceof Blob) {
          buffer = element[BUFFER];
        } else {
          buffer = Buffer.from(typeof element === "string" ? element : String(element));
        }
        size += buffer.length;
        buffers.push(buffer);
      }
    }
    this[BUFFER] = Buffer.concat(buffers);
    let type = options && options.type !== void 0 && String(options.type).toLowerCase();
    if (type && !/[^\u0020-\u007E]/.test(type)) {
      this[TYPE] = type;
    }
  }
  get size() {
    return this[BUFFER].length;
  }
  get type() {
    return this[TYPE];
  }
  text() {
    return Promise.resolve(this[BUFFER].toString());
  }
  arrayBuffer() {
    const buf = this[BUFFER];
    const ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
    return Promise.resolve(ab);
  }
  stream() {
    const readable = new Readable();
    readable._read = function() {
    };
    readable.push(this[BUFFER]);
    readable.push(null);
    return readable;
  }
  toString() {
    return "[object Blob]";
  }
  slice() {
    const size = this.size;
    const start = arguments[0];
    const end = arguments[1];
    let relativeStart, relativeEnd;
    if (start === void 0) {
      relativeStart = 0;
    } else if (start < 0) {
      relativeStart = Math.max(size + start, 0);
    } else {
      relativeStart = Math.min(start, size);
    }
    if (end === void 0) {
      relativeEnd = size;
    } else if (end < 0) {
      relativeEnd = Math.max(size + end, 0);
    } else {
      relativeEnd = Math.min(end, size);
    }
    const span = Math.max(relativeEnd - relativeStart, 0);
    const buffer = this[BUFFER];
    const slicedBuffer = buffer.slice(relativeStart, relativeStart + span);
    const blob = new Blob([], { type: arguments[2] });
    blob[BUFFER] = slicedBuffer;
    return blob;
  }
};
Object.defineProperties(Blob$1.prototype, {
  size: { enumerable: true },
  type: { enumerable: true },
  slice: { enumerable: true }
});
Object.defineProperty(Blob$1.prototype, Symbol.toStringTag, {
  value: "Blob",
  writable: false,
  enumerable: false,
  configurable: true
});
function FetchError(message, type, systemError) {
  Error.call(this, message);
  this.message = message;
  this.type = type;
  if (systemError) {
    this.code = this.errno = systemError.code;
  }
  Error.captureStackTrace(this, this.constructor);
}
FetchError.prototype = Object.create(Error.prototype);
FetchError.prototype.constructor = FetchError;
FetchError.prototype.name = "FetchError";
let convert;
try {
  convert = require("encoding").convert;
} catch (e2) {
}
const INTERNALS = Symbol("Body internals");
const PassThrough = Stream$2.PassThrough;
function Body(body) {
  var _this = this;
  var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$size = _ref.size;
  let size = _ref$size === void 0 ? 0 : _ref$size;
  var _ref$timeout = _ref.timeout;
  let timeout = _ref$timeout === void 0 ? 0 : _ref$timeout;
  if (body == null) {
    body = null;
  } else if (isURLSearchParams(body)) {
    body = Buffer.from(body.toString());
  } else if (isBlob$1(body)) ;
  else if (Buffer.isBuffer(body)) ;
  else if (Object.prototype.toString.call(body) === "[object ArrayBuffer]") {
    body = Buffer.from(body);
  } else if (ArrayBuffer.isView(body)) {
    body = Buffer.from(body.buffer, body.byteOffset, body.byteLength);
  } else if (body instanceof Stream$2) ;
  else {
    body = Buffer.from(String(body));
  }
  this[INTERNALS] = {
    body,
    disturbed: false,
    error: null
  };
  this.size = size;
  this.timeout = timeout;
  if (body instanceof Stream$2) {
    body.on("error", function(err) {
      const error = err.name === "AbortError" ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, "system", err);
      _this[INTERNALS].error = error;
    });
  }
}
Body.prototype = {
  get body() {
    return this[INTERNALS].body;
  },
  get bodyUsed() {
    return this[INTERNALS].disturbed;
  },
  /**
   * Decode response as ArrayBuffer
   *
   * @return  Promise
   */
  arrayBuffer() {
    return consumeBody.call(this).then(function(buf) {
      return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
    });
  },
  /**
   * Return raw response as Blob
   *
   * @return Promise
   */
  blob() {
    let ct2 = this.headers && this.headers.get("content-type") || "";
    return consumeBody.call(this).then(function(buf) {
      return Object.assign(
        // Prevent copying
        new Blob$1([], {
          type: ct2.toLowerCase()
        }),
        {
          [BUFFER]: buf
        }
      );
    });
  },
  /**
   * Decode response as json
   *
   * @return  Promise
   */
  json() {
    var _this2 = this;
    return consumeBody.call(this).then(function(buffer) {
      try {
        return JSON.parse(buffer.toString());
      } catch (err) {
        return Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, "invalid-json"));
      }
    });
  },
  /**
   * Decode response as text
   *
   * @return  Promise
   */
  text() {
    return consumeBody.call(this).then(function(buffer) {
      return buffer.toString();
    });
  },
  /**
   * Decode response as buffer (non-spec api)
   *
   * @return  Promise
   */
  buffer() {
    return consumeBody.call(this);
  },
  /**
   * Decode response as text, while automatically detecting the encoding and
   * trying to decode to UTF-8 (non-spec api)
   *
   * @return  Promise
   */
  textConverted() {
    var _this3 = this;
    return consumeBody.call(this).then(function(buffer) {
      return convertBody(buffer, _this3.headers);
    });
  }
};
Object.defineProperties(Body.prototype, {
  body: { enumerable: true },
  bodyUsed: { enumerable: true },
  arrayBuffer: { enumerable: true },
  blob: { enumerable: true },
  json: { enumerable: true },
  text: { enumerable: true }
});
Body.mixIn = function(proto) {
  for (const name of Object.getOwnPropertyNames(Body.prototype)) {
    if (!(name in proto)) {
      const desc = Object.getOwnPropertyDescriptor(Body.prototype, name);
      Object.defineProperty(proto, name, desc);
    }
  }
};
function consumeBody() {
  var _this4 = this;
  if (this[INTERNALS].disturbed) {
    return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));
  }
  this[INTERNALS].disturbed = true;
  if (this[INTERNALS].error) {
    return Body.Promise.reject(this[INTERNALS].error);
  }
  let body = this.body;
  if (body === null) {
    return Body.Promise.resolve(Buffer.alloc(0));
  }
  if (isBlob$1(body)) {
    body = body.stream();
  }
  if (Buffer.isBuffer(body)) {
    return Body.Promise.resolve(body);
  }
  if (!(body instanceof Stream$2)) {
    return Body.Promise.resolve(Buffer.alloc(0));
  }
  let accum = [];
  let accumBytes = 0;
  let abort = false;
  return new Body.Promise(function(resolve, reject) {
    let resTimeout;
    if (_this4.timeout) {
      resTimeout = setTimeout(function() {
        abort = true;
        reject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, "body-timeout"));
      }, _this4.timeout);
    }
    body.on("error", function(err) {
      if (err.name === "AbortError") {
        abort = true;
        reject(err);
      } else {
        reject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, "system", err));
      }
    });
    body.on("data", function(chunk) {
      if (abort || chunk === null) {
        return;
      }
      if (_this4.size && accumBytes + chunk.length > _this4.size) {
        abort = true;
        reject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, "max-size"));
        return;
      }
      accumBytes += chunk.length;
      accum.push(chunk);
    });
    body.on("end", function() {
      if (abort) {
        return;
      }
      clearTimeout(resTimeout);
      try {
        resolve(Buffer.concat(accum, accumBytes));
      } catch (err) {
        reject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, "system", err));
      }
    });
  });
}
function convertBody(buffer, headers) {
  if (typeof convert !== "function") {
    throw new Error("The package `encoding` must be installed to use the textConverted() function");
  }
  const ct2 = headers.get("content-type");
  let charset = "utf-8";
  let res, str2;
  if (ct2) {
    res = /charset=([^;]*)/i.exec(ct2);
  }
  str2 = buffer.slice(0, 1024).toString();
  if (!res && str2) {
    res = /<meta.+?charset=(['"])(.+?)\1/i.exec(str2);
  }
  if (!res && str2) {
    res = /<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str2);
    if (!res) {
      res = /<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(str2);
      if (res) {
        res.pop();
      }
    }
    if (res) {
      res = /charset=(.*)/i.exec(res.pop());
    }
  }
  if (!res && str2) {
    res = /<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str2);
  }
  if (res) {
    charset = res.pop();
    if (charset === "gb2312" || charset === "gbk") {
      charset = "gb18030";
    }
  }
  return convert(buffer, "UTF-8", charset).toString();
}
function isURLSearchParams(obj) {
  if (typeof obj !== "object" || typeof obj.append !== "function" || typeof obj.delete !== "function" || typeof obj.get !== "function" || typeof obj.getAll !== "function" || typeof obj.has !== "function" || typeof obj.set !== "function") {
    return false;
  }
  return obj.constructor.name === "URLSearchParams" || Object.prototype.toString.call(obj) === "[object URLSearchParams]" || typeof obj.sort === "function";
}
function isBlob$1(obj) {
  return typeof obj === "object" && typeof obj.arrayBuffer === "function" && typeof obj.type === "string" && typeof obj.stream === "function" && typeof obj.constructor === "function" && typeof obj.constructor.name === "string" && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);
}
function clone(instance) {
  let p1, p2;
  let body = instance.body;
  if (instance.bodyUsed) {
    throw new Error("cannot clone body after it is used");
  }
  if (body instanceof Stream$2 && typeof body.getBoundary !== "function") {
    p1 = new PassThrough();
    p2 = new PassThrough();
    body.pipe(p1);
    body.pipe(p2);
    instance[INTERNALS].body = p1;
    body = p2;
  }
  return body;
}
function extractContentType(body) {
  if (body === null) {
    return null;
  } else if (typeof body === "string") {
    return "text/plain;charset=UTF-8";
  } else if (isURLSearchParams(body)) {
    return "application/x-www-form-urlencoded;charset=UTF-8";
  } else if (isBlob$1(body)) {
    return body.type || null;
  } else if (Buffer.isBuffer(body)) {
    return null;
  } else if (Object.prototype.toString.call(body) === "[object ArrayBuffer]") {
    return null;
  } else if (ArrayBuffer.isView(body)) {
    return null;
  } else if (typeof body.getBoundary === "function") {
    return `multipart/form-data;boundary=${body.getBoundary()}`;
  } else if (body instanceof Stream$2) {
    return null;
  } else {
    return "text/plain;charset=UTF-8";
  }
}
function getTotalBytes(instance) {
  const body = instance.body;
  if (body === null) {
    return 0;
  } else if (isBlob$1(body)) {
    return body.size;
  } else if (Buffer.isBuffer(body)) {
    return body.length;
  } else if (body && typeof body.getLengthSync === "function") {
    if (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x
    body.hasKnownLength && body.hasKnownLength()) {
      return body.getLengthSync();
    }
    return null;
  } else {
    return null;
  }
}
function writeToStream(dest, instance) {
  const body = instance.body;
  if (body === null) {
    dest.end();
  } else if (isBlob$1(body)) {
    body.stream().pipe(dest);
  } else if (Buffer.isBuffer(body)) {
    dest.write(body);
    dest.end();
  } else {
    body.pipe(dest);
  }
}
Body.Promise = global.Promise;
const invalidTokenRegex = /[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;
const invalidHeaderCharRegex = /[^\t\x20-\x7e\x80-\xff]/;
function validateName(name) {
  name = `${name}`;
  if (invalidTokenRegex.test(name) || name === "") {
    throw new TypeError(`${name} is not a legal HTTP header name`);
  }
}
function validateValue(value) {
  value = `${value}`;
  if (invalidHeaderCharRegex.test(value)) {
    throw new TypeError(`${value} is not a legal HTTP header value`);
  }
}
function find(map, name) {
  name = name.toLowerCase();
  for (const key in map) {
    if (key.toLowerCase() === name) {
      return key;
    }
  }
  return void 0;
}
const MAP = Symbol("map");
let Headers$1 = class Headers2 {
  /**
   * Headers class
   *
   * @param   Object  headers  Response headers
   * @return  Void
   */
  constructor() {
    let init2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : void 0;
    this[MAP] = /* @__PURE__ */ Object.create(null);
    if (init2 instanceof Headers2) {
      const rawHeaders = init2.raw();
      const headerNames = Object.keys(rawHeaders);
      for (const headerName of headerNames) {
        for (const value of rawHeaders[headerName]) {
          this.append(headerName, value);
        }
      }
      return;
    }
    if (init2 == null) ;
    else if (typeof init2 === "object") {
      const method = init2[Symbol.iterator];
      if (method != null) {
        if (typeof method !== "function") {
          throw new TypeError("Header pairs must be iterable");
        }
        const pairs = [];
        for (const pair of init2) {
          if (typeof pair !== "object" || typeof pair[Symbol.iterator] !== "function") {
            throw new TypeError("Each header pair must be iterable");
          }
          pairs.push(Array.from(pair));
        }
        for (const pair of pairs) {
          if (pair.length !== 2) {
            throw new TypeError("Each header pair must be a name/value tuple");
          }
          this.append(pair[0], pair[1]);
        }
      } else {
        for (const key of Object.keys(init2)) {
          const value = init2[key];
          this.append(key, value);
        }
      }
    } else {
      throw new TypeError("Provided initializer must be an object");
    }
  }
  /**
   * Return combined header value given name
   *
   * @param   String  name  Header name
   * @return  Mixed
   */
  get(name) {
    name = `${name}`;
    validateName(name);
    const key = find(this[MAP], name);
    if (key === void 0) {
      return null;
    }
    return this[MAP][key].join(", ");
  }
  /**
   * Iterate over all headers
   *
   * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)
   * @param   Boolean   thisArg   `this` context for callback function
   * @return  Void
   */
  forEach(callback) {
    let thisArg = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
    let pairs = getHeaders$1(this);
    let i2 = 0;
    while (i2 < pairs.length) {
      var _pairs$i = pairs[i2];
      const name = _pairs$i[0], value = _pairs$i[1];
      callback.call(thisArg, value, name, this);
      pairs = getHeaders$1(this);
      i2++;
    }
  }
  /**
   * Overwrite header values given name
   *
   * @param   String  name   Header name
   * @param   String  value  Header value
   * @return  Void
   */
  set(name, value) {
    name = `${name}`;
    value = `${value}`;
    validateName(name);
    validateValue(value);
    const key = find(this[MAP], name);
    this[MAP][key !== void 0 ? key : name] = [value];
  }
  /**
   * Append a value onto existing header
   *
   * @param   String  name   Header name
   * @param   String  value  Header value
   * @return  Void
   */
  append(name, value) {
    name = `${name}`;
    value = `${value}`;
    validateName(name);
    validateValue(value);
    const key = find(this[MAP], name);
    if (key !== void 0) {
      this[MAP][key].push(value);
    } else {
      this[MAP][name] = [value];
    }
  }
  /**
   * Check for header name existence
   *
   * @param   String   name  Header name
   * @return  Boolean
   */
  has(name) {
    name = `${name}`;
    validateName(name);
    return find(this[MAP], name) !== void 0;
  }
  /**
   * Delete all header values given name
   *
   * @param   String  name  Header name
   * @return  Void
   */
  delete(name) {
    name = `${name}`;
    validateName(name);
    const key = find(this[MAP], name);
    if (key !== void 0) {
      delete this[MAP][key];
    }
  }
  /**
   * Return raw headers (non-spec api)
   *
   * @return  Object
   */
  raw() {
    return this[MAP];
  }
  /**
   * Get an iterator on keys.
   *
   * @return  Iterator
   */
  keys() {
    return createHeadersIterator(this, "key");
  }
  /**
   * Get an iterator on values.
   *
   * @return  Iterator
   */
  values() {
    return createHeadersIterator(this, "value");
  }
  /**
   * Get an iterator on entries.
   *
   * This is the default iterator of the Headers object.
   *
   * @return  Iterator
   */
  [Symbol.iterator]() {
    return createHeadersIterator(this, "key+value");
  }
};
Headers$1.prototype.entries = Headers$1.prototype[Symbol.iterator];
Object.defineProperty(Headers$1.prototype, Symbol.toStringTag, {
  value: "Headers",
  writable: false,
  enumerable: false,
  configurable: true
});
Object.defineProperties(Headers$1.prototype, {
  get: { enumerable: true },
  forEach: { enumerable: true },
  set: { enumerable: true },
  append: { enumerable: true },
  has: { enumerable: true },
  delete: { enumerable: true },
  keys: { enumerable: true },
  values: { enumerable: true },
  entries: { enumerable: true }
});
function getHeaders$1(headers) {
  let kind2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "key+value";
  const keys = Object.keys(headers[MAP]).sort();
  return keys.map(kind2 === "key" ? function(k2) {
    return k2.toLowerCase();
  } : kind2 === "value" ? function(k2) {
    return headers[MAP][k2].join(", ");
  } : function(k2) {
    return [k2.toLowerCase(), headers[MAP][k2].join(", ")];
  });
}
const INTERNAL = Symbol("internal");
function createHeadersIterator(target, kind2) {
  const iterator = Object.create(HeadersIteratorPrototype);
  iterator[INTERNAL] = {
    target,
    kind: kind2,
    index: 0
  };
  return iterator;
}
const HeadersIteratorPrototype = Object.setPrototypeOf({
  next() {
    if (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {
      throw new TypeError("Value of `this` is not a HeadersIterator");
    }
    var _INTERNAL = this[INTERNAL];
    const target = _INTERNAL.target, kind2 = _INTERNAL.kind, index = _INTERNAL.index;
    const values = getHeaders$1(target, kind2);
    const len = values.length;
    if (index >= len) {
      return {
        value: void 0,
        done: true
      };
    }
    this[INTERNAL].index = index + 1;
    return {
      value: values[index],
      done: false
    };
  }
}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));
Object.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {
  value: "HeadersIterator",
  writable: false,
  enumerable: false,
  configurable: true
});
function exportNodeCompatibleHeaders(headers) {
  const obj = Object.assign({ __proto__: null }, headers[MAP]);
  const hostHeaderKey = find(headers[MAP], "Host");
  if (hostHeaderKey !== void 0) {
    obj[hostHeaderKey] = obj[hostHeaderKey][0];
  }
  return obj;
}
function createHeadersLenient(obj) {
  const headers = new Headers$1();
  for (const name of Object.keys(obj)) {
    if (invalidTokenRegex.test(name)) {
      continue;
    }
    if (Array.isArray(obj[name])) {
      for (const val of obj[name]) {
        if (invalidHeaderCharRegex.test(val)) {
          continue;
        }
        if (headers[MAP][name] === void 0) {
          headers[MAP][name] = [val];
        } else {
          headers[MAP][name].push(val);
        }
      }
    } else if (!invalidHeaderCharRegex.test(obj[name])) {
      headers[MAP][name] = [obj[name]];
    }
  }
  return headers;
}
const INTERNALS$1 = Symbol("Response internals");
const STATUS_CODES = http.STATUS_CODES;
class Response {
  constructor() {
    let body = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
    let opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Body.call(this, body, opts);
    const status = opts.status || 200;
    const headers = new Headers$1(opts.headers);
    if (body != null && !headers.has("Content-Type")) {
      const contentType = extractContentType(body);
      if (contentType) {
        headers.append("Content-Type", contentType);
      }
    }
    this[INTERNALS$1] = {
      url: opts.url,
      status,
      statusText: opts.statusText || STATUS_CODES[status],
      headers,
      counter: opts.counter
    };
  }
  get url() {
    return this[INTERNALS$1].url || "";
  }
  get status() {
    return this[INTERNALS$1].status;
  }
  /**
   * Convenience property representing if the request ended normally
   */
  get ok() {
    return this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;
  }
  get redirected() {
    return this[INTERNALS$1].counter > 0;
  }
  get statusText() {
    return this[INTERNALS$1].statusText;
  }
  get headers() {
    return this[INTERNALS$1].headers;
  }
  /**
   * Clone this response
   *
   * @return  Response
   */
  clone() {
    return new Response(clone(this), {
      url: this.url,
      status: this.status,
      statusText: this.statusText,
      headers: this.headers,
      ok: this.ok,
      redirected: this.redirected
    });
  }
}
Body.mixIn(Response.prototype);
Object.defineProperties(Response.prototype, {
  url: { enumerable: true },
  status: { enumerable: true },
  ok: { enumerable: true },
  redirected: { enumerable: true },
  statusText: { enumerable: true },
  headers: { enumerable: true },
  clone: { enumerable: true }
});
Object.defineProperty(Response.prototype, Symbol.toStringTag, {
  value: "Response",
  writable: false,
  enumerable: false,
  configurable: true
});
const INTERNALS$2 = Symbol("Request internals");
const URL$1 = Url.URL || whatwgUrl.URL;
const parse_url = Url.parse;
const format_url = Url.format;
function parseURL(urlStr) {
  if (/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(urlStr)) {
    urlStr = new URL$1(urlStr).toString();
  }
  return parse_url(urlStr);
}
const streamDestructionSupported = "destroy" in Stream$2.Readable.prototype;
function isRequest(input) {
  return typeof input === "object" && typeof input[INTERNALS$2] === "object";
}
function isAbortSignal(signal) {
  const proto = signal && typeof signal === "object" && Object.getPrototypeOf(signal);
  return !!(proto && proto.constructor.name === "AbortSignal");
}
class Request {
  constructor(input) {
    let init2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    let parsedURL;
    if (!isRequest(input)) {
      if (input && input.href) {
        parsedURL = parseURL(input.href);
      } else {
        parsedURL = parseURL(`${input}`);
      }
      input = {};
    } else {
      parsedURL = parseURL(input.url);
    }
    let method = init2.method || input.method || "GET";
    method = method.toUpperCase();
    if ((init2.body != null || isRequest(input) && input.body !== null) && (method === "GET" || method === "HEAD")) {
      throw new TypeError("Request with GET/HEAD method cannot have body");
    }
    let inputBody = init2.body != null ? init2.body : isRequest(input) && input.body !== null ? clone(input) : null;
    Body.call(this, inputBody, {
      timeout: init2.timeout || input.timeout || 0,
      size: init2.size || input.size || 0
    });
    const headers = new Headers$1(init2.headers || input.headers || {});
    if (inputBody != null && !headers.has("Content-Type")) {
      const contentType = extractContentType(inputBody);
      if (contentType) {
        headers.append("Content-Type", contentType);
      }
    }
    let signal = isRequest(input) ? input.signal : null;
    if ("signal" in init2) signal = init2.signal;
    if (signal != null && !isAbortSignal(signal)) {
      throw new TypeError("Expected signal to be an instanceof AbortSignal");
    }
    this[INTERNALS$2] = {
      method,
      redirect: init2.redirect || input.redirect || "follow",
      headers,
      parsedURL,
      signal
    };
    this.follow = init2.follow !== void 0 ? init2.follow : input.follow !== void 0 ? input.follow : 20;
    this.compress = init2.compress !== void 0 ? init2.compress : input.compress !== void 0 ? input.compress : true;
    this.counter = init2.counter || input.counter || 0;
    this.agent = init2.agent || input.agent;
  }
  get method() {
    return this[INTERNALS$2].method;
  }
  get url() {
    return format_url(this[INTERNALS$2].parsedURL);
  }
  get headers() {
    return this[INTERNALS$2].headers;
  }
  get redirect() {
    return this[INTERNALS$2].redirect;
  }
  get signal() {
    return this[INTERNALS$2].signal;
  }
  /**
   * Clone this request
   *
   * @return  Request
   */
  clone() {
    return new Request(this);
  }
}
Body.mixIn(Request.prototype);
Object.defineProperty(Request.prototype, Symbol.toStringTag, {
  value: "Request",
  writable: false,
  enumerable: false,
  configurable: true
});
Object.defineProperties(Request.prototype, {
  method: { enumerable: true },
  url: { enumerable: true },
  headers: { enumerable: true },
  redirect: { enumerable: true },
  clone: { enumerable: true },
  signal: { enumerable: true }
});
function getNodeRequestOptions(request) {
  const parsedURL = request[INTERNALS$2].parsedURL;
  const headers = new Headers$1(request[INTERNALS$2].headers);
  if (!headers.has("Accept")) {
    headers.set("Accept", "*/*");
  }
  if (!parsedURL.protocol || !parsedURL.hostname) {
    throw new TypeError("Only absolute URLs are supported");
  }
  if (!/^https?:$/.test(parsedURL.protocol)) {
    throw new TypeError("Only HTTP(S) protocols are supported");
  }
  if (request.signal && request.body instanceof Stream$2.Readable && !streamDestructionSupported) {
    throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");
  }
  let contentLengthValue = null;
  if (request.body == null && /^(POST|PUT)$/i.test(request.method)) {
    contentLengthValue = "0";
  }
  if (request.body != null) {
    const totalBytes = getTotalBytes(request);
    if (typeof totalBytes === "number") {
      contentLengthValue = String(totalBytes);
    }
  }
  if (contentLengthValue) {
    headers.set("Content-Length", contentLengthValue);
  }
  if (!headers.has("User-Agent")) {
    headers.set("User-Agent", "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)");
  }
  if (request.compress && !headers.has("Accept-Encoding")) {
    headers.set("Accept-Encoding", "gzip,deflate");
  }
  let agent2 = request.agent;
  if (typeof agent2 === "function") {
    agent2 = agent2(parsedURL);
  }
  return Object.assign({}, parsedURL, {
    method: request.method,
    headers: exportNodeCompatibleHeaders(headers),
    agent: agent2
  });
}
function AbortError(message) {
  Error.call(this, message);
  this.type = "aborted";
  this.message = message;
  Error.captureStackTrace(this, this.constructor);
}
AbortError.prototype = Object.create(Error.prototype);
AbortError.prototype.constructor = AbortError;
AbortError.prototype.name = "AbortError";
const URL$1$1 = Url.URL || whatwgUrl.URL;
const PassThrough$1 = Stream$2.PassThrough;
const isDomainOrSubdomain = function isDomainOrSubdomain2(destination, original) {
  const orig = new URL$1$1(original).hostname;
  const dest = new URL$1$1(destination).hostname;
  return orig === dest || orig[orig.length - dest.length - 1] === "." && orig.endsWith(dest);
};
const isSameProtocol = function isSameProtocol2(destination, original) {
  const orig = new URL$1$1(original).protocol;
  const dest = new URL$1$1(destination).protocol;
  return orig === dest;
};
function fetch$2(url, opts) {
  if (!fetch$2.Promise) {
    throw new Error("native promise missing, set fetch.Promise to your favorite alternative");
  }
  Body.Promise = fetch$2.Promise;
  return new fetch$2.Promise(function(resolve, reject) {
    const request = new Request(url, opts);
    const options = getNodeRequestOptions(request);
    const send = (options.protocol === "https:" ? https : http).request;
    const signal = request.signal;
    let response = null;
    const abort = function abort2() {
      let error = new AbortError("The user aborted a request.");
      reject(error);
      if (request.body && request.body instanceof Stream$2.Readable) {
        destroyStream(request.body, error);
      }
      if (!response || !response.body) return;
      response.body.emit("error", error);
    };
    if (signal && signal.aborted) {
      abort();
      return;
    }
    const abortAndFinalize = function abortAndFinalize2() {
      abort();
      finalize();
    };
    const req = send(options);
    let reqTimeout;
    if (signal) {
      signal.addEventListener("abort", abortAndFinalize);
    }
    function finalize() {
      req.abort();
      if (signal) signal.removeEventListener("abort", abortAndFinalize);
      clearTimeout(reqTimeout);
    }
    if (request.timeout) {
      req.once("socket", function(socket) {
        reqTimeout = setTimeout(function() {
          reject(new FetchError(`network timeout at: ${request.url}`, "request-timeout"));
          finalize();
        }, request.timeout);
      });
    }
    req.on("error", function(err) {
      reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, "system", err));
      if (response && response.body) {
        destroyStream(response.body, err);
      }
      finalize();
    });
    fixResponseChunkedTransferBadEnding(req, function(err) {
      if (signal && signal.aborted) {
        return;
      }
      if (response && response.body) {
        destroyStream(response.body, err);
      }
    });
    if (parseInt(process.version.substring(1)) < 14) {
      req.on("socket", function(s2) {
        s2.addListener("close", function(hadError) {
          const hasDataListener = s2.listenerCount("data") > 0;
          if (response && hasDataListener && !hadError && !(signal && signal.aborted)) {
            const err = new Error("Premature close");
            err.code = "ERR_STREAM_PREMATURE_CLOSE";
            response.body.emit("error", err);
          }
        });
      });
    }
    req.on("response", function(res) {
      clearTimeout(reqTimeout);
      const headers = createHeadersLenient(res.headers);
      if (fetch$2.isRedirect(res.statusCode)) {
        const location = headers.get("Location");
        let locationURL = null;
        try {
          locationURL = location === null ? null : new URL$1$1(location, request.url).toString();
        } catch (err) {
          if (request.redirect !== "manual") {
            reject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, "invalid-redirect"));
            finalize();
            return;
          }
        }
        switch (request.redirect) {
          case "error":
            reject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, "no-redirect"));
            finalize();
            return;
          case "manual":
            if (locationURL !== null) {
              try {
                headers.set("Location", locationURL);
              } catch (err) {
                reject(err);
              }
            }
            break;
          case "follow":
            if (locationURL === null) {
              break;
            }
            if (request.counter >= request.follow) {
              reject(new FetchError(`maximum redirect reached at: ${request.url}`, "max-redirect"));
              finalize();
              return;
            }
            const requestOpts = {
              headers: new Headers$1(request.headers),
              follow: request.follow,
              counter: request.counter + 1,
              agent: request.agent,
              compress: request.compress,
              method: request.method,
              body: request.body,
              signal: request.signal,
              timeout: request.timeout,
              size: request.size
            };
            if (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {
              for (const name of ["authorization", "www-authenticate", "cookie", "cookie2"]) {
                requestOpts.headers.delete(name);
              }
            }
            if (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {
              reject(new FetchError("Cannot follow redirect with body being a readable stream", "unsupported-redirect"));
              finalize();
              return;
            }
            if (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === "POST") {
              requestOpts.method = "GET";
              requestOpts.body = void 0;
              requestOpts.headers.delete("content-length");
            }
            resolve(fetch$2(new Request(locationURL, requestOpts)));
            finalize();
            return;
        }
      }
      res.once("end", function() {
        if (signal) signal.removeEventListener("abort", abortAndFinalize);
      });
      let body = res.pipe(new PassThrough$1());
      const response_options = {
        url: request.url,
        status: res.statusCode,
        statusText: res.statusMessage,
        headers,
        size: request.size,
        timeout: request.timeout,
        counter: request.counter
      };
      const codings = headers.get("Content-Encoding");
      if (!request.compress || request.method === "HEAD" || codings === null || res.statusCode === 204 || res.statusCode === 304) {
        response = new Response(body, response_options);
        resolve(response);
        return;
      }
      const zlibOptions = {
        flush: zlib.Z_SYNC_FLUSH,
        finishFlush: zlib.Z_SYNC_FLUSH
      };
      if (codings == "gzip" || codings == "x-gzip") {
        body = body.pipe(zlib.createGunzip(zlibOptions));
        response = new Response(body, response_options);
        resolve(response);
        return;
      }
      if (codings == "deflate" || codings == "x-deflate") {
        const raw = res.pipe(new PassThrough$1());
        raw.once("data", function(chunk) {
          if ((chunk[0] & 15) === 8) {
            body = body.pipe(zlib.createInflate());
          } else {
            body = body.pipe(zlib.createInflateRaw());
          }
          response = new Response(body, response_options);
          resolve(response);
        });
        raw.on("end", function() {
          if (!response) {
            response = new Response(body, response_options);
            resolve(response);
          }
        });
        return;
      }
      if (codings == "br" && typeof zlib.createBrotliDecompress === "function") {
        body = body.pipe(zlib.createBrotliDecompress());
        response = new Response(body, response_options);
        resolve(response);
        return;
      }
      response = new Response(body, response_options);
      resolve(response);
    });
    writeToStream(req, request);
  });
}
function fixResponseChunkedTransferBadEnding(request, errorCallback) {
  let socket;
  request.on("socket", function(s2) {
    socket = s2;
  });
  request.on("response", function(response) {
    const headers = response.headers;
    if (headers["transfer-encoding"] === "chunked" && !headers["content-length"]) {
      response.once("close", function(hadError) {
        const hasDataListener = socket && socket.listenerCount("data") > 0;
        if (hasDataListener && !hadError) {
          const err = new Error("Premature close");
          err.code = "ERR_STREAM_PREMATURE_CLOSE";
          errorCallback(err);
        }
      });
    }
  });
}
function destroyStream(stream, err) {
  if (stream.destroy) {
    stream.destroy(err);
  } else {
    stream.emit("error", err);
    stream.end();
  }
}
fetch$2.isRedirect = function(code) {
  return code === 301 || code === 302 || code === 303 || code === 307 || code === 308;
};
fetch$2.Promise = global.Promise;
/**
 * @license
 * web-streams-polyfill v4.0.0-beta.3
 * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */
const e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol : (e2) => `Symbol(${e2})`;
function t() {
}
function r(e2) {
  return "object" == typeof e2 && null !== e2 || "function" == typeof e2;
}
const o = t;
function n(e2, t2) {
  try {
    Object.defineProperty(e2, "name", { value: t2, configurable: true });
  } catch (e3) {
  }
}
const a = Promise, i = Promise.prototype.then, l = Promise.resolve.bind(a), s = Promise.reject.bind(a);
function u(e2) {
  return new a(e2);
}
function c(e2) {
  return l(e2);
}
function d(e2) {
  return s(e2);
}
function f(e2, t2, r2) {
  return i.call(e2, t2, r2);
}
function b(e2, t2, r2) {
  f(f(e2, t2, r2), void 0, o);
}
function h(e2, t2) {
  b(e2, t2);
}
function _(e2, t2) {
  b(e2, void 0, t2);
}
function p(e2, t2, r2) {
  return f(e2, t2, r2);
}
function m(e2) {
  f(e2, void 0, o);
}
let y = (e2) => {
  if ("function" == typeof queueMicrotask) y = queueMicrotask;
  else {
    const e3 = c(void 0);
    y = (t2) => f(e3, t2);
  }
  return y(e2);
};
function g(e2, t2, r2) {
  if ("function" != typeof e2) throw new TypeError("Argument is not a function");
  return Function.prototype.apply.call(e2, t2, r2);
}
function w(e2, t2, r2) {
  try {
    return c(g(e2, t2, r2));
  } catch (e3) {
    return d(e3);
  }
}
class S {
  constructor() {
    this._cursor = 0, this._size = 0, this._front = { _elements: [], _next: void 0 }, this._back = this._front, this._cursor = 0, this._size = 0;
  }
  get length() {
    return this._size;
  }
  push(e2) {
    const t2 = this._back;
    let r2 = t2;
    16383 === t2._elements.length && (r2 = { _elements: [], _next: void 0 }), t2._elements.push(e2), r2 !== t2 && (this._back = r2, t2._next = r2), ++this._size;
  }
  shift() {
    const e2 = this._front;
    let t2 = e2;
    const r2 = this._cursor;
    let o2 = r2 + 1;
    const n2 = e2._elements, a2 = n2[r2];
    return 16384 === o2 && (t2 = e2._next, o2 = 0), --this._size, this._cursor = o2, e2 !== t2 && (this._front = t2), n2[r2] = void 0, a2;
  }
  forEach(e2) {
    let t2 = this._cursor, r2 = this._front, o2 = r2._elements;
    for (; !(t2 === o2.length && void 0 === r2._next || t2 === o2.length && (r2 = r2._next, o2 = r2._elements, t2 = 0, 0 === o2.length)); ) e2(o2[t2]), ++t2;
  }
  peek() {
    const e2 = this._front, t2 = this._cursor;
    return e2._elements[t2];
  }
}
const v = e("[[AbortSteps]]"), R = e("[[ErrorSteps]]"), T = e("[[CancelSteps]]"), q = e("[[PullSteps]]"), C = e("[[ReleaseSteps]]");
function E(e2, t2) {
  e2._ownerReadableStream = t2, t2._reader = e2, "readable" === t2._state ? O(e2) : "closed" === t2._state ? function(e3) {
    O(e3), j(e3);
  }(e2) : B(e2, t2._storedError);
}
function P(e2, t2) {
  return Gt(e2._ownerReadableStream, t2);
}
function W(e2) {
  const t2 = e2._ownerReadableStream;
  "readable" === t2._state ? A(e2, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")) : function(e3, t3) {
    B(e3, t3);
  }(e2, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")), t2._readableStreamController[C](), t2._reader = void 0, e2._ownerReadableStream = void 0;
}
function k(e2) {
  return new TypeError("Cannot " + e2 + " a stream using a released reader");
}
function O(e2) {
  e2._closedPromise = u((t2, r2) => {
    e2._closedPromise_resolve = t2, e2._closedPromise_reject = r2;
  });
}
function B(e2, t2) {
  O(e2), A(e2, t2);
}
function A(e2, t2) {
  void 0 !== e2._closedPromise_reject && (m(e2._closedPromise), e2._closedPromise_reject(t2), e2._closedPromise_resolve = void 0, e2._closedPromise_reject = void 0);
}
function j(e2) {
  void 0 !== e2._closedPromise_resolve && (e2._closedPromise_resolve(void 0), e2._closedPromise_resolve = void 0, e2._closedPromise_reject = void 0);
}
const z = Number.isFinite || function(e2) {
  return "number" == typeof e2 && isFinite(e2);
}, L = Math.trunc || function(e2) {
  return e2 < 0 ? Math.ceil(e2) : Math.floor(e2);
};
function F(e2, t2) {
  if (void 0 !== e2 && ("object" != typeof (r2 = e2) && "function" != typeof r2)) throw new TypeError(`${t2} is not an object.`);
  var r2;
}
function I(e2, t2) {
  if ("function" != typeof e2) throw new TypeError(`${t2} is not a function.`);
}
function D(e2, t2) {
  if (!/* @__PURE__ */ function(e3) {
    return "object" == typeof e3 && null !== e3 || "function" == typeof e3;
  }(e2)) throw new TypeError(`${t2} is not an object.`);
}
function $(e2, t2, r2) {
  if (void 0 === e2) throw new TypeError(`Parameter ${t2} is required in '${r2}'.`);
}
function M(e2, t2, r2) {
  if (void 0 === e2) throw new TypeError(`${t2} is required in '${r2}'.`);
}
function Y(e2) {
  return Number(e2);
}
function Q(e2) {
  return 0 === e2 ? 0 : e2;
}
function N(e2, t2) {
  const r2 = Number.MAX_SAFE_INTEGER;
  let o2 = Number(e2);
  if (o2 = Q(o2), !z(o2)) throw new TypeError(`${t2} is not a finite number`);
  if (o2 = function(e3) {
    return Q(L(e3));
  }(o2), o2 < 0 || o2 > r2) throw new TypeError(`${t2} is outside the accepted range of 0 to ${r2}, inclusive`);
  return z(o2) && 0 !== o2 ? o2 : 0;
}
function H(e2) {
  if (!r(e2)) return false;
  if ("function" != typeof e2.getReader) return false;
  try {
    return "boolean" == typeof e2.locked;
  } catch (e3) {
    return false;
  }
}
function x(e2) {
  if (!r(e2)) return false;
  if ("function" != typeof e2.getWriter) return false;
  try {
    return "boolean" == typeof e2.locked;
  } catch (e3) {
    return false;
  }
}
function V(e2, t2) {
  if (!Vt(e2)) throw new TypeError(`${t2} is not a ReadableStream.`);
}
function U(e2, t2) {
  e2._reader._readRequests.push(t2);
}
function G(e2, t2, r2) {
  const o2 = e2._reader._readRequests.shift();
  r2 ? o2._closeSteps() : o2._chunkSteps(t2);
}
function X(e2) {
  return e2._reader._readRequests.length;
}
function J(e2) {
  const t2 = e2._reader;
  return void 0 !== t2 && !!K(t2);
}
class ReadableStreamDefaultReader {
  constructor(e2) {
    if ($(e2, 1, "ReadableStreamDefaultReader"), V(e2, "First parameter"), Ut(e2)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
    E(this, e2), this._readRequests = new S();
  }
  get closed() {
    return K(this) ? this._closedPromise : d(ee("closed"));
  }
  cancel(e2) {
    return K(this) ? void 0 === this._ownerReadableStream ? d(k("cancel")) : P(this, e2) : d(ee("cancel"));
  }
  read() {
    if (!K(this)) return d(ee("read"));
    if (void 0 === this._ownerReadableStream) return d(k("read from"));
    let e2, t2;
    const r2 = u((r3, o2) => {
      e2 = r3, t2 = o2;
    });
    return function(e3, t3) {
      const r3 = e3._ownerReadableStream;
      r3._disturbed = true, "closed" === r3._state ? t3._closeSteps() : "errored" === r3._state ? t3._errorSteps(r3._storedError) : r3._readableStreamController[q](t3);
    }(this, { _chunkSteps: (t3) => e2({ value: t3, done: false }), _closeSteps: () => e2({ value: void 0, done: true }), _errorSteps: (e3) => t2(e3) }), r2;
  }
  releaseLock() {
    if (!K(this)) throw ee("releaseLock");
    void 0 !== this._ownerReadableStream && function(e2) {
      W(e2);
      const t2 = new TypeError("Reader was released");
      Z(e2, t2);
    }(this);
  }
}
function K(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_readRequests") && e2 instanceof ReadableStreamDefaultReader);
}
function Z(e2, t2) {
  const r2 = e2._readRequests;
  e2._readRequests = new S(), r2.forEach((e3) => {
    e3._errorSteps(t2);
  });
}
function ee(e2) {
  return new TypeError(`ReadableStreamDefaultReader.prototype.${e2} can only be used on a ReadableStreamDefaultReader`);
}
Object.defineProperties(ReadableStreamDefaultReader.prototype, { cancel: { enumerable: true }, read: { enumerable: true }, releaseLock: { enumerable: true }, closed: { enumerable: true } }), n(ReadableStreamDefaultReader.prototype.cancel, "cancel"), n(ReadableStreamDefaultReader.prototype.read, "read"), n(ReadableStreamDefaultReader.prototype.releaseLock, "releaseLock"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableStreamDefaultReader.prototype, e.toStringTag, { value: "ReadableStreamDefaultReader", configurable: true });
class te {
  constructor(e2, t2) {
    this._ongoingPromise = void 0, this._isFinished = false, this._reader = e2, this._preventCancel = t2;
  }
  next() {
    const e2 = () => this._nextSteps();
    return this._ongoingPromise = this._ongoingPromise ? p(this._ongoingPromise, e2, e2) : e2(), this._ongoingPromise;
  }
  return(e2) {
    const t2 = () => this._returnSteps(e2);
    return this._ongoingPromise ? p(this._ongoingPromise, t2, t2) : t2();
  }
  _nextSteps() {
    if (this._isFinished) return Promise.resolve({ value: void 0, done: true });
    const e2 = this._reader;
    return void 0 === e2 ? d(k("iterate")) : f(e2.read(), (e3) => {
      var t2;
      return this._ongoingPromise = void 0, e3.done && (this._isFinished = true, null === (t2 = this._reader) || void 0 === t2 || t2.releaseLock(), this._reader = void 0), e3;
    }, (e3) => {
      var t2;
      throw this._ongoingPromise = void 0, this._isFinished = true, null === (t2 = this._reader) || void 0 === t2 || t2.releaseLock(), this._reader = void 0, e3;
    });
  }
  _returnSteps(e2) {
    if (this._isFinished) return Promise.resolve({ value: e2, done: true });
    this._isFinished = true;
    const t2 = this._reader;
    if (void 0 === t2) return d(k("finish iterating"));
    if (this._reader = void 0, !this._preventCancel) {
      const r2 = t2.cancel(e2);
      return t2.releaseLock(), p(r2, () => ({ value: e2, done: true }));
    }
    return t2.releaseLock(), c({ value: e2, done: true });
  }
}
const re = { next() {
  return oe(this) ? this._asyncIteratorImpl.next() : d(ne("next"));
}, return(e2) {
  return oe(this) ? this._asyncIteratorImpl.return(e2) : d(ne("return"));
} };
function oe(e2) {
  if (!r(e2)) return false;
  if (!Object.prototype.hasOwnProperty.call(e2, "_asyncIteratorImpl")) return false;
  try {
    return e2._asyncIteratorImpl instanceof te;
  } catch (e3) {
    return false;
  }
}
function ne(e2) {
  return new TypeError(`ReadableStreamAsyncIterator.${e2} can only be used on a ReadableSteamAsyncIterator`);
}
"symbol" == typeof e.asyncIterator && Object.defineProperty(re, e.asyncIterator, { value() {
  return this;
}, writable: true, configurable: true });
const ae = Number.isNaN || function(e2) {
  return e2 != e2;
};
function ie(e2, t2, r2, o2, n2) {
  new Uint8Array(e2).set(new Uint8Array(r2, o2, n2), t2);
}
function le(e2) {
  const t2 = function(e3, t3, r2) {
    if (e3.slice) return e3.slice(t3, r2);
    const o2 = r2 - t3, n2 = new ArrayBuffer(o2);
    return ie(n2, 0, e3, t3, o2), n2;
  }(e2.buffer, e2.byteOffset, e2.byteOffset + e2.byteLength);
  return new Uint8Array(t2);
}
function se(e2) {
  const t2 = e2._queue.shift();
  return e2._queueTotalSize -= t2.size, e2._queueTotalSize < 0 && (e2._queueTotalSize = 0), t2.value;
}
function ue(e2, t2, r2) {
  if ("number" != typeof (o2 = r2) || ae(o2) || o2 < 0 || r2 === 1 / 0) throw new RangeError("Size must be a finite, non-NaN, non-negative number.");
  var o2;
  e2._queue.push({ value: t2, size: r2 }), e2._queueTotalSize += r2;
}
function ce(e2) {
  e2._queue = new S(), e2._queueTotalSize = 0;
}
class ReadableStreamBYOBRequest {
  constructor() {
    throw new TypeError("Illegal constructor");
  }
  get view() {
    if (!fe(this)) throw Be("view");
    return this._view;
  }
  respond(e2) {
    if (!fe(this)) throw Be("respond");
    if ($(e2, 1, "respond"), e2 = N(e2, "First parameter"), void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
    this._view.buffer, function(e3, t2) {
      const r2 = e3._pendingPullIntos.peek();
      if ("closed" === e3._controlledReadableByteStream._state) {
        if (0 !== t2) throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");
      } else {
        if (0 === t2) throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");
        if (r2.bytesFilled + t2 > r2.byteLength) throw new RangeError("bytesWritten out of range");
      }
      r2.buffer = r2.buffer, qe(e3, t2);
    }(this._associatedReadableByteStreamController, e2);
  }
  respondWithNewView(e2) {
    if (!fe(this)) throw Be("respondWithNewView");
    if ($(e2, 1, "respondWithNewView"), !ArrayBuffer.isView(e2)) throw new TypeError("You can only respond with array buffer views");
    if (void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
    e2.buffer, function(e3, t2) {
      const r2 = e3._pendingPullIntos.peek();
      if ("closed" === e3._controlledReadableByteStream._state) {
        if (0 !== t2.byteLength) throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream");
      } else if (0 === t2.byteLength) throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");
      if (r2.byteOffset + r2.bytesFilled !== t2.byteOffset) throw new RangeError("The region specified by view does not match byobRequest");
      if (r2.bufferByteLength !== t2.buffer.byteLength) throw new RangeError("The buffer of view has different capacity than byobRequest");
      if (r2.bytesFilled + t2.byteLength > r2.byteLength) throw new RangeError("The region specified by view is larger than byobRequest");
      const o2 = t2.byteLength;
      r2.buffer = t2.buffer, qe(e3, o2);
    }(this._associatedReadableByteStreamController, e2);
  }
}
Object.defineProperties(ReadableStreamBYOBRequest.prototype, { respond: { enumerable: true }, respondWithNewView: { enumerable: true }, view: { enumerable: true } }), n(ReadableStreamBYOBRequest.prototype.respond, "respond"), n(ReadableStreamBYOBRequest.prototype.respondWithNewView, "respondWithNewView"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableStreamBYOBRequest.prototype, e.toStringTag, { value: "ReadableStreamBYOBRequest", configurable: true });
class ReadableByteStreamController {
  constructor() {
    throw new TypeError("Illegal constructor");
  }
  get byobRequest() {
    if (!de(this)) throw Ae("byobRequest");
    return function(e2) {
      if (null === e2._byobRequest && e2._pendingPullIntos.length > 0) {
        const t2 = e2._pendingPullIntos.peek(), r2 = new Uint8Array(t2.buffer, t2.byteOffset + t2.bytesFilled, t2.byteLength - t2.bytesFilled), o2 = Object.create(ReadableStreamBYOBRequest.prototype);
        !function(e3, t3, r3) {
          e3._associatedReadableByteStreamController = t3, e3._view = r3;
        }(o2, e2, r2), e2._byobRequest = o2;
      }
      return e2._byobRequest;
    }(this);
  }
  get desiredSize() {
    if (!de(this)) throw Ae("desiredSize");
    return ke(this);
  }
  close() {
    if (!de(this)) throw Ae("close");
    if (this._closeRequested) throw new TypeError("The stream has already been closed; do not close it again!");
    const e2 = this._controlledReadableByteStream._state;
    if ("readable" !== e2) throw new TypeError(`The stream (in ${e2} state) is not in the readable state and cannot be closed`);
    !function(e3) {
      const t2 = e3._controlledReadableByteStream;
      if (e3._closeRequested || "readable" !== t2._state) return;
      if (e3._queueTotalSize > 0) return void (e3._closeRequested = true);
      if (e3._pendingPullIntos.length > 0) {
        if (e3._pendingPullIntos.peek().bytesFilled > 0) {
          const t3 = new TypeError("Insufficient bytes to fill elements in the given buffer");
          throw Pe(e3, t3), t3;
        }
      }
      Ee(e3), Xt(t2);
    }(this);
  }
  enqueue(e2) {
    if (!de(this)) throw Ae("enqueue");
    if ($(e2, 1, "enqueue"), !ArrayBuffer.isView(e2)) throw new TypeError("chunk must be an array buffer view");
    if (0 === e2.byteLength) throw new TypeError("chunk must have non-zero byteLength");
    if (0 === e2.buffer.byteLength) throw new TypeError("chunk's buffer must have non-zero byteLength");
    if (this._closeRequested) throw new TypeError("stream is closed or draining");
    const t2 = this._controlledReadableByteStream._state;
    if ("readable" !== t2) throw new TypeError(`The stream (in ${t2} state) is not in the readable state and cannot be enqueued to`);
    !function(e3, t3) {
      const r2 = e3._controlledReadableByteStream;
      if (e3._closeRequested || "readable" !== r2._state) return;
      const o2 = t3.buffer, n2 = t3.byteOffset, a2 = t3.byteLength, i2 = o2;
      if (e3._pendingPullIntos.length > 0) {
        const t4 = e3._pendingPullIntos.peek();
        t4.buffer, Re(e3), t4.buffer = t4.buffer, "none" === t4.readerType && ge(e3, t4);
      }
      if (J(r2)) if (function(e4) {
        const t4 = e4._controlledReadableByteStream._reader;
        for (; t4._readRequests.length > 0; ) {
          if (0 === e4._queueTotalSize) return;
          We(e4, t4._readRequests.shift());
        }
      }(e3), 0 === X(r2)) me(e3, i2, n2, a2);
      else {
        e3._pendingPullIntos.length > 0 && Ce(e3);
        G(r2, new Uint8Array(i2, n2, a2), false);
      }
      else Le(r2) ? (me(e3, i2, n2, a2), Te(e3)) : me(e3, i2, n2, a2);
      be(e3);
    }(this, e2);
  }
  error(e2) {
    if (!de(this)) throw Ae("error");
    Pe(this, e2);
  }
  [T](e2) {
    he(this), ce(this);
    const t2 = this._cancelAlgorithm(e2);
    return Ee(this), t2;
  }
  [q](e2) {
    const t2 = this._controlledReadableByteStream;
    if (this._queueTotalSize > 0) return void We(this, e2);
    const r2 = this._autoAllocateChunkSize;
    if (void 0 !== r2) {
      let t3;
      try {
        t3 = new ArrayBuffer(r2);
      } catch (t4) {
        return void e2._errorSteps(t4);
      }
      const o2 = { buffer: t3, bufferByteLength: r2, byteOffset: 0, byteLength: r2, bytesFilled: 0, elementSize: 1, viewConstructor: Uint8Array, readerType: "default" };
      this._pendingPullIntos.push(o2);
    }
    U(t2, e2), be(this);
  }
  [C]() {
    if (this._pendingPullIntos.length > 0) {
      const e2 = this._pendingPullIntos.peek();
      e2.readerType = "none", this._pendingPullIntos = new S(), this._pendingPullIntos.push(e2);
    }
  }
}
function de(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_controlledReadableByteStream") && e2 instanceof ReadableByteStreamController);
}
function fe(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_associatedReadableByteStreamController") && e2 instanceof ReadableStreamBYOBRequest);
}
function be(e2) {
  const t2 = function(e3) {
    const t3 = e3._controlledReadableByteStream;
    if ("readable" !== t3._state) return false;
    if (e3._closeRequested) return false;
    if (!e3._started) return false;
    if (J(t3) && X(t3) > 0) return true;
    if (Le(t3) && ze(t3) > 0) return true;
    if (ke(e3) > 0) return true;
    return false;
  }(e2);
  if (!t2) return;
  if (e2._pulling) return void (e2._pullAgain = true);
  e2._pulling = true;
  b(e2._pullAlgorithm(), () => (e2._pulling = false, e2._pullAgain && (e2._pullAgain = false, be(e2)), null), (t3) => (Pe(e2, t3), null));
}
function he(e2) {
  Re(e2), e2._pendingPullIntos = new S();
}
function _e(e2, t2) {
  let r2 = false;
  "closed" === e2._state && (r2 = true);
  const o2 = pe(t2);
  "default" === t2.readerType ? G(e2, o2, r2) : function(e3, t3, r3) {
    const o3 = e3._reader._readIntoRequests.shift();
    r3 ? o3._closeSteps(t3) : o3._chunkSteps(t3);
  }(e2, o2, r2);
}
function pe(e2) {
  const t2 = e2.bytesFilled, r2 = e2.elementSize;
  return new e2.viewConstructor(e2.buffer, e2.byteOffset, t2 / r2);
}
function me(e2, t2, r2, o2) {
  e2._queue.push({ buffer: t2, byteOffset: r2, byteLength: o2 }), e2._queueTotalSize += o2;
}
function ye(e2, t2, r2, o2) {
  let n2;
  try {
    n2 = t2.slice(r2, r2 + o2);
  } catch (t3) {
    throw Pe(e2, t3), t3;
  }
  me(e2, n2, 0, o2);
}
function ge(e2, t2) {
  t2.bytesFilled > 0 && ye(e2, t2.buffer, t2.byteOffset, t2.bytesFilled), Ce(e2);
}
function we(e2, t2) {
  const r2 = t2.elementSize, o2 = t2.bytesFilled - t2.bytesFilled % r2, n2 = Math.min(e2._queueTotalSize, t2.byteLength - t2.bytesFilled), a2 = t2.bytesFilled + n2, i2 = a2 - a2 % r2;
  let l2 = n2, s2 = false;
  i2 > o2 && (l2 = i2 - t2.bytesFilled, s2 = true);
  const u2 = e2._queue;
  for (; l2 > 0; ) {
    const r3 = u2.peek(), o3 = Math.min(l2, r3.byteLength), n3 = t2.byteOffset + t2.bytesFilled;
    ie(t2.buffer, n3, r3.buffer, r3.byteOffset, o3), r3.byteLength === o3 ? u2.shift() : (r3.byteOffset += o3, r3.byteLength -= o3), e2._queueTotalSize -= o3, Se(e2, o3, t2), l2 -= o3;
  }
  return s2;
}
function Se(e2, t2, r2) {
  r2.bytesFilled += t2;
}
function ve(e2) {
  0 === e2._queueTotalSize && e2._closeRequested ? (Ee(e2), Xt(e2._controlledReadableByteStream)) : be(e2);
}
function Re(e2) {
  null !== e2._byobRequest && (e2._byobRequest._associatedReadableByteStreamController = void 0, e2._byobRequest._view = null, e2._byobRequest = null);
}
function Te(e2) {
  for (; e2._pendingPullIntos.length > 0; ) {
    if (0 === e2._queueTotalSize) return;
    const t2 = e2._pendingPullIntos.peek();
    we(e2, t2) && (Ce(e2), _e(e2._controlledReadableByteStream, t2));
  }
}
function qe(e2, t2) {
  const r2 = e2._pendingPullIntos.peek();
  Re(e2);
  "closed" === e2._controlledReadableByteStream._state ? function(e3, t3) {
    "none" === t3.readerType && Ce(e3);
    const r3 = e3._controlledReadableByteStream;
    if (Le(r3)) for (; ze(r3) > 0; ) _e(r3, Ce(e3));
  }(e2, r2) : function(e3, t3, r3) {
    if (Se(0, t3, r3), "none" === r3.readerType) return ge(e3, r3), void Te(e3);
    if (r3.bytesFilled < r3.elementSize) return;
    Ce(e3);
    const o2 = r3.bytesFilled % r3.elementSize;
    if (o2 > 0) {
      const t4 = r3.byteOffset + r3.bytesFilled;
      ye(e3, r3.buffer, t4 - o2, o2);
    }
    r3.bytesFilled -= o2, _e(e3._controlledReadableByteStream, r3), Te(e3);
  }(e2, t2, r2), be(e2);
}
function Ce(e2) {
  return e2._pendingPullIntos.shift();
}
function Ee(e2) {
  e2._pullAlgorithm = void 0, e2._cancelAlgorithm = void 0;
}
function Pe(e2, t2) {
  const r2 = e2._controlledReadableByteStream;
  "readable" === r2._state && (he(e2), ce(e2), Ee(e2), Jt(r2, t2));
}
function We(e2, t2) {
  const r2 = e2._queue.shift();
  e2._queueTotalSize -= r2.byteLength, ve(e2);
  const o2 = new Uint8Array(r2.buffer, r2.byteOffset, r2.byteLength);
  t2._chunkSteps(o2);
}
function ke(e2) {
  const t2 = e2._controlledReadableByteStream._state;
  return "errored" === t2 ? null : "closed" === t2 ? 0 : e2._strategyHWM - e2._queueTotalSize;
}
function Oe(e2, t2, r2) {
  const o2 = Object.create(ReadableByteStreamController.prototype);
  let n2, a2, i2;
  n2 = void 0 !== t2.start ? () => t2.start(o2) : () => {
  }, a2 = void 0 !== t2.pull ? () => t2.pull(o2) : () => c(void 0), i2 = void 0 !== t2.cancel ? (e3) => t2.cancel(e3) : () => c(void 0);
  const l2 = t2.autoAllocateChunkSize;
  if (0 === l2) throw new TypeError("autoAllocateChunkSize must be greater than 0");
  !function(e3, t3, r3, o3, n3, a3, i3) {
    t3._controlledReadableByteStream = e3, t3._pullAgain = false, t3._pulling = false, t3._byobRequest = null, t3._queue = t3._queueTotalSize = void 0, ce(t3), t3._closeRequested = false, t3._started = false, t3._strategyHWM = a3, t3._pullAlgorithm = o3, t3._cancelAlgorithm = n3, t3._autoAllocateChunkSize = i3, t3._pendingPullIntos = new S(), e3._readableStreamController = t3, b(c(r3()), () => (t3._started = true, be(t3), null), (e4) => (Pe(t3, e4), null));
  }(e2, o2, n2, a2, i2, r2, l2);
}
function Be(e2) {
  return new TypeError(`ReadableStreamBYOBRequest.prototype.${e2} can only be used on a ReadableStreamBYOBRequest`);
}
function Ae(e2) {
  return new TypeError(`ReadableByteStreamController.prototype.${e2} can only be used on a ReadableByteStreamController`);
}
function je(e2, t2) {
  e2._reader._readIntoRequests.push(t2);
}
function ze(e2) {
  return e2._reader._readIntoRequests.length;
}
function Le(e2) {
  const t2 = e2._reader;
  return void 0 !== t2 && !!Fe(t2);
}
Object.defineProperties(ReadableByteStreamController.prototype, { close: { enumerable: true }, enqueue: { enumerable: true }, error: { enumerable: true }, byobRequest: { enumerable: true }, desiredSize: { enumerable: true } }), n(ReadableByteStreamController.prototype.close, "close"), n(ReadableByteStreamController.prototype.enqueue, "enqueue"), n(ReadableByteStreamController.prototype.error, "error"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableByteStreamController.prototype, e.toStringTag, { value: "ReadableByteStreamController", configurable: true });
class ReadableStreamBYOBReader {
  constructor(e2) {
    if ($(e2, 1, "ReadableStreamBYOBReader"), V(e2, "First parameter"), Ut(e2)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
    if (!de(e2._readableStreamController)) throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
    E(this, e2), this._readIntoRequests = new S();
  }
  get closed() {
    return Fe(this) ? this._closedPromise : d(De("closed"));
  }
  cancel(e2) {
    return Fe(this) ? void 0 === this._ownerReadableStream ? d(k("cancel")) : P(this, e2) : d(De("cancel"));
  }
  read(e2) {
    if (!Fe(this)) return d(De("read"));
    if (!ArrayBuffer.isView(e2)) return d(new TypeError("view must be an array buffer view"));
    if (0 === e2.byteLength) return d(new TypeError("view must have non-zero byteLength"));
    if (0 === e2.buffer.byteLength) return d(new TypeError("view's buffer must have non-zero byteLength"));
    if (e2.buffer, void 0 === this._ownerReadableStream) return d(k("read from"));
    let t2, r2;
    const o2 = u((e3, o3) => {
      t2 = e3, r2 = o3;
    });
    return function(e3, t3, r3) {
      const o3 = e3._ownerReadableStream;
      o3._disturbed = true, "errored" === o3._state ? r3._errorSteps(o3._storedError) : function(e4, t4, r4) {
        const o4 = e4._controlledReadableByteStream;
        let n2 = 1;
        t4.constructor !== DataView && (n2 = t4.constructor.BYTES_PER_ELEMENT);
        const a2 = t4.constructor, i2 = t4.buffer, l2 = { buffer: i2, bufferByteLength: i2.byteLength, byteOffset: t4.byteOffset, byteLength: t4.byteLength, bytesFilled: 0, elementSize: n2, viewConstructor: a2, readerType: "byob" };
        if (e4._pendingPullIntos.length > 0) return e4._pendingPullIntos.push(l2), void je(o4, r4);
        if ("closed" !== o4._state) {
          if (e4._queueTotalSize > 0) {
            if (we(e4, l2)) {
              const t5 = pe(l2);
              return ve(e4), void r4._chunkSteps(t5);
            }
            if (e4._closeRequested) {
              const t5 = new TypeError("Insufficient bytes to fill elements in the given buffer");
              return Pe(e4, t5), void r4._errorSteps(t5);
            }
          }
          e4._pendingPullIntos.push(l2), je(o4, r4), be(e4);
        } else {
          const e5 = new a2(l2.buffer, l2.byteOffset, 0);
          r4._closeSteps(e5);
        }
      }(o3._readableStreamController, t3, r3);
    }(this, e2, { _chunkSteps: (e3) => t2({ value: e3, done: false }), _closeSteps: (e3) => t2({ value: e3, done: true }), _errorSteps: (e3) => r2(e3) }), o2;
  }
  releaseLock() {
    if (!Fe(this)) throw De("releaseLock");
    void 0 !== this._ownerReadableStream && function(e2) {
      W(e2);
      const t2 = new TypeError("Reader was released");
      Ie(e2, t2);
    }(this);
  }
}
function Fe(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_readIntoRequests") && e2 instanceof ReadableStreamBYOBReader);
}
function Ie(e2, t2) {
  const r2 = e2._readIntoRequests;
  e2._readIntoRequests = new S(), r2.forEach((e3) => {
    e3._errorSteps(t2);
  });
}
function De(e2) {
  return new TypeError(`ReadableStreamBYOBReader.prototype.${e2} can only be used on a ReadableStreamBYOBReader`);
}
function $e(e2, t2) {
  const { highWaterMark: r2 } = e2;
  if (void 0 === r2) return t2;
  if (ae(r2) || r2 < 0) throw new RangeError("Invalid highWaterMark");
  return r2;
}
function Me(e2) {
  const { size: t2 } = e2;
  return t2 || (() => 1);
}
function Ye(e2, t2) {
  F(e2, t2);
  const r2 = null == e2 ? void 0 : e2.highWaterMark, o2 = null == e2 ? void 0 : e2.size;
  return { highWaterMark: void 0 === r2 ? void 0 : Y(r2), size: void 0 === o2 ? void 0 : Qe(o2, `${t2} has member 'size' that`) };
}
function Qe(e2, t2) {
  return I(e2, t2), (t3) => Y(e2(t3));
}
function Ne(e2, t2, r2) {
  return I(e2, r2), (r3) => w(e2, t2, [r3]);
}
function He(e2, t2, r2) {
  return I(e2, r2), () => w(e2, t2, []);
}
function xe(e2, t2, r2) {
  return I(e2, r2), (r3) => g(e2, t2, [r3]);
}
function Ve(e2, t2, r2) {
  return I(e2, r2), (r3, o2) => w(e2, t2, [r3, o2]);
}
Object.defineProperties(ReadableStreamBYOBReader.prototype, { cancel: { enumerable: true }, read: { enumerable: true }, releaseLock: { enumerable: true }, closed: { enumerable: true } }), n(ReadableStreamBYOBReader.prototype.cancel, "cancel"), n(ReadableStreamBYOBReader.prototype.read, "read"), n(ReadableStreamBYOBReader.prototype.releaseLock, "releaseLock"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableStreamBYOBReader.prototype, e.toStringTag, { value: "ReadableStreamBYOBReader", configurable: true });
const Ue = "function" == typeof AbortController;
class WritableStream {
  constructor(e2 = {}, t2 = {}) {
    void 0 === e2 ? e2 = null : D(e2, "First parameter");
    const r2 = Ye(t2, "Second parameter"), o2 = function(e3, t3) {
      F(e3, t3);
      const r3 = null == e3 ? void 0 : e3.abort, o3 = null == e3 ? void 0 : e3.close, n3 = null == e3 ? void 0 : e3.start, a3 = null == e3 ? void 0 : e3.type, i2 = null == e3 ? void 0 : e3.write;
      return { abort: void 0 === r3 ? void 0 : Ne(r3, e3, `${t3} has member 'abort' that`), close: void 0 === o3 ? void 0 : He(o3, e3, `${t3} has member 'close' that`), start: void 0 === n3 ? void 0 : xe(n3, e3, `${t3} has member 'start' that`), write: void 0 === i2 ? void 0 : Ve(i2, e3, `${t3} has member 'write' that`), type: a3 };
    }(e2, "First parameter");
    var n2;
    (n2 = this)._state = "writable", n2._storedError = void 0, n2._writer = void 0, n2._writableStreamController = void 0, n2._writeRequests = new S(), n2._inFlightWriteRequest = void 0, n2._closeRequest = void 0, n2._inFlightCloseRequest = void 0, n2._pendingAbortRequest = void 0, n2._backpressure = false;
    if (void 0 !== o2.type) throw new RangeError("Invalid type is specified");
    const a2 = Me(r2);
    !function(e3, t3, r3, o3) {
      const n3 = Object.create(WritableStreamDefaultController.prototype);
      let a3, i2, l2, s2;
      a3 = void 0 !== t3.start ? () => t3.start(n3) : () => {
      };
      i2 = void 0 !== t3.write ? (e4) => t3.write(e4, n3) : () => c(void 0);
      l2 = void 0 !== t3.close ? () => t3.close() : () => c(void 0);
      s2 = void 0 !== t3.abort ? (e4) => t3.abort(e4) : () => c(void 0);
      !function(e4, t4, r4, o4, n4, a4, i3, l3) {
        t4._controlledWritableStream = e4, e4._writableStreamController = t4, t4._queue = void 0, t4._queueTotalSize = void 0, ce(t4), t4._abortReason = void 0, t4._abortController = function() {
          if (Ue) return new AbortController();
        }(), t4._started = false, t4._strategySizeAlgorithm = l3, t4._strategyHWM = i3, t4._writeAlgorithm = o4, t4._closeAlgorithm = n4, t4._abortAlgorithm = a4;
        const s3 = bt(t4);
        nt(e4, s3);
        const u2 = r4();
        b(c(u2), () => (t4._started = true, dt(t4), null), (r5) => (t4._started = true, Ze(e4, r5), null));
      }(e3, n3, a3, i2, l2, s2, r3, o3);
    }(this, o2, $e(r2, 1), a2);
  }
  get locked() {
    if (!Ge(this)) throw _t("locked");
    return Xe(this);
  }
  abort(e2) {
    return Ge(this) ? Xe(this) ? d(new TypeError("Cannot abort a stream that already has a writer")) : Je(this, e2) : d(_t("abort"));
  }
  close() {
    return Ge(this) ? Xe(this) ? d(new TypeError("Cannot close a stream that already has a writer")) : rt(this) ? d(new TypeError("Cannot close an already-closing stream")) : Ke(this) : d(_t("close"));
  }
  getWriter() {
    if (!Ge(this)) throw _t("getWriter");
    return new WritableStreamDefaultWriter(this);
  }
}
function Ge(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_writableStreamController") && e2 instanceof WritableStream);
}
function Xe(e2) {
  return void 0 !== e2._writer;
}
function Je(e2, t2) {
  var r2;
  if ("closed" === e2._state || "errored" === e2._state) return c(void 0);
  e2._writableStreamController._abortReason = t2, null === (r2 = e2._writableStreamController._abortController) || void 0 === r2 || r2.abort(t2);
  const o2 = e2._state;
  if ("closed" === o2 || "errored" === o2) return c(void 0);
  if (void 0 !== e2._pendingAbortRequest) return e2._pendingAbortRequest._promise;
  let n2 = false;
  "erroring" === o2 && (n2 = true, t2 = void 0);
  const a2 = u((r3, o3) => {
    e2._pendingAbortRequest = { _promise: void 0, _resolve: r3, _reject: o3, _reason: t2, _wasAlreadyErroring: n2 };
  });
  return e2._pendingAbortRequest._promise = a2, n2 || et(e2, t2), a2;
}
function Ke(e2) {
  const t2 = e2._state;
  if ("closed" === t2 || "errored" === t2) return d(new TypeError(`The stream (in ${t2} state) is not in the writable state and cannot be closed`));
  const r2 = u((t3, r3) => {
    const o3 = { _resolve: t3, _reject: r3 };
    e2._closeRequest = o3;
  }), o2 = e2._writer;
  var n2;
  return void 0 !== o2 && e2._backpressure && "writable" === t2 && Et(o2), ue(n2 = e2._writableStreamController, lt, 0), dt(n2), r2;
}
function Ze(e2, t2) {
  "writable" !== e2._state ? tt(e2) : et(e2, t2);
}
function et(e2, t2) {
  const r2 = e2._writableStreamController;
  e2._state = "erroring", e2._storedError = t2;
  const o2 = e2._writer;
  void 0 !== o2 && it(o2, t2), !function(e3) {
    if (void 0 === e3._inFlightWriteRequest && void 0 === e3._inFlightCloseRequest) return false;
    return true;
  }(e2) && r2._started && tt(e2);
}
function tt(e2) {
  e2._state = "errored", e2._writableStreamController[R]();
  const t2 = e2._storedError;
  if (e2._writeRequests.forEach((e3) => {
    e3._reject(t2);
  }), e2._writeRequests = new S(), void 0 === e2._pendingAbortRequest) return void ot(e2);
  const r2 = e2._pendingAbortRequest;
  if (e2._pendingAbortRequest = void 0, r2._wasAlreadyErroring) return r2._reject(t2), void ot(e2);
  b(e2._writableStreamController[v](r2._reason), () => (r2._resolve(), ot(e2), null), (t3) => (r2._reject(t3), ot(e2), null));
}
function rt(e2) {
  return void 0 !== e2._closeRequest || void 0 !== e2._inFlightCloseRequest;
}
function ot(e2) {
  void 0 !== e2._closeRequest && (e2._closeRequest._reject(e2._storedError), e2._closeRequest = void 0);
  const t2 = e2._writer;
  void 0 !== t2 && St(t2, e2._storedError);
}
function nt(e2, t2) {
  const r2 = e2._writer;
  void 0 !== r2 && t2 !== e2._backpressure && (t2 ? function(e3) {
    Rt(e3);
  }(r2) : Et(r2)), e2._backpressure = t2;
}
Object.defineProperties(WritableStream.prototype, { abort: { enumerable: true }, close: { enumerable: true }, getWriter: { enumerable: true }, locked: { enumerable: true } }), n(WritableStream.prototype.abort, "abort"), n(WritableStream.prototype.close, "close"), n(WritableStream.prototype.getWriter, "getWriter"), "symbol" == typeof e.toStringTag && Object.defineProperty(WritableStream.prototype, e.toStringTag, { value: "WritableStream", configurable: true });
class WritableStreamDefaultWriter {
  constructor(e2) {
    if ($(e2, 1, "WritableStreamDefaultWriter"), function(e3, t3) {
      if (!Ge(e3)) throw new TypeError(`${t3} is not a WritableStream.`);
    }(e2, "First parameter"), Xe(e2)) throw new TypeError("This stream has already been locked for exclusive writing by another writer");
    this._ownerWritableStream = e2, e2._writer = this;
    const t2 = e2._state;
    if ("writable" === t2) !rt(e2) && e2._backpressure ? Rt(this) : qt(this), gt(this);
    else if ("erroring" === t2) Tt(this, e2._storedError), gt(this);
    else if ("closed" === t2) qt(this), gt(r2 = this), vt(r2);
    else {
      const t3 = e2._storedError;
      Tt(this, t3), wt(this, t3);
    }
    var r2;
  }
  get closed() {
    return at(this) ? this._closedPromise : d(mt("closed"));
  }
  get desiredSize() {
    if (!at(this)) throw mt("desiredSize");
    if (void 0 === this._ownerWritableStream) throw yt("desiredSize");
    return function(e2) {
      const t2 = e2._ownerWritableStream, r2 = t2._state;
      if ("errored" === r2 || "erroring" === r2) return null;
      if ("closed" === r2) return 0;
      return ct(t2._writableStreamController);
    }(this);
  }
  get ready() {
    return at(this) ? this._readyPromise : d(mt("ready"));
  }
  abort(e2) {
    return at(this) ? void 0 === this._ownerWritableStream ? d(yt("abort")) : function(e3, t2) {
      return Je(e3._ownerWritableStream, t2);
    }(this, e2) : d(mt("abort"));
  }
  close() {
    if (!at(this)) return d(mt("close"));
    const e2 = this._ownerWritableStream;
    return void 0 === e2 ? d(yt("close")) : rt(e2) ? d(new TypeError("Cannot close an already-closing stream")) : Ke(this._ownerWritableStream);
  }
  releaseLock() {
    if (!at(this)) throw mt("releaseLock");
    void 0 !== this._ownerWritableStream && function(e2) {
      const t2 = e2._ownerWritableStream, r2 = new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
      it(e2, r2), function(e3, t3) {
        "pending" === e3._closedPromiseState ? St(e3, t3) : function(e4, t4) {
          wt(e4, t4);
        }(e3, t3);
      }(e2, r2), t2._writer = void 0, e2._ownerWritableStream = void 0;
    }(this);
  }
  write(e2) {
    return at(this) ? void 0 === this._ownerWritableStream ? d(yt("write to")) : function(e3, t2) {
      const r2 = e3._ownerWritableStream, o2 = r2._writableStreamController, n2 = function(e4, t3) {
        try {
          return e4._strategySizeAlgorithm(t3);
        } catch (t4) {
          return ft(e4, t4), 1;
        }
      }(o2, t2);
      if (r2 !== e3._ownerWritableStream) return d(yt("write to"));
      const a2 = r2._state;
      if ("errored" === a2) return d(r2._storedError);
      if (rt(r2) || "closed" === a2) return d(new TypeError("The stream is closing or closed and cannot be written to"));
      if ("erroring" === a2) return d(r2._storedError);
      const i2 = function(e4) {
        return u((t3, r3) => {
          const o3 = { _resolve: t3, _reject: r3 };
          e4._writeRequests.push(o3);
        });
      }(r2);
      return function(e4, t3, r3) {
        try {
          ue(e4, t3, r3);
        } catch (t4) {
          return void ft(e4, t4);
        }
        const o3 = e4._controlledWritableStream;
        if (!rt(o3) && "writable" === o3._state) {
          nt(o3, bt(e4));
        }
        dt(e4);
      }(o2, t2, n2), i2;
    }(this, e2) : d(mt("write"));
  }
}
function at(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_ownerWritableStream") && e2 instanceof WritableStreamDefaultWriter);
}
function it(e2, t2) {
  "pending" === e2._readyPromiseState ? Ct(e2, t2) : function(e3, t3) {
    Tt(e3, t3);
  }(e2, t2);
}
Object.defineProperties(WritableStreamDefaultWriter.prototype, { abort: { enumerable: true }, close: { enumerable: true }, releaseLock: { enumerable: true }, write: { enumerable: true }, closed: { enumerable: true }, desiredSize: { enumerable: true }, ready: { enumerable: true } }), n(WritableStreamDefaultWriter.prototype.abort, "abort"), n(WritableStreamDefaultWriter.prototype.close, "close"), n(WritableStreamDefaultWriter.prototype.releaseLock, "releaseLock"), n(WritableStreamDefaultWriter.prototype.write, "write"), "symbol" == typeof e.toStringTag && Object.defineProperty(WritableStreamDefaultWriter.prototype, e.toStringTag, { value: "WritableStreamDefaultWriter", configurable: true });
const lt = {};
class WritableStreamDefaultController {
  constructor() {
    throw new TypeError("Illegal constructor");
  }
  get abortReason() {
    if (!st(this)) throw pt("abortReason");
    return this._abortReason;
  }
  get signal() {
    if (!st(this)) throw pt("signal");
    if (void 0 === this._abortController) throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");
    return this._abortController.signal;
  }
  error(e2) {
    if (!st(this)) throw pt("error");
    "writable" === this._controlledWritableStream._state && ht(this, e2);
  }
  [v](e2) {
    const t2 = this._abortAlgorithm(e2);
    return ut(this), t2;
  }
  [R]() {
    ce(this);
  }
}
function st(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_controlledWritableStream") && e2 instanceof WritableStreamDefaultController);
}
function ut(e2) {
  e2._writeAlgorithm = void 0, e2._closeAlgorithm = void 0, e2._abortAlgorithm = void 0, e2._strategySizeAlgorithm = void 0;
}
function ct(e2) {
  return e2._strategyHWM - e2._queueTotalSize;
}
function dt(e2) {
  const t2 = e2._controlledWritableStream;
  if (!e2._started) return;
  if (void 0 !== t2._inFlightWriteRequest) return;
  if ("erroring" === t2._state) return void tt(t2);
  if (0 === e2._queue.length) return;
  const r2 = e2._queue.peek().value;
  r2 === lt ? function(e3) {
    const t3 = e3._controlledWritableStream;
    (function(e4) {
      e4._inFlightCloseRequest = e4._closeRequest, e4._closeRequest = void 0;
    })(t3), se(e3);
    const r3 = e3._closeAlgorithm();
    ut(e3), b(r3, () => (function(e4) {
      e4._inFlightCloseRequest._resolve(void 0), e4._inFlightCloseRequest = void 0, "erroring" === e4._state && (e4._storedError = void 0, void 0 !== e4._pendingAbortRequest && (e4._pendingAbortRequest._resolve(), e4._pendingAbortRequest = void 0)), e4._state = "closed";
      const t4 = e4._writer;
      void 0 !== t4 && vt(t4);
    }(t3), null), (e4) => (function(e5, t4) {
      e5._inFlightCloseRequest._reject(t4), e5._inFlightCloseRequest = void 0, void 0 !== e5._pendingAbortRequest && (e5._pendingAbortRequest._reject(t4), e5._pendingAbortRequest = void 0), Ze(e5, t4);
    }(t3, e4), null));
  }(e2) : function(e3, t3) {
    const r3 = e3._controlledWritableStream;
    !function(e4) {
      e4._inFlightWriteRequest = e4._writeRequests.shift();
    }(r3);
    b(e3._writeAlgorithm(t3), () => {
      !function(e4) {
        e4._inFlightWriteRequest._resolve(void 0), e4._inFlightWriteRequest = void 0;
      }(r3);
      const t4 = r3._state;
      if (se(e3), !rt(r3) && "writable" === t4) {
        const t5 = bt(e3);
        nt(r3, t5);
      }
      return dt(e3), null;
    }, (t4) => ("writable" === r3._state && ut(e3), function(e4, t5) {
      e4._inFlightWriteRequest._reject(t5), e4._inFlightWriteRequest = void 0, Ze(e4, t5);
    }(r3, t4), null));
  }(e2, r2);
}
function ft(e2, t2) {
  "writable" === e2._controlledWritableStream._state && ht(e2, t2);
}
function bt(e2) {
  return ct(e2) <= 0;
}
function ht(e2, t2) {
  const r2 = e2._controlledWritableStream;
  ut(e2), et(r2, t2);
}
function _t(e2) {
  return new TypeError(`WritableStream.prototype.${e2} can only be used on a WritableStream`);
}
function pt(e2) {
  return new TypeError(`WritableStreamDefaultController.prototype.${e2} can only be used on a WritableStreamDefaultController`);
}
function mt(e2) {
  return new TypeError(`WritableStreamDefaultWriter.prototype.${e2} can only be used on a WritableStreamDefaultWriter`);
}
function yt(e2) {
  return new TypeError("Cannot " + e2 + " a stream using a released writer");
}
function gt(e2) {
  e2._closedPromise = u((t2, r2) => {
    e2._closedPromise_resolve = t2, e2._closedPromise_reject = r2, e2._closedPromiseState = "pending";
  });
}
function wt(e2, t2) {
  gt(e2), St(e2, t2);
}
function St(e2, t2) {
  void 0 !== e2._closedPromise_reject && (m(e2._closedPromise), e2._closedPromise_reject(t2), e2._closedPromise_resolve = void 0, e2._closedPromise_reject = void 0, e2._closedPromiseState = "rejected");
}
function vt(e2) {
  void 0 !== e2._closedPromise_resolve && (e2._closedPromise_resolve(void 0), e2._closedPromise_resolve = void 0, e2._closedPromise_reject = void 0, e2._closedPromiseState = "resolved");
}
function Rt(e2) {
  e2._readyPromise = u((t2, r2) => {
    e2._readyPromise_resolve = t2, e2._readyPromise_reject = r2;
  }), e2._readyPromiseState = "pending";
}
function Tt(e2, t2) {
  Rt(e2), Ct(e2, t2);
}
function qt(e2) {
  Rt(e2), Et(e2);
}
function Ct(e2, t2) {
  void 0 !== e2._readyPromise_reject && (m(e2._readyPromise), e2._readyPromise_reject(t2), e2._readyPromise_resolve = void 0, e2._readyPromise_reject = void 0, e2._readyPromiseState = "rejected");
}
function Et(e2) {
  void 0 !== e2._readyPromise_resolve && (e2._readyPromise_resolve(void 0), e2._readyPromise_resolve = void 0, e2._readyPromise_reject = void 0, e2._readyPromiseState = "fulfilled");
}
Object.defineProperties(WritableStreamDefaultController.prototype, { abortReason: { enumerable: true }, signal: { enumerable: true }, error: { enumerable: true } }), "symbol" == typeof e.toStringTag && Object.defineProperty(WritableStreamDefaultController.prototype, e.toStringTag, { value: "WritableStreamDefaultController", configurable: true });
const Pt = "undefined" != typeof DOMException ? DOMException : void 0;
const Wt = function(e2) {
  if ("function" != typeof e2 && "object" != typeof e2) return false;
  try {
    return new e2(), true;
  } catch (e3) {
    return false;
  }
}(Pt) ? Pt : function() {
  const e2 = function(e3, t2) {
    this.message = e3 || "", this.name = t2 || "Error", Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
  };
  return e2.prototype = Object.create(Error.prototype), Object.defineProperty(e2.prototype, "constructor", { value: e2, writable: true, configurable: true }), e2;
}();
function kt(e2, t2, r2, o2, n2, a2) {
  const i2 = e2.getReader(), l2 = t2.getWriter();
  Vt(e2) && (e2._disturbed = true);
  let s2, _2, g2, w2 = false, S2 = false, v2 = "readable", R2 = "writable", T2 = false, q2 = false;
  const C2 = u((e3) => {
    g2 = e3;
  });
  let E2 = Promise.resolve(void 0);
  return u((P2, W2) => {
    let k2;
    function O2() {
      if (w2) return;
      const e3 = u((e4, t3) => {
        !function r3(o3) {
          o3 ? e4() : f(function() {
            if (w2) return c(true);
            return f(l2.ready, () => f(i2.read(), (e5) => !!e5.done || (E2 = l2.write(e5.value), m(E2), false)));
          }(), r3, t3);
        }(false);
      });
      m(e3);
    }
    function B2() {
      return v2 = "closed", r2 ? L2() : z2(() => (Ge(t2) && (T2 = rt(t2), R2 = t2._state), T2 || "closed" === R2 ? c(void 0) : "erroring" === R2 || "errored" === R2 ? d(_2) : (T2 = true, l2.close())), false, void 0), null;
    }
    function A2(e3) {
      return w2 || (v2 = "errored", s2 = e3, o2 ? L2(true, e3) : z2(() => l2.abort(e3), true, e3)), null;
    }
    function j2(e3) {
      return S2 || (R2 = "errored", _2 = e3, n2 ? L2(true, e3) : z2(() => i2.cancel(e3), true, e3)), null;
    }
    if (void 0 !== a2 && (k2 = () => {
      const e3 = void 0 !== a2.reason ? a2.reason : new Wt("Aborted", "AbortError"), t3 = [];
      o2 || t3.push(() => "writable" === R2 ? l2.abort(e3) : c(void 0)), n2 || t3.push(() => "readable" === v2 ? i2.cancel(e3) : c(void 0)), z2(() => Promise.all(t3.map((e4) => e4())), true, e3);
    }, a2.aborted ? k2() : a2.addEventListener("abort", k2)), Vt(e2) && (v2 = e2._state, s2 = e2._storedError), Ge(t2) && (R2 = t2._state, _2 = t2._storedError, T2 = rt(t2)), Vt(e2) && Ge(t2) && (q2 = true, g2()), "errored" === v2) A2(s2);
    else if ("erroring" === R2 || "errored" === R2) j2(_2);
    else if ("closed" === v2) B2();
    else if (T2 || "closed" === R2) {
      const e3 = new TypeError("the destination writable stream closed before all data could be piped to it");
      n2 ? L2(true, e3) : z2(() => i2.cancel(e3), true, e3);
    }
    function z2(e3, t3, r3) {
      function o3() {
        return "writable" !== R2 || T2 ? n3() : h(function() {
          let e4;
          return c(function t4() {
            if (e4 !== E2) return e4 = E2, p(E2, t4, t4);
          }());
        }(), n3), null;
      }
      function n3() {
        return e3 ? b(e3(), () => F2(t3, r3), (e4) => F2(true, e4)) : F2(t3, r3), null;
      }
      w2 || (w2 = true, q2 ? o3() : h(C2, o3));
    }
    function L2(e3, t3) {
      z2(void 0, e3, t3);
    }
    function F2(e3, t3) {
      return S2 = true, l2.releaseLock(), i2.releaseLock(), void 0 !== a2 && a2.removeEventListener("abort", k2), e3 ? W2(t3) : P2(void 0), null;
    }
    w2 || (b(i2.closed, B2, A2), b(l2.closed, function() {
      return S2 || (R2 = "closed"), null;
    }, j2)), q2 ? O2() : y(() => {
      q2 = true, g2(), O2();
    });
  });
}
function Ot(e2, t2) {
  return function(e3) {
    try {
      return e3.getReader({ mode: "byob" }).releaseLock(), true;
    } catch (e4) {
      return false;
    }
  }(e2) ? function(e3) {
    let t3, r2, o2, n2, a2, i2 = e3.getReader(), l2 = false, s2 = false, d2 = false, f2 = false, h2 = false, p2 = false;
    const m2 = u((e4) => {
      a2 = e4;
    });
    function y2(e4) {
      _(e4.closed, (t4) => (e4 !== i2 || (o2.error(t4), n2.error(t4), h2 && p2 || a2(void 0)), null));
    }
    function g2() {
      l2 && (i2.releaseLock(), i2 = e3.getReader(), y2(i2), l2 = false), b(i2.read(), (e4) => {
        var t4, r3;
        if (d2 = false, f2 = false, e4.done) return h2 || o2.close(), p2 || n2.close(), null === (t4 = o2.byobRequest) || void 0 === t4 || t4.respond(0), null === (r3 = n2.byobRequest) || void 0 === r3 || r3.respond(0), h2 && p2 || a2(void 0), null;
        const l3 = e4.value, u2 = l3;
        let c2 = l3;
        if (!h2 && !p2) try {
          c2 = le(l3);
        } catch (e5) {
          return o2.error(e5), n2.error(e5), a2(i2.cancel(e5)), null;
        }
        return h2 || o2.enqueue(u2), p2 || n2.enqueue(c2), s2 = false, d2 ? S2() : f2 && v2(), null;
      }, () => (s2 = false, null));
    }
    function w2(t4, r3) {
      l2 || (i2.releaseLock(), i2 = e3.getReader({ mode: "byob" }), y2(i2), l2 = true);
      const u2 = r3 ? n2 : o2, c2 = r3 ? o2 : n2;
      b(i2.read(t4), (e4) => {
        var t5;
        d2 = false, f2 = false;
        const o3 = r3 ? p2 : h2, n3 = r3 ? h2 : p2;
        if (e4.done) {
          o3 || u2.close(), n3 || c2.close();
          const r4 = e4.value;
          return void 0 !== r4 && (o3 || u2.byobRequest.respondWithNewView(r4), n3 || null === (t5 = c2.byobRequest) || void 0 === t5 || t5.respond(0)), o3 && n3 || a2(void 0), null;
        }
        const l3 = e4.value;
        if (n3) o3 || u2.byobRequest.respondWithNewView(l3);
        else {
          let e5;
          try {
            e5 = le(l3);
          } catch (e6) {
            return u2.error(e6), c2.error(e6), a2(i2.cancel(e6)), null;
          }
          o3 || u2.byobRequest.respondWithNewView(l3), c2.enqueue(e5);
        }
        return s2 = false, d2 ? S2() : f2 && v2(), null;
      }, () => (s2 = false, null));
    }
    function S2() {
      if (s2) return d2 = true, c(void 0);
      s2 = true;
      const e4 = o2.byobRequest;
      return null === e4 ? g2() : w2(e4.view, false), c(void 0);
    }
    function v2() {
      if (s2) return f2 = true, c(void 0);
      s2 = true;
      const e4 = n2.byobRequest;
      return null === e4 ? g2() : w2(e4.view, true), c(void 0);
    }
    function R2(e4) {
      if (h2 = true, t3 = e4, p2) {
        const e5 = [t3, r2], o3 = i2.cancel(e5);
        a2(o3);
      }
      return m2;
    }
    function T2(e4) {
      if (p2 = true, r2 = e4, h2) {
        const e5 = [t3, r2], o3 = i2.cancel(e5);
        a2(o3);
      }
      return m2;
    }
    const q2 = new ReadableStream$2({ type: "bytes", start(e4) {
      o2 = e4;
    }, pull: S2, cancel: R2 }), C2 = new ReadableStream$2({ type: "bytes", start(e4) {
      n2 = e4;
    }, pull: v2, cancel: T2 });
    return y2(i2), [q2, C2];
  }(e2) : function(e3, t3) {
    const r2 = e3.getReader();
    let o2, n2, a2, i2, l2, s2 = false, d2 = false, f2 = false, h2 = false;
    const p2 = u((e4) => {
      l2 = e4;
    });
    function m2() {
      return s2 ? (d2 = true, c(void 0)) : (s2 = true, b(r2.read(), (e4) => {
        if (d2 = false, e4.done) return f2 || a2.close(), h2 || i2.close(), f2 && h2 || l2(void 0), null;
        const t4 = e4.value, r3 = t4, o3 = t4;
        return f2 || a2.enqueue(r3), h2 || i2.enqueue(o3), s2 = false, d2 && m2(), null;
      }, () => (s2 = false, null)), c(void 0));
    }
    function y2(e4) {
      if (f2 = true, o2 = e4, h2) {
        const e5 = [o2, n2], t4 = r2.cancel(e5);
        l2(t4);
      }
      return p2;
    }
    function g2(e4) {
      if (h2 = true, n2 = e4, f2) {
        const e5 = [o2, n2], t4 = r2.cancel(e5);
        l2(t4);
      }
      return p2;
    }
    const w2 = new ReadableStream$2({ start(e4) {
      a2 = e4;
    }, pull: m2, cancel: y2 }), S2 = new ReadableStream$2({ start(e4) {
      i2 = e4;
    }, pull: m2, cancel: g2 });
    return _(r2.closed, (e4) => (a2.error(e4), i2.error(e4), f2 && h2 || l2(void 0), null)), [w2, S2];
  }(e2);
}
class ReadableStreamDefaultController {
  constructor() {
    throw new TypeError("Illegal constructor");
  }
  get desiredSize() {
    if (!Bt(this)) throw Dt("desiredSize");
    return Lt(this);
  }
  close() {
    if (!Bt(this)) throw Dt("close");
    if (!Ft(this)) throw new TypeError("The stream is not in a state that permits close");
    !function(e2) {
      if (!Ft(e2)) return;
      const t2 = e2._controlledReadableStream;
      e2._closeRequested = true, 0 === e2._queue.length && (jt(e2), Xt(t2));
    }(this);
  }
  enqueue(e2) {
    if (!Bt(this)) throw Dt("enqueue");
    if (!Ft(this)) throw new TypeError("The stream is not in a state that permits enqueue");
    return function(e3, t2) {
      if (!Ft(e3)) return;
      const r2 = e3._controlledReadableStream;
      if (Ut(r2) && X(r2) > 0) G(r2, t2, false);
      else {
        let r3;
        try {
          r3 = e3._strategySizeAlgorithm(t2);
        } catch (t3) {
          throw zt(e3, t3), t3;
        }
        try {
          ue(e3, t2, r3);
        } catch (t3) {
          throw zt(e3, t3), t3;
        }
      }
      At(e3);
    }(this, e2);
  }
  error(e2) {
    if (!Bt(this)) throw Dt("error");
    zt(this, e2);
  }
  [T](e2) {
    ce(this);
    const t2 = this._cancelAlgorithm(e2);
    return jt(this), t2;
  }
  [q](e2) {
    const t2 = this._controlledReadableStream;
    if (this._queue.length > 0) {
      const r2 = se(this);
      this._closeRequested && 0 === this._queue.length ? (jt(this), Xt(t2)) : At(this), e2._chunkSteps(r2);
    } else U(t2, e2), At(this);
  }
  [C]() {
  }
}
function Bt(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_controlledReadableStream") && e2 instanceof ReadableStreamDefaultController);
}
function At(e2) {
  const t2 = function(e3) {
    const t3 = e3._controlledReadableStream;
    if (!Ft(e3)) return false;
    if (!e3._started) return false;
    if (Ut(t3) && X(t3) > 0) return true;
    if (Lt(e3) > 0) return true;
    return false;
  }(e2);
  if (!t2) return;
  if (e2._pulling) return void (e2._pullAgain = true);
  e2._pulling = true;
  b(e2._pullAlgorithm(), () => (e2._pulling = false, e2._pullAgain && (e2._pullAgain = false, At(e2)), null), (t3) => (zt(e2, t3), null));
}
function jt(e2) {
  e2._pullAlgorithm = void 0, e2._cancelAlgorithm = void 0, e2._strategySizeAlgorithm = void 0;
}
function zt(e2, t2) {
  const r2 = e2._controlledReadableStream;
  "readable" === r2._state && (ce(e2), jt(e2), Jt(r2, t2));
}
function Lt(e2) {
  const t2 = e2._controlledReadableStream._state;
  return "errored" === t2 ? null : "closed" === t2 ? 0 : e2._strategyHWM - e2._queueTotalSize;
}
function Ft(e2) {
  return !e2._closeRequested && "readable" === e2._controlledReadableStream._state;
}
function It(e2, t2, r2, o2) {
  const n2 = Object.create(ReadableStreamDefaultController.prototype);
  let a2, i2, l2;
  a2 = void 0 !== t2.start ? () => t2.start(n2) : () => {
  }, i2 = void 0 !== t2.pull ? () => t2.pull(n2) : () => c(void 0), l2 = void 0 !== t2.cancel ? (e3) => t2.cancel(e3) : () => c(void 0), function(e3, t3, r3, o3, n3, a3, i3) {
    t3._controlledReadableStream = e3, t3._queue = void 0, t3._queueTotalSize = void 0, ce(t3), t3._started = false, t3._closeRequested = false, t3._pullAgain = false, t3._pulling = false, t3._strategySizeAlgorithm = i3, t3._strategyHWM = a3, t3._pullAlgorithm = o3, t3._cancelAlgorithm = n3, e3._readableStreamController = t3, b(c(r3()), () => (t3._started = true, At(t3), null), (e4) => (zt(t3, e4), null));
  }(e2, n2, a2, i2, l2, r2, o2);
}
function Dt(e2) {
  return new TypeError(`ReadableStreamDefaultController.prototype.${e2} can only be used on a ReadableStreamDefaultController`);
}
function $t(e2, t2, r2) {
  return I(e2, r2), (r3) => w(e2, t2, [r3]);
}
function Mt(e2, t2, r2) {
  return I(e2, r2), (r3) => w(e2, t2, [r3]);
}
function Yt(e2, t2, r2) {
  return I(e2, r2), (r3) => g(e2, t2, [r3]);
}
function Qt(e2, t2) {
  if ("bytes" !== (e2 = `${e2}`)) throw new TypeError(`${t2} '${e2}' is not a valid enumeration value for ReadableStreamType`);
  return e2;
}
function Nt(e2, t2) {
  if ("byob" !== (e2 = `${e2}`)) throw new TypeError(`${t2} '${e2}' is not a valid enumeration value for ReadableStreamReaderMode`);
  return e2;
}
function Ht(e2, t2) {
  F(e2, t2);
  const r2 = null == e2 ? void 0 : e2.preventAbort, o2 = null == e2 ? void 0 : e2.preventCancel, n2 = null == e2 ? void 0 : e2.preventClose, a2 = null == e2 ? void 0 : e2.signal;
  return void 0 !== a2 && function(e3, t3) {
    if (!function(e4) {
      if ("object" != typeof e4 || null === e4) return false;
      try {
        return "boolean" == typeof e4.aborted;
      } catch (e5) {
        return false;
      }
    }(e3)) throw new TypeError(`${t3} is not an AbortSignal.`);
  }(a2, `${t2} has member 'signal' that`), { preventAbort: Boolean(r2), preventCancel: Boolean(o2), preventClose: Boolean(n2), signal: a2 };
}
function xt(e2, t2) {
  F(e2, t2);
  const r2 = null == e2 ? void 0 : e2.readable;
  M(r2, "readable", "ReadableWritablePair"), function(e3, t3) {
    if (!H(e3)) throw new TypeError(`${t3} is not a ReadableStream.`);
  }(r2, `${t2} has member 'readable' that`);
  const o2 = null == e2 ? void 0 : e2.writable;
  return M(o2, "writable", "ReadableWritablePair"), function(e3, t3) {
    if (!x(e3)) throw new TypeError(`${t3} is not a WritableStream.`);
  }(o2, `${t2} has member 'writable' that`), { readable: r2, writable: o2 };
}
Object.defineProperties(ReadableStreamDefaultController.prototype, { close: { enumerable: true }, enqueue: { enumerable: true }, error: { enumerable: true }, desiredSize: { enumerable: true } }), n(ReadableStreamDefaultController.prototype.close, "close"), n(ReadableStreamDefaultController.prototype.enqueue, "enqueue"), n(ReadableStreamDefaultController.prototype.error, "error"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableStreamDefaultController.prototype, e.toStringTag, { value: "ReadableStreamDefaultController", configurable: true });
let ReadableStream$2 = class ReadableStream2 {
  constructor(e2 = {}, t2 = {}) {
    void 0 === e2 ? e2 = null : D(e2, "First parameter");
    const r2 = Ye(t2, "Second parameter"), o2 = function(e3, t3) {
      F(e3, t3);
      const r3 = e3, o3 = null == r3 ? void 0 : r3.autoAllocateChunkSize, n3 = null == r3 ? void 0 : r3.cancel, a2 = null == r3 ? void 0 : r3.pull, i2 = null == r3 ? void 0 : r3.start, l2 = null == r3 ? void 0 : r3.type;
      return { autoAllocateChunkSize: void 0 === o3 ? void 0 : N(o3, `${t3} has member 'autoAllocateChunkSize' that`), cancel: void 0 === n3 ? void 0 : $t(n3, r3, `${t3} has member 'cancel' that`), pull: void 0 === a2 ? void 0 : Mt(a2, r3, `${t3} has member 'pull' that`), start: void 0 === i2 ? void 0 : Yt(i2, r3, `${t3} has member 'start' that`), type: void 0 === l2 ? void 0 : Qt(l2, `${t3} has member 'type' that`) };
    }(e2, "First parameter");
    var n2;
    if ((n2 = this)._state = "readable", n2._reader = void 0, n2._storedError = void 0, n2._disturbed = false, "bytes" === o2.type) {
      if (void 0 !== r2.size) throw new RangeError("The strategy for a byte stream cannot have a size function");
      Oe(this, o2, $e(r2, 0));
    } else {
      const e3 = Me(r2);
      It(this, o2, $e(r2, 1), e3);
    }
  }
  get locked() {
    if (!Vt(this)) throw Kt("locked");
    return Ut(this);
  }
  cancel(e2) {
    return Vt(this) ? Ut(this) ? d(new TypeError("Cannot cancel a stream that already has a reader")) : Gt(this, e2) : d(Kt("cancel"));
  }
  getReader(e2) {
    if (!Vt(this)) throw Kt("getReader");
    return void 0 === function(e3, t2) {
      F(e3, t2);
      const r2 = null == e3 ? void 0 : e3.mode;
      return { mode: void 0 === r2 ? void 0 : Nt(r2, `${t2} has member 'mode' that`) };
    }(e2, "First parameter").mode ? new ReadableStreamDefaultReader(this) : function(e3) {
      return new ReadableStreamBYOBReader(e3);
    }(this);
  }
  pipeThrough(e2, t2 = {}) {
    if (!H(this)) throw Kt("pipeThrough");
    $(e2, 1, "pipeThrough");
    const r2 = xt(e2, "First parameter"), o2 = Ht(t2, "Second parameter");
    if (this.locked) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");
    if (r2.writable.locked) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");
    return m(kt(this, r2.writable, o2.preventClose, o2.preventAbort, o2.preventCancel, o2.signal)), r2.readable;
  }
  pipeTo(e2, t2 = {}) {
    if (!H(this)) return d(Kt("pipeTo"));
    if (void 0 === e2) return d("Parameter 1 is required in 'pipeTo'.");
    if (!x(e2)) return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));
    let r2;
    try {
      r2 = Ht(t2, "Second parameter");
    } catch (e3) {
      return d(e3);
    }
    return this.locked ? d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")) : e2.locked ? d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")) : kt(this, e2, r2.preventClose, r2.preventAbort, r2.preventCancel, r2.signal);
  }
  tee() {
    if (!H(this)) throw Kt("tee");
    if (this.locked) throw new TypeError("Cannot tee a stream that already has a reader");
    return Ot(this);
  }
  values(e2) {
    if (!H(this)) throw Kt("values");
    return function(e3, t2) {
      const r2 = e3.getReader(), o2 = new te(r2, t2), n2 = Object.create(re);
      return n2._asyncIteratorImpl = o2, n2;
    }(this, function(e3, t2) {
      F(e3, t2);
      const r2 = null == e3 ? void 0 : e3.preventCancel;
      return { preventCancel: Boolean(r2) };
    }(e2, "First parameter").preventCancel);
  }
};
function Vt(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_readableStreamController") && e2 instanceof ReadableStream$2);
}
function Ut(e2) {
  return void 0 !== e2._reader;
}
function Gt(e2, r2) {
  if (e2._disturbed = true, "closed" === e2._state) return c(void 0);
  if ("errored" === e2._state) return d(e2._storedError);
  Xt(e2);
  const o2 = e2._reader;
  if (void 0 !== o2 && Fe(o2)) {
    const e3 = o2._readIntoRequests;
    o2._readIntoRequests = new S(), e3.forEach((e4) => {
      e4._closeSteps(void 0);
    });
  }
  return p(e2._readableStreamController[T](r2), t);
}
function Xt(e2) {
  e2._state = "closed";
  const t2 = e2._reader;
  if (void 0 !== t2 && (j(t2), K(t2))) {
    const e3 = t2._readRequests;
    t2._readRequests = new S(), e3.forEach((e4) => {
      e4._closeSteps();
    });
  }
}
function Jt(e2, t2) {
  e2._state = "errored", e2._storedError = t2;
  const r2 = e2._reader;
  void 0 !== r2 && (A(r2, t2), K(r2) ? Z(r2, t2) : Ie(r2, t2));
}
function Kt(e2) {
  return new TypeError(`ReadableStream.prototype.${e2} can only be used on a ReadableStream`);
}
Object.defineProperties(ReadableStream$2.prototype, { cancel: { enumerable: true }, getReader: { enumerable: true }, pipeThrough: { enumerable: true }, pipeTo: { enumerable: true }, tee: { enumerable: true }, values: { enumerable: true }, locked: { enumerable: true } }), n(ReadableStream$2.prototype.cancel, "cancel"), n(ReadableStream$2.prototype.getReader, "getReader"), n(ReadableStream$2.prototype.pipeThrough, "pipeThrough"), n(ReadableStream$2.prototype.pipeTo, "pipeTo"), n(ReadableStream$2.prototype.tee, "tee"), n(ReadableStream$2.prototype.values, "values"), "symbol" == typeof e.toStringTag && Object.defineProperty(ReadableStream$2.prototype, e.toStringTag, { value: "ReadableStream", configurable: true }), "symbol" == typeof e.asyncIterator && Object.defineProperty(ReadableStream$2.prototype, e.asyncIterator, { value: ReadableStream$2.prototype.values, writable: true, configurable: true });
const er = (e2) => e2.byteLength;
n(er, "size");
const or = () => 1;
n(or, "size");
function cr(e2, t2) {
  Sr(e2, t2), dr(e2, t2);
}
function dr(e2, t2) {
  hr(e2._transformStreamController), function(e3, t3) {
    e3._writableController.error(t3);
    "writable" === e3._writableState && Tr(e3, t3);
  }(e2, t2), e2._backpressure && fr(e2, false);
}
function fr(e2, t2) {
  void 0 !== e2._backpressureChangePromise && e2._backpressureChangePromise_resolve(), e2._backpressureChangePromise = u((t3) => {
    e2._backpressureChangePromise_resolve = t3;
  }), e2._backpressure = t2;
}
class TransformStreamDefaultController {
  constructor() {
    throw new TypeError("Illegal constructor");
  }
  get desiredSize() {
    if (!br(this)) throw mr("desiredSize");
    return vr(this._controlledTransformStream);
  }
  enqueue(e2) {
    if (!br(this)) throw mr("enqueue");
    _r(this, e2);
  }
  error(e2) {
    if (!br(this)) throw mr("error");
    var t2;
    t2 = e2, cr(this._controlledTransformStream, t2);
  }
  terminate() {
    if (!br(this)) throw mr("terminate");
    !function(e2) {
      const t2 = e2._controlledTransformStream;
      gr(t2) && wr(t2);
      const r2 = new TypeError("TransformStream terminated");
      dr(t2, r2);
    }(this);
  }
}
function br(e2) {
  return !!r(e2) && (!!Object.prototype.hasOwnProperty.call(e2, "_controlledTransformStream") && e2 instanceof TransformStreamDefaultController);
}
function hr(e2) {
  e2._transformAlgorithm = void 0, e2._flushAlgorithm = void 0;
}
function _r(e2, t2) {
  const r2 = e2._controlledTransformStream;
  if (!gr(r2)) throw new TypeError("Readable side is not in a state that permits enqueue");
  try {
    !function(e3, t3) {
      e3._readablePulling = false;
      try {
        e3._readableController.enqueue(t3);
      } catch (t4) {
        throw Sr(e3, t4), t4;
      }
    }(r2, t2);
  } catch (e3) {
    throw dr(r2, e3), r2._readableStoredError;
  }
  const o2 = function(e3) {
    return !function(e4) {
      if (!gr(e4)) return false;
      if (e4._readablePulling) return true;
      if (vr(e4) > 0) return true;
      return false;
    }(e3);
  }(r2);
  o2 !== r2._backpressure && fr(r2, true);
}
function mr(e2) {
  return new TypeError(`TransformStreamDefaultController.prototype.${e2} can only be used on a TransformStreamDefaultController`);
}
function gr(e2) {
  return !e2._readableCloseRequested && "readable" === e2._readableState;
}
function wr(e2) {
  e2._readableState = "closed", e2._readableCloseRequested = true, e2._readableController.close();
}
function Sr(e2, t2) {
  "readable" === e2._readableState && (e2._readableState = "errored", e2._readableStoredError = t2), e2._readableController.error(t2);
}
function vr(e2) {
  return e2._readableController.desiredSize;
}
function Tr(e2, t2) {
  e2._writableState = "erroring", e2._writableStoredError = t2, !function(e3) {
    return e3._writableHasInFlightOperation;
  }(e2) && e2._writableStarted && qr(e2);
}
function qr(e2) {
  e2._writableState = "errored";
}
Object.defineProperties(TransformStreamDefaultController.prototype, { enqueue: { enumerable: true }, error: { enumerable: true }, terminate: { enumerable: true }, desiredSize: { enumerable: true } }), n(TransformStreamDefaultController.prototype.enqueue, "enqueue"), n(TransformStreamDefaultController.prototype.error, "error"), n(TransformStreamDefaultController.prototype.terminate, "terminate"), "symbol" == typeof e.toStringTag && Object.defineProperty(TransformStreamDefaultController.prototype, e.toStringTag, { value: "TransformStreamDefaultController", configurable: true });
const isFunction$1 = (value) => typeof value === "function";
/*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank */
const CHUNK_SIZE = 65536;
async function* clonePart(part) {
  const end = part.byteOffset + part.byteLength;
  let position = part.byteOffset;
  while (position !== end) {
    const size = Math.min(end - position, CHUNK_SIZE);
    const chunk = part.buffer.slice(position, position + size);
    position += chunk.byteLength;
    yield new Uint8Array(chunk);
  }
}
async function* consumeNodeBlob(blob) {
  let position = 0;
  while (position !== blob.size) {
    const chunk = blob.slice(position, Math.min(blob.size, position + CHUNK_SIZE));
    const buffer = await chunk.arrayBuffer();
    position += buffer.byteLength;
    yield new Uint8Array(buffer);
  }
}
async function* consumeBlobParts(parts, clone2 = false) {
  for (const part of parts) {
    if (ArrayBuffer.isView(part)) {
      if (clone2) {
        yield* clonePart(part);
      } else {
        yield part;
      }
    } else if (isFunction$1(part.stream)) {
      yield* part.stream();
    } else {
      yield* consumeNodeBlob(part);
    }
  }
}
function* sliceBlob(blobParts, blobSize, start = 0, end) {
  end !== null && end !== void 0 ? end : end = blobSize;
  let relativeStart = start < 0 ? Math.max(blobSize + start, 0) : Math.min(start, blobSize);
  let relativeEnd = end < 0 ? Math.max(blobSize + end, 0) : Math.min(end, blobSize);
  const span = Math.max(relativeEnd - relativeStart, 0);
  let added = 0;
  for (const part of blobParts) {
    if (added >= span) {
      break;
    }
    const partSize = ArrayBuffer.isView(part) ? part.byteLength : part.size;
    if (relativeStart && partSize <= relativeStart) {
      relativeStart -= partSize;
      relativeEnd -= partSize;
    } else {
      let chunk;
      if (ArrayBuffer.isView(part)) {
        chunk = part.subarray(relativeStart, Math.min(partSize, relativeEnd));
        added += chunk.byteLength;
      } else {
        chunk = part.slice(relativeStart, Math.min(partSize, relativeEnd));
        added += chunk.size;
      }
      relativeEnd -= partSize;
      relativeStart = 0;
      yield chunk;
    }
  }
}
/*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank */
var __classPrivateFieldGet$e = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var __classPrivateFieldSet$c = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var _Blob_parts, _Blob_type, _Blob_size;
class Blob2 {
  constructor(blobParts = [], options = {}) {
    _Blob_parts.set(this, []);
    _Blob_type.set(this, "");
    _Blob_size.set(this, 0);
    options !== null && options !== void 0 ? options : options = {};
    if (typeof blobParts !== "object" || blobParts === null) {
      throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");
    }
    if (!isFunction$1(blobParts[Symbol.iterator])) {
      throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");
    }
    if (typeof options !== "object" && !isFunction$1(options)) {
      throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");
    }
    const encoder = new TextEncoder();
    for (const raw of blobParts) {
      let part;
      if (ArrayBuffer.isView(raw)) {
        part = new Uint8Array(raw.buffer.slice(raw.byteOffset, raw.byteOffset + raw.byteLength));
      } else if (raw instanceof ArrayBuffer) {
        part = new Uint8Array(raw.slice(0));
      } else if (raw instanceof Blob2) {
        part = raw;
      } else {
        part = encoder.encode(String(raw));
      }
      __classPrivateFieldSet$c(this, _Blob_size, __classPrivateFieldGet$e(this, _Blob_size, "f") + (ArrayBuffer.isView(part) ? part.byteLength : part.size), "f");
      __classPrivateFieldGet$e(this, _Blob_parts, "f").push(part);
    }
    const type = options.type === void 0 ? "" : String(options.type);
    __classPrivateFieldSet$c(this, _Blob_type, /^[\x20-\x7E]*$/.test(type) ? type : "", "f");
  }
  static [(_Blob_parts = /* @__PURE__ */ new WeakMap(), _Blob_type = /* @__PURE__ */ new WeakMap(), _Blob_size = /* @__PURE__ */ new WeakMap(), Symbol.hasInstance)](value) {
    return Boolean(value && typeof value === "object" && isFunction$1(value.constructor) && (isFunction$1(value.stream) || isFunction$1(value.arrayBuffer)) && /^(Blob|File)$/.test(value[Symbol.toStringTag]));
  }
  get type() {
    return __classPrivateFieldGet$e(this, _Blob_type, "f");
  }
  get size() {
    return __classPrivateFieldGet$e(this, _Blob_size, "f");
  }
  slice(start, end, contentType) {
    return new Blob2(sliceBlob(__classPrivateFieldGet$e(this, _Blob_parts, "f"), this.size, start, end), {
      type: contentType
    });
  }
  async text() {
    const decoder = new TextDecoder();
    let result = "";
    for await (const chunk of consumeBlobParts(__classPrivateFieldGet$e(this, _Blob_parts, "f"))) {
      result += decoder.decode(chunk, { stream: true });
    }
    result += decoder.decode();
    return result;
  }
  async arrayBuffer() {
    const view = new Uint8Array(this.size);
    let offset = 0;
    for await (const chunk of consumeBlobParts(__classPrivateFieldGet$e(this, _Blob_parts, "f"))) {
      view.set(chunk, offset);
      offset += chunk.length;
    }
    return view.buffer;
  }
  stream() {
    const iterator = consumeBlobParts(__classPrivateFieldGet$e(this, _Blob_parts, "f"), true);
    return new ReadableStream$2({
      async pull(controller) {
        const { value, done } = await iterator.next();
        if (done) {
          return queueMicrotask(() => controller.close());
        }
        controller.enqueue(value);
      },
      async cancel() {
        await iterator.return();
      }
    });
  }
  get [Symbol.toStringTag]() {
    return "Blob";
  }
}
Object.defineProperties(Blob2.prototype, {
  type: { enumerable: true },
  size: { enumerable: true },
  slice: { enumerable: true },
  stream: { enumerable: true },
  text: { enumerable: true },
  arrayBuffer: { enumerable: true }
});
var __classPrivateFieldSet$b = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$d = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _File_name, _File_lastModified;
let File$1 = class File extends Blob2 {
  constructor(fileBits, name, options = {}) {
    super(fileBits, options);
    _File_name.set(this, void 0);
    _File_lastModified.set(this, 0);
    if (arguments.length < 2) {
      throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);
    }
    __classPrivateFieldSet$b(this, _File_name, String(name), "f");
    const lastModified = options.lastModified === void 0 ? Date.now() : Number(options.lastModified);
    if (!Number.isNaN(lastModified)) {
      __classPrivateFieldSet$b(this, _File_lastModified, lastModified, "f");
    }
  }
  static [(_File_name = /* @__PURE__ */ new WeakMap(), _File_lastModified = /* @__PURE__ */ new WeakMap(), Symbol.hasInstance)](value) {
    return value instanceof Blob2 && value[Symbol.toStringTag] === "File" && typeof value.name === "string";
  }
  get name() {
    return __classPrivateFieldGet$d(this, _File_name, "f");
  }
  get lastModified() {
    return __classPrivateFieldGet$d(this, _File_lastModified, "f");
  }
  get webkitRelativePath() {
    return "";
  }
  get [Symbol.toStringTag]() {
    return "File";
  }
};
const isFile = (value) => value instanceof File$1;
const isBlob = (value) => value instanceof Blob2;
const deprecateConstructorEntries = deprecate(() => {
}, 'Constructor "entries" argument is not spec-compliant and will be removed in next major release.');
var __classPrivateFieldGet$c = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _FormData_instances, _FormData_entries, _FormData_setEntry;
class FormData {
  constructor(entries) {
    _FormData_instances.add(this);
    _FormData_entries.set(this, /* @__PURE__ */ new Map());
    if (entries) {
      deprecateConstructorEntries();
      entries.forEach(({ name, value, fileName }) => this.append(name, value, fileName));
    }
  }
  static [(_FormData_entries = /* @__PURE__ */ new WeakMap(), _FormData_instances = /* @__PURE__ */ new WeakSet(), Symbol.hasInstance)](value) {
    return Boolean(value && isFunction$1(value.constructor) && value[Symbol.toStringTag] === "FormData" && isFunction$1(value.append) && isFunction$1(value.set) && isFunction$1(value.get) && isFunction$1(value.getAll) && isFunction$1(value.has) && isFunction$1(value.delete) && isFunction$1(value.entries) && isFunction$1(value.values) && isFunction$1(value.keys) && isFunction$1(value[Symbol.iterator]) && isFunction$1(value.forEach));
  }
  append(name, value, fileName) {
    __classPrivateFieldGet$c(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: true,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  set(name, value, fileName) {
    __classPrivateFieldGet$c(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: false,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  get(name) {
    const field = __classPrivateFieldGet$c(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return null;
    }
    return field[0];
  }
  getAll(name) {
    const field = __classPrivateFieldGet$c(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return [];
    }
    return field.slice();
  }
  has(name) {
    return __classPrivateFieldGet$c(this, _FormData_entries, "f").has(String(name));
  }
  delete(name) {
    __classPrivateFieldGet$c(this, _FormData_entries, "f").delete(String(name));
  }
  *keys() {
    for (const key of __classPrivateFieldGet$c(this, _FormData_entries, "f").keys()) {
      yield key;
    }
  }
  *entries() {
    for (const name of this.keys()) {
      const values = this.getAll(name);
      for (const value of values) {
        yield [name, value];
      }
    }
  }
  *values() {
    for (const [, value] of this) {
      yield value;
    }
  }
  [(_FormData_setEntry = function _FormData_setEntry2({ name, rawValue, append, fileName, argsLength }) {
    const methodName = append ? "append" : "set";
    if (argsLength < 2) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': 2 arguments required, but only ${argsLength} present.`);
    }
    name = String(name);
    let value;
    if (isFile(rawValue)) {
      value = fileName === void 0 ? rawValue : new File$1([rawValue], fileName, {
        type: rawValue.type,
        lastModified: rawValue.lastModified
      });
    } else if (isBlob(rawValue)) {
      value = new File$1([rawValue], fileName === void 0 ? "blob" : fileName, {
        type: rawValue.type
      });
    } else if (fileName) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': parameter 2 is not of type 'Blob'.`);
    } else {
      value = String(rawValue);
    }
    const values = __classPrivateFieldGet$c(this, _FormData_entries, "f").get(name);
    if (!values) {
      return void __classPrivateFieldGet$c(this, _FormData_entries, "f").set(name, [value]);
    }
    if (!append) {
      return void __classPrivateFieldGet$c(this, _FormData_entries, "f").set(name, [value]);
    }
    values.push(value);
  }, Symbol.iterator)]() {
    return this.entries();
  }
  forEach(callback, thisArg) {
    for (const [name, value] of this) {
      callback.call(thisArg, value, name, this);
    }
  }
  get [Symbol.toStringTag]() {
    return "FormData";
  }
  [inspect.custom]() {
    return this[Symbol.toStringTag];
  }
}
var agentkeepalive = { exports: {} };
var ms;
var hasRequiredMs;
function requireMs() {
  if (hasRequiredMs) return ms;
  hasRequiredMs = 1;
  var s2 = 1e3;
  var m2 = s2 * 60;
  var h2 = m2 * 60;
  var d2 = h2 * 24;
  var w2 = d2 * 7;
  var y2 = d2 * 365.25;
  ms = function(val, options) {
    options = options || {};
    var type = typeof val;
    if (type === "string" && val.length > 0) {
      return parse(val);
    } else if (type === "number" && isFinite(val)) {
      return options.long ? fmtLong(val) : fmtShort(val);
    }
    throw new Error(
      "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
    );
  };
  function parse(str2) {
    str2 = String(str2);
    if (str2.length > 100) {
      return;
    }
    var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
      str2
    );
    if (!match) {
      return;
    }
    var n2 = parseFloat(match[1]);
    var type = (match[2] || "ms").toLowerCase();
    switch (type) {
      case "years":
      case "year":
      case "yrs":
      case "yr":
      case "y":
        return n2 * y2;
      case "weeks":
      case "week":
      case "w":
        return n2 * w2;
      case "days":
      case "day":
      case "d":
        return n2 * d2;
      case "hours":
      case "hour":
      case "hrs":
      case "hr":
      case "h":
        return n2 * h2;
      case "minutes":
      case "minute":
      case "mins":
      case "min":
      case "m":
        return n2 * m2;
      case "seconds":
      case "second":
      case "secs":
      case "sec":
      case "s":
        return n2 * s2;
      case "milliseconds":
      case "millisecond":
      case "msecs":
      case "msec":
      case "ms":
        return n2;
      default:
        return void 0;
    }
  }
  function fmtShort(ms2) {
    var msAbs = Math.abs(ms2);
    if (msAbs >= d2) {
      return Math.round(ms2 / d2) + "d";
    }
    if (msAbs >= h2) {
      return Math.round(ms2 / h2) + "h";
    }
    if (msAbs >= m2) {
      return Math.round(ms2 / m2) + "m";
    }
    if (msAbs >= s2) {
      return Math.round(ms2 / s2) + "s";
    }
    return ms2 + "ms";
  }
  function fmtLong(ms2) {
    var msAbs = Math.abs(ms2);
    if (msAbs >= d2) {
      return plural(ms2, msAbs, d2, "day");
    }
    if (msAbs >= h2) {
      return plural(ms2, msAbs, h2, "hour");
    }
    if (msAbs >= m2) {
      return plural(ms2, msAbs, m2, "minute");
    }
    if (msAbs >= s2) {
      return plural(ms2, msAbs, s2, "second");
    }
    return ms2 + " ms";
  }
  function plural(ms2, msAbs, n2, name) {
    var isPlural = msAbs >= n2 * 1.5;
    return Math.round(ms2 / n2) + " " + name + (isPlural ? "s" : "");
  }
  return ms;
}
/*!
 * humanize-ms - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
var humanizeMs;
var hasRequiredHumanizeMs;
function requireHumanizeMs() {
  if (hasRequiredHumanizeMs) return humanizeMs;
  hasRequiredHumanizeMs = 1;
  var util = require$$0$1;
  var ms2 = requireMs();
  humanizeMs = function(t2) {
    if (typeof t2 === "number") return t2;
    var r2 = ms2(t2);
    if (r2 === void 0) {
      var err = new Error(util.format("humanize-ms(%j) result undefined", t2));
      console.warn(err.stack);
    }
    return r2;
  };
  return humanizeMs;
}
var constants;
var hasRequiredConstants;
function requireConstants() {
  if (hasRequiredConstants) return constants;
  hasRequiredConstants = 1;
  constants = {
    // agent
    CURRENT_ID: Symbol("agentkeepalive#currentId"),
    CREATE_ID: Symbol("agentkeepalive#createId"),
    INIT_SOCKET: Symbol("agentkeepalive#initSocket"),
    CREATE_HTTPS_CONNECTION: Symbol("agentkeepalive#createHttpsConnection"),
    // socket
    SOCKET_CREATED_TIME: Symbol("agentkeepalive#socketCreatedTime"),
    SOCKET_NAME: Symbol("agentkeepalive#socketName"),
    SOCKET_REQUEST_COUNT: Symbol("agentkeepalive#socketRequestCount"),
    SOCKET_REQUEST_FINISHED_COUNT: Symbol("agentkeepalive#socketRequestFinishedCount")
  };
  return constants;
}
var agent;
var hasRequiredAgent;
function requireAgent() {
  if (hasRequiredAgent) return agent;
  hasRequiredAgent = 1;
  const OriginalAgent = http.Agent;
  const ms2 = requireHumanizeMs();
  const debug2 = require$$0$1.debuglog("agentkeepalive");
  const {
    INIT_SOCKET,
    CURRENT_ID,
    CREATE_ID,
    SOCKET_CREATED_TIME,
    SOCKET_NAME,
    SOCKET_REQUEST_COUNT,
    SOCKET_REQUEST_FINISHED_COUNT
  } = requireConstants();
  let defaultTimeoutListenerCount = 1;
  const majorVersion = parseInt(process.version.split(".", 1)[0].substring(1));
  if (majorVersion >= 11 && majorVersion <= 12) {
    defaultTimeoutListenerCount = 2;
  } else if (majorVersion >= 13) {
    defaultTimeoutListenerCount = 3;
  }
  function deprecate2(message) {
    console.log("[agentkeepalive:deprecated] %s", message);
  }
  class Agent extends OriginalAgent {
    constructor(options) {
      options = options || {};
      options.keepAlive = options.keepAlive !== false;
      if (options.freeSocketTimeout === void 0) {
        options.freeSocketTimeout = 4e3;
      }
      if (options.keepAliveTimeout) {
        deprecate2("options.keepAliveTimeout is deprecated, please use options.freeSocketTimeout instead");
        options.freeSocketTimeout = options.keepAliveTimeout;
        delete options.keepAliveTimeout;
      }
      if (options.freeSocketKeepAliveTimeout) {
        deprecate2("options.freeSocketKeepAliveTimeout is deprecated, please use options.freeSocketTimeout instead");
        options.freeSocketTimeout = options.freeSocketKeepAliveTimeout;
        delete options.freeSocketKeepAliveTimeout;
      }
      if (options.timeout === void 0) {
        options.timeout = Math.max(options.freeSocketTimeout * 2, 8e3);
      }
      options.timeout = ms2(options.timeout);
      options.freeSocketTimeout = ms2(options.freeSocketTimeout);
      options.socketActiveTTL = options.socketActiveTTL ? ms2(options.socketActiveTTL) : 0;
      super(options);
      this[CURRENT_ID] = 0;
      this.createSocketCount = 0;
      this.createSocketCountLastCheck = 0;
      this.createSocketErrorCount = 0;
      this.createSocketErrorCountLastCheck = 0;
      this.closeSocketCount = 0;
      this.closeSocketCountLastCheck = 0;
      this.errorSocketCount = 0;
      this.errorSocketCountLastCheck = 0;
      this.requestCount = 0;
      this.requestCountLastCheck = 0;
      this.timeoutSocketCount = 0;
      this.timeoutSocketCountLastCheck = 0;
      this.on("free", (socket) => {
        const timeout = this.calcSocketTimeout(socket);
        if (timeout > 0 && socket.timeout !== timeout) {
          socket.setTimeout(timeout);
        }
      });
    }
    get freeSocketKeepAliveTimeout() {
      deprecate2("agent.freeSocketKeepAliveTimeout is deprecated, please use agent.options.freeSocketTimeout instead");
      return this.options.freeSocketTimeout;
    }
    get timeout() {
      deprecate2("agent.timeout is deprecated, please use agent.options.timeout instead");
      return this.options.timeout;
    }
    get socketActiveTTL() {
      deprecate2("agent.socketActiveTTL is deprecated, please use agent.options.socketActiveTTL instead");
      return this.options.socketActiveTTL;
    }
    calcSocketTimeout(socket) {
      let freeSocketTimeout = this.options.freeSocketTimeout;
      const socketActiveTTL = this.options.socketActiveTTL;
      if (socketActiveTTL) {
        const aliveTime = Date.now() - socket[SOCKET_CREATED_TIME];
        const diff = socketActiveTTL - aliveTime;
        if (diff <= 0) {
          return diff;
        }
        if (freeSocketTimeout && diff < freeSocketTimeout) {
          freeSocketTimeout = diff;
        }
      }
      if (freeSocketTimeout) {
        const customFreeSocketTimeout = socket.freeSocketTimeout || socket.freeSocketKeepAliveTimeout;
        return customFreeSocketTimeout || freeSocketTimeout;
      }
    }
    keepSocketAlive(socket) {
      const result = super.keepSocketAlive(socket);
      if (!result) return result;
      const customTimeout = this.calcSocketTimeout(socket);
      if (typeof customTimeout === "undefined") {
        return true;
      }
      if (customTimeout <= 0) {
        debug2(
          "%s(requests: %s, finished: %s) free but need to destroy by TTL, request count %s, diff is %s",
          socket[SOCKET_NAME],
          socket[SOCKET_REQUEST_COUNT],
          socket[SOCKET_REQUEST_FINISHED_COUNT],
          customTimeout
        );
        return false;
      }
      if (socket.timeout !== customTimeout) {
        socket.setTimeout(customTimeout);
      }
      return true;
    }
    // only call on addRequest
    reuseSocket(...args) {
      super.reuseSocket(...args);
      const socket = args[0];
      const req = args[1];
      req.reusedSocket = true;
      const agentTimeout = this.options.timeout;
      if (getSocketTimeout(socket) !== agentTimeout) {
        socket.setTimeout(agentTimeout);
        debug2("%s reset timeout to %sms", socket[SOCKET_NAME], agentTimeout);
      }
      socket[SOCKET_REQUEST_COUNT]++;
      debug2(
        "%s(requests: %s, finished: %s) reuse on addRequest, timeout %sms",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT],
        getSocketTimeout(socket)
      );
    }
    [CREATE_ID]() {
      const id = this[CURRENT_ID]++;
      if (this[CURRENT_ID] === Number.MAX_SAFE_INTEGER) this[CURRENT_ID] = 0;
      return id;
    }
    [INIT_SOCKET](socket, options) {
      if (options.timeout) {
        const timeout = getSocketTimeout(socket);
        if (!timeout) {
          socket.setTimeout(options.timeout);
        }
      }
      if (this.options.keepAlive) {
        socket.setNoDelay(true);
      }
      this.createSocketCount++;
      if (this.options.socketActiveTTL) {
        socket[SOCKET_CREATED_TIME] = Date.now();
      }
      socket[SOCKET_NAME] = `sock[${this[CREATE_ID]()}#${options._agentKey}]`.split("-----BEGIN", 1)[0];
      socket[SOCKET_REQUEST_COUNT] = 1;
      socket[SOCKET_REQUEST_FINISHED_COUNT] = 0;
      installListeners(this, socket, options);
    }
    createConnection(options, oncreate) {
      let called = false;
      const onNewCreate = (err, socket) => {
        if (called) return;
        called = true;
        if (err) {
          this.createSocketErrorCount++;
          return oncreate(err);
        }
        this[INIT_SOCKET](socket, options);
        oncreate(err, socket);
      };
      const newSocket = super.createConnection(options, onNewCreate);
      if (newSocket) onNewCreate(null, newSocket);
      return newSocket;
    }
    get statusChanged() {
      const changed = this.createSocketCount !== this.createSocketCountLastCheck || this.createSocketErrorCount !== this.createSocketErrorCountLastCheck || this.closeSocketCount !== this.closeSocketCountLastCheck || this.errorSocketCount !== this.errorSocketCountLastCheck || this.timeoutSocketCount !== this.timeoutSocketCountLastCheck || this.requestCount !== this.requestCountLastCheck;
      if (changed) {
        this.createSocketCountLastCheck = this.createSocketCount;
        this.createSocketErrorCountLastCheck = this.createSocketErrorCount;
        this.closeSocketCountLastCheck = this.closeSocketCount;
        this.errorSocketCountLastCheck = this.errorSocketCount;
        this.timeoutSocketCountLastCheck = this.timeoutSocketCount;
        this.requestCountLastCheck = this.requestCount;
      }
      return changed;
    }
    getCurrentStatus() {
      return {
        createSocketCount: this.createSocketCount,
        createSocketErrorCount: this.createSocketErrorCount,
        closeSocketCount: this.closeSocketCount,
        errorSocketCount: this.errorSocketCount,
        timeoutSocketCount: this.timeoutSocketCount,
        requestCount: this.requestCount,
        freeSockets: inspect2(this.freeSockets),
        sockets: inspect2(this.sockets),
        requests: inspect2(this.requests)
      };
    }
  }
  function getSocketTimeout(socket) {
    return socket.timeout || socket._idleTimeout;
  }
  function installListeners(agent2, socket, options) {
    debug2("%s create, timeout %sms", socket[SOCKET_NAME], getSocketTimeout(socket));
    function onFree() {
      if (!socket._httpMessage && socket[SOCKET_REQUEST_COUNT] === 1) return;
      socket[SOCKET_REQUEST_FINISHED_COUNT]++;
      agent2.requestCount++;
      debug2(
        "%s(requests: %s, finished: %s) free",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT]
      );
      const name = agent2.getName(options);
      if (socket.writable && agent2.requests[name] && agent2.requests[name].length) {
        socket[SOCKET_REQUEST_COUNT]++;
        debug2(
          "%s(requests: %s, finished: %s) will be reuse on agent free event",
          socket[SOCKET_NAME],
          socket[SOCKET_REQUEST_COUNT],
          socket[SOCKET_REQUEST_FINISHED_COUNT]
        );
      }
    }
    socket.on("free", onFree);
    function onClose(isError) {
      debug2(
        "%s(requests: %s, finished: %s) close, isError: %s",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT],
        isError
      );
      agent2.closeSocketCount++;
    }
    socket.on("close", onClose);
    function onTimeout() {
      const listenerCount = socket.listeners("timeout").length;
      const timeout = getSocketTimeout(socket);
      const req = socket._httpMessage;
      const reqTimeoutListenerCount = req && req.listeners("timeout").length || 0;
      debug2(
        "%s(requests: %s, finished: %s) timeout after %sms, listeners %s, defaultTimeoutListenerCount %s, hasHttpRequest %s, HttpRequest timeoutListenerCount %s",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT],
        timeout,
        listenerCount,
        defaultTimeoutListenerCount,
        !!req,
        reqTimeoutListenerCount
      );
      if (debug2.enabled) {
        debug2("timeout listeners: %s", socket.listeners("timeout").map((f2) => f2.name).join(", "));
      }
      agent2.timeoutSocketCount++;
      const name = agent2.getName(options);
      if (agent2.freeSockets[name] && agent2.freeSockets[name].indexOf(socket) !== -1) {
        socket.destroy();
        agent2.removeSocket(socket, options);
        debug2("%s is free, destroy quietly", socket[SOCKET_NAME]);
      } else {
        if (reqTimeoutListenerCount === 0) {
          const error = new Error("Socket timeout");
          error.code = "ERR_SOCKET_TIMEOUT";
          error.timeout = timeout;
          socket.destroy(error);
          agent2.removeSocket(socket, options);
          debug2("%s destroy with timeout error", socket[SOCKET_NAME]);
        }
      }
    }
    socket.on("timeout", onTimeout);
    function onError(err) {
      const listenerCount = socket.listeners("error").length;
      debug2(
        "%s(requests: %s, finished: %s) error: %s, listenerCount: %s",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT],
        err,
        listenerCount
      );
      agent2.errorSocketCount++;
      if (listenerCount === 1) {
        debug2("%s emit uncaught error event", socket[SOCKET_NAME]);
        socket.removeListener("error", onError);
        socket.emit("error", err);
      }
    }
    socket.on("error", onError);
    function onRemove() {
      debug2(
        "%s(requests: %s, finished: %s) agentRemove",
        socket[SOCKET_NAME],
        socket[SOCKET_REQUEST_COUNT],
        socket[SOCKET_REQUEST_FINISHED_COUNT]
      );
      socket.removeListener("close", onClose);
      socket.removeListener("error", onError);
      socket.removeListener("free", onFree);
      socket.removeListener("timeout", onTimeout);
      socket.removeListener("agentRemove", onRemove);
    }
    socket.on("agentRemove", onRemove);
  }
  agent = Agent;
  function inspect2(obj) {
    const res = {};
    for (const key in obj) {
      res[key] = obj[key].length;
    }
    return res;
  }
  return agent;
}
var https_agent;
var hasRequiredHttps_agent;
function requireHttps_agent() {
  if (hasRequiredHttps_agent) return https_agent;
  hasRequiredHttps_agent = 1;
  const OriginalHttpsAgent = https.Agent;
  const HttpAgent = requireAgent();
  const {
    INIT_SOCKET,
    CREATE_HTTPS_CONNECTION
  } = requireConstants();
  class HttpsAgent extends HttpAgent {
    constructor(options) {
      super(options);
      this.defaultPort = 443;
      this.protocol = "https:";
      this.maxCachedSessions = this.options.maxCachedSessions;
      if (this.maxCachedSessions === void 0) {
        this.maxCachedSessions = 100;
      }
      this._sessionCache = {
        map: {},
        list: []
      };
    }
    createConnection(options, oncreate) {
      const socket = this[CREATE_HTTPS_CONNECTION](options, oncreate);
      this[INIT_SOCKET](socket, options);
      return socket;
    }
  }
  HttpsAgent.prototype[CREATE_HTTPS_CONNECTION] = OriginalHttpsAgent.prototype.createConnection;
  [
    "getName",
    "_getSession",
    "_cacheSession",
    // https://github.com/nodejs/node/pull/4982
    "_evictSession"
  ].forEach(function(method) {
    if (typeof OriginalHttpsAgent.prototype[method] === "function") {
      HttpsAgent.prototype[method] = OriginalHttpsAgent.prototype[method];
    }
  });
  https_agent = HttpsAgent;
  return https_agent;
}
var hasRequiredAgentkeepalive;
function requireAgentkeepalive() {
  if (hasRequiredAgentkeepalive) return agentkeepalive.exports;
  hasRequiredAgentkeepalive = 1;
  const HttpAgent = requireAgent();
  agentkeepalive.exports = HttpAgent;
  agentkeepalive.exports.HttpAgent = HttpAgent;
  agentkeepalive.exports.HttpsAgent = requireHttps_agent();
  agentkeepalive.exports.constants = requireConstants();
  return agentkeepalive.exports;
}
var agentkeepaliveExports = requireAgentkeepalive();
const KeepAliveAgent = /* @__PURE__ */ getDefaultExportFromCjs(agentkeepaliveExports);
const privateData = /* @__PURE__ */ new WeakMap();
const wrappers = /* @__PURE__ */ new WeakMap();
function pd(event) {
  const retv = privateData.get(event);
  console.assert(
    retv != null,
    "'this' is expected an Event object, but got",
    event
  );
  return retv;
}
function setCancelFlag(data) {
  if (data.passiveListener != null) {
    if (typeof console !== "undefined" && typeof console.error === "function") {
      console.error(
        "Unable to preventDefault inside passive event listener invocation.",
        data.passiveListener
      );
    }
    return;
  }
  if (!data.event.cancelable) {
    return;
  }
  data.canceled = true;
  if (typeof data.event.preventDefault === "function") {
    data.event.preventDefault();
  }
}
function Event(eventTarget, event) {
  privateData.set(this, {
    eventTarget,
    event,
    eventPhase: 2,
    currentTarget: eventTarget,
    canceled: false,
    stopped: false,
    immediateStopped: false,
    passiveListener: null,
    timeStamp: event.timeStamp || Date.now()
  });
  Object.defineProperty(this, "isTrusted", { value: false, enumerable: true });
  const keys = Object.keys(event);
  for (let i2 = 0; i2 < keys.length; ++i2) {
    const key = keys[i2];
    if (!(key in this)) {
      Object.defineProperty(this, key, defineRedirectDescriptor(key));
    }
  }
}
Event.prototype = {
  /**
   * The type of this event.
   * @type {string}
   */
  get type() {
    return pd(this).event.type;
  },
  /**
   * The target of this event.
   * @type {EventTarget}
   */
  get target() {
    return pd(this).eventTarget;
  },
  /**
   * The target of this event.
   * @type {EventTarget}
   */
  get currentTarget() {
    return pd(this).currentTarget;
  },
  /**
   * @returns {EventTarget[]} The composed path of this event.
   */
  composedPath() {
    const currentTarget = pd(this).currentTarget;
    if (currentTarget == null) {
      return [];
    }
    return [currentTarget];
  },
  /**
   * Constant of NONE.
   * @type {number}
   */
  get NONE() {
    return 0;
  },
  /**
   * Constant of CAPTURING_PHASE.
   * @type {number}
   */
  get CAPTURING_PHASE() {
    return 1;
  },
  /**
   * Constant of AT_TARGET.
   * @type {number}
   */
  get AT_TARGET() {
    return 2;
  },
  /**
   * Constant of BUBBLING_PHASE.
   * @type {number}
   */
  get BUBBLING_PHASE() {
    return 3;
  },
  /**
   * The target of this event.
   * @type {number}
   */
  get eventPhase() {
    return pd(this).eventPhase;
  },
  /**
   * Stop event bubbling.
   * @returns {void}
   */
  stopPropagation() {
    const data = pd(this);
    data.stopped = true;
    if (typeof data.event.stopPropagation === "function") {
      data.event.stopPropagation();
    }
  },
  /**
   * Stop event bubbling.
   * @returns {void}
   */
  stopImmediatePropagation() {
    const data = pd(this);
    data.stopped = true;
    data.immediateStopped = true;
    if (typeof data.event.stopImmediatePropagation === "function") {
      data.event.stopImmediatePropagation();
    }
  },
  /**
   * The flag to be bubbling.
   * @type {boolean}
   */
  get bubbles() {
    return Boolean(pd(this).event.bubbles);
  },
  /**
   * The flag to be cancelable.
   * @type {boolean}
   */
  get cancelable() {
    return Boolean(pd(this).event.cancelable);
  },
  /**
   * Cancel this event.
   * @returns {void}
   */
  preventDefault() {
    setCancelFlag(pd(this));
  },
  /**
   * The flag to indicate cancellation state.
   * @type {boolean}
   */
  get defaultPrevented() {
    return pd(this).canceled;
  },
  /**
   * The flag to be composed.
   * @type {boolean}
   */
  get composed() {
    return Boolean(pd(this).event.composed);
  },
  /**
   * The unix time of this event.
   * @type {number}
   */
  get timeStamp() {
    return pd(this).timeStamp;
  },
  /**
   * The target of this event.
   * @type {EventTarget}
   * @deprecated
   */
  get srcElement() {
    return pd(this).eventTarget;
  },
  /**
   * The flag to stop event bubbling.
   * @type {boolean}
   * @deprecated
   */
  get cancelBubble() {
    return pd(this).stopped;
  },
  set cancelBubble(value) {
    if (!value) {
      return;
    }
    const data = pd(this);
    data.stopped = true;
    if (typeof data.event.cancelBubble === "boolean") {
      data.event.cancelBubble = true;
    }
  },
  /**
   * The flag to indicate cancellation state.
   * @type {boolean}
   * @deprecated
   */
  get returnValue() {
    return !pd(this).canceled;
  },
  set returnValue(value) {
    if (!value) {
      setCancelFlag(pd(this));
    }
  },
  /**
   * Initialize this event object. But do nothing under event dispatching.
   * @param {string} type The event type.
   * @param {boolean} [bubbles=false] The flag to be possible to bubble up.
   * @param {boolean} [cancelable=false] The flag to be possible to cancel.
   * @deprecated
   */
  initEvent() {
  }
};
Object.defineProperty(Event.prototype, "constructor", {
  value: Event,
  configurable: true,
  writable: true
});
if (typeof window !== "undefined" && typeof window.Event !== "undefined") {
  Object.setPrototypeOf(Event.prototype, window.Event.prototype);
  wrappers.set(window.Event.prototype, Event);
}
function defineRedirectDescriptor(key) {
  return {
    get() {
      return pd(this).event[key];
    },
    set(value) {
      pd(this).event[key] = value;
    },
    configurable: true,
    enumerable: true
  };
}
function defineCallDescriptor(key) {
  return {
    value() {
      const event = pd(this).event;
      return event[key].apply(event, arguments);
    },
    configurable: true,
    enumerable: true
  };
}
function defineWrapper(BaseEvent, proto) {
  const keys = Object.keys(proto);
  if (keys.length === 0) {
    return BaseEvent;
  }
  function CustomEvent(eventTarget, event) {
    BaseEvent.call(this, eventTarget, event);
  }
  CustomEvent.prototype = Object.create(BaseEvent.prototype, {
    constructor: { value: CustomEvent, configurable: true, writable: true }
  });
  for (let i2 = 0; i2 < keys.length; ++i2) {
    const key = keys[i2];
    if (!(key in BaseEvent.prototype)) {
      const descriptor = Object.getOwnPropertyDescriptor(proto, key);
      const isFunc = typeof descriptor.value === "function";
      Object.defineProperty(
        CustomEvent.prototype,
        key,
        isFunc ? defineCallDescriptor(key) : defineRedirectDescriptor(key)
      );
    }
  }
  return CustomEvent;
}
function getWrapper(proto) {
  if (proto == null || proto === Object.prototype) {
    return Event;
  }
  let wrapper = wrappers.get(proto);
  if (wrapper == null) {
    wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);
    wrappers.set(proto, wrapper);
  }
  return wrapper;
}
function wrapEvent(eventTarget, event) {
  const Wrapper = getWrapper(Object.getPrototypeOf(event));
  return new Wrapper(eventTarget, event);
}
function isStopped(event) {
  return pd(event).immediateStopped;
}
function setEventPhase(event, eventPhase) {
  pd(event).eventPhase = eventPhase;
}
function setCurrentTarget(event, currentTarget) {
  pd(event).currentTarget = currentTarget;
}
function setPassiveListener(event, passiveListener) {
  pd(event).passiveListener = passiveListener;
}
const listenersMap = /* @__PURE__ */ new WeakMap();
const CAPTURE = 1;
const BUBBLE = 2;
const ATTRIBUTE = 3;
function isObject(x2) {
  return x2 !== null && typeof x2 === "object";
}
function getListeners(eventTarget) {
  const listeners = listenersMap.get(eventTarget);
  if (listeners == null) {
    throw new TypeError(
      "'this' is expected an EventTarget object, but got another value."
    );
  }
  return listeners;
}
function defineEventAttributeDescriptor(eventName) {
  return {
    get() {
      const listeners = getListeners(this);
      let node = listeners.get(eventName);
      while (node != null) {
        if (node.listenerType === ATTRIBUTE) {
          return node.listener;
        }
        node = node.next;
      }
      return null;
    },
    set(listener) {
      if (typeof listener !== "function" && !isObject(listener)) {
        listener = null;
      }
      const listeners = getListeners(this);
      let prev = null;
      let node = listeners.get(eventName);
      while (node != null) {
        if (node.listenerType === ATTRIBUTE) {
          if (prev !== null) {
            prev.next = node.next;
          } else if (node.next !== null) {
            listeners.set(eventName, node.next);
          } else {
            listeners.delete(eventName);
          }
        } else {
          prev = node;
        }
        node = node.next;
      }
      if (listener !== null) {
        const newNode = {
          listener,
          listenerType: ATTRIBUTE,
          passive: false,
          once: false,
          next: null
        };
        if (prev === null) {
          listeners.set(eventName, newNode);
        } else {
          prev.next = newNode;
        }
      }
    },
    configurable: true,
    enumerable: true
  };
}
function defineEventAttribute(eventTargetPrototype, eventName) {
  Object.defineProperty(
    eventTargetPrototype,
    `on${eventName}`,
    defineEventAttributeDescriptor(eventName)
  );
}
function defineCustomEventTarget(eventNames) {
  function CustomEventTarget() {
    EventTarget.call(this);
  }
  CustomEventTarget.prototype = Object.create(EventTarget.prototype, {
    constructor: {
      value: CustomEventTarget,
      configurable: true,
      writable: true
    }
  });
  for (let i2 = 0; i2 < eventNames.length; ++i2) {
    defineEventAttribute(CustomEventTarget.prototype, eventNames[i2]);
  }
  return CustomEventTarget;
}
function EventTarget() {
  if (this instanceof EventTarget) {
    listenersMap.set(this, /* @__PURE__ */ new Map());
    return;
  }
  if (arguments.length === 1 && Array.isArray(arguments[0])) {
    return defineCustomEventTarget(arguments[0]);
  }
  if (arguments.length > 0) {
    const types = new Array(arguments.length);
    for (let i2 = 0; i2 < arguments.length; ++i2) {
      types[i2] = arguments[i2];
    }
    return defineCustomEventTarget(types);
  }
  throw new TypeError("Cannot call a class as a function");
}
EventTarget.prototype = {
  /**
   * Add a given listener to this event target.
   * @param {string} eventName The event name to add.
   * @param {Function} listener The listener to add.
   * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.
   * @returns {void}
   */
  addEventListener(eventName, listener, options) {
    if (listener == null) {
      return;
    }
    if (typeof listener !== "function" && !isObject(listener)) {
      throw new TypeError("'listener' should be a function or an object.");
    }
    const listeners = getListeners(this);
    const optionsIsObj = isObject(options);
    const capture = optionsIsObj ? Boolean(options.capture) : Boolean(options);
    const listenerType = capture ? CAPTURE : BUBBLE;
    const newNode = {
      listener,
      listenerType,
      passive: optionsIsObj && Boolean(options.passive),
      once: optionsIsObj && Boolean(options.once),
      next: null
    };
    let node = listeners.get(eventName);
    if (node === void 0) {
      listeners.set(eventName, newNode);
      return;
    }
    let prev = null;
    while (node != null) {
      if (node.listener === listener && node.listenerType === listenerType) {
        return;
      }
      prev = node;
      node = node.next;
    }
    prev.next = newNode;
  },
  /**
   * Remove a given listener from this event target.
   * @param {string} eventName The event name to remove.
   * @param {Function} listener The listener to remove.
   * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.
   * @returns {void}
   */
  removeEventListener(eventName, listener, options) {
    if (listener == null) {
      return;
    }
    const listeners = getListeners(this);
    const capture = isObject(options) ? Boolean(options.capture) : Boolean(options);
    const listenerType = capture ? CAPTURE : BUBBLE;
    let prev = null;
    let node = listeners.get(eventName);
    while (node != null) {
      if (node.listener === listener && node.listenerType === listenerType) {
        if (prev !== null) {
          prev.next = node.next;
        } else if (node.next !== null) {
          listeners.set(eventName, node.next);
        } else {
          listeners.delete(eventName);
        }
        return;
      }
      prev = node;
      node = node.next;
    }
  },
  /**
   * Dispatch a given event.
   * @param {Event|{type:string}} event The event to dispatch.
   * @returns {boolean} `false` if canceled.
   */
  dispatchEvent(event) {
    if (event == null || typeof event.type !== "string") {
      throw new TypeError('"event.type" should be a string.');
    }
    const listeners = getListeners(this);
    const eventName = event.type;
    let node = listeners.get(eventName);
    if (node == null) {
      return true;
    }
    const wrappedEvent = wrapEvent(this, event);
    let prev = null;
    while (node != null) {
      if (node.once) {
        if (prev !== null) {
          prev.next = node.next;
        } else if (node.next !== null) {
          listeners.set(eventName, node.next);
        } else {
          listeners.delete(eventName);
        }
      } else {
        prev = node;
      }
      setPassiveListener(
        wrappedEvent,
        node.passive ? node.listener : null
      );
      if (typeof node.listener === "function") {
        try {
          node.listener.call(this, wrappedEvent);
        } catch (err) {
          if (typeof console !== "undefined" && typeof console.error === "function") {
            console.error(err);
          }
        }
      } else if (node.listenerType !== ATTRIBUTE && typeof node.listener.handleEvent === "function") {
        node.listener.handleEvent(wrappedEvent);
      }
      if (isStopped(wrappedEvent)) {
        break;
      }
      node = node.next;
    }
    setPassiveListener(wrappedEvent, null);
    setEventPhase(wrappedEvent, 0);
    setCurrentTarget(wrappedEvent, null);
    return !wrappedEvent.defaultPrevented;
  }
};
Object.defineProperty(EventTarget.prototype, "constructor", {
  value: EventTarget,
  configurable: true,
  writable: true
});
if (typeof window !== "undefined" && typeof window.EventTarget !== "undefined") {
  Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);
}
class AbortSignal extends EventTarget {
  /**
   * AbortSignal cannot be constructed directly.
   */
  constructor() {
    super();
    throw new TypeError("AbortSignal cannot be constructed directly");
  }
  /**
   * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.
   */
  get aborted() {
    const aborted = abortedFlags.get(this);
    if (typeof aborted !== "boolean") {
      throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? "null" : typeof this}`);
    }
    return aborted;
  }
}
defineEventAttribute(AbortSignal.prototype, "abort");
function createAbortSignal() {
  const signal = Object.create(AbortSignal.prototype);
  EventTarget.call(signal);
  abortedFlags.set(signal, false);
  return signal;
}
function abortSignal(signal) {
  if (abortedFlags.get(signal) !== false) {
    return;
  }
  abortedFlags.set(signal, true);
  signal.dispatchEvent({ type: "abort" });
}
const abortedFlags = /* @__PURE__ */ new WeakMap();
Object.defineProperties(AbortSignal.prototype, {
  aborted: { enumerable: true }
});
if (typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol") {
  Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {
    configurable: true,
    value: "AbortSignal"
  });
}
let AbortController$1 = class AbortController2 {
  /**
   * Initialize this controller.
   */
  constructor() {
    signals.set(this, createAbortSignal());
  }
  /**
   * Returns the `AbortSignal` object associated with this object.
   */
  get signal() {
    return getSignal(this);
  }
  /**
   * Abort and signal to any observers that the associated activity is to be aborted.
   */
  abort() {
    abortSignal(getSignal(this));
  }
};
const signals = /* @__PURE__ */ new WeakMap();
function getSignal(controller) {
  const signal = signals.get(controller);
  if (signal == null) {
    throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? "null" : typeof controller}`);
  }
  return signal;
}
Object.defineProperties(AbortController$1.prototype, {
  signal: { enumerable: true },
  abort: { enumerable: true }
});
if (typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol") {
  Object.defineProperty(AbortController$1.prototype, Symbol.toStringTag, {
    configurable: true,
    value: "AbortController"
  });
}
const alphabet = "abcdefghijklmnopqrstuvwxyz0123456789";
function createBoundary() {
  let size = 16;
  let res = "";
  while (size--) {
    res += alphabet[Math.random() * alphabet.length << 0];
  }
  return res;
}
const getType = (value) => Object.prototype.toString.call(value).slice(8, -1).toLowerCase();
function isPlainObject(value) {
  if (getType(value) !== "object") {
    return false;
  }
  const pp = Object.getPrototypeOf(value);
  if (pp === null || pp === void 0) {
    return true;
  }
  const Ctor = pp.constructor && pp.constructor.toString();
  return Ctor === Object.toString();
}
const normalizeValue = (value) => String(value).replace(/\r|\n/g, (match, i2, str2) => {
  if (match === "\r" && str2[i2 + 1] !== "\n" || match === "\n" && str2[i2 - 1] !== "\r") {
    return "\r\n";
  }
  return match;
});
const escapeName = (name) => String(name).replace(/\r/g, "%0D").replace(/\n/g, "%0A").replace(/"/g, "%22");
const isFunction = (value) => typeof value === "function";
const isFileLike$2 = (value) => Boolean(value && typeof value === "object" && isFunction(value.constructor) && value[Symbol.toStringTag] === "File" && isFunction(value.stream) && value.name != null && value.size != null && value.lastModified != null);
const isFormData = (value) => Boolean(value && isFunction(value.constructor) && value[Symbol.toStringTag] === "FormData" && isFunction(value.append) && isFunction(value.getAll) && isFunction(value.entries) && isFunction(value[Symbol.iterator]));
var __classPrivateFieldSet$a = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$b = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _FormDataEncoder_instances, _FormDataEncoder_CRLF, _FormDataEncoder_CRLF_BYTES, _FormDataEncoder_CRLF_BYTES_LENGTH, _FormDataEncoder_DASHES, _FormDataEncoder_encoder, _FormDataEncoder_footer, _FormDataEncoder_form, _FormDataEncoder_options, _FormDataEncoder_getFieldHeader;
const defaultOptions = {
  enableAdditionalHeaders: false
};
class FormDataEncoder {
  constructor(form, boundaryOrOptions, options) {
    _FormDataEncoder_instances.add(this);
    _FormDataEncoder_CRLF.set(this, "\r\n");
    _FormDataEncoder_CRLF_BYTES.set(this, void 0);
    _FormDataEncoder_CRLF_BYTES_LENGTH.set(this, void 0);
    _FormDataEncoder_DASHES.set(this, "-".repeat(2));
    _FormDataEncoder_encoder.set(this, new TextEncoder());
    _FormDataEncoder_footer.set(this, void 0);
    _FormDataEncoder_form.set(this, void 0);
    _FormDataEncoder_options.set(this, void 0);
    if (!isFormData(form)) {
      throw new TypeError("Expected first argument to be a FormData instance.");
    }
    let boundary;
    if (isPlainObject(boundaryOrOptions)) {
      options = boundaryOrOptions;
    } else {
      boundary = boundaryOrOptions;
    }
    if (!boundary) {
      boundary = createBoundary();
    }
    if (typeof boundary !== "string") {
      throw new TypeError("Expected boundary argument to be a string.");
    }
    if (options && !isPlainObject(options)) {
      throw new TypeError("Expected options argument to be an object.");
    }
    __classPrivateFieldSet$a(this, _FormDataEncoder_form, form, "f");
    __classPrivateFieldSet$a(this, _FormDataEncoder_options, { ...defaultOptions, ...options }, "f");
    __classPrivateFieldSet$a(this, _FormDataEncoder_CRLF_BYTES, __classPrivateFieldGet$b(this, _FormDataEncoder_encoder, "f").encode(__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f")), "f");
    __classPrivateFieldSet$a(this, _FormDataEncoder_CRLF_BYTES_LENGTH, __classPrivateFieldGet$b(this, _FormDataEncoder_CRLF_BYTES, "f").byteLength, "f");
    this.boundary = `form-data-boundary-${boundary}`;
    this.contentType = `multipart/form-data; boundary=${this.boundary}`;
    __classPrivateFieldSet$a(this, _FormDataEncoder_footer, __classPrivateFieldGet$b(this, _FormDataEncoder_encoder, "f").encode(`${__classPrivateFieldGet$b(this, _FormDataEncoder_DASHES, "f")}${this.boundary}${__classPrivateFieldGet$b(this, _FormDataEncoder_DASHES, "f")}${__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f").repeat(2)}`), "f");
    this.contentLength = String(this.getContentLength());
    this.headers = Object.freeze({
      "Content-Type": this.contentType,
      "Content-Length": this.contentLength
    });
    Object.defineProperties(this, {
      boundary: { writable: false, configurable: false },
      contentType: { writable: false, configurable: false },
      contentLength: { writable: false, configurable: false },
      headers: { writable: false, configurable: false }
    });
  }
  getContentLength() {
    let length = 0;
    for (const [name, raw] of __classPrivateFieldGet$b(this, _FormDataEncoder_form, "f")) {
      const value = isFileLike$2(raw) ? raw : __classPrivateFieldGet$b(this, _FormDataEncoder_encoder, "f").encode(normalizeValue(raw));
      length += __classPrivateFieldGet$b(this, _FormDataEncoder_instances, "m", _FormDataEncoder_getFieldHeader).call(this, name, value).byteLength;
      length += isFileLike$2(value) ? value.size : value.byteLength;
      length += __classPrivateFieldGet$b(this, _FormDataEncoder_CRLF_BYTES_LENGTH, "f");
    }
    return length + __classPrivateFieldGet$b(this, _FormDataEncoder_footer, "f").byteLength;
  }
  *values() {
    for (const [name, raw] of __classPrivateFieldGet$b(this, _FormDataEncoder_form, "f").entries()) {
      const value = isFileLike$2(raw) ? raw : __classPrivateFieldGet$b(this, _FormDataEncoder_encoder, "f").encode(normalizeValue(raw));
      yield __classPrivateFieldGet$b(this, _FormDataEncoder_instances, "m", _FormDataEncoder_getFieldHeader).call(this, name, value);
      yield value;
      yield __classPrivateFieldGet$b(this, _FormDataEncoder_CRLF_BYTES, "f");
    }
    yield __classPrivateFieldGet$b(this, _FormDataEncoder_footer, "f");
  }
  async *encode() {
    for (const part of this.values()) {
      if (isFileLike$2(part)) {
        yield* part.stream();
      } else {
        yield part;
      }
    }
  }
  [(_FormDataEncoder_CRLF = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_CRLF_BYTES = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_CRLF_BYTES_LENGTH = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_DASHES = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_encoder = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_footer = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_form = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_options = /* @__PURE__ */ new WeakMap(), _FormDataEncoder_instances = /* @__PURE__ */ new WeakSet(), _FormDataEncoder_getFieldHeader = function _FormDataEncoder_getFieldHeader2(name, value) {
    let header = "";
    header += `${__classPrivateFieldGet$b(this, _FormDataEncoder_DASHES, "f")}${this.boundary}${__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f")}`;
    header += `Content-Disposition: form-data; name="${escapeName(name)}"`;
    if (isFileLike$2(value)) {
      header += `; filename="${escapeName(value.name)}"${__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f")}`;
      header += `Content-Type: ${value.type || "application/octet-stream"}`;
    }
    if (__classPrivateFieldGet$b(this, _FormDataEncoder_options, "f").enableAdditionalHeaders === true) {
      header += `${__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f")}Content-Length: ${isFileLike$2(value) ? value.size : value.byteLength}`;
    }
    return __classPrivateFieldGet$b(this, _FormDataEncoder_encoder, "f").encode(`${header}${__classPrivateFieldGet$b(this, _FormDataEncoder_CRLF, "f").repeat(2)}`);
  }, Symbol.iterator)]() {
    return this.values();
  }
  [Symbol.asyncIterator]() {
    return this.encode();
  }
}
let MultipartBody$1 = class MultipartBody {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
};
let fileFromPathWarned$1 = false;
async function fileFromPath$2(path2, ...args) {
  const { fileFromPath: _fileFromPath } = await import("./fileFromPath-CjWz-8hU.js");
  if (!fileFromPathWarned$1) {
    console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(path2)}) instead`);
    fileFromPathWarned$1 = true;
  }
  return await _fileFromPath(path2, ...args);
}
const defaultHttpAgent$1 = new KeepAliveAgent({ keepAlive: true, timeout: 5 * 60 * 1e3 });
const defaultHttpsAgent$1 = new KeepAliveAgent.HttpsAgent({ keepAlive: true, timeout: 5 * 60 * 1e3 });
async function getMultipartRequestOptions$1(form, opts) {
  const encoder = new FormDataEncoder(form);
  const readable = Readable$1.from(encoder);
  const body = new MultipartBody$1(readable);
  const headers = {
    ...opts.headers,
    ...encoder.headers,
    "Content-Length": encoder.contentLength
  };
  return { ...opts, body, headers };
}
function getRuntime$1() {
  if (typeof AbortController === "undefined") {
    globalThis.AbortController = AbortController$1;
  }
  return {
    kind: "node",
    fetch: fetch$2,
    Request,
    Response,
    Headers: Headers$1,
    FormData,
    Blob: Blob2,
    File: File$1,
    ReadableStream: ReadableStream$4,
    getMultipartRequestOptions: getMultipartRequestOptions$1,
    getDefaultAgent: (url) => url.startsWith("https") ? defaultHttpsAgent$1 : defaultHttpAgent$1,
    fileFromPath: fileFromPath$2,
    isFsReadStream: (value) => value instanceof ReadStream
  };
}
const init$1 = () => {
  if (!kind$1) setShims$1(getRuntime$1(), { auto: true });
};
init$1();
class OpenAIError extends Error {
}
let APIError$1 = class APIError extends OpenAIError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    this.request_id = headers == null ? void 0 : headers["x-request-id"];
    this.error = error;
    const data = error;
    this.code = data == null ? void 0 : data["code"];
    this.param = data == null ? void 0 : data["param"];
    this.type = data == null ? void 0 : data["type"];
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status || !headers) {
      return new APIConnectionError$1({ message, cause: castToError$1(errorResponse) });
    }
    const error = errorResponse == null ? void 0 : errorResponse["error"];
    if (status === 400) {
      return new BadRequestError$1(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError$1(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError$1(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError$1(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError$1(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError$1(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError$1(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError$1(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
let APIUserAbortError$1 = class APIUserAbortError extends APIError$1 {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
  }
};
let APIConnectionError$1 = class APIConnectionError extends APIError$1 {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    if (cause)
      this.cause = cause;
  }
};
let APIConnectionTimeoutError$1 = class APIConnectionTimeoutError extends APIConnectionError$1 {
  constructor({ message } = {}) {
    super({ message: message ?? "Request timed out." });
  }
};
let BadRequestError$1 = class BadRequestError extends APIError$1 {
};
let AuthenticationError$1 = class AuthenticationError extends APIError$1 {
};
let PermissionDeniedError$1 = class PermissionDeniedError extends APIError$1 {
};
let NotFoundError$1 = class NotFoundError extends APIError$1 {
};
let ConflictError$1 = class ConflictError extends APIError$1 {
};
let UnprocessableEntityError$1 = class UnprocessableEntityError extends APIError$1 {
};
let RateLimitError$1 = class RateLimitError extends APIError$1 {
};
let InternalServerError$1 = class InternalServerError extends APIError$1 {
};
class LengthFinishReasonError extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the length limit was reached`);
  }
}
class ContentFilterFinishReasonError extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the request was rejected by the content filter`);
  }
}
var __classPrivateFieldSet$9 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$a = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LineDecoder_carriageReturnIndex$1;
let LineDecoder$1 = class LineDecoder {
  constructor() {
    _LineDecoder_carriageReturnIndex$1.set(this, void 0);
    this.buffer = new Uint8Array();
    __classPrivateFieldSet$9(this, _LineDecoder_carriageReturnIndex$1, null, "f");
  }
  decode(chunk) {
    if (chunk == null) {
      return [];
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(this.buffer.length + binaryChunk.length);
    newData.set(this.buffer);
    newData.set(binaryChunk, this.buffer.length);
    this.buffer = newData;
    const lines = [];
    let patternIndex;
    while ((patternIndex = findNewlineIndex$1(this.buffer, __classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f"))) != null) {
      if (patternIndex.carriage && __classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f") == null) {
        __classPrivateFieldSet$9(this, _LineDecoder_carriageReturnIndex$1, patternIndex.index, "f");
        continue;
      }
      if (__classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f") != null && (patternIndex.index !== __classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f") + 1 || patternIndex.carriage)) {
        lines.push(this.decodeText(this.buffer.slice(0, __classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f") - 1)));
        this.buffer = this.buffer.slice(__classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f"));
        __classPrivateFieldSet$9(this, _LineDecoder_carriageReturnIndex$1, null, "f");
        continue;
      }
      const endIndex = __classPrivateFieldGet$a(this, _LineDecoder_carriageReturnIndex$1, "f") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;
      const line = this.decodeText(this.buffer.slice(0, endIndex));
      lines.push(line);
      this.buffer = this.buffer.slice(patternIndex.index);
      __classPrivateFieldSet$9(this, _LineDecoder_carriageReturnIndex$1, null, "f");
    }
    return lines;
  }
  decodeText(bytes) {
    if (bytes == null)
      return "";
    if (typeof bytes === "string")
      return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`);
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        this.textDecoder ?? (this.textDecoder = new TextDecoder("utf8"));
        return this.textDecoder.decode(bytes);
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);
    }
    throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);
  }
  flush() {
    if (!this.buffer.length) {
      return [];
    }
    return this.decode("\n");
  }
};
_LineDecoder_carriageReturnIndex$1 = /* @__PURE__ */ new WeakMap();
LineDecoder$1.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r"]);
LineDecoder$1.NEWLINE_REGEXP = /\r\n|[\n\r]/g;
function findNewlineIndex$1(buffer, startIndex) {
  const newline = 10;
  const carriage = 13;
  for (let i2 = startIndex ?? 0; i2 < buffer.length; i2++) {
    if (buffer[i2] === newline) {
      return { preceding: i2, index: i2 + 1, carriage: false };
    }
    if (buffer[i2] === carriage) {
      return { preceding: i2, index: i2 + 1, carriage: true };
    }
  }
  return null;
}
function findDoubleNewlineIndex$1(buffer) {
  const newline = 10;
  const carriage = 13;
  for (let i2 = 0; i2 < buffer.length - 1; i2++) {
    if (buffer[i2] === newline && buffer[i2 + 1] === newline) {
      return i2 + 2;
    }
    if (buffer[i2] === carriage && buffer[i2 + 1] === carriage) {
      return i2 + 2;
    }
    if (buffer[i2] === carriage && buffer[i2 + 1] === newline && i2 + 3 < buffer.length && buffer[i2 + 2] === carriage && buffer[i2 + 3] === newline) {
      return i2 + 4;
    }
  }
  return -1;
}
function ReadableStreamToAsyncIterable$1(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e2) {
        reader.releaseLock();
        throw e2;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}
let Stream$1 = class Stream {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed = false;
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const sse of _iterSSEMessages$1(response, controller)) {
          if (done)
            continue;
          if (sse.data.startsWith("[DONE]")) {
            done = true;
            continue;
          }
          if (sse.event === null || sse.event.startsWith("response.") || sse.event.startsWith("transcript.")) {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (data && data.error) {
              throw new APIError$1(void 0, data.error, void 0, createResponseHeaders$1(response.headers));
            }
            yield data;
          } else {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (sse.event == "error") {
              throw new APIError$1(void 0, data.error, data.message, void 0);
            }
            yield { event: sse.event, data };
          }
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller) {
    let consumed = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder$1();
      const iter = ReadableStreamToAsyncIterable$1(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done)
            continue;
          if (line)
            yield JSON.parse(line);
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller),
      new Stream(() => teeIterator(right), this.controller)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream$3({
      async start() {
        iter = self[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      }
    });
  }
};
async function* _iterSSEMessages$1(response, controller) {
  if (!response.body) {
    controller.abort();
    throw new OpenAIError(`Attempted to iterate over a response with no body`);
  }
  const sseDecoder = new SSEDecoder$1();
  const lineDecoder = new LineDecoder$1();
  const iter = ReadableStreamToAsyncIterable$1(response.body);
  for await (const sseChunk of iterSSEChunks$1(iter)) {
    for (const line of lineDecoder.decode(sseChunk)) {
      const sse = sseDecoder.decode(line);
      if (sse)
        yield sse;
    }
  }
  for (const line of lineDecoder.flush()) {
    const sse = sseDecoder.decode(line);
    if (sse)
      yield sse;
  }
}
async function* iterSSEChunks$1(iterator) {
  let data = new Uint8Array();
  for await (const chunk of iterator) {
    if (chunk == null) {
      continue;
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(data.length + binaryChunk.length);
    newData.set(data);
    newData.set(binaryChunk, data.length);
    data = newData;
    let patternIndex;
    while ((patternIndex = findDoubleNewlineIndex$1(data)) !== -1) {
      yield data.slice(0, patternIndex);
      data = data.slice(patternIndex);
    }
  }
  if (data.length > 0) {
    yield data;
  }
}
let SSEDecoder$1 = class SSEDecoder {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _2, value] = partition$1(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
function partition$1(str2, delimiter) {
  const index = str2.indexOf(delimiter);
  if (index !== -1) {
    return [str2.substring(0, index), delimiter, str2.substring(index + delimiter.length)];
  }
  return [str2, "", ""];
}
const isResponseLike$1 = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
const isFileLike$1 = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike$1(value);
const isBlobLike$1 = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
const isUploadable = (value) => {
  return isFileLike$1(value) || isResponseLike$1(value) || isFsReadStream(value);
};
async function toFile$1(value, name, options) {
  var _a2;
  value = await value;
  if (isFileLike$1(value)) {
    return value;
  }
  if (isResponseLike$1(value)) {
    const blob = await value.blob();
    name || (name = new URL(value.url).pathname.split(/[\\/]/).pop() ?? "unknown_file");
    const data = isBlobLike$1(blob) ? [await blob.arrayBuffer()] : [blob];
    return new File$2(data, name, options);
  }
  const bits = await getBytes$1(value);
  name || (name = getName$1(value) ?? "unknown_file");
  if (!(options == null ? void 0 : options.type)) {
    const type = (_a2 = bits[0]) == null ? void 0 : _a2.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File$2(bits, name, options);
}
async function getBytes$1(value) {
  var _a2;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike$1(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator$1(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(`Unexpected data type: ${typeof value}; constructor: ${(_a2 = value == null ? void 0 : value.constructor) == null ? void 0 : _a2.name}; props: ${propsForError$1(value)}`);
  }
  return parts;
}
function propsForError$1(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p2) => `"${p2}"`).join(", ")}]`;
}
function getName$1(value) {
  var _a2;
  return getStringFromMaybeBuffer$1(value.name) || getStringFromMaybeBuffer$1(value.filename) || // For fs.ReadStream
  ((_a2 = getStringFromMaybeBuffer$1(value.path)) == null ? void 0 : _a2.split(/[\\/]/).pop());
}
const getStringFromMaybeBuffer$1 = (x2) => {
  if (typeof x2 === "string")
    return x2;
  if (typeof Buffer !== "undefined" && x2 instanceof Buffer)
    return String(x2);
  return void 0;
};
const isAsyncIterableIterator$1 = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
const isMultipartBody$1 = (body) => body && typeof body === "object" && body.body && body[Symbol.toStringTag] === "MultipartBody";
const multipartFormRequestOptions = async (opts) => {
  const form = await createForm(opts.body);
  return getMultipartRequestOptions$2(form, opts);
};
const createForm = async (body) => {
  const form = new FormData$1();
  await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));
  return form;
};
const addFormValue = async (form, key, value) => {
  if (value === void 0)
    return;
  if (value == null) {
    throw new TypeError(`Received null for "${key}"; to pass null in FormData, you must use the string 'null'`);
  }
  if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
    form.append(key, String(value));
  } else if (isUploadable(value)) {
    const file = await toFile$1(value);
    form.append(key, file);
  } else if (Array.isArray(value)) {
    await Promise.all(value.map((entry) => addFormValue(form, key + "[]", entry)));
  } else if (typeof value === "object") {
    await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));
  } else {
    throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);
  }
};
var __classPrivateFieldSet$8 = function(receiver, state, value, kind2, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$9 = function(receiver, state, kind2, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractPage_client$1;
init$1();
async function defaultParseResponse$1(props) {
  var _a2;
  const { response } = props;
  if (props.options.stream) {
    debug$1("response", response.status, response.url, response.headers, response.body);
    if (props.options.__streamClass) {
      return props.options.__streamClass.fromSSEResponse(response, props.controller);
    }
    return Stream$1.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  const mediaType = (_a2 = contentType == null ? void 0 : contentType.split(";")[0]) == null ? void 0 : _a2.trim();
  const isJSON = (mediaType == null ? void 0 : mediaType.includes("application/json")) || (mediaType == null ? void 0 : mediaType.endsWith("+json"));
  if (isJSON) {
    const json = await response.json();
    debug$1("response", response.status, response.url, response.headers, json);
    return _addRequestID$1(json, response);
  }
  const text = await response.text();
  debug$1("response", response.status, response.url, response.headers, text);
  return text;
}
function _addRequestID$1(value, response) {
  if (!value || typeof value !== "object" || Array.isArray(value)) {
    return value;
  }
  return Object.defineProperty(value, "_request_id", {
    value: response.headers.get("x-request-id"),
    enumerable: false
  });
}
let APIPromise$1 = class APIPromise extends Promise {
  constructor(responsePromise, parseResponse2 = defaultParseResponse$1) {
    super((resolve) => {
      resolve(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse2;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.responsePromise, async (props) => _addRequestID$1(transform(await this.parseResponse(props), props), props.response));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  asResponse() {
    return this.responsePromise.then((p2) => p2.response);
  }
  /**
   * Gets the parsed response data, the raw `Response` instance and the ID of the request,
   * returned via the X-Request-ID header which is useful for debugging requests and reporting
   * issues to OpenAI.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response, request_id: response.headers.get("x-request-id") };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
let APIClient$1 = class APIClient {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    // 10 minutes
    httpAgent,
    fetch: overriddenFetch
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger$1("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger$1("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overriddenFetch ?? fetch$3;
  }
  authHeaders(opts) {
    return {};
  }
  /**
   * Override this to add your own default headers, for example:
   *
   *  {
   *    ...super.defaultHeaders(),
   *    Authorization: 'Bearer 123',
   *  }
   */
  defaultHeaders(opts) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders$1(),
      ...this.authHeaders(opts)
    };
  }
  /**
   * Override this to add your own headers validation:
   */
  validateHeaders(headers, customHeaders) {
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4$1()}`;
  }
  get(path2, opts) {
    return this.methodRequest("get", path2, opts);
  }
  post(path2, opts) {
    return this.methodRequest("post", path2, opts);
  }
  patch(path2, opts) {
    return this.methodRequest("patch", path2, opts);
  }
  put(path2, opts) {
    return this.methodRequest("put", path2, opts);
  }
  delete(path2, opts) {
    return this.methodRequest("delete", path2, opts);
  }
  methodRequest(method, path2, opts) {
    return this.request(Promise.resolve(opts).then(async (opts2) => {
      const body = opts2 && isBlobLike$1(opts2 == null ? void 0 : opts2.body) ? new DataView(await opts2.body.arrayBuffer()) : (opts2 == null ? void 0 : opts2.body) instanceof DataView ? opts2.body : (opts2 == null ? void 0 : opts2.body) instanceof ArrayBuffer ? new DataView(opts2.body) : opts2 && ArrayBuffer.isView(opts2 == null ? void 0 : opts2.body) ? new DataView(opts2.body.buffer) : opts2 == null ? void 0 : opts2.body;
      return { method, path: path2, ...opts2, body };
    }));
  }
  getAPIList(path2, Page3, opts) {
    return this.requestAPIList(Page3, { method: "get", path: path2, ...opts });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    } else if (ArrayBuffer.isView(body)) {
      return body.byteLength.toString();
    }
    return null;
  }
  buildRequest(inputOptions, { retryCount = 0 } = {}) {
    var _a2;
    const options = { ...inputOptions };
    const { method, path: path2, query, headers = {} } = options;
    const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === "string" ? options.body : isMultipartBody$1(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path2, query);
    if ("timeout" in options)
      validatePositiveInteger$1("timeout", options.timeout);
    options.timeout = options.timeout ?? this.timeout;
    const httpAgent = options.httpAgent ?? this.httpAgent ?? getDefaultAgent$1(url);
    const minAgentTimeout = options.timeout + 1e3;
    if (typeof ((_a2 = httpAgent == null ? void 0 : httpAgent.options) == null ? void 0 : _a2.timeout) === "number" && minAgentTimeout > (httpAgent.options.timeout ?? 0)) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!inputOptions.idempotencyKey)
        inputOptions.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = inputOptions.idempotencyKey;
    }
    const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });
    const req = {
      method,
      ...body && { body },
      headers: reqHeaders,
      ...httpAgent && { agent: httpAgent },
      // @ts-ignore node-fetch uses a custom AbortSignal type that is
      // not compatible with standard web types
      signal: options.signal ?? null
    };
    return { req, url, timeout: options.timeout };
  }
  buildHeaders({ options, headers, contentLength, retryCount }) {
    const reqHeaders = {};
    if (contentLength) {
      reqHeaders["content-length"] = contentLength;
    }
    const defaultHeaders = this.defaultHeaders(options);
    applyHeadersMut$1(reqHeaders, defaultHeaders);
    applyHeadersMut$1(reqHeaders, headers);
    if (isMultipartBody$1(options.body) && kind$1 !== "node") {
      delete reqHeaders["content-type"];
    }
    if (getHeader$1(defaultHeaders, "x-stainless-retry-count") === void 0 && getHeader$1(headers, "x-stainless-retry-count") === void 0) {
      reqHeaders["x-stainless-retry-count"] = String(retryCount);
    }
    if (getHeader$1(defaultHeaders, "x-stainless-timeout") === void 0 && getHeader$1(headers, "x-stainless-timeout") === void 0 && options.timeout) {
      reqHeaders["x-stainless-timeout"] = String(Math.trunc(options.timeout / 1e3));
    }
    this.validateHeaders(reqHeaders, headers);
    return reqHeaders;
  }
  /**
   * Used as a callback for mutating the given `FinalRequestOptions` object.
   */
  async prepareOptions(options) {
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  parseHeaders(headers) {
    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header) => [...header])) : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError$1.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise$1(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b;
    const options = await optionsInput;
    const maxRetries = options.maxRetries ?? this.maxRetries;
    if (retriesRemaining == null) {
      retriesRemaining = maxRetries;
    }
    await this.prepareOptions(options);
    const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });
    await this.prepareRequest(req, { url, options });
    debug$1("request", url, options, req.headers);
    if ((_a2 = options.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError$1);
    if (response instanceof Error) {
      if ((_b = options.signal) == null ? void 0 : _b.aborted) {
        throw new APIUserAbortError$1();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError$1();
      }
      throw new APIConnectionError$1({ cause: response });
    }
    const responseHeaders = createResponseHeaders$1(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        const retryMessage2 = `retrying, ${retriesRemaining} attempts remaining`;
        debug$1(`response (error; ${retryMessage2})`, response.status, url, responseHeaders);
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response.text().catch((e2) => castToError$1(e2).message);
      const errJSON = safeJSON$1(errText);
      const errMessage = errJSON ? void 0 : errText;
      const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;
      debug$1(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page3, options) {
    const request = this.makeRequest(options, null);
    return new PagePromise$1(this, request, Page3);
  }
  buildURL(path2, query) {
    const url = isAbsoluteURL$1(path2) ? new URL(path2) : new URL(this.baseURL + (this.baseURL.endsWith("/") && path2.startsWith("/") ? path2.slice(1) : path2));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj$1(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query).filter(([_2, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  async fetchWithTimeout(url, init2, ms2, controller) {
    const { signal, ...options } = init2 || {};
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms2);
    const fetchOptions = {
      signal: controller.signal,
      ...options
    };
    if (fetchOptions.method) {
      fetchOptions.method = fetchOptions.method.toUpperCase();
    }
    return (
      // use undefined this binding; fetch errors if bound to something else in browser/cloudflare
      this.fetch.call(void 0, url, fetchOptions).finally(() => {
        clearTimeout(timeout);
      })
    );
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    let timeoutMillis;
    const retryAfterMillisHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after-ms"];
    if (retryAfterMillisHeader) {
      const timeoutMs = parseFloat(retryAfterMillisHeader);
      if (!Number.isNaN(timeoutMs)) {
        timeoutMillis = timeoutMs;
      }
    }
    const retryAfterHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader && !timeoutMillis) {
      const timeoutSeconds = parseFloat(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1e3)) {
      const maxRetries = options.maxRetries ?? this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep$1(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION$1}`;
  }
};
let AbstractPage$1 = class AbstractPage {
  constructor(client, response, body, options) {
    _AbstractPage_client$1.set(this, void 0);
    __classPrivateFieldSet$8(this, _AbstractPage_client$1, client);
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length)
      return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo && typeof nextOptions.query === "object") {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet$9(this, _AbstractPage_client$1, "f").requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[(_AbstractPage_client$1 = /* @__PURE__ */ new WeakMap(), Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
};
let PagePromise$1 = class PagePromise extends APIPromise$1 {
  constructor(client, request, Page3) {
    super(request, async (props) => new Page3(client, props.response, await defaultParseResponse$1(props), props.options));
  }
  /**
   * Allow auto-paginating iteration on an unawaited list call, eg:
   *
   *    for await (const item of client.items.list()) {
   *      console.log(item)
   *    }
   */
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
};
const createResponseHeaders$1 = (headers) => {
  return new Proxy(Object.fromEntries(
    // @ts-ignore
    headers.entries()
  ), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    }
  });
};
const requestOptionsKeys$1 = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __metadata: true,
  __binaryRequest: true,
  __binaryResponse: true,
  __streamClass: true
};
const isRequestOptions$1 = (obj) => {
  return typeof obj === "object" && obj !== null && !isEmptyObj$1(obj) && Object.keys(obj).every((k2) => hasOwn$1(requestOptionsKeys$1, k2));
};
const getPlatformProperties$1 = () => {
  var _a2;
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION$1,
      "X-Stainless-OS": normalizePlatform$1(Deno.build.os),
      "X-Stainless-Arch": normalizeArch$1(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": typeof Deno.version === "string" ? Deno.version : ((_a2 = Deno.version) == null ? void 0 : _a2.deno) ?? "unknown"
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION$1,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  if (Object.prototype.toString.call(typeof process !== "undefined" ? process : 0) === "[object process]") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION$1,
      "X-Stainless-OS": normalizePlatform$1(process.platform),
      "X-Stainless-Arch": normalizeArch$1(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  const browserInfo = getBrowserInfo$1();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION$1,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION$1,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo$1() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match = pattern.exec(navigator.userAgent);
    if (match) {
      const major = match[1] || 0;
      const minor = match[2] || 0;
      const patch = match[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
const normalizeArch$1 = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
const normalizePlatform$1 = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
let _platformHeaders$1;
const getPlatformHeaders$1 = () => {
  return _platformHeaders$1 ?? (_platformHeaders$1 = getPlatformProperties$1());
};
const safeJSON$1 = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
const startsWithSchemeRegexp$1 = /^[a-z][a-z0-9+.-]*:/i;
const isAbsoluteURL$1 = (url) => {
  return startsWithSchemeRegexp$1.test(url);
};
const sleep$1 = (ms2) => new Promise((resolve) => setTimeout(resolve, ms2));
const validatePositiveInteger$1 = (name, n2) => {
  if (typeof n2 !== "number" || !Number.isInteger(n2)) {
    throw new OpenAIError(`${name} must be an integer`);
  }
  if (n2 < 0) {
    throw new OpenAIError(`${name} must be a positive integer`);
  }
  return n2;
};
const castToError$1 = (err) => {
  if (err instanceof Error)
    return err;
  if (typeof err === "object" && err !== null) {
    try {
      return new Error(JSON.stringify(err));
    } catch {
    }
  }
  return new Error(err);
};
const readEnv$1 = (env) => {
  var _a2, _b, _c, _d, _e2;
  if (typeof process !== "undefined") {
    return ((_b = (_a2 = process.env) == null ? void 0 : _a2[env]) == null ? void 0 : _b.trim()) ?? void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_e2 = (_d = (_c = Deno.env) == null ? void 0 : _c.get) == null ? void 0 : _d.call(_c, env)) == null ? void 0 : _e2.trim();
  }
  return void 0;
};
function isEmptyObj$1(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn$1(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function applyHeadersMut$1(targetHeaders, newHeaders) {
  for (const k2 in newHeaders) {
    if (!hasOwn$1(newHeaders, k2))
      continue;
    const lowerKey = k2.toLowerCase();
    if (!lowerKey)
      continue;
    const val = newHeaders[k2];
    if (val === null) {
      delete targetHeaders[lowerKey];
    } else if (val !== void 0) {
      targetHeaders[lowerKey] = val;
    }
  }
}
const SENSITIVE_HEADERS = /* @__PURE__ */ new Set(["authorization", "api-key"]);
function debug$1(action, ...args) {
  var _a2;
  if (typeof process !== "undefined" && ((_a2 = process.env) == null ? void 0 : _a2["DEBUG"]) === "true") {
    const modifiedArgs = args.map((arg) => {
      if (!arg) {
        return arg;
      }
      if (arg["headers"]) {
        const modifiedArg2 = { ...arg, headers: { ...arg["headers"] } };
        for (const header in arg["headers"]) {
          if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
            modifiedArg2["headers"][header] = "REDACTED";
          }
        }
        return modifiedArg2;
      }
      let modifiedArg = null;
      for (const header in arg) {
        if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
          modifiedArg ?? (modifiedArg = { ...arg });
          modifiedArg[header] = "REDACTED";
        }
      }
      return modifiedArg ?? arg;
    });
    console.log(`OpenAI:DEBUG:${action}`, ...modifiedArgs);
  }
}
const uuid4$1 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c2) => {
    const r2 = Math.random() * 16 | 0;
    const v2 = c2 === "x" ? r2 : r2 & 3 | 8;
    return v2.toString(16);
  });
};
const isRunningInBrowser$1 = () => {
  return (
    // @ts-ignore
    typeof window !== "undefined" && // @ts-ignore
    typeof window.document !== "undefined" && // @ts-ignore
    typeof navigator !== "undefined"
  );
};
const isHeadersProtocol$1 = (headers) => {
  return typeof (headers == null ? void 0 : headers.get) === "function";
};
const getHeader$1 = (headers, header) => {
  var _a2;
  const lowerCasedHeader = header.toLowerCase();
  if (isHeadersProtocol$1(headers)) {
    const intercapsHeader = ((_a2 = header[0]) == null ? void 0 : _a2.toUpperCase()) + header.substring(1).replace(/([^\w])(\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());
    for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {
      const value = headers.get(key);
      if (value) {
        return value;
      }
    }
  }
  for (const [key, value] of Object.entries(headers)) {
    if (key.toLowerCase() === lowerCasedHeader) {
      if (Array.isArray(value)) {
        if (value.length <= 1)
          return value[0];
        console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);
        return value[0];
      }
      return value;
    }
  }
  return void 0;
};
const toFloat32Array = (base64Str) => {
  if (typeof Buffer !== "undefined") {
    const buf = Buffer.from(base64Str, "base64");
    return Array.from(new Float32Array(buf.buffer, buf.byteOffset, buf.length / Float32Array.BYTES_PER_ELEMENT));
  } else {
    const binaryStr = atob(base64Str);
    const len = binaryStr.length;
    const bytes = new Uint8Array(len);
    for (let i2 = 0; i2 < len; i2++) {
      bytes[i2] = binaryStr.charCodeAt(i2);
    }
    return Array.from(new Float32Array(bytes.buffer));
  }
};
function isObj(obj) {
  return obj != null && typeof obj === "object" && !Array.isArray(obj);
}
let Page$1 = class Page extends AbstractPage$1 {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.object = body.object;
  }
  getPaginatedItems() {
    return this.data ?? [];
  }
  // @deprecated Please use `nextPageInfo()` instead
  /**
   * This page represents a response that isn't actually paginated at the API level
   * so there will never be any next page params.
   */
  nextPageParams() {
    return null;
  }
  nextPageInfo() {
    return null;
  }
};
class CursorPage extends AbstractPage$1 {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.has_more = body.has_more || false;
  }
  getPaginatedItems() {
    return this.data ?? [];
  }
  hasNextPage() {
    if (this.has_more === false) {
      return false;
    }
    return super.hasNextPage();
  }
  // @deprecated Please use `nextPageInfo()` instead
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info)
      return null;
    if ("params" in info)
      return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length)
      return null;
    return params;
  }
  nextPageInfo() {
    var _a2;
    const data = this.getPaginatedItems();
    if (!data.length) {
      return null;
    }
    const id = (_a2 = data[data.length - 1]) == null ? void 0 : _a2.id;
    if (!id) {
      return null;
    }
    return { params: { after: id } };
  }
}
let APIResource$1 = class APIResource {
  constructor(client) {
    this._client = client;
  }
};
let Messages$3 = class Messages extends APIResource$1 {
  list(completionId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(completionId, {}, query);
    }
    return this._client.getAPIList(`/chat/completions/${completionId}/messages`, ChatCompletionStoreMessagesPage, { query, ...options });
  }
};
let Completions$3 = class Completions extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.messages = new Messages$3(this._client);
  }
  create(body, options) {
    return this._client.post("/chat/completions", { body, ...options, stream: body.stream ?? false });
  }
  /**
   * Get a stored chat completion. Only Chat Completions that have been created with
   * the `store` parameter set to `true` will be returned.
   */
  retrieve(completionId, options) {
    return this._client.get(`/chat/completions/${completionId}`, options);
  }
  /**
   * Modify a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be modified. Currently, the only
   * supported modification is to update the `metadata` field.
   */
  update(completionId, body, options) {
    return this._client.post(`/chat/completions/${completionId}`, { body, ...options });
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/chat/completions", ChatCompletionsPage, { query, ...options });
  }
  /**
   * Delete a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be deleted.
   */
  del(completionId, options) {
    return this._client.delete(`/chat/completions/${completionId}`, options);
  }
};
class ChatCompletionsPage extends CursorPage {
}
class ChatCompletionStoreMessagesPage extends CursorPage {
}
Completions$3.ChatCompletionsPage = ChatCompletionsPage;
Completions$3.Messages = Messages$3;
let Chat$1 = class Chat extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.completions = new Completions$3(this._client);
  }
};
Chat$1.Completions = Completions$3;
Chat$1.ChatCompletionsPage = ChatCompletionsPage;
class Speech extends APIResource$1 {
  /**
   * Generates audio from the input text.
   */
  create(body, options) {
    return this._client.post("/audio/speech", {
      body,
      ...options,
      headers: { Accept: "application/octet-stream", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
}
class Transcriptions extends APIResource$1 {
  create(body, options) {
    return this._client.post("/audio/transcriptions", multipartFormRequestOptions({
      body,
      ...options,
      stream: body.stream ?? false,
      __metadata: { model: body.model }
    }));
  }
}
class Translations extends APIResource$1 {
  create(body, options) {
    return this._client.post("/audio/translations", multipartFormRequestOptions({ body, ...options, __metadata: { model: body.model } }));
  }
}
class Audio extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.transcriptions = new Transcriptions(this._client);
    this.translations = new Translations(this._client);
    this.speech = new Speech(this._client);
  }
}
Audio.Transcriptions = Transcriptions;
Audio.Translations = Translations;
Audio.Speech = Speech;
let Batches$2 = class Batches extends APIResource$1 {
  /**
   * Creates and executes a batch from an uploaded file of requests
   */
  create(body, options) {
    return this._client.post("/batches", { body, ...options });
  }
  /**
   * Retrieves a batch.
   */
  retrieve(batchId, options) {
    return this._client.get(`/batches/${batchId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/batches", BatchesPage, { query, ...options });
  }
  /**
   * Cancels an in-progress batch. The batch will be in status `cancelling` for up to
   * 10 minutes, before changing to `cancelled`, where it will have partial results
   * (if any) available in the output file.
   */
  cancel(batchId, options) {
    return this._client.post(`/batches/${batchId}/cancel`, options);
  }
};
class BatchesPage extends CursorPage {
}
Batches$2.BatchesPage = BatchesPage;
var __classPrivateFieldSet$7 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$8 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;
class EventStream {
  constructor() {
    _EventStream_instances.add(this);
    this.controller = new AbortController();
    _EventStream_connectedPromise.set(this, void 0);
    _EventStream_resolveConnectedPromise.set(this, () => {
    });
    _EventStream_rejectConnectedPromise.set(this, () => {
    });
    _EventStream_endPromise.set(this, void 0);
    _EventStream_resolveEndPromise.set(this, () => {
    });
    _EventStream_rejectEndPromise.set(this, () => {
    });
    _EventStream_listeners.set(this, {});
    _EventStream_ended.set(this, false);
    _EventStream_errored.set(this, false);
    _EventStream_aborted.set(this, false);
    _EventStream_catchingPromiseCreated.set(this, false);
    __classPrivateFieldSet$7(this, _EventStream_connectedPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet$7(this, _EventStream_resolveConnectedPromise, resolve, "f");
      __classPrivateFieldSet$7(this, _EventStream_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet$7(this, _EventStream_endPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet$7(this, _EventStream_resolveEndPromise, resolve, "f");
      __classPrivateFieldSet$7(this, _EventStream_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet$8(this, _EventStream_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet$8(this, _EventStream_endPromise, "f").catch(() => {
    });
  }
  _run(executor) {
    setTimeout(() => {
      executor().then(() => {
        this._emitFinal();
        this._emit("end");
      }, __classPrivateFieldGet$8(this, _EventStream_instances, "m", _EventStream_handleError).bind(this));
    }, 0);
  }
  _connected() {
    if (this.ended)
      return;
    __classPrivateFieldGet$8(this, _EventStream_resolveConnectedPromise, "f").call(this);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet$8(this, _EventStream_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet$8(this, _EventStream_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet$8(this, _EventStream_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event];
    if (!listeners)
      return this;
    const index = listeners.findIndex((l2) => l2.listener === listener);
    if (index >= 0)
      listeners.splice(index, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve, reject) => {
      __classPrivateFieldSet$7(this, _EventStream_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve);
    });
  }
  async done() {
    __classPrivateFieldSet$7(this, _EventStream_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet$8(this, _EventStream_endPromise, "f");
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet$8(this, _EventStream_ended, "f")) {
      return;
    }
    if (event === "end") {
      __classPrivateFieldSet$7(this, _EventStream_ended, true, "f");
      __classPrivateFieldGet$8(this, _EventStream_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet$8(this, _EventStream_listeners, "f")[event] = listeners.filter((l2) => !l2.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet$8(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet$8(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet$8(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet$8(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet$8(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet$8(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
  }
}
_EventStream_connectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_endPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_listeners = /* @__PURE__ */ new WeakMap(), _EventStream_ended = /* @__PURE__ */ new WeakMap(), _EventStream_errored = /* @__PURE__ */ new WeakMap(), _EventStream_aborted = /* @__PURE__ */ new WeakMap(), _EventStream_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _EventStream_instances = /* @__PURE__ */ new WeakSet(), _EventStream_handleError = function _EventStream_handleError2(error) {
  __classPrivateFieldSet$7(this, _EventStream_errored, true, "f");
  if (error instanceof Error && error.name === "AbortError") {
    error = new APIUserAbortError$1();
  }
  if (error instanceof APIUserAbortError$1) {
    __classPrivateFieldSet$7(this, _EventStream_aborted, true, "f");
    return this._emit("abort", error);
  }
  if (error instanceof OpenAIError) {
    return this._emit("error", error);
  }
  if (error instanceof Error) {
    const openAIError = new OpenAIError(error.message);
    openAIError.cause = error;
    return this._emit("error", openAIError);
  }
  return this._emit("error", new OpenAIError(String(error)));
};
var __classPrivateFieldGet$7 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var __classPrivateFieldSet$6 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var _AssistantStream_instances, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;
class AssistantStream extends EventStream {
  constructor() {
    super(...arguments);
    _AssistantStream_instances.add(this);
    _AssistantStream_events.set(this, []);
    _AssistantStream_runStepSnapshots.set(this, {});
    _AssistantStream_messageSnapshots.set(this, {});
    _AssistantStream_messageSnapshot.set(this, void 0);
    _AssistantStream_finalRun.set(this, void 0);
    _AssistantStream_currentContentIndex.set(this, void 0);
    _AssistantStream_currentContent.set(this, void 0);
    _AssistantStream_currentToolCallIndex.set(this, void 0);
    _AssistantStream_currentToolCall.set(this, void 0);
    _AssistantStream_currentEvent.set(this, void 0);
    _AssistantStream_currentRunSnapshot.set(this, void 0);
    _AssistantStream_currentRunStepSnapshot.set(this, void 0);
  }
  [(_AssistantStream_events = /* @__PURE__ */ new WeakMap(), _AssistantStream_runStepSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_finalRun = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContentIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCallIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCall = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentEvent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunStepSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_instances = /* @__PURE__ */ new WeakSet(), Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  static fromReadableStream(stream) {
    const runner = new AssistantStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    this._connected();
    const stream = Stream$1.fromReadableStream(readableStream, this.controller);
    for await (const event of stream) {
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addRun(__classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  toReadableStream() {
    const stream = new Stream$1(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
  static createToolAssistantStream(threadId, runId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runToolAssistantStream(threadId, runId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createToolAssistantStream(run, threadId, runId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.submitToolOutputs(threadId, runId, body, {
      ...options,
      signal: this.controller.signal
    });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addRun(__classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static createThreadAssistantStream(params, thread, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._threadAssistantStream(params, thread, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  static createAssistantStream(threadId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runAssistantStream(threadId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  currentEvent() {
    return __classPrivateFieldGet$7(this, _AssistantStream_currentEvent, "f");
  }
  currentRun() {
    return __classPrivateFieldGet$7(this, _AssistantStream_currentRunSnapshot, "f");
  }
  currentMessageSnapshot() {
    return __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f");
  }
  currentRunStepSnapshot() {
    return __classPrivateFieldGet$7(this, _AssistantStream_currentRunStepSnapshot, "f");
  }
  async finalRunSteps() {
    await this.done();
    return Object.values(__classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f"));
  }
  async finalMessages() {
    await this.done();
    return Object.values(__classPrivateFieldGet$7(this, _AssistantStream_messageSnapshots, "f"));
  }
  async finalRun() {
    await this.done();
    if (!__classPrivateFieldGet$7(this, _AssistantStream_finalRun, "f"))
      throw Error("Final run was not received.");
    return __classPrivateFieldGet$7(this, _AssistantStream_finalRun, "f");
  }
  async _createThreadAssistantStream(thread, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addRun(__classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  async _createAssistantStream(run, threadId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addRun(__classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static accumulateDelta(acc, delta) {
    for (const [key, deltaValue] of Object.entries(delta)) {
      if (!acc.hasOwnProperty(key)) {
        acc[key] = deltaValue;
        continue;
      }
      let accValue = acc[key];
      if (accValue === null || accValue === void 0) {
        acc[key] = deltaValue;
        continue;
      }
      if (key === "index" || key === "type") {
        acc[key] = deltaValue;
        continue;
      }
      if (typeof accValue === "string" && typeof deltaValue === "string") {
        accValue += deltaValue;
      } else if (typeof accValue === "number" && typeof deltaValue === "number") {
        accValue += deltaValue;
      } else if (isObj(accValue) && isObj(deltaValue)) {
        accValue = this.accumulateDelta(accValue, deltaValue);
      } else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {
        if (accValue.every((x2) => typeof x2 === "string" || typeof x2 === "number")) {
          accValue.push(...deltaValue);
          continue;
        }
        for (const deltaEntry of deltaValue) {
          if (!isObj(deltaEntry)) {
            throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);
          }
          const index = deltaEntry["index"];
          if (index == null) {
            console.error(deltaEntry);
            throw new Error("Expected array delta entry to have an `index` property");
          }
          if (typeof index !== "number") {
            throw new Error(`Expected array delta entry \`index\` property to be a number but got ${index}`);
          }
          const accEntry = accValue[index];
          if (accEntry == null) {
            accValue.push(deltaEntry);
          } else {
            accValue[index] = this.accumulateDelta(accEntry, deltaEntry);
          }
        }
        continue;
      } else {
        throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);
      }
      acc[key] = accValue;
    }
    return acc;
  }
  _addRun(run) {
    return run;
  }
  async _threadAssistantStream(params, thread, options) {
    return await this._createThreadAssistantStream(thread, params, options);
  }
  async _runAssistantStream(threadId, runs, params, options) {
    return await this._createAssistantStream(runs, threadId, params, options);
  }
  async _runToolAssistantStream(threadId, runId, runs, params, options) {
    return await this._createToolAssistantStream(runs, threadId, runId, params, options);
  }
}
_AssistantStream_addEvent = function _AssistantStream_addEvent2(event) {
  if (this.ended)
    return;
  __classPrivateFieldSet$6(this, _AssistantStream_currentEvent, event, "f");
  __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_handleEvent).call(this, event);
  switch (event.event) {
    case "thread.created":
      break;
    case "thread.run.created":
    case "thread.run.queued":
    case "thread.run.in_progress":
    case "thread.run.requires_action":
    case "thread.run.completed":
    case "thread.run.incomplete":
    case "thread.run.failed":
    case "thread.run.cancelling":
    case "thread.run.cancelled":
    case "thread.run.expired":
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_handleRun).call(this, event);
      break;
    case "thread.run.step.created":
    case "thread.run.step.in_progress":
    case "thread.run.step.delta":
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_handleRunStep).call(this, event);
      break;
    case "thread.message.created":
    case "thread.message.in_progress":
    case "thread.message.delta":
    case "thread.message.completed":
    case "thread.message.incomplete":
      __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_handleMessage).call(this, event);
      break;
    case "error":
      throw new Error("Encountered an error event in event processing - errors should be processed earlier");
  }
}, _AssistantStream_endRequest = function _AssistantStream_endRequest2() {
  if (this.ended) {
    throw new OpenAIError(`stream has ended, this shouldn't happen`);
  }
  if (!__classPrivateFieldGet$7(this, _AssistantStream_finalRun, "f"))
    throw Error("Final run has not been received");
  return __classPrivateFieldGet$7(this, _AssistantStream_finalRun, "f");
}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage2(event) {
  const [accumulatedMessage, newContent] = __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f"));
  __classPrivateFieldSet$6(this, _AssistantStream_messageSnapshot, accumulatedMessage, "f");
  __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshots, "f")[accumulatedMessage.id] = accumulatedMessage;
  for (const content of newContent) {
    const snapshotContent = accumulatedMessage.content[content.index];
    if ((snapshotContent == null ? void 0 : snapshotContent.type) == "text") {
      this._emit("textCreated", snapshotContent.text);
    }
  }
  switch (event.event) {
    case "thread.message.created":
      this._emit("messageCreated", event.data);
      break;
    case "thread.message.in_progress":
      break;
    case "thread.message.delta":
      this._emit("messageDelta", event.data.delta, accumulatedMessage);
      if (event.data.delta.content) {
        for (const content of event.data.delta.content) {
          if (content.type == "text" && content.text) {
            let textDelta = content.text;
            let snapshot = accumulatedMessage.content[content.index];
            if (snapshot && snapshot.type == "text") {
              this._emit("textDelta", textDelta, snapshot.text);
            } else {
              throw Error("The snapshot associated with this text delta is not text or missing");
            }
          }
          if (content.index != __classPrivateFieldGet$7(this, _AssistantStream_currentContentIndex, "f")) {
            if (__classPrivateFieldGet$7(this, _AssistantStream_currentContent, "f")) {
              switch (__classPrivateFieldGet$7(this, _AssistantStream_currentContent, "f").type) {
                case "text":
                  this._emit("textDone", __classPrivateFieldGet$7(this, _AssistantStream_currentContent, "f").text, __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f"));
                  break;
                case "image_file":
                  this._emit("imageFileDone", __classPrivateFieldGet$7(this, _AssistantStream_currentContent, "f").image_file, __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f"));
                  break;
              }
            }
            __classPrivateFieldSet$6(this, _AssistantStream_currentContentIndex, content.index, "f");
          }
          __classPrivateFieldSet$6(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], "f");
        }
      }
      break;
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (__classPrivateFieldGet$7(this, _AssistantStream_currentContentIndex, "f") !== void 0) {
        const currentContent = event.data.content[__classPrivateFieldGet$7(this, _AssistantStream_currentContentIndex, "f")];
        if (currentContent) {
          switch (currentContent.type) {
            case "image_file":
              this._emit("imageFileDone", currentContent.image_file, __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f"));
              break;
            case "text":
              this._emit("textDone", currentContent.text, __classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f"));
              break;
          }
        }
      }
      if (__classPrivateFieldGet$7(this, _AssistantStream_messageSnapshot, "f")) {
        this._emit("messageDone", event.data);
      }
      __classPrivateFieldSet$6(this, _AssistantStream_messageSnapshot, void 0, "f");
  }
}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep2(event) {
  const accumulatedRunStep = __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_accumulateRunStep).call(this, event);
  __classPrivateFieldSet$6(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, "f");
  switch (event.event) {
    case "thread.run.step.created":
      this._emit("runStepCreated", event.data);
      break;
    case "thread.run.step.delta":
      const delta = event.data.delta;
      if (delta.step_details && delta.step_details.type == "tool_calls" && delta.step_details.tool_calls && accumulatedRunStep.step_details.type == "tool_calls") {
        for (const toolCall of delta.step_details.tool_calls) {
          if (toolCall.index == __classPrivateFieldGet$7(this, _AssistantStream_currentToolCallIndex, "f")) {
            this._emit("toolCallDelta", toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);
          } else {
            if (__classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f")) {
              this._emit("toolCallDone", __classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f"));
            }
            __classPrivateFieldSet$6(this, _AssistantStream_currentToolCallIndex, toolCall.index, "f");
            __classPrivateFieldSet$6(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], "f");
            if (__classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f"))
              this._emit("toolCallCreated", __classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f"));
          }
        }
      }
      this._emit("runStepDelta", event.data.delta, accumulatedRunStep);
      break;
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldSet$6(this, _AssistantStream_currentRunStepSnapshot, void 0, "f");
      const details = event.data.step_details;
      if (details.type == "tool_calls") {
        if (__classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f")) {
          this._emit("toolCallDone", __classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f"));
          __classPrivateFieldSet$6(this, _AssistantStream_currentToolCall, void 0, "f");
        }
      }
      this._emit("runStepDone", event.data, accumulatedRunStep);
      break;
  }
}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent2(event) {
  __classPrivateFieldGet$7(this, _AssistantStream_events, "f").push(event);
  this._emit("event", event);
}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep2(event) {
  switch (event.event) {
    case "thread.run.step.created":
      __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      return event.data;
    case "thread.run.step.delta":
      let snapshot = __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
      if (!snapshot) {
        throw Error("Received a RunStepDelta before creation of a snapshot");
      }
      let data = event.data;
      if (data.delta) {
        const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);
        __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = accumulated;
      }
      return __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
    case "thread.run.step.in_progress":
      __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      break;
  }
  if (__classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id])
    return __classPrivateFieldGet$7(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
  throw new Error("No snapshot available");
}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage2(event, snapshot) {
  let newContent = [];
  switch (event.event) {
    case "thread.message.created":
      return [event.data, newContent];
    case "thread.message.delta":
      if (!snapshot) {
        throw Error("Received a delta with no existing snapshot (there should be one from message creation)");
      }
      let data = event.data;
      if (data.delta.content) {
        for (const contentElement of data.delta.content) {
          if (contentElement.index in snapshot.content) {
            let currentContent = snapshot.content[contentElement.index];
            snapshot.content[contentElement.index] = __classPrivateFieldGet$7(this, _AssistantStream_instances, "m", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);
          } else {
            snapshot.content[contentElement.index] = contentElement;
            newContent.push(contentElement);
          }
        }
      }
      return [snapshot, newContent];
    case "thread.message.in_progress":
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (snapshot) {
        return [snapshot, newContent];
      } else {
        throw Error("Received thread message event with no existing snapshot");
      }
  }
  throw Error("Tried to accumulate a non-message event");
}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent2(contentElement, currentContent) {
  return AssistantStream.accumulateDelta(currentContent, contentElement);
}, _AssistantStream_handleRun = function _AssistantStream_handleRun2(event) {
  __classPrivateFieldSet$6(this, _AssistantStream_currentRunSnapshot, event.data, "f");
  switch (event.event) {
    case "thread.run.created":
      break;
    case "thread.run.queued":
      break;
    case "thread.run.in_progress":
      break;
    case "thread.run.requires_action":
    case "thread.run.cancelled":
    case "thread.run.failed":
    case "thread.run.completed":
    case "thread.run.expired":
      __classPrivateFieldSet$6(this, _AssistantStream_finalRun, event.data, "f");
      if (__classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f")) {
        this._emit("toolCallDone", __classPrivateFieldGet$7(this, _AssistantStream_currentToolCall, "f"));
        __classPrivateFieldSet$6(this, _AssistantStream_currentToolCall, void 0, "f");
      }
      break;
  }
};
class Assistants extends APIResource$1 {
  /**
   * Create an assistant with a model and instructions.
   */
  create(body, options) {
    return this._client.post("/assistants", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves an assistant.
   */
  retrieve(assistantId, options) {
    return this._client.get(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies an assistant.
   */
  update(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/assistants", AssistantsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete an assistant.
   */
  del(assistantId, options) {
    return this._client.delete(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
}
class AssistantsPage extends CursorPage {
}
Assistants.AssistantsPage = AssistantsPage;
function isRunnableFunctionWithParse(fn) {
  return typeof fn.parse === "function";
}
const isAssistantMessage = (message) => {
  return (message == null ? void 0 : message.role) === "assistant";
};
const isFunctionMessage = (message) => {
  return (message == null ? void 0 : message.role) === "function";
};
const isToolMessage = (message) => {
  return (message == null ? void 0 : message.role) === "tool";
};
function isAutoParsableResponseFormat(response_format) {
  return (response_format == null ? void 0 : response_format["$brand"]) === "auto-parseable-response-format";
}
function isAutoParsableTool$1(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function maybeParseChatCompletion(completion, params) {
  if (!params || !hasAutoParseableInput$1(params)) {
    return {
      ...completion,
      choices: completion.choices.map((choice) => ({
        ...choice,
        message: {
          ...choice.message,
          parsed: null,
          ...choice.message.tool_calls ? {
            tool_calls: choice.message.tool_calls
          } : void 0
        }
      }))
    };
  }
  return parseChatCompletion(completion, params);
}
function parseChatCompletion(completion, params) {
  const choices = completion.choices.map((choice) => {
    var _a2;
    if (choice.finish_reason === "length") {
      throw new LengthFinishReasonError();
    }
    if (choice.finish_reason === "content_filter") {
      throw new ContentFilterFinishReasonError();
    }
    return {
      ...choice,
      message: {
        ...choice.message,
        ...choice.message.tool_calls ? {
          tool_calls: ((_a2 = choice.message.tool_calls) == null ? void 0 : _a2.map((toolCall) => parseToolCall$1(params, toolCall))) ?? void 0
        } : void 0,
        parsed: choice.message.content && !choice.message.refusal ? parseResponseFormat(params, choice.message.content) : null
      }
    };
  });
  return { ...completion, choices };
}
function parseResponseFormat(params, content) {
  var _a2, _b;
  if (((_a2 = params.response_format) == null ? void 0 : _a2.type) !== "json_schema") {
    return null;
  }
  if (((_b = params.response_format) == null ? void 0 : _b.type) === "json_schema") {
    if ("$parseRaw" in params.response_format) {
      const response_format = params.response_format;
      return response_format.$parseRaw(content);
    }
    return JSON.parse(content);
  }
  return null;
}
function parseToolCall$1(params, toolCall) {
  var _a2;
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return {
    ...toolCall,
    function: {
      ...toolCall.function,
      parsed_arguments: isAutoParsableTool$1(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCall.function.arguments) : null
    }
  };
}
function shouldParseToolCall(params, toolCall) {
  var _a2;
  if (!params) {
    return false;
  }
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return isAutoParsableTool$1(inputTool) || (inputTool == null ? void 0 : inputTool.function.strict) || false;
}
function hasAutoParseableInput$1(params) {
  var _a2;
  if (isAutoParsableResponseFormat(params.response_format)) {
    return true;
  }
  return ((_a2 = params.tools) == null ? void 0 : _a2.some((t2) => isAutoParsableTool$1(t2) || t2.type === "function" && t2.function.strict === true)) ?? false;
}
function validateInputTools(tools) {
  for (const tool of tools ?? []) {
    if (tool.type !== "function") {
      throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${tool.type}\``);
    }
    if (tool.function.strict !== true) {
      throw new OpenAIError(`The \`${tool.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`);
    }
  }
}
var __classPrivateFieldGet$6 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;
const DEFAULT_MAX_CHAT_COMPLETIONS = 10;
class AbstractChatCompletionRunner extends EventStream {
  constructor() {
    super(...arguments);
    _AbstractChatCompletionRunner_instances.add(this);
    this._chatCompletions = [];
    this.messages = [];
  }
  _addChatCompletion(chatCompletion) {
    var _a2;
    this._chatCompletions.push(chatCompletion);
    this._emit("chatCompletion", chatCompletion);
    const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
    if (message)
      this._addMessage(message);
    return chatCompletion;
  }
  _addMessage(message, emit = true) {
    if (!("content" in message))
      message.content = null;
    this.messages.push(message);
    if (emit) {
      this._emit("message", message);
      if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {
        this._emit("functionCallResult", message.content);
      } else if (isAssistantMessage(message) && message.function_call) {
        this._emit("functionCall", message.function_call);
      } else if (isAssistantMessage(message) && message.tool_calls) {
        for (const tool_call of message.tool_calls) {
          if (tool_call.type === "function") {
            this._emit("functionCall", tool_call.function);
          }
        }
      }
    }
  }
  /**
   * @returns a promise that resolves with the final ChatCompletion, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletion.
   */
  async finalChatCompletion() {
    await this.done();
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (!completion)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return completion;
  }
  /**
   * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalContent() {
    await this.done();
    return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,
   * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the content of the final FunctionCall, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalFunctionCall() {
    await this.done();
    return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
  }
  async finalFunctionCallResult() {
    await this.done();
    return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
  }
  async totalUsage() {
    await this.done();
    return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);
  }
  allChatCompletions() {
    return [...this._chatCompletions];
  }
  _emitFinal() {
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (completion)
      this._emit("finalChatCompletion", completion);
    const finalMessage = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
    if (finalMessage)
      this._emit("finalMessage", finalMessage);
    const finalContent = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
    if (finalContent)
      this._emit("finalContent", finalContent);
    const finalFunctionCall = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
    if (finalFunctionCall)
      this._emit("finalFunctionCall", finalFunctionCall);
    const finalFunctionCallResult = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
    if (finalFunctionCallResult != null)
      this._emit("finalFunctionCallResult", finalFunctionCallResult);
    if (this._chatCompletions.some((c2) => c2.usage)) {
      this._emit("totalUsage", __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));
    }
  }
  async _createChatCompletion(client, params, options) {
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_validateParams).call(this, params);
    const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });
    this._connected();
    return this._addChatCompletion(parseChatCompletion(chatCompletion, params));
  }
  async _runChatCompletion(client, params, options) {
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    return await this._createChatCompletion(client, params, options);
  }
  async _runFunctions(client, params, options) {
    var _a2;
    const role = "function";
    const { function_call = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof function_call !== "string" && (function_call == null ? void 0 : function_call.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f2 of params.functions) {
      functionsByName[f2.name || f2.function.name] = f2;
    }
    const functions = params.functions.map((f2) => ({
      name: f2.name || f2.function.name,
      parameters: f2.parameters,
      description: f2.description
    }));
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i2 = 0; i2 < maxChatCompletions; ++i2) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        function_call,
        functions,
        messages: [...this.messages]
      }, options);
      const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.function_call)
        return;
      const { name, arguments: args } = message.function_call;
      const fn = functionsByName[name];
      if (!fn) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f2) => JSON.stringify(f2.name)).join(", ")}. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      } else if (singleFunctionToCall && singleFunctionToCall !== name) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      }
      let parsed;
      try {
        parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
      } catch (error) {
        this._addMessage({
          role,
          name,
          content: error instanceof Error ? error.message : String(error)
        });
        continue;
      }
      const rawContent = await fn.function(parsed, this);
      const content = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
      this._addMessage({ role, name, content });
      if (singleFunctionToCall)
        return;
    }
  }
  async _runTools(client, params, options) {
    var _a2, _b, _c;
    const role = "tool";
    const { tool_choice = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof tool_choice !== "string" && ((_a2 = tool_choice == null ? void 0 : tool_choice.function) == null ? void 0 : _a2.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const inputTools = params.tools.map((tool) => {
      if (isAutoParsableTool$1(tool)) {
        if (!tool.$callback) {
          throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");
        }
        return {
          type: "function",
          function: {
            function: tool.$callback,
            name: tool.function.name,
            description: tool.function.description || "",
            parameters: tool.function.parameters,
            parse: tool.$parseRaw,
            strict: true
          }
        };
      }
      return tool;
    });
    const functionsByName = {};
    for (const f2 of inputTools) {
      if (f2.type === "function") {
        functionsByName[f2.function.name || f2.function.function.name] = f2.function;
      }
    }
    const tools = "tools" in params ? inputTools.map((t2) => t2.type === "function" ? {
      type: "function",
      function: {
        name: t2.function.name || t2.function.function.name,
        parameters: t2.function.parameters,
        description: t2.function.description,
        strict: t2.function.strict
      }
    } : t2) : void 0;
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i2 = 0; i2 < maxChatCompletions; ++i2) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        tool_choice,
        tools,
        messages: [...this.messages]
      }, options);
      const message = (_b = chatCompletion.choices[0]) == null ? void 0 : _b.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!((_c = message.tool_calls) == null ? void 0 : _c.length)) {
        return;
      }
      for (const tool_call of message.tool_calls) {
        if (tool_call.type !== "function")
          continue;
        const tool_call_id = tool_call.id;
        const { name, arguments: args } = tool_call.function;
        const fn = functionsByName[name];
        if (!fn) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName).map((name2) => JSON.stringify(name2)).join(", ")}. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        } else if (singleFunctionToCall && singleFunctionToCall !== name) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        let parsed;
        try {
          parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
        } catch (error) {
          const content2 = error instanceof Error ? error.message : String(error);
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        const rawContent = await fn.function(parsed, this);
        const content = __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
        this._addMessage({ role, tool_call_id, content });
        if (singleFunctionToCall) {
          return;
        }
      }
    }
    return;
  }
}
_AbstractChatCompletionRunner_instances = /* @__PURE__ */ new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent2() {
  return __classPrivateFieldGet$6(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;
}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage2() {
  let i2 = this.messages.length;
  while (i2-- > 0) {
    const message = this.messages[i2];
    if (isAssistantMessage(message)) {
      const { function_call, ...rest } = message;
      const ret = {
        ...rest,
        content: message.content ?? null,
        refusal: message.refusal ?? null
      };
      if (function_call) {
        ret.function_call = function_call;
      }
      return ret;
    }
  }
  throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant");
}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall2() {
  var _a2, _b;
  for (let i2 = this.messages.length - 1; i2 >= 0; i2--) {
    const message = this.messages[i2];
    if (isAssistantMessage(message) && (message == null ? void 0 : message.function_call)) {
      return message.function_call;
    }
    if (isAssistantMessage(message) && ((_a2 = message == null ? void 0 : message.tool_calls) == null ? void 0 : _a2.length)) {
      return (_b = message.tool_calls.at(-1)) == null ? void 0 : _b.function;
    }
  }
  return;
}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult2() {
  for (let i2 = this.messages.length - 1; i2 >= 0; i2--) {
    const message = this.messages[i2];
    if (isFunctionMessage(message) && message.content != null) {
      return message.content;
    }
    if (isToolMessage(message) && message.content != null && typeof message.content === "string" && this.messages.some((x2) => {
      var _a2;
      return x2.role === "assistant" && ((_a2 = x2.tool_calls) == null ? void 0 : _a2.some((y2) => y2.type === "function" && y2.id === message.tool_call_id));
    })) {
      return message.content;
    }
  }
  return;
}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage2() {
  const total = {
    completion_tokens: 0,
    prompt_tokens: 0,
    total_tokens: 0
  };
  for (const { usage } of this._chatCompletions) {
    if (usage) {
      total.completion_tokens += usage.completion_tokens;
      total.prompt_tokens += usage.prompt_tokens;
      total.total_tokens += usage.total_tokens;
    }
  }
  return total;
}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams2(params) {
  if (params.n != null && params.n > 1) {
    throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.");
  }
}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult2(rawContent) {
  return typeof rawContent === "string" ? rawContent : rawContent === void 0 ? "undefined" : JSON.stringify(rawContent);
};
class ChatCompletionRunner extends AbstractChatCompletionRunner {
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts));
    return runner;
  }
  _addMessage(message, emit = true) {
    super._addMessage(message, emit);
    if (isAssistantMessage(message) && message.content) {
      this._emit("content", message.content);
    }
  }
}
const STR = 1;
const NUM = 2;
const ARR = 4;
const OBJ = 8;
const NULL = 16;
const BOOL = 32;
const NAN = 64;
const INFINITY = 128;
const MINUS_INFINITY = 256;
const INF = INFINITY | MINUS_INFINITY;
const SPECIAL = NULL | BOOL | INF | NAN;
const ATOM = STR | NUM | SPECIAL;
const COLLECTION = ARR | OBJ;
const ALL = ATOM | COLLECTION;
const Allow = {
  STR,
  NUM,
  ARR,
  OBJ,
  NULL,
  BOOL,
  NAN,
  INFINITY,
  MINUS_INFINITY,
  INF,
  SPECIAL,
  ATOM,
  COLLECTION,
  ALL
};
class PartialJSON extends Error {
}
class MalformedJSON extends Error {
}
function parseJSON(jsonString, allowPartial = Allow.ALL) {
  if (typeof jsonString !== "string") {
    throw new TypeError(`expecting str, got ${typeof jsonString}`);
  }
  if (!jsonString.trim()) {
    throw new Error(`${jsonString} is empty`);
  }
  return _parseJSON(jsonString.trim(), allowPartial);
}
const _parseJSON = (jsonString, allow) => {
  const length = jsonString.length;
  let index = 0;
  const markPartialJSON = (msg) => {
    throw new PartialJSON(`${msg} at position ${index}`);
  };
  const throwMalformedError = (msg) => {
    throw new MalformedJSON(`${msg} at position ${index}`);
  };
  const parseAny = () => {
    skipBlank();
    if (index >= length)
      markPartialJSON("Unexpected end of input");
    if (jsonString[index] === '"')
      return parseStr();
    if (jsonString[index] === "{")
      return parseObj();
    if (jsonString[index] === "[")
      return parseArr();
    if (jsonString.substring(index, index + 4) === "null" || Allow.NULL & allow && length - index < 4 && "null".startsWith(jsonString.substring(index))) {
      index += 4;
      return null;
    }
    if (jsonString.substring(index, index + 4) === "true" || Allow.BOOL & allow && length - index < 4 && "true".startsWith(jsonString.substring(index))) {
      index += 4;
      return true;
    }
    if (jsonString.substring(index, index + 5) === "false" || Allow.BOOL & allow && length - index < 5 && "false".startsWith(jsonString.substring(index))) {
      index += 5;
      return false;
    }
    if (jsonString.substring(index, index + 8) === "Infinity" || Allow.INFINITY & allow && length - index < 8 && "Infinity".startsWith(jsonString.substring(index))) {
      index += 8;
      return Infinity;
    }
    if (jsonString.substring(index, index + 9) === "-Infinity" || Allow.MINUS_INFINITY & allow && 1 < length - index && length - index < 9 && "-Infinity".startsWith(jsonString.substring(index))) {
      index += 9;
      return -Infinity;
    }
    if (jsonString.substring(index, index + 3) === "NaN" || Allow.NAN & allow && length - index < 3 && "NaN".startsWith(jsonString.substring(index))) {
      index += 3;
      return NaN;
    }
    return parseNum();
  };
  const parseStr = () => {
    const start = index;
    let escape2 = false;
    index++;
    while (index < length && (jsonString[index] !== '"' || escape2 && jsonString[index - 1] === "\\")) {
      escape2 = jsonString[index] === "\\" ? !escape2 : false;
      index++;
    }
    if (jsonString.charAt(index) == '"') {
      try {
        return JSON.parse(jsonString.substring(start, ++index - Number(escape2)));
      } catch (e2) {
        throwMalformedError(String(e2));
      }
    } else if (Allow.STR & allow) {
      try {
        return JSON.parse(jsonString.substring(start, index - Number(escape2)) + '"');
      } catch (e2) {
        return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf("\\")) + '"');
      }
    }
    markPartialJSON("Unterminated string literal");
  };
  const parseObj = () => {
    index++;
    skipBlank();
    const obj = {};
    try {
      while (jsonString[index] !== "}") {
        skipBlank();
        if (index >= length && Allow.OBJ & allow)
          return obj;
        const key = parseStr();
        skipBlank();
        index++;
        try {
          const value = parseAny();
          Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });
        } catch (e2) {
          if (Allow.OBJ & allow)
            return obj;
          else
            throw e2;
        }
        skipBlank();
        if (jsonString[index] === ",")
          index++;
      }
    } catch (e2) {
      if (Allow.OBJ & allow)
        return obj;
      else
        markPartialJSON("Expected '}' at end of object");
    }
    index++;
    return obj;
  };
  const parseArr = () => {
    index++;
    const arr = [];
    try {
      while (jsonString[index] !== "]") {
        arr.push(parseAny());
        skipBlank();
        if (jsonString[index] === ",") {
          index++;
        }
      }
    } catch (e2) {
      if (Allow.ARR & allow) {
        return arr;
      }
      markPartialJSON("Expected ']' at end of array");
    }
    index++;
    return arr;
  };
  const parseNum = () => {
    if (index === 0) {
      if (jsonString === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString);
      } catch (e2) {
        if (Allow.NUM & allow) {
          try {
            if ("." === jsonString[jsonString.length - 1])
              return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(".")));
            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf("e")));
          } catch (e3) {
          }
        }
        throwMalformedError(String(e2));
      }
    }
    const start = index;
    if (jsonString[index] === "-")
      index++;
    while (jsonString[index] && !",]}".includes(jsonString[index]))
      index++;
    if (index == length && !(Allow.NUM & allow))
      markPartialJSON("Unterminated number literal");
    try {
      return JSON.parse(jsonString.substring(start, index));
    } catch (e2) {
      if (jsonString.substring(start, index) === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf("e")));
      } catch (e3) {
        throwMalformedError(String(e3));
      }
    }
  };
  const skipBlank = () => {
    while (index < length && " \n\r	".includes(jsonString[index])) {
      index++;
    }
  };
  return parseAny();
};
const partialParse$1 = (input) => parseJSON(input, Allow.ALL ^ Allow.NUM);
var __classPrivateFieldSet$5 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$5 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;
class ChatCompletionStream extends AbstractChatCompletionRunner {
  constructor(params) {
    super();
    _ChatCompletionStream_instances.add(this);
    _ChatCompletionStream_params.set(this, void 0);
    _ChatCompletionStream_choiceEventStates.set(this, void 0);
    _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);
    __classPrivateFieldSet$5(this, _ChatCompletionStream_params, params, "f");
    __classPrivateFieldSet$5(this, _ChatCompletionStream_choiceEventStates, [], "f");
  }
  get currentChatCompletionSnapshot() {
    return __classPrivateFieldGet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStream(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createChatCompletion(client, params, options) {
    const runner = new ChatCompletionStream(params);
    runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  async _createChatCompletion(client, params, options) {
    var _a2;
    super._createChatCompletion;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const chunk of stream) {
      __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addChatCompletion(__classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    this._connected();
    const stream = Stream$1.fromReadableStream(readableStream, this.controller);
    let chatId;
    for await (const chunk of stream) {
      if (chatId && chatId !== chunk.id) {
        this._addChatCompletion(__classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
      }
      __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
      chatId = chunk.id;
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return this._addChatCompletion(__classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  [(_ChatCompletionStream_params = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_choiceEventStates = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_instances = /* @__PURE__ */ new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
  }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState2(choice) {
    let state = __classPrivateFieldGet$5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index];
    if (state) {
      return state;
    }
    state = {
      content_done: false,
      refusal_done: false,
      logprobs_content_done: false,
      logprobs_refusal_done: false,
      done_tool_calls: /* @__PURE__ */ new Set(),
      current_tool_call_index: null
    };
    __classPrivateFieldGet$5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index] = state;
    return state;
  }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk2(chunk) {
    var _a2, _b, _c, _d, _e2, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;
    if (this.ended)
      return;
    const completion = __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);
    this._emit("chunk", chunk, completion);
    for (const choice of chunk.choices) {
      const choiceSnapshot = completion.choices[choice.index];
      if (choice.delta.content != null && ((_a2 = choiceSnapshot.message) == null ? void 0 : _a2.role) === "assistant" && ((_b = choiceSnapshot.message) == null ? void 0 : _b.content)) {
        this._emit("content", choice.delta.content, choiceSnapshot.message.content);
        this._emit("content.delta", {
          delta: choice.delta.content,
          snapshot: choiceSnapshot.message.content,
          parsed: choiceSnapshot.message.parsed
        });
      }
      if (choice.delta.refusal != null && ((_c = choiceSnapshot.message) == null ? void 0 : _c.role) === "assistant" && ((_d = choiceSnapshot.message) == null ? void 0 : _d.refusal)) {
        this._emit("refusal.delta", {
          delta: choice.delta.refusal,
          snapshot: choiceSnapshot.message.refusal
        });
      }
      if (((_e2 = choice.logprobs) == null ? void 0 : _e2.content) != null && ((_f = choiceSnapshot.message) == null ? void 0 : _f.role) === "assistant") {
        this._emit("logprobs.content.delta", {
          content: (_g = choice.logprobs) == null ? void 0 : _g.content,
          snapshot: ((_h = choiceSnapshot.logprobs) == null ? void 0 : _h.content) ?? []
        });
      }
      if (((_i = choice.logprobs) == null ? void 0 : _i.refusal) != null && ((_j = choiceSnapshot.message) == null ? void 0 : _j.role) === "assistant") {
        this._emit("logprobs.refusal.delta", {
          refusal: (_k = choice.logprobs) == null ? void 0 : _k.refusal,
          snapshot: ((_l = choiceSnapshot.logprobs) == null ? void 0 : _l.refusal) ?? []
        });
      }
      const state = __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
      if (choiceSnapshot.finish_reason) {
        __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
        if (state.current_tool_call_index != null) {
          __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
        }
      }
      for (const toolCall of choice.delta.tool_calls ?? []) {
        if (state.current_tool_call_index !== toolCall.index) {
          __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
          if (state.current_tool_call_index != null) {
            __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
          }
        }
        state.current_tool_call_index = toolCall.index;
      }
      for (const toolCallDelta of choice.delta.tool_calls ?? []) {
        const toolCallSnapshot = (_m = choiceSnapshot.message.tool_calls) == null ? void 0 : _m[toolCallDelta.index];
        if (!(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type)) {
          continue;
        }
        if ((toolCallSnapshot == null ? void 0 : toolCallSnapshot.type) === "function") {
          this._emit("tool_calls.function.arguments.delta", {
            name: (_n = toolCallSnapshot.function) == null ? void 0 : _n.name,
            index: toolCallDelta.index,
            arguments: toolCallSnapshot.function.arguments,
            parsed_arguments: toolCallSnapshot.function.parsed_arguments,
            arguments_delta: ((_o = toolCallDelta.function) == null ? void 0 : _o.arguments) ?? ""
          });
        } else {
          assertNever(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type);
        }
      }
    }
  }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent2(choiceSnapshot, toolCallIndex) {
    var _a2, _b, _c;
    const state = __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (state.done_tool_calls.has(toolCallIndex)) {
      return;
    }
    const toolCallSnapshot = (_a2 = choiceSnapshot.message.tool_calls) == null ? void 0 : _a2[toolCallIndex];
    if (!toolCallSnapshot) {
      throw new Error("no tool call snapshot");
    }
    if (!toolCallSnapshot.type) {
      throw new Error("tool call snapshot missing `type`");
    }
    if (toolCallSnapshot.type === "function") {
      const inputTool = (_c = (_b = __classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _b.tools) == null ? void 0 : _c.find((tool) => tool.type === "function" && tool.function.name === toolCallSnapshot.function.name);
      this._emit("tool_calls.function.arguments.done", {
        name: toolCallSnapshot.function.name,
        index: toolCallIndex,
        arguments: toolCallSnapshot.function.arguments,
        parsed_arguments: isAutoParsableTool$1(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCallSnapshot.function.arguments) : null
      });
    } else {
      assertNever(toolCallSnapshot.type);
    }
  }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents2(choiceSnapshot) {
    var _a2, _b;
    const state = __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (choiceSnapshot.message.content && !state.content_done) {
      state.content_done = true;
      const responseFormat = __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);
      this._emit("content.done", {
        content: choiceSnapshot.message.content,
        parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null
      });
    }
    if (choiceSnapshot.message.refusal && !state.refusal_done) {
      state.refusal_done = true;
      this._emit("refusal.done", { refusal: choiceSnapshot.message.refusal });
    }
    if (((_a2 = choiceSnapshot.logprobs) == null ? void 0 : _a2.content) && !state.logprobs_content_done) {
      state.logprobs_content_done = true;
      this._emit("logprobs.content.done", { content: choiceSnapshot.logprobs.content });
    }
    if (((_b = choiceSnapshot.logprobs) == null ? void 0 : _b.refusal) && !state.logprobs_refusal_done) {
      state.logprobs_refusal_done = true;
      this._emit("logprobs.refusal.done", { refusal: choiceSnapshot.logprobs.refusal });
    }
  }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
    __classPrivateFieldSet$5(this, _ChatCompletionStream_choiceEventStates, [], "f");
    return finalizeChatCompletion(snapshot, __classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f"));
  }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat2() {
    var _a2;
    const responseFormat = (_a2 = __classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _a2.response_format;
    if (isAutoParsableResponseFormat(responseFormat)) {
      return responseFormat;
    }
    return null;
  }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion2(chunk) {
    var _a2, _b, _c, _d;
    let snapshot = __classPrivateFieldGet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    const { choices, ...rest } = chunk;
    if (!snapshot) {
      snapshot = __classPrivateFieldSet$5(this, _ChatCompletionStream_currentChatCompletionSnapshot, {
        ...rest,
        choices: []
      }, "f");
    } else {
      Object.assign(snapshot, rest);
    }
    for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices) {
      let choice = snapshot.choices[index];
      if (!choice) {
        choice = snapshot.choices[index] = { finish_reason, index, message: {}, logprobs, ...other };
      }
      if (logprobs) {
        if (!choice.logprobs) {
          choice.logprobs = Object.assign({}, logprobs);
        } else {
          const { content: content2, refusal: refusal2, ...rest3 } = logprobs;
          Object.assign(choice.logprobs, rest3);
          if (content2) {
            (_a2 = choice.logprobs).content ?? (_a2.content = []);
            choice.logprobs.content.push(...content2);
          }
          if (refusal2) {
            (_b = choice.logprobs).refusal ?? (_b.refusal = []);
            choice.logprobs.refusal.push(...refusal2);
          }
        }
      }
      if (finish_reason) {
        choice.finish_reason = finish_reason;
        if (__classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f") && hasAutoParseableInput$1(__classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f"))) {
          if (finish_reason === "length") {
            throw new LengthFinishReasonError();
          }
          if (finish_reason === "content_filter") {
            throw new ContentFilterFinishReasonError();
          }
        }
      }
      Object.assign(choice, other);
      if (!delta)
        continue;
      const { content, refusal, function_call, role, tool_calls, ...rest2 } = delta;
      Object.assign(choice.message, rest2);
      if (refusal) {
        choice.message.refusal = (choice.message.refusal || "") + refusal;
      }
      if (role)
        choice.message.role = role;
      if (function_call) {
        if (!choice.message.function_call) {
          choice.message.function_call = function_call;
        } else {
          if (function_call.name)
            choice.message.function_call.name = function_call.name;
          if (function_call.arguments) {
            (_c = choice.message.function_call).arguments ?? (_c.arguments = "");
            choice.message.function_call.arguments += function_call.arguments;
          }
        }
      }
      if (content) {
        choice.message.content = (choice.message.content || "") + content;
        if (!choice.message.refusal && __classPrivateFieldGet$5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {
          choice.message.parsed = partialParse$1(choice.message.content);
        }
      }
      if (tool_calls) {
        if (!choice.message.tool_calls)
          choice.message.tool_calls = [];
        for (const { index: index2, id, type, function: fn, ...rest3 } of tool_calls) {
          const tool_call = (_d = choice.message.tool_calls)[index2] ?? (_d[index2] = {});
          Object.assign(tool_call, rest3);
          if (id)
            tool_call.id = id;
          if (type)
            tool_call.type = type;
          if (fn)
            tool_call.function ?? (tool_call.function = { name: fn.name ?? "", arguments: "" });
          if (fn == null ? void 0 : fn.name)
            tool_call.function.name = fn.name;
          if (fn == null ? void 0 : fn.arguments) {
            tool_call.function.arguments += fn.arguments;
            if (shouldParseToolCall(__classPrivateFieldGet$5(this, _ChatCompletionStream_params, "f"), tool_call)) {
              tool_call.function.parsed_arguments = partialParse$1(tool_call.function.arguments);
            }
          }
        }
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("chunk", (chunk) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(chunk);
      } else {
        pushQueue.push(chunk);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream$1(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
}
function finalizeChatCompletion(snapshot, params) {
  const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;
  const completion = {
    ...rest,
    id,
    choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest }) => {
      if (!finish_reason) {
        throw new OpenAIError(`missing finish_reason for choice ${index}`);
      }
      const { content = null, function_call, tool_calls, ...messageRest } = message;
      const role = message.role;
      if (!role) {
        throw new OpenAIError(`missing role for choice ${index}`);
      }
      if (function_call) {
        const { arguments: args, name } = function_call;
        if (args == null) {
          throw new OpenAIError(`missing function_call.arguments for choice ${index}`);
        }
        if (!name) {
          throw new OpenAIError(`missing function_call.name for choice ${index}`);
        }
        return {
          ...choiceRest,
          message: {
            content,
            function_call: { arguments: args, name },
            role,
            refusal: message.refusal ?? null
          },
          finish_reason,
          index,
          logprobs
        };
      }
      if (tool_calls) {
        return {
          ...choiceRest,
          index,
          finish_reason,
          logprobs,
          message: {
            ...messageRest,
            role,
            content,
            refusal: message.refusal ?? null,
            tool_calls: tool_calls.map((tool_call, i2) => {
              const { function: fn, type, id: id2, ...toolRest } = tool_call;
              const { arguments: args, name, ...fnRest } = fn || {};
              if (id2 == null) {
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i2}].id
${str(snapshot)}`);
              }
              if (type == null) {
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i2}].type
${str(snapshot)}`);
              }
              if (name == null) {
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i2}].function.name
${str(snapshot)}`);
              }
              if (args == null) {
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i2}].function.arguments
${str(snapshot)}`);
              }
              return { ...toolRest, id: id2, type, function: { ...fnRest, name, arguments: args } };
            })
          }
        };
      }
      return {
        ...choiceRest,
        message: { ...messageRest, content, role, refusal: message.refusal ?? null },
        finish_reason,
        index,
        logprobs
      };
    }),
    created,
    model,
    object: "chat.completion",
    ...system_fingerprint ? { system_fingerprint } : {}
  };
  return maybeParseChatCompletion(completion, params);
}
function str(x2) {
  return JSON.stringify(x2);
}
function assertNever(_x) {
}
class ChatCompletionStreamingRunner extends ChatCompletionStream {
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStreamingRunner(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(null);
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(
      // @ts-expect-error TODO these types are incompatible
      params
    );
    const opts = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts));
    return runner;
  }
}
let Completions$2 = class Completions2 extends APIResource$1 {
  parse(body, options) {
    validateInputTools(body.tools);
    return this._client.chat.completions.create(body, {
      ...options,
      headers: {
        ...options == null ? void 0 : options.headers,
        "X-Stainless-Helper-Method": "beta.chat.completions.parse"
      }
    })._thenUnwrap((completion) => parseChatCompletion(completion, body));
  }
  runFunctions(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runFunctions(this._client, body, options);
    }
    return ChatCompletionRunner.runFunctions(this._client, body, options);
  }
  runTools(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runTools(this._client, body, options);
    }
    return ChatCompletionRunner.runTools(this._client, body, options);
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ChatCompletionStream.createChatCompletion(this._client, body, options);
  }
};
class Chat2 extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.completions = new Completions$2(this._client);
  }
}
(function(Chat3) {
  Chat3.Completions = Completions$2;
})(Chat2 || (Chat2 = {}));
class Sessions extends APIResource$1 {
  /**
   * Create an ephemeral API token for use in client-side applications with the
   * Realtime API. Can be configured with the same session parameters as the
   * `session.update` client event.
   *
   * It responds with a session object, plus a `client_secret` key which contains a
   * usable ephemeral API token that can be used to authenticate browser clients for
   * the Realtime API.
   */
  create(body, options) {
    return this._client.post("/realtime/sessions", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
}
class TranscriptionSessions extends APIResource$1 {
  /**
   * Create an ephemeral API token for use in client-side applications with the
   * Realtime API specifically for realtime transcriptions. Can be configured with
   * the same session parameters as the `transcription_session.update` client event.
   *
   * It responds with a session object, plus a `client_secret` key which contains a
   * usable ephemeral API token that can be used to authenticate browser clients for
   * the Realtime API.
   */
  create(body, options) {
    return this._client.post("/realtime/transcription_sessions", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
}
class Realtime extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.sessions = new Sessions(this._client);
    this.transcriptionSessions = new TranscriptionSessions(this._client);
  }
}
Realtime.Sessions = Sessions;
Realtime.TranscriptionSessions = TranscriptionSessions;
let Messages$2 = class Messages2 extends APIResource$1 {
  /**
   * Create a message.
   */
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/messages`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieve a message.
   */
  retrieve(threadId, messageId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a message.
   */
  update(threadId, messageId, body, options) {
    return this._client.post(`/threads/${threadId}/messages/${messageId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Deletes a message.
   */
  del(threadId, messageId, options) {
    return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
class MessagesPage extends CursorPage {
}
Messages$2.MessagesPage = MessagesPage;
class Steps extends APIResource$1 {
  retrieve(threadId, runId, stepId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.retrieve(threadId, runId, stepId, {}, query);
    }
    return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, runId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(threadId, runId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
}
class RunStepsPage extends CursorPage {
}
Steps.RunStepsPage = RunStepsPage;
let Runs$1 = class Runs extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.steps = new Steps(this._client);
  }
  create(threadId, params, options) {
    const { include, ...body } = params;
    return this._client.post(`/threads/${threadId}/runs`, {
      query: { include },
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: params.stream ?? false
    });
  }
  /**
   * Retrieves a run.
   */
  retrieve(threadId, runId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a run.
   */
  update(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancels a run that is `in_progress`.
   */
  cancel(threadId, runId, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * A helper to create a run an poll for a terminal state. More information on Run
   * lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndPoll(threadId, body, options) {
    const run = await this.create(threadId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Create a Run stream
   *
   * @deprecated use `stream` instead
   */
  createAndStream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  /**
   * A helper to poll a run status until it reaches a terminal state. More
   * information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async poll(threadId, runId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: run, response } = await this.retrieve(threadId, runId, {
        ...options,
        headers: { ...options == null ? void 0 : options.headers, ...headers }
      }).withResponse();
      switch (run.status) {
        //If we are in any sort of intermediate state we poll
        case "queued":
        case "in_progress":
        case "cancelling":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep$1(sleepInterval);
          break;
        //We return the run in any terminal state.
        case "requires_action":
        case "incomplete":
        case "cancelled":
        case "completed":
        case "failed":
        case "expired":
          return run;
      }
    }
  }
  /**
   * Create a Run stream
   */
  stream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  submitToolOutputs(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: body.stream ?? false
    });
  }
  /**
   * A helper to submit a tool output to a run and poll for a terminal run state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async submitToolOutputsAndPoll(threadId, runId, body, options) {
    const run = await this.submitToolOutputs(threadId, runId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Submit the tool outputs from a previous run and stream the run to a terminal
   * state. More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  submitToolOutputsStream(threadId, runId, body, options) {
    return AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);
  }
};
class RunsPage extends CursorPage {
}
Runs$1.RunsPage = RunsPage;
Runs$1.Steps = Steps;
Runs$1.RunStepsPage = RunStepsPage;
class Threads extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.runs = new Runs$1(this._client);
    this.messages = new Messages$2(this._client);
  }
  create(body = {}, options) {
    if (isRequestOptions$1(body)) {
      return this.create({}, body);
    }
    return this._client.post("/threads", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a thread.
   */
  retrieve(threadId, options) {
    return this._client.get(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a thread.
   */
  update(threadId, body, options) {
    return this._client.post(`/threads/${threadId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a thread.
   */
  del(threadId, options) {
    return this._client.delete(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  createAndRun(body, options) {
    return this._client.post("/threads/runs", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: body.stream ?? false
    });
  }
  /**
   * A helper to create a thread, start a run and then poll for a terminal state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndRunPoll(body, options) {
    const run = await this.createAndRun(body, options);
    return await this.runs.poll(run.thread_id, run.id, options);
  }
  /**
   * Create a thread and stream the run back
   */
  createAndRunStream(body, options) {
    return AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);
  }
}
Threads.Runs = Runs$1;
Threads.RunsPage = RunsPage;
Threads.Messages = Messages$2;
Threads.MessagesPage = MessagesPage;
let Beta$1 = class Beta extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.realtime = new Realtime(this._client);
    this.chat = new Chat2(this._client);
    this.assistants = new Assistants(this._client);
    this.threads = new Threads(this._client);
  }
};
Beta$1.Realtime = Realtime;
Beta$1.Assistants = Assistants;
Beta$1.AssistantsPage = AssistantsPage;
Beta$1.Threads = Threads;
let Completions$1 = class Completions3 extends APIResource$1 {
  create(body, options) {
    return this._client.post("/completions", { body, ...options, stream: body.stream ?? false });
  }
};
class Embeddings extends APIResource$1 {
  /**
   * Creates an embedding vector representing the input text.
   */
  create(body, options) {
    const hasUserProvidedEncodingFormat = !!body.encoding_format;
    let encoding_format = hasUserProvidedEncodingFormat ? body.encoding_format : "base64";
    if (hasUserProvidedEncodingFormat) {
      debug$1("Request", "User defined encoding_format:", body.encoding_format);
    }
    const response = this._client.post("/embeddings", {
      body: {
        ...body,
        encoding_format
      },
      ...options
    });
    if (hasUserProvidedEncodingFormat) {
      return response;
    }
    debug$1("response", "Decoding base64 embeddings to float32 array");
    return response._thenUnwrap((response2) => {
      if (response2 && response2.data) {
        response2.data.forEach((embeddingBase64Obj) => {
          const embeddingBase64Str = embeddingBase64Obj.embedding;
          embeddingBase64Obj.embedding = toFloat32Array(embeddingBase64Str);
        });
      }
      return response2;
    });
  }
}
class OutputItems extends APIResource$1 {
  /**
   * Get an evaluation run output item by ID.
   */
  retrieve(evalId, runId, outputItemId, options) {
    return this._client.get(`/evals/${evalId}/runs/${runId}/output_items/${outputItemId}`, options);
  }
  list(evalId, runId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(evalId, runId, {}, query);
    }
    return this._client.getAPIList(`/evals/${evalId}/runs/${runId}/output_items`, OutputItemListResponsesPage, { query, ...options });
  }
}
class OutputItemListResponsesPage extends CursorPage {
}
OutputItems.OutputItemListResponsesPage = OutputItemListResponsesPage;
class Runs2 extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.outputItems = new OutputItems(this._client);
  }
  /**
   * Create a new evaluation run. This is the endpoint that will kick off grading.
   */
  create(evalId, body, options) {
    return this._client.post(`/evals/${evalId}/runs`, { body, ...options });
  }
  /**
   * Get an evaluation run by ID.
   */
  retrieve(evalId, runId, options) {
    return this._client.get(`/evals/${evalId}/runs/${runId}`, options);
  }
  list(evalId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(evalId, {}, query);
    }
    return this._client.getAPIList(`/evals/${evalId}/runs`, RunListResponsesPage, { query, ...options });
  }
  /**
   * Delete an eval run.
   */
  del(evalId, runId, options) {
    return this._client.delete(`/evals/${evalId}/runs/${runId}`, options);
  }
  /**
   * Cancel an ongoing evaluation run.
   */
  cancel(evalId, runId, options) {
    return this._client.post(`/evals/${evalId}/runs/${runId}`, options);
  }
}
class RunListResponsesPage extends CursorPage {
}
Runs2.RunListResponsesPage = RunListResponsesPage;
Runs2.OutputItems = OutputItems;
Runs2.OutputItemListResponsesPage = OutputItemListResponsesPage;
class Evals extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.runs = new Runs2(this._client);
  }
  /**
   * Create the structure of an evaluation that can be used to test a model's
   * performance. An evaluation is a set of testing criteria and a datasource. After
   * creating an evaluation, you can run it on different models and model parameters.
   * We support several types of graders and datasources. For more information, see
   * the [Evals guide](https://platform.openai.com/docs/guides/evals).
   */
  create(body, options) {
    return this._client.post("/evals", { body, ...options });
  }
  /**
   * Get an evaluation by ID.
   */
  retrieve(evalId, options) {
    return this._client.get(`/evals/${evalId}`, options);
  }
  /**
   * Update certain properties of an evaluation.
   */
  update(evalId, body, options) {
    return this._client.post(`/evals/${evalId}`, { body, ...options });
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/evals", EvalListResponsesPage, { query, ...options });
  }
  /**
   * Delete an evaluation.
   */
  del(evalId, options) {
    return this._client.delete(`/evals/${evalId}`, options);
  }
}
class EvalListResponsesPage extends CursorPage {
}
Evals.EvalListResponsesPage = EvalListResponsesPage;
Evals.Runs = Runs2;
Evals.RunListResponsesPage = RunListResponsesPage;
let Files$1 = class Files extends APIResource$1 {
  /**
   * Upload a file that can be used across various endpoints. Individual files can be
   * up to 512 MB, and the size of all files uploaded by one organization can be up
   * to 100 GB.
   *
   * The Assistants API supports files up to 2 million tokens and of specific file
   * types. See the
   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for
   * details.
   *
   * The Fine-tuning API only supports `.jsonl` files. The input also has certain
   * required formats for fine-tuning
   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or
   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
   * models.
   *
   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also
   * has a specific required
   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).
   *
   * Please [contact us](https://help.openai.com/) if you need to increase these
   * storage limits.
   */
  create(body, options) {
    return this._client.post("/files", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Returns information about a specific file.
   */
  retrieve(fileId, options) {
    return this._client.get(`/files/${fileId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/files", FileObjectsPage, { query, ...options });
  }
  /**
   * Delete a file.
   */
  del(fileId, options) {
    return this._client.delete(`/files/${fileId}`, options);
  }
  /**
   * Returns the contents of the specified file.
   */
  content(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      headers: { Accept: "application/binary", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
  /**
   * Returns the contents of the specified file.
   *
   * @deprecated The `.content()` method should be used instead
   */
  retrieveContent(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, options);
  }
  /**
   * Waits for the given file to be processed, default timeout is 30 mins.
   */
  async waitForProcessing(id, { pollInterval = 5e3, maxWait = 30 * 60 * 1e3 } = {}) {
    const TERMINAL_STATES = /* @__PURE__ */ new Set(["processed", "error", "deleted"]);
    const start = Date.now();
    let file = await this.retrieve(id);
    while (!file.status || !TERMINAL_STATES.has(file.status)) {
      await sleep$1(pollInterval);
      file = await this.retrieve(id);
      if (Date.now() - start > maxWait) {
        throw new APIConnectionTimeoutError$1({
          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`
        });
      }
    }
    return file;
  }
};
class FileObjectsPage extends CursorPage {
}
Files$1.FileObjectsPage = FileObjectsPage;
class Permissions extends APIResource$1 {
  /**
   * **NOTE:** Calling this endpoint requires an [admin API key](../admin-api-keys).
   *
   * This enables organization owners to share fine-tuned models with other projects
   * in their organization.
   */
  create(fineTunedModelCheckpoint, body, options) {
    return this._client.getAPIList(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, PermissionCreateResponsesPage, { body, method: "post", ...options });
  }
  retrieve(fineTunedModelCheckpoint, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.retrieve(fineTunedModelCheckpoint, {}, query);
    }
    return this._client.get(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, {
      query,
      ...options
    });
  }
  /**
   * **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).
   *
   * Organization owners can use this endpoint to delete a permission for a
   * fine-tuned model checkpoint.
   */
  del(fineTunedModelCheckpoint, permissionId, options) {
    return this._client.delete(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions/${permissionId}`, options);
  }
}
class PermissionCreateResponsesPage extends Page$1 {
}
Permissions.PermissionCreateResponsesPage = PermissionCreateResponsesPage;
let Checkpoints$1 = class Checkpoints extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.permissions = new Permissions(this._client);
  }
};
Checkpoints$1.Permissions = Permissions;
Checkpoints$1.PermissionCreateResponsesPage = PermissionCreateResponsesPage;
class Checkpoints2 extends APIResource$1 {
  list(fineTuningJobId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, { query, ...options });
  }
}
class FineTuningJobCheckpointsPage extends CursorPage {
}
Checkpoints2.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;
class Jobs extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.checkpoints = new Checkpoints2(this._client);
  }
  /**
   * Creates a fine-tuning job which begins the process of creating a new model from
   * a given dataset.
   *
   * Response includes details of the enqueued job including job status and the name
   * of the fine-tuned models once complete.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  create(body, options) {
    return this._client.post("/fine_tuning/jobs", { body, ...options });
  }
  /**
   * Get info about a fine-tuning job.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  retrieve(fineTuningJobId, options) {
    return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/fine_tuning/jobs", FineTuningJobsPage, { query, ...options });
  }
  /**
   * Immediately cancel a fine-tune job.
   */
  cancel(fineTuningJobId, options) {
    return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);
  }
  listEvents(fineTuningJobId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.listEvents(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {
      query,
      ...options
    });
  }
}
class FineTuningJobsPage extends CursorPage {
}
class FineTuningJobEventsPage extends CursorPage {
}
Jobs.FineTuningJobsPage = FineTuningJobsPage;
Jobs.FineTuningJobEventsPage = FineTuningJobEventsPage;
Jobs.Checkpoints = Checkpoints2;
Jobs.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;
class FineTuning extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.jobs = new Jobs(this._client);
    this.checkpoints = new Checkpoints$1(this._client);
  }
}
FineTuning.Jobs = Jobs;
FineTuning.FineTuningJobsPage = FineTuningJobsPage;
FineTuning.FineTuningJobEventsPage = FineTuningJobEventsPage;
FineTuning.Checkpoints = Checkpoints$1;
class Images extends APIResource$1 {
  /**
   * Creates a variation of a given image. This endpoint only supports `dall-e-2`.
   */
  createVariation(body, options) {
    return this._client.post("/images/variations", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an edited or extended image given one or more source images and a
   * prompt. This endpoint only supports `gpt-image-1` and `dall-e-2`.
   */
  edit(body, options) {
    return this._client.post("/images/edits", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an image given a prompt.
   * [Learn more](https://platform.openai.com/docs/guides/images).
   */
  generate(body, options) {
    return this._client.post("/images/generations", { body, ...options });
  }
}
let Models$2 = class Models extends APIResource$1 {
  /**
   * Retrieves a model instance, providing basic information about the model such as
   * the owner and permissioning.
   */
  retrieve(model, options) {
    return this._client.get(`/models/${model}`, options);
  }
  /**
   * Lists the currently available models, and provides basic information about each
   * one such as the owner and availability.
   */
  list(options) {
    return this._client.getAPIList("/models", ModelsPage, options);
  }
  /**
   * Delete a fine-tuned model. You must have the Owner role in your organization to
   * delete a model.
   */
  del(model, options) {
    return this._client.delete(`/models/${model}`, options);
  }
};
class ModelsPage extends Page$1 {
}
Models$2.ModelsPage = ModelsPage;
class Moderations extends APIResource$1 {
  /**
   * Classifies if text and/or image inputs are potentially harmful. Learn more in
   * the [moderation guide](https://platform.openai.com/docs/guides/moderation).
   */
  create(body, options) {
    return this._client.post("/moderations", { body, ...options });
  }
}
function maybeParseResponse(response, params) {
  if (!params || !hasAutoParseableInput(params)) {
    return {
      ...response,
      output_parsed: null,
      output: response.output.map((item) => {
        if (item.type === "function_call") {
          return {
            ...item,
            parsed_arguments: null
          };
        }
        if (item.type === "message") {
          return {
            ...item,
            content: item.content.map((content) => ({
              ...content,
              parsed: null
            }))
          };
        } else {
          return item;
        }
      })
    };
  }
  return parseResponse(response, params);
}
function parseResponse(response, params) {
  const output = response.output.map((item) => {
    if (item.type === "function_call") {
      return {
        ...item,
        parsed_arguments: parseToolCall(params, item)
      };
    }
    if (item.type === "message") {
      const content = item.content.map((content2) => {
        if (content2.type === "output_text") {
          return {
            ...content2,
            parsed: parseTextFormat(params, content2.text)
          };
        }
        return content2;
      });
      return {
        ...item,
        content
      };
    }
    return item;
  });
  const parsed = Object.assign({}, response, { output });
  if (!Object.getOwnPropertyDescriptor(response, "output_text")) {
    addOutputText(parsed);
  }
  Object.defineProperty(parsed, "output_parsed", {
    enumerable: true,
    get() {
      for (const output2 of parsed.output) {
        if (output2.type !== "message") {
          continue;
        }
        for (const content of output2.content) {
          if (content.type === "output_text" && content.parsed !== null) {
            return content.parsed;
          }
        }
      }
      return null;
    }
  });
  return parsed;
}
function parseTextFormat(params, content) {
  var _a2, _b, _c, _d;
  if (((_b = (_a2 = params.text) == null ? void 0 : _a2.format) == null ? void 0 : _b.type) !== "json_schema") {
    return null;
  }
  if ("$parseRaw" in ((_c = params.text) == null ? void 0 : _c.format)) {
    const text_format = (_d = params.text) == null ? void 0 : _d.format;
    return text_format.$parseRaw(content);
  }
  return JSON.parse(content);
}
function hasAutoParseableInput(params) {
  var _a2;
  if (isAutoParsableResponseFormat((_a2 = params.text) == null ? void 0 : _a2.format)) {
    return true;
  }
  return false;
}
function isAutoParsableTool(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function getInputToolByName(input_tools, name) {
  return input_tools.find((tool) => tool.type === "function" && tool.name === name);
}
function parseToolCall(params, toolCall) {
  const inputTool = getInputToolByName(params.tools ?? [], toolCall.name);
  return {
    ...toolCall,
    ...toolCall,
    parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.arguments) : (inputTool == null ? void 0 : inputTool.strict) ? JSON.parse(toolCall.arguments) : null
  };
}
function addOutputText(rsp) {
  const texts = [];
  for (const output of rsp.output) {
    if (output.type !== "message") {
      continue;
    }
    for (const content of output.content) {
      if (content.type === "output_text") {
        texts.push(content.text);
      }
    }
  }
  rsp.output_text = texts.join("");
}
class InputItems extends APIResource$1 {
  list(responseId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(responseId, {}, query);
    }
    return this._client.getAPIList(`/responses/${responseId}/input_items`, ResponseItemsPage, {
      query,
      ...options
    });
  }
}
var __classPrivateFieldSet$4 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$4 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ResponseStream_instances, _ResponseStream_params, _ResponseStream_currentResponseSnapshot, _ResponseStream_finalResponse, _ResponseStream_beginRequest, _ResponseStream_addEvent, _ResponseStream_endRequest, _ResponseStream_accumulateResponse;
class ResponseStream extends EventStream {
  constructor(params) {
    super();
    _ResponseStream_instances.add(this);
    _ResponseStream_params.set(this, void 0);
    _ResponseStream_currentResponseSnapshot.set(this, void 0);
    _ResponseStream_finalResponse.set(this, void 0);
    __classPrivateFieldSet$4(this, _ResponseStream_params, params, "f");
  }
  static createResponse(client, params, options) {
    const runner = new ResponseStream(params);
    runner._run(() => runner._createResponse(client, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createResponse(client, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$4(this, _ResponseStream_instances, "m", _ResponseStream_beginRequest).call(this);
    const stream = await client.responses.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet$4(this, _ResponseStream_instances, "m", _ResponseStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError$1();
    }
    return __classPrivateFieldGet$4(this, _ResponseStream_instances, "m", _ResponseStream_endRequest).call(this);
  }
  [(_ResponseStream_params = /* @__PURE__ */ new WeakMap(), _ResponseStream_currentResponseSnapshot = /* @__PURE__ */ new WeakMap(), _ResponseStream_finalResponse = /* @__PURE__ */ new WeakMap(), _ResponseStream_instances = /* @__PURE__ */ new WeakSet(), _ResponseStream_beginRequest = function _ResponseStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet$4(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
  }, _ResponseStream_addEvent = function _ResponseStream_addEvent2(event) {
    if (this.ended)
      return;
    const response = __classPrivateFieldGet$4(this, _ResponseStream_instances, "m", _ResponseStream_accumulateResponse).call(this, event);
    this._emit("event", event);
    switch (event.type) {
      case "response.output_text.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          this._emit("response.output_text.delta", {
            ...event,
            snapshot: content.text
          });
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          this._emit("response.function_call_arguments.delta", {
            ...event,
            snapshot: output.arguments
          });
        }
        break;
      }
      default:
        this._emit(event.type, event);
        break;
    }
  }, _ResponseStream_endRequest = function _ResponseStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet$4(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any events`);
    }
    __classPrivateFieldSet$4(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
    const parsedResponse = finalizeResponse(snapshot, __classPrivateFieldGet$4(this, _ResponseStream_params, "f"));
    __classPrivateFieldSet$4(this, _ResponseStream_finalResponse, parsedResponse, "f");
    return parsedResponse;
  }, _ResponseStream_accumulateResponse = function _ResponseStream_accumulateResponse2(event) {
    let snapshot = __classPrivateFieldGet$4(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      if (event.type !== "response.created") {
        throw new OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${event.type}`);
      }
      snapshot = __classPrivateFieldSet$4(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
      return snapshot;
    }
    switch (event.type) {
      case "response.output_item.added": {
        snapshot.output.push(event.item);
        break;
      }
      case "response.content_part.added": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          output.content.push(event.part);
        }
        break;
      }
      case "response.output_text.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          content.text += event.delta;
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          output.arguments += event.delta;
        }
        break;
      }
      case "response.completed": {
        __classPrivateFieldSet$4(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
        break;
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((event2) => event2 ? { value: event2, done: false } : { value: void 0, done: true });
        }
        const event = pushQueue.shift();
        return { value: event, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * @returns a promise that resolves with the final Response, or rejects
   * if an error occurred or the stream ended prematurely without producing a REsponse.
   */
  async finalResponse() {
    await this.done();
    const response = __classPrivateFieldGet$4(this, _ResponseStream_finalResponse, "f");
    if (!response)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return response;
  }
}
function finalizeResponse(snapshot, params) {
  return maybeParseResponse(snapshot, params);
}
class Responses extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.inputItems = new InputItems(this._client);
  }
  create(body, options) {
    return this._client.post("/responses", { body, ...options, stream: body.stream ?? false })._thenUnwrap((rsp) => {
      if ("object" in rsp && rsp.object === "response") {
        addOutputText(rsp);
      }
      return rsp;
    });
  }
  retrieve(responseId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.retrieve(responseId, {}, query);
    }
    return this._client.get(`/responses/${responseId}`, { query, ...options });
  }
  /**
   * Deletes a model response with the given ID.
   */
  del(responseId, options) {
    return this._client.delete(`/responses/${responseId}`, {
      ...options,
      headers: { Accept: "*/*", ...options == null ? void 0 : options.headers }
    });
  }
  parse(body, options) {
    return this._client.responses.create(body, options)._thenUnwrap((response) => parseResponse(response, body));
  }
  /**
   * Creates a model response stream
   */
  stream(body, options) {
    return ResponseStream.createResponse(this._client, body, options);
  }
}
class ResponseItemsPage extends CursorPage {
}
Responses.InputItems = InputItems;
class Parts extends APIResource$1 {
  /**
   * Adds a
   * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.
   * A Part represents a chunk of bytes from the file you are trying to upload.
   *
   * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload
   * maximum of 8 GB.
   *
   * It is possible to add multiple Parts in parallel. You can decide the intended
   * order of the Parts when you
   * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).
   */
  create(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/parts`, multipartFormRequestOptions({ body, ...options }));
  }
}
class Uploads extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.parts = new Parts(this._client);
  }
  /**
   * Creates an intermediate
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object
   * that you can add
   * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.
   * Currently, an Upload can accept at most 8 GB in total and expires after an hour
   * after you create it.
   *
   * Once you complete the Upload, we will create a
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * contains all the parts you uploaded. This File is usable in the rest of our
   * platform as a regular File object.
   *
   * For certain `purpose` values, the correct `mime_type` must be specified. Please
   * refer to documentation for the
   * [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).
   *
   * For guidance on the proper filename extensions for each purpose, please follow
   * the documentation on
   * [creating a File](https://platform.openai.com/docs/api-reference/files/create).
   */
  create(body, options) {
    return this._client.post("/uploads", { body, ...options });
  }
  /**
   * Cancels the Upload. No Parts may be added after an Upload is cancelled.
   */
  cancel(uploadId, options) {
    return this._client.post(`/uploads/${uploadId}/cancel`, options);
  }
  /**
   * Completes the
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).
   *
   * Within the returned Upload object, there is a nested
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * is ready to use in the rest of the platform.
   *
   * You can specify the order of the Parts by passing in an ordered list of the Part
   * IDs.
   *
   * The number of bytes uploaded upon completion must match the number of bytes
   * initially specified when creating the Upload object. No Parts may be added after
   * an Upload is completed.
   */
  complete(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/complete`, { body, ...options });
  }
}
Uploads.Parts = Parts;
const allSettledWithThrow = async (promises) => {
  const results = await Promise.allSettled(promises);
  const rejected = results.filter((result) => result.status === "rejected");
  if (rejected.length) {
    for (const result of rejected) {
      console.error(result.reason);
    }
    throw new Error(`${rejected.length} promise(s) failed - see the above errors`);
  }
  const values = [];
  for (const result of results) {
    if (result.status === "fulfilled") {
      values.push(result.value);
    }
  }
  return values;
};
class Files2 extends APIResource$1 {
  /**
   * Create a vector store file by attaching a
   * [File](https://platform.openai.com/docs/api-reference/files) to a
   * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file.
   */
  retrieve(vectorStoreId, fileId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Update attributes on a vector store file.
   */
  update(vectorStoreId, fileId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(vectorStoreId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list(vectorStoreId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store file. This will remove the file from the vector store but
   * the file itself will not be deleted. To delete the file, use the
   * [delete file](https://platform.openai.com/docs/api-reference/files/delete)
   * endpoint.
   */
  del(vectorStoreId, fileId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Attach a file to the given vector store and wait for it to be processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const file = await this.create(vectorStoreId, body, options);
    return await this.poll(vectorStoreId, file.id, options);
  }
  /**
   * Wait for the vector store file to finish processing.
   *
   * Note: this will return even if the file failed to process, you need to check
   * file.last_error and file.status to handle these cases
   */
  async poll(vectorStoreId, fileId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const fileResponse = await this.retrieve(vectorStoreId, fileId, {
        ...options,
        headers
      }).withResponse();
      const file = fileResponse.data;
      switch (file.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = fileResponse.response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep$1(sleepInterval);
          break;
        case "failed":
        case "completed":
          return file;
      }
    }
  }
  /**
   * Upload a file to the `files` API and then attach it to the given vector store.
   *
   * Note the file will be asynchronously processed (you can use the alternative
   * polling helper method to wait for processing to complete).
   */
  async upload(vectorStoreId, file, options) {
    const fileInfo = await this._client.files.create({ file, purpose: "assistants" }, options);
    return this.create(vectorStoreId, { file_id: fileInfo.id }, options);
  }
  /**
   * Add a file to a vector store and poll until processing is complete.
   */
  async uploadAndPoll(vectorStoreId, file, options) {
    const fileInfo = await this.upload(vectorStoreId, file, options);
    return await this.poll(vectorStoreId, fileInfo.id, options);
  }
  /**
   * Retrieve the parsed contents of a vector store file.
   */
  content(vectorStoreId, fileId, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files/${fileId}/content`, FileContentResponsesPage, { ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
}
class VectorStoreFilesPage extends CursorPage {
}
class FileContentResponsesPage extends Page$1 {
}
Files2.VectorStoreFilesPage = VectorStoreFilesPage;
Files2.FileContentResponsesPage = FileContentResponsesPage;
class FileBatches extends APIResource$1 {
  /**
   * Create a vector store file batch.
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file batch.
   */
  retrieve(vectorStoreId, batchId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancel a vector store file batch. This attempts to cancel the processing of
   * files in this batch as soon as possible.
   */
  cancel(vectorStoreId, batchId, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Create a vector store batch and poll until all files have been processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const batch = await this.create(vectorStoreId, body);
    return await this.poll(vectorStoreId, batch.id, options);
  }
  listFiles(vectorStoreId, batchId, query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.listFiles(vectorStoreId, batchId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, VectorStoreFilesPage, { query, ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
  /**
   * Wait for the given file batch to be processed.
   *
   * Note: this will return even if one of the files failed to process, you need to
   * check batch.file_counts.failed_count to handle this case.
   */
  async poll(vectorStoreId, batchId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {
        ...options,
        headers
      }).withResponse();
      switch (batch.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep$1(sleepInterval);
          break;
        case "failed":
        case "cancelled":
        case "completed":
          return batch;
      }
    }
  }
  /**
   * Uploads the given files concurrently and then creates a vector store file batch.
   *
   * The concurrency limit is configurable using the `maxConcurrency` parameter.
   */
  async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {
    if (files == null || files.length == 0) {
      throw new Error(`No \`files\` provided to process. If you've already uploaded files you should use \`.createAndPoll()\` instead`);
    }
    const configuredConcurrency = (options == null ? void 0 : options.maxConcurrency) ?? 5;
    const concurrencyLimit = Math.min(configuredConcurrency, files.length);
    const client = this._client;
    const fileIterator = files.values();
    const allFileIds = [...fileIds];
    async function processFiles(iterator) {
      for (let item of iterator) {
        const fileObj = await client.files.create({ file: item, purpose: "assistants" }, options);
        allFileIds.push(fileObj.id);
      }
    }
    const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);
    await allSettledWithThrow(workers);
    return await this.createAndPoll(vectorStoreId, {
      file_ids: allFileIds
    });
  }
}
class VectorStores extends APIResource$1 {
  constructor() {
    super(...arguments);
    this.files = new Files2(this._client);
    this.fileBatches = new FileBatches(this._client);
  }
  /**
   * Create a vector store.
   */
  create(body, options) {
    return this._client.post("/vector_stores", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store.
   */
  retrieve(vectorStoreId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a vector store.
   */
  update(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions$1(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/vector_stores", VectorStoresPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store.
   */
  del(vectorStoreId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Search a vector store for relevant chunks based on a query and file attributes
   * filter.
   */
  search(vectorStoreId, body, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/search`, VectorStoreSearchResponsesPage, {
      body,
      method: "post",
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
}
class VectorStoresPage extends CursorPage {
}
class VectorStoreSearchResponsesPage extends Page$1 {
}
VectorStores.VectorStoresPage = VectorStoresPage;
VectorStores.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
VectorStores.Files = Files2;
VectorStores.VectorStoreFilesPage = VectorStoreFilesPage;
VectorStores.FileContentResponsesPage = FileContentResponsesPage;
VectorStores.FileBatches = FileBatches;
var _a$1;
class OpenAI extends APIClient$1 {
  /**
   * API Client for interfacing with the OpenAI API.
   *
   * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]
   * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]
   * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]
   * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.
   * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.
   * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.
   * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.
   */
  constructor({ baseURL = readEnv$1("OPENAI_BASE_URL"), apiKey = readEnv$1("OPENAI_API_KEY"), organization = readEnv$1("OPENAI_ORG_ID") ?? null, project = readEnv$1("OPENAI_PROJECT_ID") ?? null, ...opts } = {}) {
    if (apiKey === void 0) {
      throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");
    }
    const options = {
      apiKey,
      organization,
      project,
      ...opts,
      baseURL: baseURL || `https://api.openai.com/v1`
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser$1()) {
      throw new OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");
    }
    super({
      baseURL: options.baseURL,
      timeout: options.timeout ?? 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch
    });
    this.completions = new Completions$1(this);
    this.chat = new Chat$1(this);
    this.embeddings = new Embeddings(this);
    this.files = new Files$1(this);
    this.images = new Images(this);
    this.audio = new Audio(this);
    this.moderations = new Moderations(this);
    this.models = new Models$2(this);
    this.fineTuning = new FineTuning(this);
    this.vectorStores = new VectorStores(this);
    this.beta = new Beta$1(this);
    this.batches = new Batches$2(this);
    this.uploads = new Uploads(this);
    this.responses = new Responses(this);
    this.evals = new Evals(this);
    this._options = options;
    this.apiKey = apiKey;
    this.organization = organization;
    this.project = project;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts) {
    return {
      ...super.defaultHeaders(opts),
      "OpenAI-Organization": this.organization,
      "OpenAI-Project": this.project,
      ...this._options.defaultHeaders
    };
  }
  authHeaders(opts) {
    return { Authorization: `Bearer ${this.apiKey}` };
  }
  stringifyQuery(query) {
    return stringify(query, { arrayFormat: "brackets" });
  }
}
_a$1 = OpenAI;
OpenAI.OpenAI = _a$1;
OpenAI.DEFAULT_TIMEOUT = 6e5;
OpenAI.OpenAIError = OpenAIError;
OpenAI.APIError = APIError$1;
OpenAI.APIConnectionError = APIConnectionError$1;
OpenAI.APIConnectionTimeoutError = APIConnectionTimeoutError$1;
OpenAI.APIUserAbortError = APIUserAbortError$1;
OpenAI.NotFoundError = NotFoundError$1;
OpenAI.ConflictError = ConflictError$1;
OpenAI.RateLimitError = RateLimitError$1;
OpenAI.BadRequestError = BadRequestError$1;
OpenAI.AuthenticationError = AuthenticationError$1;
OpenAI.InternalServerError = InternalServerError$1;
OpenAI.PermissionDeniedError = PermissionDeniedError$1;
OpenAI.UnprocessableEntityError = UnprocessableEntityError$1;
OpenAI.toFile = toFile$1;
OpenAI.fileFromPath = fileFromPath$3;
OpenAI.Completions = Completions$1;
OpenAI.Chat = Chat$1;
OpenAI.ChatCompletionsPage = ChatCompletionsPage;
OpenAI.Embeddings = Embeddings;
OpenAI.Files = Files$1;
OpenAI.FileObjectsPage = FileObjectsPage;
OpenAI.Images = Images;
OpenAI.Audio = Audio;
OpenAI.Moderations = Moderations;
OpenAI.Models = Models$2;
OpenAI.ModelsPage = ModelsPage;
OpenAI.FineTuning = FineTuning;
OpenAI.VectorStores = VectorStores;
OpenAI.VectorStoresPage = VectorStoresPage;
OpenAI.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
OpenAI.Beta = Beta$1;
OpenAI.Batches = Batches$2;
OpenAI.BatchesPage = BatchesPage;
OpenAI.Uploads = Uploads;
OpenAI.Responses = Responses;
OpenAI.Evals = Evals;
OpenAI.EvalListResponsesPage = EvalListResponsesPage;
class BaseLLM {
  constructor() {
    this.apiKey = null;
  }
  // --- 方法 ---
  /**
   * 设置 API Key
   * @param apiKey 用户提供的 API Key
   */
  setApiKey(apiKey) {
    this.apiKey = apiKey;
    console.log(`API Key set for provider: ${this.providerId}`);
  }
  /**
   * 获取当前配置的 API Key (主要用于内部或测试)
   */
  getApiKey() {
    return this.apiKey;
  }
  /**
   * 获取该服务商可用的模型列表 (可能包含默认模型和用户自定义模型)
   * @param customModels 用户添加的自定义模型列表 (可选)
   * @returns 模型名称数组
   */
  getAvailableModels(customModels = []) {
    return [.../* @__PURE__ */ new Set([...this.defaultModels, ...customModels])];
  }
  /**
   * (可选) 验证 API Key 是否有效的方法
   * @returns Promise<boolean>
   */
  // abstract validateApiKey(): Promise<boolean>;
  /**
   * (可选) 获取模型详细信息的方法
   * @param modelName 模型名称
   * @returns Promise<ModelDetails | null>
   */
  // abstract getModelDetails(modelName: string): Promise<any | null>;
}
class OpenAILLM extends BaseLLM {
  constructor() {
    super(...arguments);
    this.providerId = "openai";
    this.providerName = "OpenAI";
    this.baseApiUrl = "https://api.openai.com/v1";
    this.defaultModels = [
      "gpt-4o",
      "gpt-4-turbo",
      "gpt-4",
      "gpt-3.5-turbo"
    ];
    this.openai = null;
  }
  /**
   * 重写 setApiKey 方法，在设置 key 时初始化 OpenAI 客户端
   */
  setApiKey(apiKey) {
    super.setApiKey(apiKey);
    if (apiKey) {
      try {
        const clientOptions = {
          apiKey
          // baseURL: this.baseApiUrl, // 可以考虑允许用户配置 Base URL
        };
        this.openai = new OpenAI(clientOptions);
        console.log(`OpenAI client initialized for provider: ${this.providerId}`);
      } catch (error) {
        console.error(`Failed to initialize OpenAI client for ${this.providerId}:`, error);
        this.openai = null;
      }
    } else {
      this.openai = null;
      console.log(`OpenAI client destroyed for provider: ${this.providerId}`);
    }
  }
  /**
   * 实现聊天请求方法
   */
  async generateChatCompletion(options) {
    var _a2, _b;
    if (!this.openai) {
      return { content: "", error: "OpenAI API Key 未设置或客户端初始化失败" };
    }
    if (!options.model || !this.getAvailableModels().includes(options.model)) {
      return { content: "", error: `模型 ${options.model} 不可用或不受支持` };
    }
    try {
      const params = {
        model: options.model,
        messages: options.messages,
        temperature: options.temperature ?? 0.7,
        // 默认温度
        max_tokens: options.maxTokens,
        // 如果未提供，则由 OpenAI 决定
        stream: false
        // 暂不支持流式响应
        // 可以根据需要添加其他参数，如 top_p, frequency_penalty 等
      };
      if (options.systemPrompt) {
        if (!params.messages) params.messages = [];
        if (!params.messages.some((m2) => m2.role === "system")) {
          params.messages.unshift({ role: "system", content: options.systemPrompt });
        } else {
          console.warn("System prompt already exists in messages, ignoring new systemPrompt option.");
        }
      }
      console.log(`[OpenAI] Sending request to model ${options.model} with params:`, JSON.stringify(params, null, 2));
      const completion = await this.openai.chat.completions.create(params);
      console.log("[OpenAI] Received completion:", JSON.stringify(completion, null, 2));
      const content = ((_b = (_a2 = completion.choices[0]) == null ? void 0 : _a2.message) == null ? void 0 : _b.content) ?? "";
      const usage = completion.usage;
      return {
        content,
        modelUsed: completion.model,
        usage: {
          promptTokens: usage == null ? void 0 : usage.prompt_tokens,
          completionTokens: usage == null ? void 0 : usage.completion_tokens,
          totalTokens: usage == null ? void 0 : usage.total_tokens
        },
        rawResponse: completion
        // 包含原始响应供调试
      };
    } catch (error) {
      console.error(`[OpenAI] Error during chat completion for model ${options.model}:`, error);
      let detailedError = "与 OpenAI API 通信时发生未知错误";
      if (error instanceof Error) {
        detailedError = error.message;
        if (error && typeof error === "object" && "response" in error) {
          const response = error.response;
          if (response && typeof response === "object" && "data" in response) {
            const data = response.data;
            if (data && typeof data === "object" && "error" in data) {
              const apiError = data.error;
              if (apiError && typeof apiError === "object" && "message" in apiError && typeof apiError.message === "string") {
                const errorType = typeof apiError === "object" && "type" in apiError && typeof apiError.type === "string" ? apiError.type : "API Error";
                detailedError = `${errorType}: ${apiError.message}`;
              }
            }
          }
        }
      } else if (typeof error === "string") {
        detailedError = error;
      }
      return { content: "", error: detailedError, rawResponse: error };
    }
  }
  // 可以选择性地实现 validateApiKey 或 getModelDetails 方法
}
const VERSION = "0.40.0";
let auto = false;
let kind = void 0;
let fetch$1 = void 0;
let File2 = void 0;
let ReadableStream$1 = void 0;
let getDefaultAgent = void 0;
let fileFromPath$1 = void 0;
function setShims(shims, options = { auto: false }) {
  if (auto) {
    throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${shims.kind}'\` before importing anything else from @anthropic-ai/sdk`);
  }
  if (kind) {
    throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${shims.kind}'\` after \`import '@anthropic-ai/sdk/shims/${kind}'\``);
  }
  auto = options.auto;
  kind = shims.kind;
  fetch$1 = shims.fetch;
  File2 = shims.File;
  ReadableStream$1 = shims.ReadableStream;
  getDefaultAgent = shims.getDefaultAgent;
  fileFromPath$1 = shims.fileFromPath;
}
class MultipartBody2 {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
}
let fileFromPathWarned = false;
async function fileFromPath(path2, ...args) {
  const { fileFromPath: _fileFromPath } = await import("./fileFromPath-CjWz-8hU.js");
  if (!fileFromPathWarned) {
    console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(path2)}) instead`);
    fileFromPathWarned = true;
  }
  return await _fileFromPath(path2, ...args);
}
const defaultHttpAgent = new KeepAliveAgent({ keepAlive: true, timeout: 5 * 60 * 1e3 });
const defaultHttpsAgent = new KeepAliveAgent.HttpsAgent({ keepAlive: true, timeout: 5 * 60 * 1e3 });
async function getMultipartRequestOptions(form, opts) {
  const encoder = new FormDataEncoder(form);
  const readable = Readable$1.from(encoder);
  const body = new MultipartBody2(readable);
  const headers = {
    ...opts.headers,
    ...encoder.headers,
    "Content-Length": encoder.contentLength
  };
  return { ...opts, body, headers };
}
function getRuntime() {
  if (typeof AbortController === "undefined") {
    globalThis.AbortController = AbortController$1;
  }
  return {
    kind: "node",
    fetch: fetch$2,
    Request,
    Response,
    Headers: Headers$1,
    FormData,
    Blob: Blob2,
    File: File$1,
    ReadableStream: ReadableStream$4,
    getMultipartRequestOptions,
    getDefaultAgent: (url) => url.startsWith("https") ? defaultHttpsAgent : defaultHttpAgent,
    fileFromPath,
    isFsReadStream: (value) => value instanceof ReadStream
  };
}
const init = () => {
  if (!kind) setShims(getRuntime(), { auto: true });
};
init();
class AnthropicError extends Error {
}
class APIError2 extends AnthropicError {
  constructor(status, error, message, headers) {
    super(`${APIError2.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    this.request_id = headers == null ? void 0 : headers["request-id"];
    this.error = error;
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status || !headers) {
      return new APIConnectionError2({ message, cause: castToError(errorResponse) });
    }
    const error = errorResponse;
    if (status === 400) {
      return new BadRequestError2(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError2(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError2(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError2(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError2(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError2(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError2(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError2(status, error, message, headers);
    }
    return new APIError2(status, error, message, headers);
  }
}
class APIUserAbortError2 extends APIError2 {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
  }
}
class APIConnectionError2 extends APIError2 {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    if (cause)
      this.cause = cause;
  }
}
class APIConnectionTimeoutError2 extends APIConnectionError2 {
  constructor({ message } = {}) {
    super({ message: message ?? "Request timed out." });
  }
}
class BadRequestError2 extends APIError2 {
}
class AuthenticationError2 extends APIError2 {
}
class PermissionDeniedError2 extends APIError2 {
}
class NotFoundError2 extends APIError2 {
}
class ConflictError2 extends APIError2 {
}
class UnprocessableEntityError2 extends APIError2 {
}
class RateLimitError2 extends APIError2 {
}
class InternalServerError2 extends APIError2 {
}
var __classPrivateFieldSet$3 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$3 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LineDecoder_carriageReturnIndex;
class LineDecoder2 {
  constructor() {
    _LineDecoder_carriageReturnIndex.set(this, void 0);
    this.buffer = new Uint8Array();
    __classPrivateFieldSet$3(this, _LineDecoder_carriageReturnIndex, null, "f");
  }
  decode(chunk) {
    if (chunk == null) {
      return [];
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(this.buffer.length + binaryChunk.length);
    newData.set(this.buffer);
    newData.set(binaryChunk, this.buffer.length);
    this.buffer = newData;
    const lines = [];
    let patternIndex;
    while ((patternIndex = findNewlineIndex(this.buffer, __classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f"))) != null) {
      if (patternIndex.carriage && __classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f") == null) {
        __classPrivateFieldSet$3(this, _LineDecoder_carriageReturnIndex, patternIndex.index, "f");
        continue;
      }
      if (__classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f") != null && (patternIndex.index !== __classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f") + 1 || patternIndex.carriage)) {
        lines.push(this.decodeText(this.buffer.slice(0, __classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f") - 1)));
        this.buffer = this.buffer.slice(__classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f"));
        __classPrivateFieldSet$3(this, _LineDecoder_carriageReturnIndex, null, "f");
        continue;
      }
      const endIndex = __classPrivateFieldGet$3(this, _LineDecoder_carriageReturnIndex, "f") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;
      const line = this.decodeText(this.buffer.slice(0, endIndex));
      lines.push(line);
      this.buffer = this.buffer.slice(patternIndex.index);
      __classPrivateFieldSet$3(this, _LineDecoder_carriageReturnIndex, null, "f");
    }
    return lines;
  }
  decodeText(bytes) {
    if (bytes == null)
      return "";
    if (typeof bytes === "string")
      return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new AnthropicError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`);
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        this.textDecoder ?? (this.textDecoder = new TextDecoder("utf8"));
        return this.textDecoder.decode(bytes);
      }
      throw new AnthropicError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);
    }
    throw new AnthropicError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);
  }
  flush() {
    if (!this.buffer.length) {
      return [];
    }
    return this.decode("\n");
  }
}
_LineDecoder_carriageReturnIndex = /* @__PURE__ */ new WeakMap();
LineDecoder2.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r"]);
LineDecoder2.NEWLINE_REGEXP = /\r\n|[\n\r]/g;
function findNewlineIndex(buffer, startIndex) {
  const newline = 10;
  const carriage = 13;
  for (let i2 = startIndex ?? 0; i2 < buffer.length; i2++) {
    if (buffer[i2] === newline) {
      return { preceding: i2, index: i2 + 1, carriage: false };
    }
    if (buffer[i2] === carriage) {
      return { preceding: i2, index: i2 + 1, carriage: true };
    }
  }
  return null;
}
function findDoubleNewlineIndex(buffer) {
  const newline = 10;
  const carriage = 13;
  for (let i2 = 0; i2 < buffer.length - 1; i2++) {
    if (buffer[i2] === newline && buffer[i2 + 1] === newline) {
      return i2 + 2;
    }
    if (buffer[i2] === carriage && buffer[i2 + 1] === carriage) {
      return i2 + 2;
    }
    if (buffer[i2] === carriage && buffer[i2 + 1] === newline && i2 + 3 < buffer.length && buffer[i2 + 2] === carriage && buffer[i2 + 3] === newline) {
      return i2 + 4;
    }
  }
  return -1;
}
function ReadableStreamToAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e2) {
        reader.releaseLock();
        throw e2;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}
class Stream2 {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed = false;
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const sse of _iterSSEMessages(response, controller)) {
          if (sse.event === "completion") {
            try {
              yield JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
          }
          if (sse.event === "message_start" || sse.event === "message_delta" || sse.event === "message_stop" || sse.event === "content_block_start" || sse.event === "content_block_delta" || sse.event === "content_block_stop") {
            try {
              yield JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
          }
          if (sse.event === "ping") {
            continue;
          }
          if (sse.event === "error") {
            throw APIError2.generate(void 0, `SSE Error: ${sse.data}`, sse.data, createResponseHeaders(response.headers));
          }
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream2(iterator, controller);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller) {
    let consumed = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder2();
      const iter = ReadableStreamToAsyncIterable(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done)
            continue;
          if (line)
            yield JSON.parse(line);
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream2(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream2(() => teeIterator(left), this.controller),
      new Stream2(() => teeIterator(right), this.controller)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream$1({
      async start() {
        iter = self[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      }
    });
  }
}
async function* _iterSSEMessages(response, controller) {
  if (!response.body) {
    controller.abort();
    throw new AnthropicError(`Attempted to iterate over a response with no body`);
  }
  const sseDecoder = new SSEDecoder2();
  const lineDecoder = new LineDecoder2();
  const iter = ReadableStreamToAsyncIterable(response.body);
  for await (const sseChunk of iterSSEChunks(iter)) {
    for (const line of lineDecoder.decode(sseChunk)) {
      const sse = sseDecoder.decode(line);
      if (sse)
        yield sse;
    }
  }
  for (const line of lineDecoder.flush()) {
    const sse = sseDecoder.decode(line);
    if (sse)
      yield sse;
  }
}
async function* iterSSEChunks(iterator) {
  let data = new Uint8Array();
  for await (const chunk of iterator) {
    if (chunk == null) {
      continue;
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(data.length + binaryChunk.length);
    newData.set(data);
    newData.set(binaryChunk, data.length);
    data = newData;
    let patternIndex;
    while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {
      yield data.slice(0, patternIndex);
      data = data.slice(patternIndex);
    }
  }
  if (data.length > 0) {
    yield data;
  }
}
class SSEDecoder2 {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _2, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
}
function partition(str2, delimiter) {
  const index = str2.indexOf(delimiter);
  if (index !== -1) {
    return [str2.substring(0, index), delimiter, str2.substring(index + delimiter.length)];
  }
  return [str2, "", ""];
}
const isResponseLike = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
const isFileLike = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike(value);
const isBlobLike = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
async function toFile(value, name, options) {
  var _a2;
  value = await value;
  if (isFileLike(value)) {
    return value;
  }
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name || (name = new URL(value.url).pathname.split(/[\\/]/).pop() ?? "unknown_file");
    const data = isBlobLike(blob) ? [await blob.arrayBuffer()] : [blob];
    return new File2(data, name, options);
  }
  const bits = await getBytes(value);
  name || (name = getName(value) ?? "unknown_file");
  if (!(options == null ? void 0 : options.type)) {
    const type = (_a2 = bits[0]) == null ? void 0 : _a2.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File2(bits, name, options);
}
async function getBytes(value) {
  var _a2;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(`Unexpected data type: ${typeof value}; constructor: ${(_a2 = value == null ? void 0 : value.constructor) == null ? void 0 : _a2.name}; props: ${propsForError(value)}`);
  }
  return parts;
}
function propsForError(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p2) => `"${p2}"`).join(", ")}]`;
}
function getName(value) {
  var _a2;
  return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream
  ((_a2 = getStringFromMaybeBuffer(value.path)) == null ? void 0 : _a2.split(/[\\/]/).pop());
}
const getStringFromMaybeBuffer = (x2) => {
  if (typeof x2 === "string")
    return x2;
  if (typeof Buffer !== "undefined" && x2 instanceof Buffer)
    return String(x2);
  return void 0;
};
const isAsyncIterableIterator = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
const isMultipartBody = (body) => body && typeof body === "object" && body.body && body[Symbol.toStringTag] === "MultipartBody";
var __classPrivateFieldSet$2 = function(receiver, state, value, kind2, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$2 = function(receiver, state, kind2, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractPage_client;
init();
async function defaultParseResponse(props) {
  var _a2;
  const { response } = props;
  if (props.options.stream) {
    debug("response", response.status, response.url, response.headers, response.body);
    if (props.options.__streamClass) {
      return props.options.__streamClass.fromSSEResponse(response, props.controller);
    }
    return Stream2.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  const mediaType = (_a2 = contentType == null ? void 0 : contentType.split(";")[0]) == null ? void 0 : _a2.trim();
  const isJSON = (mediaType == null ? void 0 : mediaType.includes("application/json")) || (mediaType == null ? void 0 : mediaType.endsWith("+json"));
  if (isJSON) {
    const json = await response.json();
    debug("response", response.status, response.url, response.headers, json);
    return _addRequestID(json, response);
  }
  const text = await response.text();
  debug("response", response.status, response.url, response.headers, text);
  return text;
}
function _addRequestID(value, response) {
  if (!value || typeof value !== "object" || Array.isArray(value)) {
    return value;
  }
  return Object.defineProperty(value, "_request_id", {
    value: response.headers.get("request-id"),
    enumerable: false
  });
}
class APIPromise2 extends Promise {
  constructor(responsePromise, parseResponse2 = defaultParseResponse) {
    super((resolve) => {
      resolve(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse2;
  }
  _thenUnwrap(transform) {
    return new APIPromise2(this.responsePromise, async (props) => _addRequestID(transform(await this.parseResponse(props), props), props.response));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from '@anthropic-ai/sdk'`:
   * - `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)
   * - `import '@anthropic-ai/sdk/shims/web'` (otherwise)
   */
  asResponse() {
    return this.responsePromise.then((p2) => p2.response);
  }
  /**
   * Gets the parsed response data, the raw `Response` instance and the ID of the request,
   * returned vie the `request-id` header which is useful for debugging requests and resporting
   * issues to Anthropic.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   * 👋 Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import … from '@anthropic-ai/sdk'`:
   * - `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)
   * - `import '@anthropic-ai/sdk/shims/web'` (otherwise)
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response, request_id: response.headers.get("request-id") };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
}
class APIClient2 {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    // 10 minutes
    httpAgent,
    fetch: overriddenFetch
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overriddenFetch ?? fetch$1;
  }
  authHeaders(opts) {
    return {};
  }
  /**
   * Override this to add your own default headers, for example:
   *
   *  {
   *    ...super.defaultHeaders(),
   *    Authorization: 'Bearer 123',
   *  }
   */
  defaultHeaders(opts) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders(),
      ...this.authHeaders(opts)
    };
  }
  /**
   * Override this to add your own headers validation:
   */
  validateHeaders(headers, customHeaders) {
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  get(path2, opts) {
    return this.methodRequest("get", path2, opts);
  }
  post(path2, opts) {
    return this.methodRequest("post", path2, opts);
  }
  patch(path2, opts) {
    return this.methodRequest("patch", path2, opts);
  }
  put(path2, opts) {
    return this.methodRequest("put", path2, opts);
  }
  delete(path2, opts) {
    return this.methodRequest("delete", path2, opts);
  }
  methodRequest(method, path2, opts) {
    return this.request(Promise.resolve(opts).then(async (opts2) => {
      const body = opts2 && isBlobLike(opts2 == null ? void 0 : opts2.body) ? new DataView(await opts2.body.arrayBuffer()) : (opts2 == null ? void 0 : opts2.body) instanceof DataView ? opts2.body : (opts2 == null ? void 0 : opts2.body) instanceof ArrayBuffer ? new DataView(opts2.body) : opts2 && ArrayBuffer.isView(opts2 == null ? void 0 : opts2.body) ? new DataView(opts2.body.buffer) : opts2 == null ? void 0 : opts2.body;
      return { method, path: path2, ...opts2, body };
    }));
  }
  getAPIList(path2, Page3, opts) {
    return this.requestAPIList(Page3, { method: "get", path: path2, ...opts });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    } else if (ArrayBuffer.isView(body)) {
      return body.byteLength.toString();
    }
    return null;
  }
  buildRequest(inputOptions, { retryCount = 0 } = {}) {
    var _a2;
    const options = { ...inputOptions };
    const { method, path: path2, query, headers = {} } = options;
    const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === "string" ? options.body : isMultipartBody(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path2, query);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    options.timeout = options.timeout ?? this.timeout;
    const httpAgent = options.httpAgent ?? this.httpAgent ?? getDefaultAgent(url);
    const minAgentTimeout = options.timeout + 1e3;
    if (typeof ((_a2 = httpAgent == null ? void 0 : httpAgent.options) == null ? void 0 : _a2.timeout) === "number" && minAgentTimeout > (httpAgent.options.timeout ?? 0)) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!inputOptions.idempotencyKey)
        inputOptions.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = inputOptions.idempotencyKey;
    }
    const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });
    const req = {
      method,
      ...body && { body },
      headers: reqHeaders,
      ...httpAgent && { agent: httpAgent },
      // @ts-ignore node-fetch uses a custom AbortSignal type that is
      // not compatible with standard web types
      signal: options.signal ?? null
    };
    return { req, url, timeout: options.timeout };
  }
  buildHeaders({ options, headers, contentLength, retryCount }) {
    const reqHeaders = {};
    if (contentLength) {
      reqHeaders["content-length"] = contentLength;
    }
    const defaultHeaders = this.defaultHeaders(options);
    applyHeadersMut(reqHeaders, defaultHeaders);
    applyHeadersMut(reqHeaders, headers);
    if (isMultipartBody(options.body) && kind !== "node") {
      delete reqHeaders["content-type"];
    }
    if (getHeader(defaultHeaders, "x-stainless-retry-count") === void 0 && getHeader(headers, "x-stainless-retry-count") === void 0) {
      reqHeaders["x-stainless-retry-count"] = String(retryCount);
    }
    if (getHeader(defaultHeaders, "x-stainless-timeout") === void 0 && getHeader(headers, "x-stainless-timeout") === void 0 && options.timeout) {
      reqHeaders["x-stainless-timeout"] = String(Math.trunc(options.timeout / 1e3));
    }
    this.validateHeaders(reqHeaders, headers);
    return reqHeaders;
  }
  _calculateNonstreamingTimeout(maxTokens) {
    const defaultTimeout = 10 * 60;
    const expectedTimeout = 60 * 60 * maxTokens / 128e3;
    if (expectedTimeout > defaultTimeout) {
      throw new AnthropicError("Streaming is strongly recommended for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-python#streaming-responses for more details");
    }
    return defaultTimeout * 1e3;
  }
  /**
   * Used as a callback for mutating the given `FinalRequestOptions` object.
   */
  async prepareOptions(options) {
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  parseHeaders(headers) {
    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header) => [...header])) : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError2.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise2(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b;
    const options = await optionsInput;
    const maxRetries = options.maxRetries ?? this.maxRetries;
    if (retriesRemaining == null) {
      retriesRemaining = maxRetries;
    }
    await this.prepareOptions(options);
    const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });
    await this.prepareRequest(req, { url, options });
    debug("request", url, options, req.headers);
    if ((_a2 = options.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError2();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);
    if (response instanceof Error) {
      if ((_b = options.signal) == null ? void 0 : _b.aborted) {
        throw new APIUserAbortError2();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError2();
      }
      throw new APIConnectionError2({ cause: response });
    }
    const responseHeaders = createResponseHeaders(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        const retryMessage2 = `retrying, ${retriesRemaining} attempts remaining`;
        debug(`response (error; ${retryMessage2})`, response.status, url, responseHeaders);
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response.text().catch((e2) => castToError(e2).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;
      debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page3, options) {
    const request = this.makeRequest(options, null);
    return new PagePromise2(this, request, Page3);
  }
  buildURL(path2, query) {
    const url = isAbsoluteURL(path2) ? new URL(path2) : new URL(this.baseURL + (this.baseURL.endsWith("/") && path2.startsWith("/") ? path2.slice(1) : path2));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query).filter(([_2, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new AnthropicError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  async fetchWithTimeout(url, init2, ms2, controller) {
    const { signal, ...options } = init2 || {};
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms2);
    const fetchOptions = {
      signal: controller.signal,
      ...options
    };
    if (fetchOptions.method) {
      fetchOptions.method = fetchOptions.method.toUpperCase();
    }
    const socketKeepAliveInterval = 60 * 1e3;
    const keepAliveTimeout = setTimeout(() => {
      var _a2, _b;
      if (fetchOptions && ((_a2 = fetchOptions == null ? void 0 : fetchOptions.agent) == null ? void 0 : _a2.sockets)) {
        for (const socket of Object.values((_b = fetchOptions == null ? void 0 : fetchOptions.agent) == null ? void 0 : _b.sockets).flat()) {
          if (socket == null ? void 0 : socket.setKeepAlive) {
            socket.setKeepAlive(true, socketKeepAliveInterval);
          }
        }
      }
    }, socketKeepAliveInterval);
    return (
      // use undefined this binding; fetch errors if bound to something else in browser/cloudflare
      this.fetch.call(void 0, url, fetchOptions).finally(() => {
        clearTimeout(timeout);
        clearTimeout(keepAliveTimeout);
      })
    );
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    let timeoutMillis;
    const retryAfterMillisHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after-ms"];
    if (retryAfterMillisHeader) {
      const timeoutMs = parseFloat(retryAfterMillisHeader);
      if (!Number.isNaN(timeoutMs)) {
        timeoutMillis = timeoutMs;
      }
    }
    const retryAfterHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader && !timeoutMillis) {
      const timeoutSeconds = parseFloat(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1e3)) {
      const maxRetries = options.maxRetries ?? this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
}
class AbstractPage2 {
  constructor(client, response, body, options) {
    _AbstractPage_client.set(this, void 0);
    __classPrivateFieldSet$2(this, _AbstractPage_client, client);
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length)
      return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new AnthropicError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo && typeof nextOptions.query === "object") {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet$2(this, _AbstractPage_client, "f").requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[(_AbstractPage_client = /* @__PURE__ */ new WeakMap(), Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
}
class PagePromise2 extends APIPromise2 {
  constructor(client, request, Page3) {
    super(request, async (props) => new Page3(client, props.response, await defaultParseResponse(props), props.options));
  }
  /**
   * Allow auto-paginating iteration on an unawaited list call, eg:
   *
   *    for await (const item of client.items.list()) {
   *      console.log(item)
   *    }
   */
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
}
const createResponseHeaders = (headers) => {
  return new Proxy(Object.fromEntries(
    // @ts-ignore
    headers.entries()
  ), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    }
  });
};
const requestOptionsKeys = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __binaryRequest: true,
  __binaryResponse: true,
  __streamClass: true
};
const isRequestOptions = (obj) => {
  return typeof obj === "object" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k2) => hasOwn(requestOptionsKeys, k2));
};
const getPlatformProperties = () => {
  var _a2;
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": typeof Deno.version === "string" ? Deno.version : ((_a2 = Deno.version) == null ? void 0 : _a2.deno) ?? "unknown"
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  if (Object.prototype.toString.call(typeof process !== "undefined" ? process : 0) === "[object process]") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(process.platform),
      "X-Stainless-Arch": normalizeArch(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match = pattern.exec(navigator.userAgent);
    if (match) {
      const major = match[1] || 0;
      const minor = match[2] || 0;
      const patch = match[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
const normalizeArch = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
const normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
let _platformHeaders;
const getPlatformHeaders = () => {
  return _platformHeaders ?? (_platformHeaders = getPlatformProperties());
};
const safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
const startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;
const isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
const sleep = (ms2) => new Promise((resolve) => setTimeout(resolve, ms2));
const validatePositiveInteger = (name, n2) => {
  if (typeof n2 !== "number" || !Number.isInteger(n2)) {
    throw new AnthropicError(`${name} must be an integer`);
  }
  if (n2 < 0) {
    throw new AnthropicError(`${name} must be a positive integer`);
  }
  return n2;
};
const castToError = (err) => {
  if (err instanceof Error)
    return err;
  if (typeof err === "object" && err !== null) {
    try {
      return new Error(JSON.stringify(err));
    } catch {
    }
  }
  return new Error(String(err));
};
const readEnv = (env) => {
  var _a2, _b, _c, _d, _e2;
  if (typeof process !== "undefined") {
    return ((_b = (_a2 = process.env) == null ? void 0 : _a2[env]) == null ? void 0 : _b.trim()) ?? void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_e2 = (_d = (_c = Deno.env) == null ? void 0 : _c.get) == null ? void 0 : _d.call(_c, env)) == null ? void 0 : _e2.trim();
  }
  return void 0;
};
function isEmptyObj(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function applyHeadersMut(targetHeaders, newHeaders) {
  for (const k2 in newHeaders) {
    if (!hasOwn(newHeaders, k2))
      continue;
    const lowerKey = k2.toLowerCase();
    if (!lowerKey)
      continue;
    const val = newHeaders[k2];
    if (val === null) {
      delete targetHeaders[lowerKey];
    } else if (val !== void 0) {
      targetHeaders[lowerKey] = val;
    }
  }
}
function debug(action, ...args) {
  var _a2;
  if (typeof process !== "undefined" && ((_a2 = process.env) == null ? void 0 : _a2["DEBUG"]) === "true") {
    console.log(`Anthropic:DEBUG:${action}`, ...args);
  }
}
const uuid4 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c2) => {
    const r2 = Math.random() * 16 | 0;
    const v2 = c2 === "x" ? r2 : r2 & 3 | 8;
    return v2.toString(16);
  });
};
const isRunningInBrowser = () => {
  return (
    // @ts-ignore
    typeof window !== "undefined" && // @ts-ignore
    typeof window.document !== "undefined" && // @ts-ignore
    typeof navigator !== "undefined"
  );
};
const isHeadersProtocol = (headers) => {
  return typeof (headers == null ? void 0 : headers.get) === "function";
};
const getHeader = (headers, header) => {
  var _a2;
  const lowerCasedHeader = header.toLowerCase();
  if (isHeadersProtocol(headers)) {
    const intercapsHeader = ((_a2 = header[0]) == null ? void 0 : _a2.toUpperCase()) + header.substring(1).replace(/([^\w])(\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());
    for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {
      const value = headers.get(key);
      if (value) {
        return value;
      }
    }
  }
  for (const [key, value] of Object.entries(headers)) {
    if (key.toLowerCase() === lowerCasedHeader) {
      if (Array.isArray(value)) {
        if (value.length <= 1)
          return value[0];
        console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);
        return value[0];
      }
      return value;
    }
  }
  return void 0;
};
class Page2 extends AbstractPage2 {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.has_more = body.has_more || false;
    this.first_id = body.first_id || null;
    this.last_id = body.last_id || null;
  }
  getPaginatedItems() {
    return this.data ?? [];
  }
  hasNextPage() {
    if (this.has_more === false) {
      return false;
    }
    return super.hasNextPage();
  }
  // @deprecated Please use `nextPageInfo()` instead
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info)
      return null;
    if ("params" in info)
      return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length)
      return null;
    return params;
  }
  nextPageInfo() {
    var _a2;
    if ((_a2 = this.options.query) == null ? void 0 : _a2["before_id"]) {
      const firstId = this.first_id;
      if (!firstId) {
        return null;
      }
      return {
        params: {
          before_id: firstId
        }
      };
    }
    const cursor = this.last_id;
    if (!cursor) {
      return null;
    }
    return {
      params: {
        after_id: cursor
      }
    };
  }
}
class APIResource2 {
  constructor(client) {
    this._client = client;
  }
}
let Models$1 = class Models2 extends APIResource2 {
  /**
   * Get a specific model.
   *
   * The Models API response can be used to determine information about a specific
   * model or resolve a model alias to a model ID.
   */
  retrieve(modelId, options) {
    return this._client.get(`/v1/models/${modelId}?beta=true`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/v1/models?beta=true", BetaModelInfosPage, { query, ...options });
  }
};
class BetaModelInfosPage extends Page2 {
}
Models$1.BetaModelInfosPage = BetaModelInfosPage;
class JSONLDecoder {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  async *decoder() {
    const lineDecoder = new LineDecoder2();
    for await (const chunk of this.iterator) {
      for (const line of lineDecoder.decode(chunk)) {
        yield JSON.parse(line);
      }
    }
    for (const line of lineDecoder.flush()) {
      yield JSON.parse(line);
    }
  }
  [Symbol.asyncIterator]() {
    return this.decoder();
  }
  static fromResponse(response, controller) {
    if (!response.body) {
      controller.abort();
      throw new AnthropicError(`Attempted to iterate over a response with no body`);
    }
    return new JSONLDecoder(ReadableStreamToAsyncIterable(response.body), controller);
  }
}
let Batches$1 = class Batches2 extends APIResource2 {
  /**
   * Send a batch of Message creation requests.
   *
   * The Message Batches API can be used to process multiple Messages API requests at
   * once. Once a Message Batch is created, it begins processing immediately. Batches
   * can take up to 24 hours to complete.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  create(params, options) {
    const { betas, ...body } = params;
    return this._client.post("/v1/messages/batches?beta=true", {
      body,
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
  retrieve(messageBatchId, params = {}, options) {
    if (isRequestOptions(params)) {
      return this.retrieve(messageBatchId, {}, params);
    }
    const { betas } = params;
    return this._client.get(`/v1/messages/batches/${messageBatchId}?beta=true`, {
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
  list(params = {}, options) {
    if (isRequestOptions(params)) {
      return this.list({}, params);
    }
    const { betas, ...query } = params;
    return this._client.getAPIList("/v1/messages/batches?beta=true", BetaMessageBatchesPage, {
      query,
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
  delete(messageBatchId, params = {}, options) {
    if (isRequestOptions(params)) {
      return this.delete(messageBatchId, {}, params);
    }
    const { betas } = params;
    return this._client.delete(`/v1/messages/batches/${messageBatchId}?beta=true`, {
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
  cancel(messageBatchId, params = {}, options) {
    if (isRequestOptions(params)) {
      return this.cancel(messageBatchId, {}, params);
    }
    const { betas } = params;
    return this._client.post(`/v1/messages/batches/${messageBatchId}/cancel?beta=true`, {
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
  async results(messageBatchId, params = {}, options) {
    if (isRequestOptions(params)) {
      return this.results(messageBatchId, {}, params);
    }
    const batch = await this.retrieve(messageBatchId);
    if (!batch.results_url) {
      throw new AnthropicError(`No batch \`results_url\`; Has it finished processing? ${batch.processing_status} - ${batch.id}`);
    }
    const { betas } = params;
    return this._client.get(batch.results_url, {
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "message-batches-2024-09-24"].toString(),
        Accept: "application/binary",
        ...options == null ? void 0 : options.headers
      },
      stream: true,
      __binaryResponse: true
    })._thenUnwrap((_2, props) => JSONLDecoder.fromResponse(props.response, props.controller));
  }
};
class BetaMessageBatchesPage extends Page2 {
}
Batches$1.BetaMessageBatchesPage = BetaMessageBatchesPage;
const tokenize = (input) => {
  let current = 0;
  let tokens = [];
  while (current < input.length) {
    let char = input[current];
    if (char === "\\") {
      current++;
      continue;
    }
    if (char === "{") {
      tokens.push({
        type: "brace",
        value: "{"
      });
      current++;
      continue;
    }
    if (char === "}") {
      tokens.push({
        type: "brace",
        value: "}"
      });
      current++;
      continue;
    }
    if (char === "[") {
      tokens.push({
        type: "paren",
        value: "["
      });
      current++;
      continue;
    }
    if (char === "]") {
      tokens.push({
        type: "paren",
        value: "]"
      });
      current++;
      continue;
    }
    if (char === ":") {
      tokens.push({
        type: "separator",
        value: ":"
      });
      current++;
      continue;
    }
    if (char === ",") {
      tokens.push({
        type: "delimiter",
        value: ","
      });
      current++;
      continue;
    }
    if (char === '"') {
      let value = "";
      let danglingQuote = false;
      char = input[++current];
      while (char !== '"') {
        if (current === input.length) {
          danglingQuote = true;
          break;
        }
        if (char === "\\") {
          current++;
          if (current === input.length) {
            danglingQuote = true;
            break;
          }
          value += char + input[current];
          char = input[++current];
        } else {
          value += char;
          char = input[++current];
        }
      }
      char = input[++current];
      if (!danglingQuote) {
        tokens.push({
          type: "string",
          value
        });
      }
      continue;
    }
    let WHITESPACE = /\s/;
    if (char && WHITESPACE.test(char)) {
      current++;
      continue;
    }
    let NUMBERS = /[0-9]/;
    if (char && NUMBERS.test(char) || char === "-" || char === ".") {
      let value = "";
      if (char === "-") {
        value += char;
        char = input[++current];
      }
      while (char && NUMBERS.test(char) || char === ".") {
        value += char;
        char = input[++current];
      }
      tokens.push({
        type: "number",
        value
      });
      continue;
    }
    let LETTERS = /[a-z]/i;
    if (char && LETTERS.test(char)) {
      let value = "";
      while (char && LETTERS.test(char)) {
        if (current === input.length) {
          break;
        }
        value += char;
        char = input[++current];
      }
      if (value == "true" || value == "false" || value === "null") {
        tokens.push({
          type: "name",
          value
        });
      } else {
        current++;
        continue;
      }
      continue;
    }
    current++;
  }
  return tokens;
}, strip = (tokens) => {
  if (tokens.length === 0) {
    return tokens;
  }
  let lastToken = tokens[tokens.length - 1];
  switch (lastToken.type) {
    case "separator":
      tokens = tokens.slice(0, tokens.length - 1);
      return strip(tokens);
    case "number":
      let lastCharacterOfLastToken = lastToken.value[lastToken.value.length - 1];
      if (lastCharacterOfLastToken === "." || lastCharacterOfLastToken === "-") {
        tokens = tokens.slice(0, tokens.length - 1);
        return strip(tokens);
      }
    case "string":
      let tokenBeforeTheLastToken = tokens[tokens.length - 2];
      if ((tokenBeforeTheLastToken == null ? void 0 : tokenBeforeTheLastToken.type) === "delimiter") {
        tokens = tokens.slice(0, tokens.length - 1);
        return strip(tokens);
      } else if ((tokenBeforeTheLastToken == null ? void 0 : tokenBeforeTheLastToken.type) === "brace" && tokenBeforeTheLastToken.value === "{") {
        tokens = tokens.slice(0, tokens.length - 1);
        return strip(tokens);
      }
      break;
    case "delimiter":
      tokens = tokens.slice(0, tokens.length - 1);
      return strip(tokens);
  }
  return tokens;
}, unstrip = (tokens) => {
  let tail = [];
  tokens.map((token) => {
    if (token.type === "brace") {
      if (token.value === "{") {
        tail.push("}");
      } else {
        tail.splice(tail.lastIndexOf("}"), 1);
      }
    }
    if (token.type === "paren") {
      if (token.value === "[") {
        tail.push("]");
      } else {
        tail.splice(tail.lastIndexOf("]"), 1);
      }
    }
  });
  if (tail.length > 0) {
    tail.reverse().map((item) => {
      if (item === "}") {
        tokens.push({
          type: "brace",
          value: "}"
        });
      } else if (item === "]") {
        tokens.push({
          type: "paren",
          value: "]"
        });
      }
    });
  }
  return tokens;
}, generate = (tokens) => {
  let output = "";
  tokens.map((token) => {
    switch (token.type) {
      case "string":
        output += '"' + token.value + '"';
        break;
      default:
        output += token.value;
        break;
    }
  });
  return output;
}, partialParse = (input) => JSON.parse(generate(unstrip(strip(tokenize(input)))));
var __classPrivateFieldSet$1 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet$1 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _BetaMessageStream_instances, _BetaMessageStream_currentMessageSnapshot, _BetaMessageStream_connectedPromise, _BetaMessageStream_resolveConnectedPromise, _BetaMessageStream_rejectConnectedPromise, _BetaMessageStream_endPromise, _BetaMessageStream_resolveEndPromise, _BetaMessageStream_rejectEndPromise, _BetaMessageStream_listeners, _BetaMessageStream_ended, _BetaMessageStream_errored, _BetaMessageStream_aborted, _BetaMessageStream_catchingPromiseCreated, _BetaMessageStream_response, _BetaMessageStream_request_id, _BetaMessageStream_getFinalMessage, _BetaMessageStream_getFinalText, _BetaMessageStream_handleError, _BetaMessageStream_beginRequest, _BetaMessageStream_addStreamEvent, _BetaMessageStream_endRequest, _BetaMessageStream_accumulateMessage;
const JSON_BUF_PROPERTY$1 = "__json_buf";
class BetaMessageStream {
  constructor() {
    _BetaMessageStream_instances.add(this);
    this.messages = [];
    this.receivedMessages = [];
    _BetaMessageStream_currentMessageSnapshot.set(this, void 0);
    this.controller = new AbortController();
    _BetaMessageStream_connectedPromise.set(this, void 0);
    _BetaMessageStream_resolveConnectedPromise.set(this, () => {
    });
    _BetaMessageStream_rejectConnectedPromise.set(this, () => {
    });
    _BetaMessageStream_endPromise.set(this, void 0);
    _BetaMessageStream_resolveEndPromise.set(this, () => {
    });
    _BetaMessageStream_rejectEndPromise.set(this, () => {
    });
    _BetaMessageStream_listeners.set(this, {});
    _BetaMessageStream_ended.set(this, false);
    _BetaMessageStream_errored.set(this, false);
    _BetaMessageStream_aborted.set(this, false);
    _BetaMessageStream_catchingPromiseCreated.set(this, false);
    _BetaMessageStream_response.set(this, void 0);
    _BetaMessageStream_request_id.set(this, void 0);
    _BetaMessageStream_handleError.set(this, (error) => {
      __classPrivateFieldSet$1(this, _BetaMessageStream_errored, true, "f");
      if (error instanceof Error && error.name === "AbortError") {
        error = new APIUserAbortError2();
      }
      if (error instanceof APIUserAbortError2) {
        __classPrivateFieldSet$1(this, _BetaMessageStream_aborted, true, "f");
        return this._emit("abort", error);
      }
      if (error instanceof AnthropicError) {
        return this._emit("error", error);
      }
      if (error instanceof Error) {
        const anthropicError = new AnthropicError(error.message);
        anthropicError.cause = error;
        return this._emit("error", anthropicError);
      }
      return this._emit("error", new AnthropicError(String(error)));
    });
    __classPrivateFieldSet$1(this, _BetaMessageStream_connectedPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet$1(this, _BetaMessageStream_resolveConnectedPromise, resolve, "f");
      __classPrivateFieldSet$1(this, _BetaMessageStream_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet$1(this, _BetaMessageStream_endPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet$1(this, _BetaMessageStream_resolveEndPromise, resolve, "f");
      __classPrivateFieldSet$1(this, _BetaMessageStream_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet$1(this, _BetaMessageStream_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet$1(this, _BetaMessageStream_endPromise, "f").catch(() => {
    });
  }
  get response() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_response, "f");
  }
  get request_id() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_request_id, "f");
  }
  /**
   * Returns the `MessageStream` data, the raw `Response` instance and the ID of the request,
   * returned vie the `request-id` header which is useful for debugging requests and resporting
   * issues to Anthropic.
   *
   * This is the same as the `APIPromise.withResponse()` method.
   *
   * This method will raise an error if you created the stream using `MessageStream.fromReadableStream`
   * as no `Response` is available.
   */
  async withResponse() {
    const response = await __classPrivateFieldGet$1(this, _BetaMessageStream_connectedPromise, "f");
    if (!response) {
      throw new Error("Could not resolve a `Response` object");
    }
    return {
      data: this,
      response,
      request_id: response.headers.get("request-id")
    };
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new BetaMessageStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createMessage(messages, params, options) {
    const runner = new BetaMessageStream();
    for (const message of params.messages) {
      runner._addMessageParam(message);
    }
    runner._run(() => runner._createMessage(messages, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  _run(executor) {
    executor().then(() => {
      this._emitFinal();
      this._emit("end");
    }, __classPrivateFieldGet$1(this, _BetaMessageStream_handleError, "f"));
  }
  _addMessageParam(message) {
    this.messages.push(message);
  }
  _addMessage(message, emit = true) {
    this.receivedMessages.push(message);
    if (emit) {
      this._emit("message", message);
    }
  }
  async _createMessage(messages, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_beginRequest).call(this);
    const { response, data: stream } = await messages.create({ ...params, stream: true }, { ...options, signal: this.controller.signal }).withResponse();
    this._connected(response);
    for await (const event of stream) {
      __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_addStreamEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError2();
    }
    __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_endRequest).call(this);
  }
  _connected(response) {
    if (this.ended)
      return;
    __classPrivateFieldSet$1(this, _BetaMessageStream_response, response, "f");
    __classPrivateFieldSet$1(this, _BetaMessageStream_request_id, response == null ? void 0 : response.headers.get("request-id"), "f");
    __classPrivateFieldGet$1(this, _BetaMessageStream_resolveConnectedPromise, "f").call(this, response);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this MessageStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event] || (__classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this MessageStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event];
    if (!listeners)
      return this;
    const index = listeners.findIndex((l2) => l2.listener === listener);
    if (index >= 0)
      listeners.splice(index, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this MessageStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event] || (__classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve, reject) => {
      __classPrivateFieldSet$1(this, _BetaMessageStream_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve);
    });
  }
  async done() {
    __classPrivateFieldSet$1(this, _BetaMessageStream_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet$1(this, _BetaMessageStream_endPromise, "f");
  }
  get currentMessage() {
    return __classPrivateFieldGet$1(this, _BetaMessageStream_currentMessageSnapshot, "f");
  }
  /**
   * @returns a promise that resolves with the the final assistant Message response,
   * or rejects if an error occurred or the stream ended prematurely without producing a Message.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant Message's text response, concatenated
   * together if there are more than one text blocks.
   * Rejects if an error occurred or the stream ended prematurely without producing a Message.
   */
  async finalText() {
    await this.done();
    return __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_getFinalText).call(this);
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet$1(this, _BetaMessageStream_ended, "f"))
      return;
    if (event === "end") {
      __classPrivateFieldSet$1(this, _BetaMessageStream_ended, true, "f");
      __classPrivateFieldGet$1(this, _BetaMessageStream_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet$1(this, _BetaMessageStream_listeners, "f")[event] = listeners.filter((l2) => !l2.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet$1(this, _BetaMessageStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet$1(this, _BetaMessageStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet$1(this, _BetaMessageStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet$1(this, _BetaMessageStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet$1(this, _BetaMessageStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet$1(this, _BetaMessageStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
    const finalMessage = this.receivedMessages.at(-1);
    if (finalMessage) {
      this._emit("finalMessage", __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_getFinalMessage).call(this));
    }
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_beginRequest).call(this);
    this._connected(null);
    const stream = Stream2.fromReadableStream(readableStream, this.controller);
    for await (const event of stream) {
      __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_addStreamEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError2();
    }
    __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_endRequest).call(this);
  }
  [(_BetaMessageStream_currentMessageSnapshot = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_connectedPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_endPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_listeners = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_ended = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_errored = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_aborted = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_response = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_request_id = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_handleError = /* @__PURE__ */ new WeakMap(), _BetaMessageStream_instances = /* @__PURE__ */ new WeakSet(), _BetaMessageStream_getFinalMessage = function _BetaMessageStream_getFinalMessage2() {
    if (this.receivedMessages.length === 0) {
      throw new AnthropicError("stream ended without producing a Message with role=assistant");
    }
    return this.receivedMessages.at(-1);
  }, _BetaMessageStream_getFinalText = function _BetaMessageStream_getFinalText2() {
    if (this.receivedMessages.length === 0) {
      throw new AnthropicError("stream ended without producing a Message with role=assistant");
    }
    const textBlocks = this.receivedMessages.at(-1).content.filter((block) => block.type === "text").map((block) => block.text);
    if (textBlocks.length === 0) {
      throw new AnthropicError("stream ended without producing a content block with type=text");
    }
    return textBlocks.join(" ");
  }, _BetaMessageStream_beginRequest = function _BetaMessageStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet$1(this, _BetaMessageStream_currentMessageSnapshot, void 0, "f");
  }, _BetaMessageStream_addStreamEvent = function _BetaMessageStream_addStreamEvent2(event) {
    if (this.ended)
      return;
    const messageSnapshot = __classPrivateFieldGet$1(this, _BetaMessageStream_instances, "m", _BetaMessageStream_accumulateMessage).call(this, event);
    this._emit("streamEvent", event, messageSnapshot);
    switch (event.type) {
      case "content_block_delta": {
        const content = messageSnapshot.content.at(-1);
        switch (event.delta.type) {
          case "text_delta": {
            if (content.type === "text") {
              this._emit("text", event.delta.text, content.text || "");
            }
            break;
          }
          case "citations_delta": {
            if (content.type === "text") {
              this._emit("citation", event.delta.citation, content.citations ?? []);
            }
            break;
          }
          case "input_json_delta": {
            if (content.type === "tool_use" && content.input) {
              this._emit("inputJson", event.delta.partial_json, content.input);
            }
            break;
          }
          case "thinking_delta": {
            if (content.type === "thinking") {
              this._emit("thinking", event.delta.thinking, content.thinking);
            }
            break;
          }
          case "signature_delta": {
            if (content.type === "thinking") {
              this._emit("signature", content.signature);
            }
            break;
          }
          default:
            checkNever$1(event.delta);
        }
        break;
      }
      case "message_stop": {
        this._addMessageParam(messageSnapshot);
        this._addMessage(messageSnapshot, true);
        break;
      }
      case "content_block_stop": {
        this._emit("contentBlock", messageSnapshot.content.at(-1));
        break;
      }
      case "message_start": {
        __classPrivateFieldSet$1(this, _BetaMessageStream_currentMessageSnapshot, messageSnapshot, "f");
        break;
      }
    }
  }, _BetaMessageStream_endRequest = function _BetaMessageStream_endRequest2() {
    if (this.ended) {
      throw new AnthropicError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet$1(this, _BetaMessageStream_currentMessageSnapshot, "f");
    if (!snapshot) {
      throw new AnthropicError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet$1(this, _BetaMessageStream_currentMessageSnapshot, void 0, "f");
    return snapshot;
  }, _BetaMessageStream_accumulateMessage = function _BetaMessageStream_accumulateMessage2(event) {
    let snapshot = __classPrivateFieldGet$1(this, _BetaMessageStream_currentMessageSnapshot, "f");
    if (event.type === "message_start") {
      if (snapshot) {
        throw new AnthropicError(`Unexpected event order, got ${event.type} before receiving "message_stop"`);
      }
      return event.message;
    }
    if (!snapshot) {
      throw new AnthropicError(`Unexpected event order, got ${event.type} before "message_start"`);
    }
    switch (event.type) {
      case "message_stop":
        return snapshot;
      case "message_delta":
        snapshot.stop_reason = event.delta.stop_reason;
        snapshot.stop_sequence = event.delta.stop_sequence;
        snapshot.usage.output_tokens = event.usage.output_tokens;
        return snapshot;
      case "content_block_start":
        snapshot.content.push(event.content_block);
        return snapshot;
      case "content_block_delta": {
        const snapshotContent = snapshot.content.at(event.index);
        switch (event.delta.type) {
          case "text_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "text") {
              snapshotContent.text += event.delta.text;
            }
            break;
          }
          case "citations_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "text") {
              snapshotContent.citations ?? (snapshotContent.citations = []);
              snapshotContent.citations.push(event.delta.citation);
            }
            break;
          }
          case "input_json_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "tool_use") {
              let jsonBuf = snapshotContent[JSON_BUF_PROPERTY$1] || "";
              jsonBuf += event.delta.partial_json;
              Object.defineProperty(snapshotContent, JSON_BUF_PROPERTY$1, {
                value: jsonBuf,
                enumerable: false,
                writable: true
              });
              if (jsonBuf) {
                snapshotContent.input = partialParse(jsonBuf);
              }
            }
            break;
          }
          case "thinking_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "thinking") {
              snapshotContent.thinking += event.delta.thinking;
            }
            break;
          }
          case "signature_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "thinking") {
              snapshotContent.signature = event.delta.signature;
            }
            break;
          }
          default:
            checkNever$1(event.delta);
        }
        return snapshot;
      }
      case "content_block_stop":
        return snapshot;
    }
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("streamEvent", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream2(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
}
function checkNever$1(x2) {
}
const DEPRECATED_MODELS$1 = {
  "claude-1.3": "November 6th, 2024",
  "claude-1.3-100k": "November 6th, 2024",
  "claude-instant-1.1": "November 6th, 2024",
  "claude-instant-1.1-100k": "November 6th, 2024",
  "claude-instant-1.2": "November 6th, 2024",
  "claude-3-sonnet-20240229": "July 21st, 2025",
  "claude-2.1": "July 21st, 2025",
  "claude-2.0": "July 21st, 2025"
};
let Messages$1 = class Messages3 extends APIResource2 {
  constructor() {
    super(...arguments);
    this.batches = new Batches$1(this._client);
  }
  create(params, options) {
    const { betas, ...body } = params;
    if (body.model in DEPRECATED_MODELS$1) {
      console.warn(`The model '${body.model}' is deprecated and will reach end-of-life on ${DEPRECATED_MODELS$1[body.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);
    }
    return this._client.post("/v1/messages?beta=true", {
      body,
      timeout: this._client._options.timeout ?? (body.stream ? 6e5 : this._client._calculateNonstreamingTimeout(body.max_tokens)),
      ...options,
      headers: {
        ...(betas == null ? void 0 : betas.toString()) != null ? { "anthropic-beta": betas == null ? void 0 : betas.toString() } : void 0,
        ...options == null ? void 0 : options.headers
      },
      stream: params.stream ?? false
    });
  }
  /**
   * Create a Message stream
   */
  stream(body, options) {
    return BetaMessageStream.createMessage(this, body, options);
  }
  /**
   * Count the number of tokens in a Message.
   *
   * The Token Count API can be used to count the number of tokens in a Message,
   * including tools, images, and documents, without creating it.
   *
   * Learn more about token counting in our
   * [user guide](/en/docs/build-with-claude/token-counting)
   */
  countTokens(params, options) {
    const { betas, ...body } = params;
    return this._client.post("/v1/messages/count_tokens?beta=true", {
      body,
      ...options,
      headers: {
        "anthropic-beta": [...betas ?? [], "token-counting-2024-11-01"].toString(),
        ...options == null ? void 0 : options.headers
      }
    });
  }
};
Messages$1.Batches = Batches$1;
Messages$1.BetaMessageBatchesPage = BetaMessageBatchesPage;
class Beta2 extends APIResource2 {
  constructor() {
    super(...arguments);
    this.models = new Models$1(this._client);
    this.messages = new Messages$1(this._client);
  }
}
Beta2.Models = Models$1;
Beta2.BetaModelInfosPage = BetaModelInfosPage;
Beta2.Messages = Messages$1;
class Completions4 extends APIResource2 {
  create(body, options) {
    return this._client.post("/v1/complete", {
      body,
      timeout: this._client._options.timeout ?? 6e5,
      ...options,
      stream: body.stream ?? false
    });
  }
}
class Batches3 extends APIResource2 {
  /**
   * Send a batch of Message creation requests.
   *
   * The Message Batches API can be used to process multiple Messages API requests at
   * once. Once a Message Batch is created, it begins processing immediately. Batches
   * can take up to 24 hours to complete.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  create(body, options) {
    return this._client.post("/v1/messages/batches", { body, ...options });
  }
  /**
   * This endpoint is idempotent and can be used to poll for Message Batch
   * completion. To access the results of a Message Batch, make a request to the
   * `results_url` field in the response.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  retrieve(messageBatchId, options) {
    return this._client.get(`/v1/messages/batches/${messageBatchId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/v1/messages/batches", MessageBatchesPage, { query, ...options });
  }
  /**
   * Delete a Message Batch.
   *
   * Message Batches can only be deleted once they've finished processing. If you'd
   * like to delete an in-progress batch, you must first cancel it.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  delete(messageBatchId, options) {
    return this._client.delete(`/v1/messages/batches/${messageBatchId}`, options);
  }
  /**
   * Batches may be canceled any time before processing ends. Once cancellation is
   * initiated, the batch enters a `canceling` state, at which time the system may
   * complete any in-progress, non-interruptible requests before finalizing
   * cancellation.
   *
   * The number of canceled requests is specified in `request_counts`. To determine
   * which requests were canceled, check the individual results within the batch.
   * Note that cancellation may not result in any canceled requests if they were
   * non-interruptible.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  cancel(messageBatchId, options) {
    return this._client.post(`/v1/messages/batches/${messageBatchId}/cancel`, options);
  }
  /**
   * Streams the results of a Message Batch as a `.jsonl` file.
   *
   * Each line in the file is a JSON object containing the result of a single request
   * in the Message Batch. Results are not guaranteed to be in the same order as
   * requests. Use the `custom_id` field to match results to requests.
   *
   * Learn more about the Message Batches API in our
   * [user guide](/en/docs/build-with-claude/batch-processing)
   */
  async results(messageBatchId, options) {
    const batch = await this.retrieve(messageBatchId);
    if (!batch.results_url) {
      throw new AnthropicError(`No batch \`results_url\`; Has it finished processing? ${batch.processing_status} - ${batch.id}`);
    }
    return this._client.get(batch.results_url, {
      ...options,
      headers: {
        Accept: "application/binary",
        ...options == null ? void 0 : options.headers
      },
      __binaryResponse: true
    })._thenUnwrap((_2, props) => JSONLDecoder.fromResponse(props.response, props.controller));
  }
}
class MessageBatchesPage extends Page2 {
}
Batches3.MessageBatchesPage = MessageBatchesPage;
var __classPrivateFieldSet = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _MessageStream_instances, _MessageStream_currentMessageSnapshot, _MessageStream_connectedPromise, _MessageStream_resolveConnectedPromise, _MessageStream_rejectConnectedPromise, _MessageStream_endPromise, _MessageStream_resolveEndPromise, _MessageStream_rejectEndPromise, _MessageStream_listeners, _MessageStream_ended, _MessageStream_errored, _MessageStream_aborted, _MessageStream_catchingPromiseCreated, _MessageStream_response, _MessageStream_request_id, _MessageStream_getFinalMessage, _MessageStream_getFinalText, _MessageStream_handleError, _MessageStream_beginRequest, _MessageStream_addStreamEvent, _MessageStream_endRequest, _MessageStream_accumulateMessage;
const JSON_BUF_PROPERTY = "__json_buf";
class MessageStream {
  constructor() {
    _MessageStream_instances.add(this);
    this.messages = [];
    this.receivedMessages = [];
    _MessageStream_currentMessageSnapshot.set(this, void 0);
    this.controller = new AbortController();
    _MessageStream_connectedPromise.set(this, void 0);
    _MessageStream_resolveConnectedPromise.set(this, () => {
    });
    _MessageStream_rejectConnectedPromise.set(this, () => {
    });
    _MessageStream_endPromise.set(this, void 0);
    _MessageStream_resolveEndPromise.set(this, () => {
    });
    _MessageStream_rejectEndPromise.set(this, () => {
    });
    _MessageStream_listeners.set(this, {});
    _MessageStream_ended.set(this, false);
    _MessageStream_errored.set(this, false);
    _MessageStream_aborted.set(this, false);
    _MessageStream_catchingPromiseCreated.set(this, false);
    _MessageStream_response.set(this, void 0);
    _MessageStream_request_id.set(this, void 0);
    _MessageStream_handleError.set(this, (error) => {
      __classPrivateFieldSet(this, _MessageStream_errored, true, "f");
      if (error instanceof Error && error.name === "AbortError") {
        error = new APIUserAbortError2();
      }
      if (error instanceof APIUserAbortError2) {
        __classPrivateFieldSet(this, _MessageStream_aborted, true, "f");
        return this._emit("abort", error);
      }
      if (error instanceof AnthropicError) {
        return this._emit("error", error);
      }
      if (error instanceof Error) {
        const anthropicError = new AnthropicError(error.message);
        anthropicError.cause = error;
        return this._emit("error", anthropicError);
      }
      return this._emit("error", new AnthropicError(String(error)));
    });
    __classPrivateFieldSet(this, _MessageStream_connectedPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet(this, _MessageStream_resolveConnectedPromise, resolve, "f");
      __classPrivateFieldSet(this, _MessageStream_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet(this, _MessageStream_endPromise, new Promise((resolve, reject) => {
      __classPrivateFieldSet(this, _MessageStream_resolveEndPromise, resolve, "f");
      __classPrivateFieldSet(this, _MessageStream_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet(this, _MessageStream_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet(this, _MessageStream_endPromise, "f").catch(() => {
    });
  }
  get response() {
    return __classPrivateFieldGet(this, _MessageStream_response, "f");
  }
  get request_id() {
    return __classPrivateFieldGet(this, _MessageStream_request_id, "f");
  }
  /**
   * Returns the `MessageStream` data, the raw `Response` instance and the ID of the request,
   * returned vie the `request-id` header which is useful for debugging requests and resporting
   * issues to Anthropic.
   *
   * This is the same as the `APIPromise.withResponse()` method.
   *
   * This method will raise an error if you created the stream using `MessageStream.fromReadableStream`
   * as no `Response` is available.
   */
  async withResponse() {
    const response = await __classPrivateFieldGet(this, _MessageStream_connectedPromise, "f");
    if (!response) {
      throw new Error("Could not resolve a `Response` object");
    }
    return {
      data: this,
      response,
      request_id: response.headers.get("request-id")
    };
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new MessageStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createMessage(messages, params, options) {
    const runner = new MessageStream();
    for (const message of params.messages) {
      runner._addMessageParam(message);
    }
    runner._run(() => runner._createMessage(messages, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  _run(executor) {
    executor().then(() => {
      this._emitFinal();
      this._emit("end");
    }, __classPrivateFieldGet(this, _MessageStream_handleError, "f"));
  }
  _addMessageParam(message) {
    this.messages.push(message);
  }
  _addMessage(message, emit = true) {
    this.receivedMessages.push(message);
    if (emit) {
      this._emit("message", message);
    }
  }
  async _createMessage(messages, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_beginRequest).call(this);
    const { response, data: stream } = await messages.create({ ...params, stream: true }, { ...options, signal: this.controller.signal }).withResponse();
    this._connected(response);
    for await (const event of stream) {
      __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_addStreamEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError2();
    }
    __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_endRequest).call(this);
  }
  _connected(response) {
    if (this.ended)
      return;
    __classPrivateFieldSet(this, _MessageStream_response, response, "f");
    __classPrivateFieldSet(this, _MessageStream_request_id, response == null ? void 0 : response.headers.get("request-id"), "f");
    __classPrivateFieldGet(this, _MessageStream_resolveConnectedPromise, "f").call(this, response);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet(this, _MessageStream_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet(this, _MessageStream_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet(this, _MessageStream_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this MessageStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet(this, _MessageStream_listeners, "f")[event] || (__classPrivateFieldGet(this, _MessageStream_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this MessageStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet(this, _MessageStream_listeners, "f")[event];
    if (!listeners)
      return this;
    const index = listeners.findIndex((l2) => l2.listener === listener);
    if (index >= 0)
      listeners.splice(index, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this MessageStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet(this, _MessageStream_listeners, "f")[event] || (__classPrivateFieldGet(this, _MessageStream_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve, reject) => {
      __classPrivateFieldSet(this, _MessageStream_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve);
    });
  }
  async done() {
    __classPrivateFieldSet(this, _MessageStream_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet(this, _MessageStream_endPromise, "f");
  }
  get currentMessage() {
    return __classPrivateFieldGet(this, _MessageStream_currentMessageSnapshot, "f");
  }
  /**
   * @returns a promise that resolves with the the final assistant Message response,
   * or rejects if an error occurred or the stream ended prematurely without producing a Message.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant Message's text response, concatenated
   * together if there are more than one text blocks.
   * Rejects if an error occurred or the stream ended prematurely without producing a Message.
   */
  async finalText() {
    await this.done();
    return __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_getFinalText).call(this);
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet(this, _MessageStream_ended, "f"))
      return;
    if (event === "end") {
      __classPrivateFieldSet(this, _MessageStream_ended, true, "f");
      __classPrivateFieldGet(this, _MessageStream_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet(this, _MessageStream_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet(this, _MessageStream_listeners, "f")[event] = listeners.filter((l2) => !l2.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet(this, _MessageStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet(this, _MessageStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet(this, _MessageStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet(this, _MessageStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet(this, _MessageStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet(this, _MessageStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
    const finalMessage = this.receivedMessages.at(-1);
    if (finalMessage) {
      this._emit("finalMessage", __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_getFinalMessage).call(this));
    }
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_beginRequest).call(this);
    this._connected(null);
    const stream = Stream2.fromReadableStream(readableStream, this.controller);
    for await (const event of stream) {
      __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_addStreamEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError2();
    }
    __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_endRequest).call(this);
  }
  [(_MessageStream_currentMessageSnapshot = /* @__PURE__ */ new WeakMap(), _MessageStream_connectedPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_endPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _MessageStream_listeners = /* @__PURE__ */ new WeakMap(), _MessageStream_ended = /* @__PURE__ */ new WeakMap(), _MessageStream_errored = /* @__PURE__ */ new WeakMap(), _MessageStream_aborted = /* @__PURE__ */ new WeakMap(), _MessageStream_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _MessageStream_response = /* @__PURE__ */ new WeakMap(), _MessageStream_request_id = /* @__PURE__ */ new WeakMap(), _MessageStream_handleError = /* @__PURE__ */ new WeakMap(), _MessageStream_instances = /* @__PURE__ */ new WeakSet(), _MessageStream_getFinalMessage = function _MessageStream_getFinalMessage2() {
    if (this.receivedMessages.length === 0) {
      throw new AnthropicError("stream ended without producing a Message with role=assistant");
    }
    return this.receivedMessages.at(-1);
  }, _MessageStream_getFinalText = function _MessageStream_getFinalText2() {
    if (this.receivedMessages.length === 0) {
      throw new AnthropicError("stream ended without producing a Message with role=assistant");
    }
    const textBlocks = this.receivedMessages.at(-1).content.filter((block) => block.type === "text").map((block) => block.text);
    if (textBlocks.length === 0) {
      throw new AnthropicError("stream ended without producing a content block with type=text");
    }
    return textBlocks.join(" ");
  }, _MessageStream_beginRequest = function _MessageStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet(this, _MessageStream_currentMessageSnapshot, void 0, "f");
  }, _MessageStream_addStreamEvent = function _MessageStream_addStreamEvent2(event) {
    if (this.ended)
      return;
    const messageSnapshot = __classPrivateFieldGet(this, _MessageStream_instances, "m", _MessageStream_accumulateMessage).call(this, event);
    this._emit("streamEvent", event, messageSnapshot);
    switch (event.type) {
      case "content_block_delta": {
        const content = messageSnapshot.content.at(-1);
        switch (event.delta.type) {
          case "text_delta": {
            if (content.type === "text") {
              this._emit("text", event.delta.text, content.text || "");
            }
            break;
          }
          case "citations_delta": {
            if (content.type === "text") {
              this._emit("citation", event.delta.citation, content.citations ?? []);
            }
            break;
          }
          case "input_json_delta": {
            if (content.type === "tool_use" && content.input) {
              this._emit("inputJson", event.delta.partial_json, content.input);
            }
            break;
          }
          case "thinking_delta": {
            if (content.type === "thinking") {
              this._emit("thinking", event.delta.thinking, content.thinking);
            }
            break;
          }
          case "signature_delta": {
            if (content.type === "thinking") {
              this._emit("signature", content.signature);
            }
            break;
          }
          default:
            checkNever(event.delta);
        }
        break;
      }
      case "message_stop": {
        this._addMessageParam(messageSnapshot);
        this._addMessage(messageSnapshot, true);
        break;
      }
      case "content_block_stop": {
        this._emit("contentBlock", messageSnapshot.content.at(-1));
        break;
      }
      case "message_start": {
        __classPrivateFieldSet(this, _MessageStream_currentMessageSnapshot, messageSnapshot, "f");
        break;
      }
    }
  }, _MessageStream_endRequest = function _MessageStream_endRequest2() {
    if (this.ended) {
      throw new AnthropicError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet(this, _MessageStream_currentMessageSnapshot, "f");
    if (!snapshot) {
      throw new AnthropicError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet(this, _MessageStream_currentMessageSnapshot, void 0, "f");
    return snapshot;
  }, _MessageStream_accumulateMessage = function _MessageStream_accumulateMessage2(event) {
    let snapshot = __classPrivateFieldGet(this, _MessageStream_currentMessageSnapshot, "f");
    if (event.type === "message_start") {
      if (snapshot) {
        throw new AnthropicError(`Unexpected event order, got ${event.type} before receiving "message_stop"`);
      }
      return event.message;
    }
    if (!snapshot) {
      throw new AnthropicError(`Unexpected event order, got ${event.type} before "message_start"`);
    }
    switch (event.type) {
      case "message_stop":
        return snapshot;
      case "message_delta":
        snapshot.stop_reason = event.delta.stop_reason;
        snapshot.stop_sequence = event.delta.stop_sequence;
        snapshot.usage.output_tokens = event.usage.output_tokens;
        return snapshot;
      case "content_block_start":
        snapshot.content.push(event.content_block);
        return snapshot;
      case "content_block_delta": {
        const snapshotContent = snapshot.content.at(event.index);
        switch (event.delta.type) {
          case "text_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "text") {
              snapshotContent.text += event.delta.text;
            }
            break;
          }
          case "citations_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "text") {
              snapshotContent.citations ?? (snapshotContent.citations = []);
              snapshotContent.citations.push(event.delta.citation);
            }
            break;
          }
          case "input_json_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "tool_use") {
              let jsonBuf = snapshotContent[JSON_BUF_PROPERTY] || "";
              jsonBuf += event.delta.partial_json;
              Object.defineProperty(snapshotContent, JSON_BUF_PROPERTY, {
                value: jsonBuf,
                enumerable: false,
                writable: true
              });
              if (jsonBuf) {
                snapshotContent.input = partialParse(jsonBuf);
              }
            }
            break;
          }
          case "thinking_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "thinking") {
              snapshotContent.thinking += event.delta.thinking;
            }
            break;
          }
          case "signature_delta": {
            if ((snapshotContent == null ? void 0 : snapshotContent.type) === "thinking") {
              snapshotContent.signature = event.delta.signature;
            }
            break;
          }
          default:
            checkNever(event.delta);
        }
        return snapshot;
      }
      case "content_block_stop":
        return snapshot;
    }
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("streamEvent", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream2(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
}
function checkNever(x2) {
}
class Messages4 extends APIResource2 {
  constructor() {
    super(...arguments);
    this.batches = new Batches3(this._client);
  }
  create(body, options) {
    if (body.model in DEPRECATED_MODELS) {
      console.warn(`The model '${body.model}' is deprecated and will reach end-of-life on ${DEPRECATED_MODELS[body.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);
    }
    return this._client.post("/v1/messages", {
      body,
      timeout: this._client._options.timeout ?? (body.stream ? 6e5 : this._client._calculateNonstreamingTimeout(body.max_tokens)),
      ...options,
      stream: body.stream ?? false
    });
  }
  /**
   * Create a Message stream
   */
  stream(body, options) {
    return MessageStream.createMessage(this, body, options);
  }
  /**
   * Count the number of tokens in a Message.
   *
   * The Token Count API can be used to count the number of tokens in a Message,
   * including tools, images, and documents, without creating it.
   *
   * Learn more about token counting in our
   * [user guide](/en/docs/build-with-claude/token-counting)
   */
  countTokens(body, options) {
    return this._client.post("/v1/messages/count_tokens", { body, ...options });
  }
}
const DEPRECATED_MODELS = {
  "claude-1.3": "November 6th, 2024",
  "claude-1.3-100k": "November 6th, 2024",
  "claude-instant-1.1": "November 6th, 2024",
  "claude-instant-1.1-100k": "November 6th, 2024",
  "claude-instant-1.2": "November 6th, 2024",
  "claude-3-sonnet-20240229": "July 21st, 2025",
  "claude-2.1": "July 21st, 2025",
  "claude-2.0": "July 21st, 2025"
};
Messages4.Batches = Batches3;
Messages4.MessageBatchesPage = MessageBatchesPage;
class Models3 extends APIResource2 {
  /**
   * Get a specific model.
   *
   * The Models API response can be used to determine information about a specific
   * model or resolve a model alias to a model ID.
   */
  retrieve(modelId, options) {
    return this._client.get(`/v1/models/${modelId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/v1/models", ModelInfosPage, { query, ...options });
  }
}
class ModelInfosPage extends Page2 {
}
Models3.ModelInfosPage = ModelInfosPage;
var _a;
class Anthropic extends APIClient2 {
  /**
   * API Client for interfacing with the Anthropic API.
   *
   * @param {string | null | undefined} [opts.apiKey=process.env['ANTHROPIC_API_KEY'] ?? null]
   * @param {string | null | undefined} [opts.authToken=process.env['ANTHROPIC_AUTH_TOKEN'] ?? null]
   * @param {string} [opts.baseURL=process.env['ANTHROPIC_BASE_URL'] ?? https://api.anthropic.com] - Override the default base URL for the API.
   * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.
   * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.
   * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.
   */
  constructor({ baseURL = readEnv("ANTHROPIC_BASE_URL"), apiKey = readEnv("ANTHROPIC_API_KEY") ?? null, authToken = readEnv("ANTHROPIC_AUTH_TOKEN") ?? null, ...opts } = {}) {
    const options = {
      apiKey,
      authToken,
      ...opts,
      baseURL: baseURL || `https://api.anthropic.com`
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser()) {
      throw new AnthropicError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");
    }
    super({
      baseURL: options.baseURL,
      timeout: options.timeout ?? 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch
    });
    this.completions = new Completions4(this);
    this.messages = new Messages4(this);
    this.models = new Models3(this);
    this.beta = new Beta2(this);
    this._options = options;
    this.apiKey = apiKey;
    this.authToken = authToken;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts) {
    return {
      ...super.defaultHeaders(opts),
      ...this._options.dangerouslyAllowBrowser ? { "anthropic-dangerous-direct-browser-access": "true" } : void 0,
      "anthropic-version": "2023-06-01",
      ...this._options.defaultHeaders
    };
  }
  validateHeaders(headers, customHeaders) {
    if (this.apiKey && headers["x-api-key"]) {
      return;
    }
    if (customHeaders["x-api-key"] === null) {
      return;
    }
    if (this.authToken && headers["authorization"]) {
      return;
    }
    if (customHeaders["authorization"] === null) {
      return;
    }
    throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted');
  }
  authHeaders(opts) {
    return {
      ...this.apiKeyAuth(opts),
      ...this.bearerAuth(opts)
    };
  }
  apiKeyAuth(opts) {
    if (this.apiKey == null) {
      return {};
    }
    return { "X-Api-Key": this.apiKey };
  }
  bearerAuth(opts) {
    if (this.authToken == null) {
      return {};
    }
    return { Authorization: `Bearer ${this.authToken}` };
  }
}
_a = Anthropic;
Anthropic.Anthropic = _a;
Anthropic.HUMAN_PROMPT = "\n\nHuman:";
Anthropic.AI_PROMPT = "\n\nAssistant:";
Anthropic.DEFAULT_TIMEOUT = 6e5;
Anthropic.AnthropicError = AnthropicError;
Anthropic.APIError = APIError2;
Anthropic.APIConnectionError = APIConnectionError2;
Anthropic.APIConnectionTimeoutError = APIConnectionTimeoutError2;
Anthropic.APIUserAbortError = APIUserAbortError2;
Anthropic.NotFoundError = NotFoundError2;
Anthropic.ConflictError = ConflictError2;
Anthropic.RateLimitError = RateLimitError2;
Anthropic.BadRequestError = BadRequestError2;
Anthropic.AuthenticationError = AuthenticationError2;
Anthropic.InternalServerError = InternalServerError2;
Anthropic.PermissionDeniedError = PermissionDeniedError2;
Anthropic.UnprocessableEntityError = UnprocessableEntityError2;
Anthropic.toFile = toFile;
Anthropic.fileFromPath = fileFromPath$1;
Anthropic.Completions = Completions4;
Anthropic.Messages = Messages4;
Anthropic.Models = Models3;
Anthropic.ModelInfosPage = ModelInfosPage;
Anthropic.Beta = Beta2;
const { HUMAN_PROMPT, AI_PROMPT } = Anthropic;
class AnthropicLLM extends BaseLLM {
  constructor() {
    super(...arguments);
    this.providerId = "anthropic";
    this.providerName = "Anthropic Claude";
    this.baseApiUrl = "https://api.anthropic.com/v1";
    this.defaultModels = [
      "claude-3-opus-20240229",
      "claude-3-sonnet-20240229",
      "claude-3-haiku-20240307",
      "claude-2.1",
      "claude-2.0",
      "claude-instant-1.2"
    ];
    this.anthropic = null;
  }
  /**
   * 重写 setApiKey 方法，在设置 key 时初始化 Anthropic 客户端
   */
  setApiKey(apiKey) {
    super.setApiKey(apiKey);
    if (apiKey) {
      try {
        const clientOptions = {
          apiKey
          // baseURL: this.baseApiUrl, // 可以考虑允许用户配置 Base URL
        };
        this.anthropic = new Anthropic(clientOptions);
        console.log(`Anthropic client initialized for provider: ${this.providerId}`);
      } catch (error) {
        console.error(`Failed to initialize Anthropic client for ${this.providerId}:`, error);
        this.anthropic = null;
      }
    } else {
      this.anthropic = null;
      console.log(`Anthropic client destroyed for provider: ${this.providerId}`);
    }
  }
  /**
   * 实现聊天请求方法 (需要根据 Anthropic SDK 调整)
   */
  async generateChatCompletion(options) {
    if (!this.anthropic) {
      return { content: "", error: "Anthropic API Key 未设置或客户端初始化失败" };
    }
    if (!options.model || !this.getAvailableModels().includes(options.model)) {
      return { content: "", error: `模型 ${options.model} 不可用或不受支持` };
    }
    try {
      const systemPrompt = options.systemPrompt;
      const messages = options.messages.filter((m2) => m2.role === "user" || m2.role === "assistant").map((m2) => ({ role: m2.role, content: m2.content }));
      if (messages.length > 0 && messages[0].role !== "user") {
        console.warn("[Anthropic] First message must be from user. Prepending an empty user message or handling required.");
      }
      const params = {
        model: options.model,
        messages,
        // 使用处理过的 messages
        system: systemPrompt,
        // Anthropic 使用独立的 system 参数
        max_tokens: options.maxTokens ?? 1024,
        // Anthropic 需要 max_tokens
        temperature: options.temperature
        // stream: false, // 暂不支持流式
        // 其他 Anthropic 特定参数: top_p, top_k 等
      };
      console.log(`[Anthropic] Sending request to model ${options.model} with params:`, JSON.stringify(params, null, 2));
      const completion = await this.anthropic.messages.create(params);
      console.log("[Anthropic] Received completion:", JSON.stringify(completion, null, 2));
      let content = "";
      if (completion.content && completion.content.length > 0) {
        const textBlock = completion.content.find((block) => block.type === "text");
        if (textBlock) {
          content = textBlock.text;
        }
      }
      const usage = completion.usage;
      return {
        content,
        modelUsed: completion.model,
        usage: {
          promptTokens: usage == null ? void 0 : usage.input_tokens,
          // 注意字段名不同
          completionTokens: usage == null ? void 0 : usage.output_tokens,
          // 注意字段名不同
          totalTokens: ((usage == null ? void 0 : usage.input_tokens) ?? 0) + ((usage == null ? void 0 : usage.output_tokens) ?? 0)
        },
        rawResponse: completion
      };
    } catch (error) {
      console.error(`[Anthropic] Error during chat completion for model ${options.model}:`, error);
      let detailedError = "与 Anthropic API 通信时发生未知错误";
      if (error instanceof Anthropic.APIError) {
        detailedError = `Anthropic API Error (${error.status}): ${error.message}`;
      } else if (error instanceof Error) {
        detailedError = error.message;
      } else if (typeof error === "string") {
        detailedError = error;
      }
      return { content: "", error: detailedError, rawResponse: error };
    }
  }
}
var SchemaType;
(function(SchemaType2) {
  SchemaType2["STRING"] = "string";
  SchemaType2["NUMBER"] = "number";
  SchemaType2["INTEGER"] = "integer";
  SchemaType2["BOOLEAN"] = "boolean";
  SchemaType2["ARRAY"] = "array";
  SchemaType2["OBJECT"] = "object";
})(SchemaType || (SchemaType = {}));
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ExecutableCodeLanguage;
(function(ExecutableCodeLanguage2) {
  ExecutableCodeLanguage2["LANGUAGE_UNSPECIFIED"] = "language_unspecified";
  ExecutableCodeLanguage2["PYTHON"] = "python";
})(ExecutableCodeLanguage || (ExecutableCodeLanguage = {}));
var Outcome;
(function(Outcome2) {
  Outcome2["OUTCOME_UNSPECIFIED"] = "outcome_unspecified";
  Outcome2["OUTCOME_OK"] = "outcome_ok";
  Outcome2["OUTCOME_FAILED"] = "outcome_failed";
  Outcome2["OUTCOME_DEADLINE_EXCEEDED"] = "outcome_deadline_exceeded";
})(Outcome || (Outcome = {}));
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const POSSIBLE_ROLES = ["user", "model", "function", "system"];
var HarmCategory;
(function(HarmCategory2) {
  HarmCategory2["HARM_CATEGORY_UNSPECIFIED"] = "HARM_CATEGORY_UNSPECIFIED";
  HarmCategory2["HARM_CATEGORY_HATE_SPEECH"] = "HARM_CATEGORY_HATE_SPEECH";
  HarmCategory2["HARM_CATEGORY_SEXUALLY_EXPLICIT"] = "HARM_CATEGORY_SEXUALLY_EXPLICIT";
  HarmCategory2["HARM_CATEGORY_HARASSMENT"] = "HARM_CATEGORY_HARASSMENT";
  HarmCategory2["HARM_CATEGORY_DANGEROUS_CONTENT"] = "HARM_CATEGORY_DANGEROUS_CONTENT";
  HarmCategory2["HARM_CATEGORY_CIVIC_INTEGRITY"] = "HARM_CATEGORY_CIVIC_INTEGRITY";
})(HarmCategory || (HarmCategory = {}));
var HarmBlockThreshold;
(function(HarmBlockThreshold2) {
  HarmBlockThreshold2["HARM_BLOCK_THRESHOLD_UNSPECIFIED"] = "HARM_BLOCK_THRESHOLD_UNSPECIFIED";
  HarmBlockThreshold2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  HarmBlockThreshold2["BLOCK_NONE"] = "BLOCK_NONE";
})(HarmBlockThreshold || (HarmBlockThreshold = {}));
var HarmProbability;
(function(HarmProbability2) {
  HarmProbability2["HARM_PROBABILITY_UNSPECIFIED"] = "HARM_PROBABILITY_UNSPECIFIED";
  HarmProbability2["NEGLIGIBLE"] = "NEGLIGIBLE";
  HarmProbability2["LOW"] = "LOW";
  HarmProbability2["MEDIUM"] = "MEDIUM";
  HarmProbability2["HIGH"] = "HIGH";
})(HarmProbability || (HarmProbability = {}));
var BlockReason;
(function(BlockReason2) {
  BlockReason2["BLOCKED_REASON_UNSPECIFIED"] = "BLOCKED_REASON_UNSPECIFIED";
  BlockReason2["SAFETY"] = "SAFETY";
  BlockReason2["OTHER"] = "OTHER";
})(BlockReason || (BlockReason = {}));
var FinishReason;
(function(FinishReason2) {
  FinishReason2["FINISH_REASON_UNSPECIFIED"] = "FINISH_REASON_UNSPECIFIED";
  FinishReason2["STOP"] = "STOP";
  FinishReason2["MAX_TOKENS"] = "MAX_TOKENS";
  FinishReason2["SAFETY"] = "SAFETY";
  FinishReason2["RECITATION"] = "RECITATION";
  FinishReason2["LANGUAGE"] = "LANGUAGE";
  FinishReason2["BLOCKLIST"] = "BLOCKLIST";
  FinishReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
  FinishReason2["SPII"] = "SPII";
  FinishReason2["MALFORMED_FUNCTION_CALL"] = "MALFORMED_FUNCTION_CALL";
  FinishReason2["OTHER"] = "OTHER";
})(FinishReason || (FinishReason = {}));
var TaskType;
(function(TaskType2) {
  TaskType2["TASK_TYPE_UNSPECIFIED"] = "TASK_TYPE_UNSPECIFIED";
  TaskType2["RETRIEVAL_QUERY"] = "RETRIEVAL_QUERY";
  TaskType2["RETRIEVAL_DOCUMENT"] = "RETRIEVAL_DOCUMENT";
  TaskType2["SEMANTIC_SIMILARITY"] = "SEMANTIC_SIMILARITY";
  TaskType2["CLASSIFICATION"] = "CLASSIFICATION";
  TaskType2["CLUSTERING"] = "CLUSTERING";
})(TaskType || (TaskType = {}));
var FunctionCallingMode;
(function(FunctionCallingMode2) {
  FunctionCallingMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  FunctionCallingMode2["AUTO"] = "AUTO";
  FunctionCallingMode2["ANY"] = "ANY";
  FunctionCallingMode2["NONE"] = "NONE";
})(FunctionCallingMode || (FunctionCallingMode = {}));
var DynamicRetrievalMode;
(function(DynamicRetrievalMode2) {
  DynamicRetrievalMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  DynamicRetrievalMode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(DynamicRetrievalMode || (DynamicRetrievalMode = {}));
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class GoogleGenerativeAIError extends Error {
  constructor(message) {
    super(`[GoogleGenerativeAI Error]: ${message}`);
  }
}
class GoogleGenerativeAIResponseError extends GoogleGenerativeAIError {
  constructor(message, response) {
    super(message);
    this.response = response;
  }
}
class GoogleGenerativeAIFetchError extends GoogleGenerativeAIError {
  constructor(message, status, statusText, errorDetails) {
    super(message);
    this.status = status;
    this.statusText = statusText;
    this.errorDetails = errorDetails;
  }
}
class GoogleGenerativeAIRequestInputError extends GoogleGenerativeAIError {
}
class GoogleGenerativeAIAbortError extends GoogleGenerativeAIError {
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const DEFAULT_BASE_URL = "https://generativelanguage.googleapis.com";
const DEFAULT_API_VERSION = "v1beta";
const PACKAGE_VERSION = "0.24.0";
const PACKAGE_LOG_HEADER = "genai-js";
var Task;
(function(Task2) {
  Task2["GENERATE_CONTENT"] = "generateContent";
  Task2["STREAM_GENERATE_CONTENT"] = "streamGenerateContent";
  Task2["COUNT_TOKENS"] = "countTokens";
  Task2["EMBED_CONTENT"] = "embedContent";
  Task2["BATCH_EMBED_CONTENTS"] = "batchEmbedContents";
})(Task || (Task = {}));
class RequestUrl {
  constructor(model, task, apiKey, stream, requestOptions) {
    this.model = model;
    this.task = task;
    this.apiKey = apiKey;
    this.stream = stream;
    this.requestOptions = requestOptions;
  }
  toString() {
    var _a2, _b;
    const apiVersion = ((_a2 = this.requestOptions) === null || _a2 === void 0 ? void 0 : _a2.apiVersion) || DEFAULT_API_VERSION;
    const baseUrl = ((_b = this.requestOptions) === null || _b === void 0 ? void 0 : _b.baseUrl) || DEFAULT_BASE_URL;
    let url = `${baseUrl}/${apiVersion}/${this.model}:${this.task}`;
    if (this.stream) {
      url += "?alt=sse";
    }
    return url;
  }
}
function getClientHeaders(requestOptions) {
  const clientHeaders = [];
  if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {
    clientHeaders.push(requestOptions.apiClient);
  }
  clientHeaders.push(`${PACKAGE_LOG_HEADER}/${PACKAGE_VERSION}`);
  return clientHeaders.join(" ");
}
async function getHeaders(url) {
  var _a2;
  const headers = new Headers();
  headers.append("Content-Type", "application/json");
  headers.append("x-goog-api-client", getClientHeaders(url.requestOptions));
  headers.append("x-goog-api-key", url.apiKey);
  let customHeaders = (_a2 = url.requestOptions) === null || _a2 === void 0 ? void 0 : _a2.customHeaders;
  if (customHeaders) {
    if (!(customHeaders instanceof Headers)) {
      try {
        customHeaders = new Headers(customHeaders);
      } catch (e2) {
        throw new GoogleGenerativeAIRequestInputError(`unable to convert customHeaders value ${JSON.stringify(customHeaders)} to Headers: ${e2.message}`);
      }
    }
    for (const [headerName, headerValue] of customHeaders.entries()) {
      if (headerName === "x-goog-api-key") {
        throw new GoogleGenerativeAIRequestInputError(`Cannot set reserved header name ${headerName}`);
      } else if (headerName === "x-goog-api-client") {
        throw new GoogleGenerativeAIRequestInputError(`Header name ${headerName} can only be set using the apiClient field`);
      }
      headers.append(headerName, headerValue);
    }
  }
  return headers;
}
async function constructModelRequest(model, task, apiKey, stream, body, requestOptions) {
  const url = new RequestUrl(model, task, apiKey, stream, requestOptions);
  return {
    url: url.toString(),
    fetchOptions: Object.assign(Object.assign({}, buildFetchOptions(requestOptions)), { method: "POST", headers: await getHeaders(url), body })
  };
}
async function makeModelRequest(model, task, apiKey, stream, body, requestOptions = {}, fetchFn = fetch) {
  const { url, fetchOptions } = await constructModelRequest(model, task, apiKey, stream, body, requestOptions);
  return makeRequest(url, fetchOptions, fetchFn);
}
async function makeRequest(url, fetchOptions, fetchFn = fetch) {
  let response;
  try {
    response = await fetchFn(url, fetchOptions);
  } catch (e2) {
    handleResponseError(e2, url);
  }
  if (!response.ok) {
    await handleResponseNotOk(response, url);
  }
  return response;
}
function handleResponseError(e2, url) {
  let err = e2;
  if (err.name === "AbortError") {
    err = new GoogleGenerativeAIAbortError(`Request aborted when fetching ${url.toString()}: ${e2.message}`);
    err.stack = e2.stack;
  } else if (!(e2 instanceof GoogleGenerativeAIFetchError || e2 instanceof GoogleGenerativeAIRequestInputError)) {
    err = new GoogleGenerativeAIError(`Error fetching from ${url.toString()}: ${e2.message}`);
    err.stack = e2.stack;
  }
  throw err;
}
async function handleResponseNotOk(response, url) {
  let message = "";
  let errorDetails;
  try {
    const json = await response.json();
    message = json.error.message;
    if (json.error.details) {
      message += ` ${JSON.stringify(json.error.details)}`;
      errorDetails = json.error.details;
    }
  } catch (e2) {
  }
  throw new GoogleGenerativeAIFetchError(`Error fetching from ${url.toString()}: [${response.status} ${response.statusText}] ${message}`, response.status, response.statusText, errorDetails);
}
function buildFetchOptions(requestOptions) {
  const fetchOptions = {};
  if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) !== void 0 || (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {
    const controller = new AbortController();
    if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {
      setTimeout(() => controller.abort(), requestOptions.timeout);
    }
    if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) {
      requestOptions.signal.addEventListener("abort", () => {
        controller.abort();
      });
    }
    fetchOptions.signal = controller.signal;
  }
  return fetchOptions;
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function addHelpers(response) {
  response.text = () => {
    if (response.candidates && response.candidates.length > 0) {
      if (response.candidates.length > 1) {
        console.warn(`This response had ${response.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`);
      }
      if (hadBadFinishReason(response.candidates[0])) {
        throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);
      }
      return getText(response);
    } else if (response.promptFeedback) {
      throw new GoogleGenerativeAIResponseError(`Text not available. ${formatBlockErrorMessage(response)}`, response);
    }
    return "";
  };
  response.functionCall = () => {
    if (response.candidates && response.candidates.length > 0) {
      if (response.candidates.length > 1) {
        console.warn(`This response had ${response.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`);
      }
      if (hadBadFinishReason(response.candidates[0])) {
        throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);
      }
      console.warn(`response.functionCall() is deprecated. Use response.functionCalls() instead.`);
      return getFunctionCalls(response)[0];
    } else if (response.promptFeedback) {
      throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);
    }
    return void 0;
  };
  response.functionCalls = () => {
    if (response.candidates && response.candidates.length > 0) {
      if (response.candidates.length > 1) {
        console.warn(`This response had ${response.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`);
      }
      if (hadBadFinishReason(response.candidates[0])) {
        throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);
      }
      return getFunctionCalls(response);
    } else if (response.promptFeedback) {
      throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);
    }
    return void 0;
  };
  return response;
}
function getText(response) {
  var _a2, _b, _c, _d;
  const textStrings = [];
  if ((_b = (_a2 = response.candidates) === null || _a2 === void 0 ? void 0 : _a2[0].content) === null || _b === void 0 ? void 0 : _b.parts) {
    for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {
      if (part.text) {
        textStrings.push(part.text);
      }
      if (part.executableCode) {
        textStrings.push("\n```" + part.executableCode.language + "\n" + part.executableCode.code + "\n```\n");
      }
      if (part.codeExecutionResult) {
        textStrings.push("\n```\n" + part.codeExecutionResult.output + "\n```\n");
      }
    }
  }
  if (textStrings.length > 0) {
    return textStrings.join("");
  } else {
    return "";
  }
}
function getFunctionCalls(response) {
  var _a2, _b, _c, _d;
  const functionCalls = [];
  if ((_b = (_a2 = response.candidates) === null || _a2 === void 0 ? void 0 : _a2[0].content) === null || _b === void 0 ? void 0 : _b.parts) {
    for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {
      if (part.functionCall) {
        functionCalls.push(part.functionCall);
      }
    }
  }
  if (functionCalls.length > 0) {
    return functionCalls;
  } else {
    return void 0;
  }
}
const badFinishReasons = [
  FinishReason.RECITATION,
  FinishReason.SAFETY,
  FinishReason.LANGUAGE
];
function hadBadFinishReason(candidate) {
  return !!candidate.finishReason && badFinishReasons.includes(candidate.finishReason);
}
function formatBlockErrorMessage(response) {
  var _a2, _b, _c;
  let message = "";
  if ((!response.candidates || response.candidates.length === 0) && response.promptFeedback) {
    message += "Response was blocked";
    if ((_a2 = response.promptFeedback) === null || _a2 === void 0 ? void 0 : _a2.blockReason) {
      message += ` due to ${response.promptFeedback.blockReason}`;
    }
    if ((_b = response.promptFeedback) === null || _b === void 0 ? void 0 : _b.blockReasonMessage) {
      message += `: ${response.promptFeedback.blockReasonMessage}`;
    }
  } else if ((_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0]) {
    const firstCandidate = response.candidates[0];
    if (hadBadFinishReason(firstCandidate)) {
      message += `Candidate was blocked due to ${firstCandidate.finishReason}`;
      if (firstCandidate.finishMessage) {
        message += `: ${firstCandidate.finishMessage}`;
      }
    }
  }
  return message;
}
function __await(v2) {
  return this instanceof __await ? (this.v = v2, this) : new __await(v2);
}
function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var g2 = generator.apply(thisArg, _arguments || []), i2, q2 = [];
  return i2 = {}, verb("next"), verb("throw"), verb("return"), i2[Symbol.asyncIterator] = function() {
    return this;
  }, i2;
  function verb(n2) {
    if (g2[n2]) i2[n2] = function(v2) {
      return new Promise(function(a2, b2) {
        q2.push([n2, v2, a2, b2]) > 1 || resume(n2, v2);
      });
    };
  }
  function resume(n2, v2) {
    try {
      step(g2[n2](v2));
    } catch (e2) {
      settle(q2[0][3], e2);
    }
  }
  function step(r2) {
    r2.value instanceof __await ? Promise.resolve(r2.value.v).then(fulfill, reject) : settle(q2[0][2], r2);
  }
  function fulfill(value) {
    resume("next", value);
  }
  function reject(value) {
    resume("throw", value);
  }
  function settle(f2, v2) {
    if (f2(v2), q2.shift(), q2.length) resume(q2[0][0], q2[0][1]);
  }
}
typeof SuppressedError === "function" ? SuppressedError : function(error, suppressed, message) {
  var e2 = new Error(message);
  return e2.name = "SuppressedError", e2.error = error, e2.suppressed = suppressed, e2;
};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const responseLineRE = /^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;
function processStream(response) {
  const inputStream = response.body.pipeThrough(new TextDecoderStream("utf8", { fatal: true }));
  const responseStream = getResponseStream(inputStream);
  const [stream1, stream2] = responseStream.tee();
  return {
    stream: generateResponseSequence(stream1),
    response: getResponsePromise(stream2)
  };
}
async function getResponsePromise(stream) {
  const allResponses = [];
  const reader = stream.getReader();
  while (true) {
    const { done, value } = await reader.read();
    if (done) {
      return addHelpers(aggregateResponses(allResponses));
    }
    allResponses.push(value);
  }
}
function generateResponseSequence(stream) {
  return __asyncGenerator(this, arguments, function* generateResponseSequence_1() {
    const reader = stream.getReader();
    while (true) {
      const { value, done } = yield __await(reader.read());
      if (done) {
        break;
      }
      yield yield __await(addHelpers(value));
    }
  });
}
function getResponseStream(inputStream) {
  const reader = inputStream.getReader();
  const stream = new ReadableStream({
    start(controller) {
      let currentText = "";
      return pump();
      function pump() {
        return reader.read().then(({ value, done }) => {
          if (done) {
            if (currentText.trim()) {
              controller.error(new GoogleGenerativeAIError("Failed to parse stream"));
              return;
            }
            controller.close();
            return;
          }
          currentText += value;
          let match = currentText.match(responseLineRE);
          let parsedResponse;
          while (match) {
            try {
              parsedResponse = JSON.parse(match[1]);
            } catch (e2) {
              controller.error(new GoogleGenerativeAIError(`Error parsing JSON response: "${match[1]}"`));
              return;
            }
            controller.enqueue(parsedResponse);
            currentText = currentText.substring(match[0].length);
            match = currentText.match(responseLineRE);
          }
          return pump();
        }).catch((e2) => {
          let err = e2;
          err.stack = e2.stack;
          if (err.name === "AbortError") {
            err = new GoogleGenerativeAIAbortError("Request aborted when reading from the stream");
          } else {
            err = new GoogleGenerativeAIError("Error reading from the stream");
          }
          throw err;
        });
      }
    }
  });
  return stream;
}
function aggregateResponses(responses) {
  const lastResponse = responses[responses.length - 1];
  const aggregatedResponse = {
    promptFeedback: lastResponse === null || lastResponse === void 0 ? void 0 : lastResponse.promptFeedback
  };
  for (const response of responses) {
    if (response.candidates) {
      let candidateIndex = 0;
      for (const candidate of response.candidates) {
        if (!aggregatedResponse.candidates) {
          aggregatedResponse.candidates = [];
        }
        if (!aggregatedResponse.candidates[candidateIndex]) {
          aggregatedResponse.candidates[candidateIndex] = {
            index: candidateIndex
          };
        }
        aggregatedResponse.candidates[candidateIndex].citationMetadata = candidate.citationMetadata;
        aggregatedResponse.candidates[candidateIndex].groundingMetadata = candidate.groundingMetadata;
        aggregatedResponse.candidates[candidateIndex].finishReason = candidate.finishReason;
        aggregatedResponse.candidates[candidateIndex].finishMessage = candidate.finishMessage;
        aggregatedResponse.candidates[candidateIndex].safetyRatings = candidate.safetyRatings;
        if (candidate.content && candidate.content.parts) {
          if (!aggregatedResponse.candidates[candidateIndex].content) {
            aggregatedResponse.candidates[candidateIndex].content = {
              role: candidate.content.role || "user",
              parts: []
            };
          }
          const newPart = {};
          for (const part of candidate.content.parts) {
            if (part.text) {
              newPart.text = part.text;
            }
            if (part.functionCall) {
              newPart.functionCall = part.functionCall;
            }
            if (part.executableCode) {
              newPart.executableCode = part.executableCode;
            }
            if (part.codeExecutionResult) {
              newPart.codeExecutionResult = part.codeExecutionResult;
            }
            if (Object.keys(newPart).length === 0) {
              newPart.text = "";
            }
            aggregatedResponse.candidates[candidateIndex].content.parts.push(newPart);
          }
        }
      }
      candidateIndex++;
    }
    if (response.usageMetadata) {
      aggregatedResponse.usageMetadata = response.usageMetadata;
    }
  }
  return aggregatedResponse;
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function generateContentStream(apiKey, model, params, requestOptions) {
  const response = await makeModelRequest(
    model,
    Task.STREAM_GENERATE_CONTENT,
    apiKey,
    /* stream */
    true,
    JSON.stringify(params),
    requestOptions
  );
  return processStream(response);
}
async function generateContent(apiKey, model, params, requestOptions) {
  const response = await makeModelRequest(
    model,
    Task.GENERATE_CONTENT,
    apiKey,
    /* stream */
    false,
    JSON.stringify(params),
    requestOptions
  );
  const responseJson = await response.json();
  const enhancedResponse = addHelpers(responseJson);
  return {
    response: enhancedResponse
  };
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function formatSystemInstruction(input) {
  if (input == null) {
    return void 0;
  } else if (typeof input === "string") {
    return { role: "system", parts: [{ text: input }] };
  } else if (input.text) {
    return { role: "system", parts: [input] };
  } else if (input.parts) {
    if (!input.role) {
      return { role: "system", parts: input.parts };
    } else {
      return input;
    }
  }
}
function formatNewContent(request) {
  let newParts = [];
  if (typeof request === "string") {
    newParts = [{ text: request }];
  } else {
    for (const partOrString of request) {
      if (typeof partOrString === "string") {
        newParts.push({ text: partOrString });
      } else {
        newParts.push(partOrString);
      }
    }
  }
  return assignRoleToPartsAndValidateSendMessageRequest(newParts);
}
function assignRoleToPartsAndValidateSendMessageRequest(parts) {
  const userContent = { role: "user", parts: [] };
  const functionContent = { role: "function", parts: [] };
  let hasUserContent = false;
  let hasFunctionContent = false;
  for (const part of parts) {
    if ("functionResponse" in part) {
      functionContent.parts.push(part);
      hasFunctionContent = true;
    } else {
      userContent.parts.push(part);
      hasUserContent = true;
    }
  }
  if (hasUserContent && hasFunctionContent) {
    throw new GoogleGenerativeAIError("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");
  }
  if (!hasUserContent && !hasFunctionContent) {
    throw new GoogleGenerativeAIError("No content is provided for sending chat message.");
  }
  if (hasUserContent) {
    return userContent;
  }
  return functionContent;
}
function formatCountTokensInput(params, modelParams) {
  var _a2;
  let formattedGenerateContentRequest = {
    model: modelParams === null || modelParams === void 0 ? void 0 : modelParams.model,
    generationConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.generationConfig,
    safetySettings: modelParams === null || modelParams === void 0 ? void 0 : modelParams.safetySettings,
    tools: modelParams === null || modelParams === void 0 ? void 0 : modelParams.tools,
    toolConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.toolConfig,
    systemInstruction: modelParams === null || modelParams === void 0 ? void 0 : modelParams.systemInstruction,
    cachedContent: (_a2 = modelParams === null || modelParams === void 0 ? void 0 : modelParams.cachedContent) === null || _a2 === void 0 ? void 0 : _a2.name,
    contents: []
  };
  const containsGenerateContentRequest = params.generateContentRequest != null;
  if (params.contents) {
    if (containsGenerateContentRequest) {
      throw new GoogleGenerativeAIRequestInputError("CountTokensRequest must have one of contents or generateContentRequest, not both.");
    }
    formattedGenerateContentRequest.contents = params.contents;
  } else if (containsGenerateContentRequest) {
    formattedGenerateContentRequest = Object.assign(Object.assign({}, formattedGenerateContentRequest), params.generateContentRequest);
  } else {
    const content = formatNewContent(params);
    formattedGenerateContentRequest.contents = [content];
  }
  return { generateContentRequest: formattedGenerateContentRequest };
}
function formatGenerateContentInput(params) {
  let formattedRequest;
  if (params.contents) {
    formattedRequest = params;
  } else {
    const content = formatNewContent(params);
    formattedRequest = { contents: [content] };
  }
  if (params.systemInstruction) {
    formattedRequest.systemInstruction = formatSystemInstruction(params.systemInstruction);
  }
  return formattedRequest;
}
function formatEmbedContentInput(params) {
  if (typeof params === "string" || Array.isArray(params)) {
    const content = formatNewContent(params);
    return { content };
  }
  return params;
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const VALID_PART_FIELDS = [
  "text",
  "inlineData",
  "functionCall",
  "functionResponse",
  "executableCode",
  "codeExecutionResult"
];
const VALID_PARTS_PER_ROLE = {
  user: ["text", "inlineData"],
  function: ["functionResponse"],
  model: ["text", "functionCall", "executableCode", "codeExecutionResult"],
  // System instructions shouldn't be in history anyway.
  system: ["text"]
};
function validateChatHistory(history) {
  let prevContent = false;
  for (const currContent of history) {
    const { role, parts } = currContent;
    if (!prevContent && role !== "user") {
      throw new GoogleGenerativeAIError(`First content should be with role 'user', got ${role}`);
    }
    if (!POSSIBLE_ROLES.includes(role)) {
      throw new GoogleGenerativeAIError(`Each item should include role field. Got ${role} but valid roles are: ${JSON.stringify(POSSIBLE_ROLES)}`);
    }
    if (!Array.isArray(parts)) {
      throw new GoogleGenerativeAIError("Content should have 'parts' property with an array of Parts");
    }
    if (parts.length === 0) {
      throw new GoogleGenerativeAIError("Each Content should have at least one part");
    }
    const countFields = {
      text: 0,
      inlineData: 0,
      functionCall: 0,
      functionResponse: 0,
      fileData: 0,
      executableCode: 0,
      codeExecutionResult: 0
    };
    for (const part of parts) {
      for (const key of VALID_PART_FIELDS) {
        if (key in part) {
          countFields[key] += 1;
        }
      }
    }
    const validParts = VALID_PARTS_PER_ROLE[role];
    for (const key of VALID_PART_FIELDS) {
      if (!validParts.includes(key) && countFields[key] > 0) {
        throw new GoogleGenerativeAIError(`Content with role '${role}' can't contain '${key}' part`);
      }
    }
    prevContent = true;
  }
}
function isValidResponse(response) {
  var _a2;
  if (response.candidates === void 0 || response.candidates.length === 0) {
    return false;
  }
  const content = (_a2 = response.candidates[0]) === null || _a2 === void 0 ? void 0 : _a2.content;
  if (content === void 0) {
    return false;
  }
  if (content.parts === void 0 || content.parts.length === 0) {
    return false;
  }
  for (const part of content.parts) {
    if (part === void 0 || Object.keys(part).length === 0) {
      return false;
    }
    if (part.text !== void 0 && part.text === "") {
      return false;
    }
  }
  return true;
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const SILENT_ERROR = "SILENT_ERROR";
class ChatSession {
  constructor(apiKey, model, params, _requestOptions = {}) {
    this.model = model;
    this.params = params;
    this._requestOptions = _requestOptions;
    this._history = [];
    this._sendPromise = Promise.resolve();
    this._apiKey = apiKey;
    if (params === null || params === void 0 ? void 0 : params.history) {
      validateChatHistory(params.history);
      this._history = params.history;
    }
  }
  /**
   * Gets the chat history so far. Blocked prompts are not added to history.
   * Blocked candidates are not added to history, nor are the prompts that
   * generated them.
   */
  async getHistory() {
    await this._sendPromise;
    return this._history;
  }
  /**
   * Sends a chat message and receives a non-streaming
   * {@link GenerateContentResult}.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async sendMessage(request, requestOptions = {}) {
    var _a2, _b, _c, _d, _e2, _f;
    await this._sendPromise;
    const newContent = formatNewContent(request);
    const generateContentRequest = {
      safetySettings: (_a2 = this.params) === null || _a2 === void 0 ? void 0 : _a2.safetySettings,
      generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,
      tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,
      toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,
      systemInstruction: (_e2 = this.params) === null || _e2 === void 0 ? void 0 : _e2.systemInstruction,
      cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,
      contents: [...this._history, newContent]
    };
    const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    let finalResult;
    this._sendPromise = this._sendPromise.then(() => generateContent(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions)).then((result) => {
      var _a3;
      if (isValidResponse(result.response)) {
        this._history.push(newContent);
        const responseContent = Object.assign({
          parts: [],
          // Response seems to come back without a role set.
          role: "model"
        }, (_a3 = result.response.candidates) === null || _a3 === void 0 ? void 0 : _a3[0].content);
        this._history.push(responseContent);
      } else {
        const blockErrorMessage = formatBlockErrorMessage(result.response);
        if (blockErrorMessage) {
          console.warn(`sendMessage() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);
        }
      }
      finalResult = result;
    });
    await this._sendPromise;
    return finalResult;
  }
  /**
   * Sends a chat message and receives the response as a
   * {@link GenerateContentStreamResult} containing an iterable stream
   * and a response promise.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async sendMessageStream(request, requestOptions = {}) {
    var _a2, _b, _c, _d, _e2, _f;
    await this._sendPromise;
    const newContent = formatNewContent(request);
    const generateContentRequest = {
      safetySettings: (_a2 = this.params) === null || _a2 === void 0 ? void 0 : _a2.safetySettings,
      generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,
      tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,
      toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,
      systemInstruction: (_e2 = this.params) === null || _e2 === void 0 ? void 0 : _e2.systemInstruction,
      cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,
      contents: [...this._history, newContent]
    };
    const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    const streamPromise = generateContentStream(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions);
    this._sendPromise = this._sendPromise.then(() => streamPromise).catch((_ignored) => {
      throw new Error(SILENT_ERROR);
    }).then((streamResult) => streamResult.response).then((response) => {
      if (isValidResponse(response)) {
        this._history.push(newContent);
        const responseContent = Object.assign({}, response.candidates[0].content);
        if (!responseContent.role) {
          responseContent.role = "model";
        }
        this._history.push(responseContent);
      } else {
        const blockErrorMessage = formatBlockErrorMessage(response);
        if (blockErrorMessage) {
          console.warn(`sendMessageStream() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);
        }
      }
    }).catch((e2) => {
      if (e2.message !== SILENT_ERROR) {
        console.error(e2);
      }
    });
    return streamPromise;
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function countTokens(apiKey, model, params, singleRequestOptions) {
  const response = await makeModelRequest(model, Task.COUNT_TOKENS, apiKey, false, JSON.stringify(params), singleRequestOptions);
  return response.json();
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function embedContent(apiKey, model, params, requestOptions) {
  const response = await makeModelRequest(model, Task.EMBED_CONTENT, apiKey, false, JSON.stringify(params), requestOptions);
  return response.json();
}
async function batchEmbedContents(apiKey, model, params, requestOptions) {
  const requestsWithModel = params.requests.map((request) => {
    return Object.assign(Object.assign({}, request), { model });
  });
  const response = await makeModelRequest(model, Task.BATCH_EMBED_CONTENTS, apiKey, false, JSON.stringify({ requests: requestsWithModel }), requestOptions);
  return response.json();
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class GenerativeModel {
  constructor(apiKey, modelParams, _requestOptions = {}) {
    this.apiKey = apiKey;
    this._requestOptions = _requestOptions;
    if (modelParams.model.includes("/")) {
      this.model = modelParams.model;
    } else {
      this.model = `models/${modelParams.model}`;
    }
    this.generationConfig = modelParams.generationConfig || {};
    this.safetySettings = modelParams.safetySettings || [];
    this.tools = modelParams.tools;
    this.toolConfig = modelParams.toolConfig;
    this.systemInstruction = formatSystemInstruction(modelParams.systemInstruction);
    this.cachedContent = modelParams.cachedContent;
  }
  /**
   * Makes a single non-streaming call to the model
   * and returns an object containing a single {@link GenerateContentResponse}.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async generateContent(request, requestOptions = {}) {
    var _a2;
    const formattedParams = formatGenerateContentInput(request);
    const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    return generateContent(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a2 = this.cachedContent) === null || _a2 === void 0 ? void 0 : _a2.name }, formattedParams), generativeModelRequestOptions);
  }
  /**
   * Makes a single streaming call to the model and returns an object
   * containing an iterable stream that iterates over all chunks in the
   * streaming response as well as a promise that returns the final
   * aggregated response.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async generateContentStream(request, requestOptions = {}) {
    var _a2;
    const formattedParams = formatGenerateContentInput(request);
    const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    return generateContentStream(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a2 = this.cachedContent) === null || _a2 === void 0 ? void 0 : _a2.name }, formattedParams), generativeModelRequestOptions);
  }
  /**
   * Gets a new {@link ChatSession} instance which can be used for
   * multi-turn chats.
   */
  startChat(startChatParams) {
    var _a2;
    return new ChatSession(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a2 = this.cachedContent) === null || _a2 === void 0 ? void 0 : _a2.name }, startChatParams), this._requestOptions);
  }
  /**
   * Counts the tokens in the provided request.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async countTokens(request, requestOptions = {}) {
    const formattedParams = formatCountTokensInput(request, {
      model: this.model,
      generationConfig: this.generationConfig,
      safetySettings: this.safetySettings,
      tools: this.tools,
      toolConfig: this.toolConfig,
      systemInstruction: this.systemInstruction,
      cachedContent: this.cachedContent
    });
    const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    return countTokens(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);
  }
  /**
   * Embeds the provided content.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async embedContent(request, requestOptions = {}) {
    const formattedParams = formatEmbedContentInput(request);
    const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    return embedContent(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);
  }
  /**
   * Embeds an array of {@link EmbedContentRequest}s.
   *
   * Fields set in the optional {@link SingleRequestOptions} parameter will
   * take precedence over the {@link RequestOptions} values provided to
   * {@link GoogleGenerativeAI.getGenerativeModel }.
   */
  async batchEmbedContents(batchEmbedContentRequest, requestOptions = {}) {
    const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);
    return batchEmbedContents(this.apiKey, this.model, batchEmbedContentRequest, generativeModelRequestOptions);
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class GoogleGenerativeAI {
  constructor(apiKey) {
    this.apiKey = apiKey;
  }
  /**
   * Gets a {@link GenerativeModel} instance for the provided model name.
   */
  getGenerativeModel(modelParams, requestOptions) {
    if (!modelParams.model) {
      throw new GoogleGenerativeAIError(`Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })`);
    }
    return new GenerativeModel(this.apiKey, modelParams, requestOptions);
  }
  /**
   * Creates a {@link GenerativeModel} instance from provided content cache.
   */
  getGenerativeModelFromCachedContent(cachedContent, modelParams, requestOptions) {
    if (!cachedContent.name) {
      throw new GoogleGenerativeAIRequestInputError("Cached content must contain a `name` field.");
    }
    if (!cachedContent.model) {
      throw new GoogleGenerativeAIRequestInputError("Cached content must contain a `model` field.");
    }
    const disallowedDuplicates = ["model", "systemInstruction"];
    for (const key of disallowedDuplicates) {
      if ((modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) && cachedContent[key] && (modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) !== cachedContent[key]) {
        if (key === "model") {
          const modelParamsComp = modelParams.model.startsWith("models/") ? modelParams.model.replace("models/", "") : modelParams.model;
          const cachedContentComp = cachedContent.model.startsWith("models/") ? cachedContent.model.replace("models/", "") : cachedContent.model;
          if (modelParamsComp === cachedContentComp) {
            continue;
          }
        }
        throw new GoogleGenerativeAIRequestInputError(`Different value for "${key}" specified in modelParams (${modelParams[key]}) and cachedContent (${cachedContent[key]})`);
      }
    }
    const modelParamsFromCache = Object.assign(Object.assign({}, modelParams), { model: cachedContent.model, tools: cachedContent.tools, toolConfig: cachedContent.toolConfig, systemInstruction: cachedContent.systemInstruction, cachedContent });
    return new GenerativeModel(this.apiKey, modelParamsFromCache, requestOptions);
  }
}
class GoogleLLM extends BaseLLM {
  constructor() {
    super(...arguments);
    this.providerId = "google";
    this.providerName = "Google Gemini";
    this.baseApiUrl = "https://generativelanguage.googleapis.com/v1beta";
    this.defaultModels = [
      "gemini-1.5-flash-latest",
      // 或具体版本如 gemini-1.5-flash-001
      "gemini-1.5-pro-latest",
      // 或具体版本如 gemini-1.5-pro-001
      "gemini-1.0-pro"
      // 旧版，可能仍需支持
      // 'gemini-pro-vision', // 如果需要支持多模态
    ];
    this.genAI = null;
  }
  /**
   * 重写 setApiKey 方法，在设置 key 时初始化 GoogleGenerativeAI 客户端
   */
  setApiKey(apiKey) {
    super.setApiKey(apiKey);
    if (apiKey) {
      try {
        this.genAI = new GoogleGenerativeAI(apiKey);
        console.log(`Google Gemini client initialized for provider: ${this.providerId}`);
      } catch (error) {
        console.error(`Failed to initialize Google Gemini client for ${this.providerId}:`, error);
        this.genAI = null;
      }
    } else {
      this.genAI = null;
      console.log(`Google Gemini client destroyed for provider: ${this.providerId}`);
    }
  }
  /**
   * 将通用的消息历史转换为 Google Gemini API 的 Content[] 格式
   * Google API 要求 user/model 交替，且不能连续出现相同角色
   */
  mapMessagesToGoogleContent(messages) {
    const history = [];
    let lastRole = null;
    for (const message of messages) {
      const currentRole = message.role === "assistant" ? "model" : message.role;
      if (currentRole === "system") continue;
      if (history.length > 0 && currentRole === lastRole) {
        const lastContent = history[history.length - 1];
        if (!Array.isArray(lastContent.parts)) {
          lastContent.parts = [];
        }
        lastContent.parts.push({ text: message.content });
      } else {
        history.push({
          role: currentRole,
          parts: [{ text: message.content }]
        });
        lastRole = currentRole;
      }
    }
    return history;
  }
  /**
   * 实现聊天请求方法 (需要根据 Google Gemini SDK 调整)
   */
  async generateChatCompletion(options) {
    var _a2, _b, _c, _d, _e2, _f, _g;
    if (!this.genAI) {
      return { content: "", error: "Google API Key 未设置或客户端初始化失败" };
    }
    if (!options.model || !this.getAvailableModels().includes(options.model)) {
      return { content: "", error: `模型 ${options.model} 不可用或不受支持` };
    }
    try {
      const generativeModel = this.genAI.getGenerativeModel({
        model: options.model,
        // --- 处理 System Prompt ---
        // Google Gemini 使用 systemInstruction 参数
        systemInstruction: options.systemPrompt ? { parts: [{ text: options.systemPrompt }], role: "system" } : void 0,
        // 确保格式正确
        // --- 安全设置 (可选，建议配置) ---
        safetySettings: [
          { category: HarmCategory.HARM_CATEGORY_HARASSMENT, threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE },
          { category: HarmCategory.HARM_CATEGORY_HATE_SPEECH, threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE },
          { category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT, threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE },
          { category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT, threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE }
        ]
      });
      const history = this.mapMessagesToGoogleContent(options.messages);
      const chat = generativeModel.startChat({
        history,
        generationConfig: {
          temperature: options.temperature,
          maxOutputTokens: options.maxTokens
          // topP, topK 等其他参数
        }
      });
      const lastUserMessage = (_a2 = options.messages[options.messages.length - 1]) == null ? void 0 : _a2.content;
      if (!lastUserMessage || ((_b = options.messages[options.messages.length - 1]) == null ? void 0 : _b.role) !== "user") {
        console.warn("[Google] No final user message found in history for chat.sendMessage.");
      }
      console.log(`[Google] Sending message to model ${options.model}: "${lastUserMessage}" with history:`, JSON.stringify(history, null, 2));
      const result = await chat.sendMessage(lastUserMessage ?? "");
      console.log("[Google] Received result:", JSON.stringify(result, null, 2));
      const response = result.response;
      const content = response.text();
      if ((_c = response.promptFeedback) == null ? void 0 : _c.blockReason) {
        return { content: "", error: `请求被阻止: ${response.promptFeedback.blockReason}`, rawResponse: result };
      }
      if (!content && ((_e2 = (_d = response.candidates) == null ? void 0 : _d[0]) == null ? void 0 : _e2.finishReason) !== "STOP") {
        return { content: "", error: `响应生成中止: ${(_g = (_f = response.candidates) == null ? void 0 : _f[0]) == null ? void 0 : _g.finishReason}`, rawResponse: result };
      }
      return {
        content,
        modelUsed: options.model,
        // Google API 响应中可能不直接包含模型名称，使用请求时的模型
        // usage: usageInfo, // Token 计数可能不准确或不可用
        rawResponse: result
      };
    } catch (error) {
      console.error(`[Google] Error during chat completion for model ${options.model}:`, error);
      let detailedError = "与 Google API 通信时发生未知错误";
      if (error instanceof Error) {
        detailedError = error.message;
      } else if (typeof error === "string") {
        detailedError = error;
      }
      return { content: "", error: detailedError, rawResponse: error };
    }
  }
}
class LLMServiceManager {
  constructor() {
    this.services = /* @__PURE__ */ new Map();
  }
  /**
   * 初始化管理器，手动注册已知的服务提供商。
   */
  async initialize() {
    console.log("[LLM Manager] Initializing (Manual Registration Mode)...");
    try {
      const openAIService = new OpenAILLM();
      if (openAIService.providerId) {
        this.services.set(openAIService.providerId, openAIService);
        console.log(`[LLM Manager] Manually registered provider: ${openAIService.providerId} (${openAIService.providerName})`);
      } else {
        console.error("[LLM Manager] Failed to register OpenAI: Missing providerId.");
      }
    } catch (error) {
      console.error("[LLM Manager] Error instantiating OpenAI service:", error);
    }
    try {
      const anthropicService = new AnthropicLLM();
      if (anthropicService.providerId) {
        this.services.set(anthropicService.providerId, anthropicService);
        console.log(`[LLM Manager] Manually registered provider: ${anthropicService.providerId} (${anthropicService.providerName})`);
      } else {
        console.error("[LLM Manager] Failed to register Anthropic: Missing providerId.");
      }
    } catch (error) {
      console.error("[LLM Manager] Error instantiating Anthropic service:", error);
    }
    try {
      const googleService = new GoogleLLM();
      if (googleService.providerId) {
        this.services.set(googleService.providerId, googleService);
        console.log(`[LLM Manager] Manually registered provider: ${googleService.providerId} (${googleService.providerName})`);
      } else {
        console.error("[LLM Manager] Failed to register Google: Missing providerId.");
      }
    } catch (error) {
      console.error("[LLM Manager] Error instantiating Google service:", error);
    }
    console.log(`[LLM Manager] Initialization complete. Loaded providers: ${[...this.services.keys()].join(", ")}`);
  }
  /**
   * 获取所有已加载的服务提供商实例。
   * @returns BaseLLM 实例数组
   */
  getAllServices() {
    console.log("[LLM Manager] getAllServices called.");
    return Array.from(this.services.values());
  }
  /**
   * 根据 providerId 获取特定的服务提供商实例。
   * @param providerId 服务商 ID (例如 'openai')
   * @returns BaseLLM 实例或 undefined
   */
  getService(providerId) {
    const service = this.services.get(providerId.toLowerCase());
    console.log(`[LLM Manager] getService called for ${providerId}. Found: ${!!service}`);
    return service;
  }
  /**
   * 为指定的服务提供商设置 API Key。
   * @param providerId 服务商 ID
   * @param apiKey API Key
   * @returns 是否成功设置 (找到服务商)
   */
  setApiKeyForService(providerId, apiKey) {
    console.log(`[LLM Manager] setApiKeyForService called for ${providerId}`);
    const service = this.getService(providerId);
    if (service) {
      service.setApiKey(apiKey);
      return true;
    }
    console.warn(`[LLM Manager] Attempted to set API Key for unknown provider: ${providerId}`);
    return false;
  }
}
const llmServiceManager = new LLMServiceManager();
const API_KEYS_FILE$1 = "apiKeys.json";
const CUSTOM_MODELS_FILE = "customModels.json";
function registerStoreHandlers() {
  ipcMain.handle("read-store", async (event, fileName, defaultValue) => {
    console.log(`IPC received: read-store for ${fileName}`);
    try {
      const data = await readStore(fileName, defaultValue);
      return { success: true, data };
    } catch (error) {
      console.error(`IPC error handling read-store for ${fileName}:`, error);
      const message = error instanceof Error ? error.message : "读取存储时发生未知错误";
      return { success: false, error: message };
    }
  });
  ipcMain.handle("write-store", async (event, fileName, data) => {
    console.log(`[IPC Handler] Received 'write-store' for ${fileName} with data:`, JSON.stringify(data, null, 2));
    try {
      await writeStore(fileName, data);
      console.log(`[IPC Handler] writeStore function for ${fileName} completed successfully.`);
      return { success: true };
    } catch (error) {
      console.error(`IPC error handling write-store for ${fileName}:`, error);
      const message = error instanceof Error ? error.message : "写入存储时发生未知错误";
      return { success: false, error: message };
    }
  });
  console.log("Store IPC handlers registered.");
}
function registerLLMServiceHandlers() {
  ipcMain.handle("llm-get-services", async () => {
    console.log("[IPC Main] Received llm-get-services");
    try {
      const services = llmServiceManager.getAllServices().map((service) => ({
        providerId: service.providerId,
        providerName: service.providerName,
        defaultModels: service.defaultModels
      }));
      return { success: true, data: services };
    } catch (error) {
      const message = error instanceof Error ? error.message : "获取 LLM 服务列表时出错";
      console.error("[IPC Main] Error handling llm-get-services:", error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-set-api-key", async (event, providerId, apiKey) => {
    console.log(`[IPC Main] Received llm-set-api-key for ${providerId}`);
    try {
      const managerSuccess = llmServiceManager.setApiKeyForService(providerId, apiKey);
      if (!managerSuccess) {
        return { success: false, error: `未找到服务商: ${providerId}` };
      }
      const currentKeys = await readStore(API_KEYS_FILE$1, {});
      if (apiKey && apiKey.trim() !== "") {
        currentKeys[providerId] = apiKey;
      } else {
        delete currentKeys[providerId];
      }
      await writeStore(API_KEYS_FILE$1, currentKeys);
      console.log(`API Key for ${providerId} set and persisted successfully.`);
      return { success: true };
    } catch (error) {
      const message = error instanceof Error ? error.message : "设置并保存 API Key 时出错";
      console.error(`[IPC Main] Error handling llm-set-api-key for ${providerId}:`, error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-get-saved-keys", async () => {
    console.log("[IPC Main] Received llm-get-saved-keys");
    try {
      const savedKeys = await readStore(API_KEYS_FILE$1, {});
      return { success: true, data: savedKeys };
    } catch (error) {
      const message = error instanceof Error ? error.message : "读取已保存的 API Keys 时出错";
      console.error("[IPC Main] Error handling llm-get-saved-keys:", error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-get-available-models", async (event, providerId) => {
    console.log(`[IPC Main] Received llm-get-available-models for ${providerId}`);
    const service = llmServiceManager.getService(providerId);
    if (!service) {
      return { success: false, error: `未找到服务商: ${providerId}` };
    }
    try {
      const allCustomModels = await readStore(CUSTOM_MODELS_FILE, {});
      const customModels = allCustomModels[providerId] || [];
      const availableModels = service.getAvailableModels(customModels);
      return { success: true, data: availableModels };
    } catch (error) {
      const message = error instanceof Error ? error.message : "获取可用模型时出错";
      console.error(`[IPC Main] Error handling llm-get-available-models for ${providerId}:`, error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-generate-chat", async (event, providerId, options) => {
    console.log(`[IPC Main] Received llm-generate-chat for ${providerId} with options:`, JSON.stringify(options, null, 2));
    const service = llmServiceManager.getService(providerId);
    if (!service) {
      return { success: false, error: `未找到服务商: ${providerId}` };
    }
    if (!service.getApiKey()) {
      return { success: false, error: `服务商 ${providerId} 的 API Key 尚未设置` };
    }
    try {
      const result = await service.generateChatCompletion(options);
      console.log(`[IPC Main] Chat completion result for ${providerId}:`, JSON.stringify(result, null, 2));
      if (result.error) {
        return { success: false, error: result.error, data: result };
      }
      return { success: true, data: result };
    } catch (error) {
      const message = error instanceof Error ? error.message : "调用聊天生成时发生未知错误";
      console.error(`[IPC Main] Error handling llm-generate-chat for ${providerId}:`, error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-get-custom-models", async (event, providerId) => {
    console.log(`[IPC Main] Received llm-get-custom-models for ${providerId}`);
    try {
      const allCustomModels = await readStore(CUSTOM_MODELS_FILE, {});
      const customModels = allCustomModels[providerId] || [];
      return { success: true, data: customModels };
    } catch (error) {
      const message = error instanceof Error ? error.message : "读取自定义模型列表时出错";
      console.error(`[IPC Main] Error handling llm-get-custom-models for ${providerId}:`, error);
      return { success: false, error: message };
    }
  });
  ipcMain.handle("llm-save-custom-models", async (event, providerId, models) => {
    console.log(`[IPC Main] Received llm-save-custom-models for ${providerId} with models:`, models);
    try {
      const allCustomModels = await readStore(CUSTOM_MODELS_FILE, {});
      allCustomModels[providerId] = models;
      await writeStore(CUSTOM_MODELS_FILE, allCustomModels);
      console.log(`Custom models for ${providerId} saved successfully.`);
      return { success: true };
    } catch (error) {
      const message = error instanceof Error ? error.message : "保存自定义模型列表时出错";
      console.error(`[IPC Main] Error handling llm-save-custom-models for ${providerId}:`, error);
      return { success: false, error: message };
    }
  });
  console.log("LLM Service IPC handlers registered.");
}
const API_KEYS_FILE = "apiKeys.json";
const __filename = fileURLToPath(import.meta.url);
const __dirname = path$1.dirname(__filename);
process.env.VITE_PUBLIC = process.env.VITE_DEV_SERVER_URL ? path$1.join(__dirname, "../public") : path$1.join(__dirname, "../dist");
let win;
const VITE_DEV_SERVER_URL = process.env["VITE_DEV_SERVER_URL"];
function createWindow() {
  const publicPath = process.env.VITE_PUBLIC;
  let iconPath;
  if (publicPath && fs$1.existsSync(publicPath)) {
    const potentialIconPath = path$1.join(publicPath, "electron-vite.svg");
    if (fs$1.existsSync(potentialIconPath)) {
      iconPath = potentialIconPath;
    } else {
      console.warn(`[Main Process] Icon file not found at: ${potentialIconPath}`);
    }
  } else {
    console.warn(`[Main Process] VITE_PUBLIC path does not exist or is not set: ${publicPath}`);
  }
  win = new BrowserWindow({
    icon: iconPath,
    // 使用计算出的图标路径
    width: 1200,
    height: 800,
    webPreferences: {
      preload: path$1.join(__dirname, "preload.mjs")
      // __dirname 是 dist-electron
    }
  });
  win.webContents.on("did-finish-load", () => {
    win == null ? void 0 : win.webContents.send("main-process-message", (/* @__PURE__ */ new Date()).toLocaleString());
  });
  if (VITE_DEV_SERVER_URL) {
    win.loadURL(VITE_DEV_SERVER_URL);
    win.webContents.openDevTools();
  } else {
    const distPath = path$1.join(__dirname, "../dist");
    if (!fs$1.existsSync(distPath)) {
      console.error(`[Main Process] Production DIST path does not exist: ${distPath}. Exiting.`);
      app.quit();
      return;
    }
    process.env.DIST = distPath;
    const indexPath = path$1.join(distPath, "index.html");
    try {
      fs$1.accessSync(indexPath);
      win.loadFile(indexPath);
    } catch (error) {
      console.error(`Error loading index.html from ${indexPath}:`, error);
      app.quit();
    }
  }
  win.on("closed", () => {
    win = null;
  });
}
function createMenu() {
  const menuTemplate = [
    {
      label: "文件",
      submenu: [
        { role: "quit", label: "退出" }
      ]
    },
    {
      label: "编辑",
      submenu: [
        { role: "undo", label: "撤销" },
        { role: "redo", label: "重做" },
        { type: "separator" },
        { role: "cut", label: "剪切" },
        { role: "copy", label: "复制" },
        { role: "paste", label: "粘贴" },
        { role: "selectAll", label: "全选" }
      ]
    },
    {
      label: "视图",
      submenu: [
        { role: "reload", label: "重新加载" },
        { role: "forceReload", label: "强制重新加载" },
        { role: "toggleDevTools", label: "切换开发者工具" },
        { type: "separator" },
        { role: "resetZoom", label: "重置缩放" },
        { role: "zoomIn", label: "放大" },
        { role: "zoomOut", label: "缩小" },
        { type: "separator" },
        { role: "togglefullscreen", label: "切换全屏" }
      ]
    },
    {
      label: "窗口",
      submenu: [
        { role: "minimize", label: "最小化" },
        { role: "close", label: "关闭" }
      ]
    },
    {
      label: "帮助",
      submenu: [
        {
          label: "了解更多",
          click: async () => {
            await shell.openExternal("https://electronjs.org");
          }
        }
      ]
    }
  ];
  if (process.platform === "darwin") {
    menuTemplate.unshift({
      label: app.getName(),
      submenu: [
        { role: "about", label: `关于 ${app.getName()}` },
        { type: "separator" },
        { role: "services", label: "服务" },
        { type: "separator" },
        { role: "hide", label: `隐藏 ${app.getName()}` },
        { role: "hideOthers", label: "隐藏其他" },
        { role: "unhide", label: "全部显示" },
        { type: "separator" },
        { role: "quit", label: `退出 ${app.getName()}` }
      ]
    });
    const editMenu = menuTemplate.find((m2) => m2.label === "编辑");
    if (editMenu == null ? void 0 : editMenu.submenu) {
      editMenu.submenu.push(
        { type: "separator" },
        { label: "语音", submenu: [{ role: "startSpeaking", label: "开始朗读" }, { role: "stopSpeaking", label: "停止朗读" }] }
      );
    }
    const windowMenu = menuTemplate.find((m2) => m2.label === "窗口");
    if (windowMenu == null ? void 0 : windowMenu.submenu) {
      windowMenu.submenu.push(
        { type: "separator" },
        { role: "front", label: "全部置于顶层" }
      );
    }
  }
  const menu = Menu.buildFromTemplate(menuTemplate);
  Menu.setApplicationMenu(menu);
}
async function loadAndSetApiKeys() {
  console.log("[Main Process] Loading saved API keys...");
  try {
    const savedKeys = await readStore(API_KEYS_FILE, {});
    console.log("[Main Process] Found saved keys for providers:", Object.keys(savedKeys));
    for (const [providerId, apiKey] of Object.entries(savedKeys)) {
      if (apiKey) {
        console.log(`[Main Process] Setting API key for ${providerId}...`);
        llmServiceManager.setApiKeyForService(providerId, apiKey);
      }
    }
    console.log("[Main Process] Finished setting saved API keys.");
  } catch (error) {
    console.error("[Main Process] Error loading or setting saved API keys:", error);
  }
}
app.on("window-all-closed", () => {
  if (process.platform !== "darwin") {
    app.quit();
  }
});
app.on("activate", () => {
  if (BrowserWindow.getAllWindows().length === 0) {
    createWindow();
  }
});
app.whenReady().then(async () => {
  console.log("[Main Process] App ready.");
  try {
    await llmServiceManager.initialize();
    await loadAndSetApiKeys();
    registerStoreHandlers();
    registerLLMServiceHandlers();
    createWindow();
    createMenu();
    console.log("[Main Process] Initialization successful.");
  } catch (error) {
    console.error("[Main Process] Failed during app initialization:", error);
    app.quit();
  }
});
process.on("uncaughtException", (error) => {
  console.error("Uncaught Exception:", error);
});
export {
  File$1 as F,
  getDefaultExportFromCjs as g,
  isFile as i
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1ESGJna3JPSi5qcyIsInNvdXJjZXMiOlsiLi4vZWxlY3Ryb24vc3RvcmFnZS9qc29uU3RvcmUudHMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9xcy9mb3JtYXRzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3V0aWxzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3N0cmluZ2lmeS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS92ZXJzaW9uLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9yZWdpc3RyeS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL3dlYmlkbC1jb252ZXJzaW9uc0AzLjAuMS9ub2RlX21vZHVsZXMvd2ViaWRsLWNvbnZlcnNpb25zL2xpYi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvd2hhdHdnLXVybEA1LjAuMC9ub2RlX21vZHVsZXMvd2hhdHdnLXVybC9saWIvdXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL3RyNDZAMC4wLjMvbm9kZV9tb2R1bGVzL3RyNDYvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL3doYXR3Zy11cmxANS4wLjAvbm9kZV9tb2R1bGVzL3doYXR3Zy11cmwvbGliL3VybC1zdGF0ZS1tYWNoaW5lLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS93aGF0d2ctdXJsQDUuMC4wL25vZGVfbW9kdWxlcy93aGF0d2ctdXJsL2xpYi9VUkwtaW1wbC5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvd2hhdHdnLXVybEA1LjAuMC9ub2RlX21vZHVsZXMvd2hhdHdnLXVybC9saWIvVVJMLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS93aGF0d2ctdXJsQDUuMC4wL25vZGVfbW9kdWxlcy93aGF0d2ctdXJsL2xpYi9wdWJsaWMtYXBpLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9ub2RlLWZldGNoQDIuNy4wL25vZGVfbW9kdWxlcy9ub2RlLWZldGNoL2xpYi9pbmRleC5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL3dlYi1zdHJlYW1zLXBvbHlmaWxsQDQuMC4wLWJldGEuMy9ub2RlX21vZHVsZXMvd2ViLXN0cmVhbXMtcG9seWZpbGwvZGlzdC9wb255ZmlsbC5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2Zvcm1kYXRhLW5vZGVANC40LjEvbm9kZV9tb2R1bGVzL2Zvcm1kYXRhLW5vZGUvbGliL2VzbS9pc0Z1bmN0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9mb3JtZGF0YS1ub2RlQDQuNC4xL25vZGVfbW9kdWxlcy9mb3JtZGF0YS1ub2RlL2xpYi9lc20vYmxvYkhlbHBlcnMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2Zvcm1kYXRhLW5vZGVANC40LjEvbm9kZV9tb2R1bGVzL2Zvcm1kYXRhLW5vZGUvbGliL2VzbS9CbG9iLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9mb3JtZGF0YS1ub2RlQDQuNC4xL25vZGVfbW9kdWxlcy9mb3JtZGF0YS1ub2RlL2xpYi9lc20vRmlsZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybWRhdGEtbm9kZUA0LjQuMS9ub2RlX21vZHVsZXMvZm9ybWRhdGEtbm9kZS9saWIvZXNtL2lzRmlsZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybWRhdGEtbm9kZUA0LjQuMS9ub2RlX21vZHVsZXMvZm9ybWRhdGEtbm9kZS9saWIvZXNtL2lzQmxvYi5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybWRhdGEtbm9kZUA0LjQuMS9ub2RlX21vZHVsZXMvZm9ybWRhdGEtbm9kZS9saWIvZXNtL2RlcHJlY2F0ZUNvbnN0cnVjdG9yRW50cmllcy5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybWRhdGEtbm9kZUA0LjQuMS9ub2RlX21vZHVsZXMvZm9ybWRhdGEtbm9kZS9saWIvZXNtL0Zvcm1EYXRhLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9tc0AyLjEuMy9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2h1bWFuaXplLW1zQDEuMi4xL25vZGVfbW9kdWxlcy9odW1hbml6ZS1tcy9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvYWdlbnRrZWVwYWxpdmVANC42LjAvbm9kZV9tb2R1bGVzL2FnZW50a2VlcGFsaXZlL2xpYi9jb25zdGFudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2FnZW50a2VlcGFsaXZlQDQuNi4wL25vZGVfbW9kdWxlcy9hZ2VudGtlZXBhbGl2ZS9saWIvYWdlbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2FnZW50a2VlcGFsaXZlQDQuNi4wL25vZGVfbW9kdWxlcy9hZ2VudGtlZXBhbGl2ZS9saWIvaHR0cHNfYWdlbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2FnZW50a2VlcGFsaXZlQDQuNi4wL25vZGVfbW9kdWxlcy9hZ2VudGtlZXBhbGl2ZS9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZXZlbnQtdGFyZ2V0LXNoaW1ANS4wLjEvbm9kZV9tb2R1bGVzL2V2ZW50LXRhcmdldC1zaGltL2Rpc3QvZXZlbnQtdGFyZ2V0LXNoaW0ubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9hYm9ydC1jb250cm9sbGVyQDMuMC4wL25vZGVfbW9kdWxlcy9hYm9ydC1jb250cm9sbGVyL2Rpc3QvYWJvcnQtY29udHJvbGxlci5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2Zvcm0tZGF0YS1lbmNvZGVyQDEuNy4yL25vZGVfbW9kdWxlcy9mb3JtLWRhdGEtZW5jb2Rlci9saWIvZXNtL3V0aWwvY3JlYXRlQm91bmRhcnkuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2Zvcm0tZGF0YS1lbmNvZGVyQDEuNy4yL25vZGVfbW9kdWxlcy9mb3JtLWRhdGEtZW5jb2Rlci9saWIvZXNtL3V0aWwvaXNQbGFpbk9iamVjdC5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybS1kYXRhLWVuY29kZXJAMS43LjIvbm9kZV9tb2R1bGVzL2Zvcm0tZGF0YS1lbmNvZGVyL2xpYi9lc20vdXRpbC9ub3JtYWxpemVWYWx1ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybS1kYXRhLWVuY29kZXJAMS43LjIvbm9kZV9tb2R1bGVzL2Zvcm0tZGF0YS1lbmNvZGVyL2xpYi9lc20vdXRpbC9lc2NhcGVOYW1lLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9mb3JtLWRhdGEtZW5jb2RlckAxLjcuMi9ub2RlX21vZHVsZXMvZm9ybS1kYXRhLWVuY29kZXIvbGliL2VzbS91dGlsL2lzRnVuY3Rpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL2Zvcm0tZGF0YS1lbmNvZGVyQDEuNy4yL25vZGVfbW9kdWxlcy9mb3JtLWRhdGEtZW5jb2Rlci9saWIvZXNtL3V0aWwvaXNGaWxlTGlrZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvZm9ybS1kYXRhLWVuY29kZXJAMS43LjIvbm9kZV9tb2R1bGVzL2Zvcm0tZGF0YS1lbmNvZGVyL2xpYi9lc20vdXRpbC9pc0Zvcm1EYXRhLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9mb3JtLWRhdGEtZW5jb2RlckAxLjcuMi9ub2RlX21vZHVsZXMvZm9ybS1kYXRhLWVuY29kZXIvbGliL2VzbS9Gb3JtRGF0YUVuY29kZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvTXVsdGlwYXJ0Qm9keS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvbm9kZS1ydW50aW1lLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9pbmRleC5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9lcnJvci5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9kZWNvZGVycy9saW5lLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3N0cmVhbS11dGlscy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9zdHJlYW1pbmcubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3BhZ2luYXRpb24ubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2UubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvbWVzc2FnZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvY29tcGxldGlvbnMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY2hhdC5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYXVkaW8vc3BlZWNoLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2NyaXB0aW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYXVkaW8vdHJhbnNsYXRpb25zLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby9hdWRpby5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmF0Y2hlcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvRXZlbnRTdHJlYW0ubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0Fzc2lzdGFudFN0cmVhbS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9hc3Npc3RhbnRzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9SdW5uYWJsZUZ1bmN0aW9uLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9jaGF0Q29tcGxldGlvblV0aWxzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9wYXJzZXIubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2NoYXQvY2hhdC5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9zZXNzaW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS90cmFuc2NyaXB0aW9uLXNlc3Npb25zLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3JlYWx0aW1lL3JlYWx0aW1lLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9ydW5zLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvdGhyZWFkcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9iZXRhLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jb21wbGV0aW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZW1iZWRkaW5ncy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZXZhbHMvcnVucy9vdXRwdXQtaXRlbXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL3J1bnMvcnVucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZXZhbHMvZXZhbHMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbGVzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9jaGVja3BvaW50cy9wZXJtaXNzaW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvY2hlY2twb2ludHMvY2hlY2twb2ludHMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvY2hlY2twb2ludHMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvZmluZS10dW5pbmcubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ltYWdlcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZWxzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlcmF0aW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvUmVzcG9uc2VzUGFyc2VyLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9yZXNwb25zZXMvaW5wdXQtaXRlbXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9vcGVuYWlANC45Ni4wL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdXBsb2Fkcy9wYXJ0cy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9VdGlsLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGVzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGUtYmF0Y2hlcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL29wZW5haUA0Ljk2LjAvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy92ZWN0b3Itc3RvcmVzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvb3BlbmFpQDQuOTYuMC9ub2RlX21vZHVsZXMvb3BlbmFpL2luZGV4Lm1qcyIsIi4uL2VsZWN0cm9uL2xsbS9CYXNlTExNLnRzIiwiLi4vZWxlY3Ryb24vbGxtL09wZW5BSS50cyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay92ZXJzaW9uLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9fc2hpbXMvcmVnaXN0cnkubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL19zaGltcy9NdWx0aXBhcnRCb2R5Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9fc2hpbXMvbm9kZS1ydW50aW1lLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9fc2hpbXMvaW5kZXgubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL2Vycm9yLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9pbnRlcm5hbC9kZWNvZGVycy9saW5lLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9pbnRlcm5hbC9zdHJlYW0tdXRpbHMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3N0cmVhbWluZy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvdXBsb2Fkcy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvY29yZS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvcGFnaW5hdGlvbi5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvcmVzb3VyY2UubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9iZXRhL21vZGVscy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvaW50ZXJuYWwvZGVjb2RlcnMvanNvbmwubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9iZXRhL21lc3NhZ2VzL2JhdGNoZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL2xpYi9CZXRhTWVzc2FnZVN0cmVhbS5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvcmVzb3VyY2VzL2JldGEvbWVzc2FnZXMvbWVzc2FnZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9iZXRhL2JldGEubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9jb21wbGV0aW9ucy5tanMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0BhbnRocm9waWMtYWkrc2RrQDAuNDAuMC9ub2RlX21vZHVsZXMvQGFudGhyb3BpYy1haS9zZGsvcmVzb3VyY2VzL21lc3NhZ2VzL2JhdGNoZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL2xpYi9NZXNzYWdlU3RyZWFtLm1qcyIsIi4uL25vZGVfbW9kdWxlcy8uc3RvcmUvQGFudGhyb3BpYy1haStzZGtAMC40MC4wL25vZGVfbW9kdWxlcy9AYW50aHJvcGljLWFpL3Nkay9yZXNvdXJjZXMvbWVzc2FnZXMvbWVzc2FnZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9tb2RlbHMubWpzIiwiLi4vbm9kZV9tb2R1bGVzLy5zdG9yZS9AYW50aHJvcGljLWFpK3Nka0AwLjQwLjAvbm9kZV9tb2R1bGVzL0BhbnRocm9waWMtYWkvc2RrL2luZGV4Lm1qcyIsIi4uL2VsZWN0cm9uL2xsbS9BbnRocm9waWNMTE0udHMiLCIuLi9ub2RlX21vZHVsZXMvLnN0b3JlL0Bnb29nbGUrZ2VuZXJhdGl2ZS1haUAwLjI0LjAvbm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuZXJhdGl2ZS1haS9kaXN0L2luZGV4Lm1qcyIsIi4uL2VsZWN0cm9uL2xsbS9Hb29nbGVMTE0udHMiLCIuLi9lbGVjdHJvbi9sbG0vTExNU2VydmljZU1hbmFnZXIudHMiLCIuLi9lbGVjdHJvbi9pcGNIYW5kbGVycy50cyIsIi4uL2VsZWN0cm9uL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzL3Byb21pc2VzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IGFwcCB9IGZyb20gJ2VsZWN0cm9uJzsgLy8g5a+85YWlIGFwcCDojrflj5YgdXNlckRhdGEg6Lev5b6EXHJcblxyXG4vLyDlrprkuYnlrZjlgqjnm67lvZXvvIzkvb/nlKggdXNlckRhdGEg55uu5b2V56Gu5L+d5pWw5o2u5oyB5LmF5oCnXHJcbi8vIOazqOaEj++8muW8gOWPkeeOr+Wig+S4iyB1c2VyRGF0YSDlj6/og73mjIflkJEgRWxlY3Ryb24g55qE5Li05pe255uu5b2V77yM5omT5YyF5ZCO5Lya5oyH5ZCR55So5oi35pWw5o2u55uu5b2VXHJcbmNvbnN0IHN0b3JhZ2VEaXIgPSBwYXRoLmpvaW4oYXBwLmdldFBhdGgoJ3VzZXJEYXRhJyksICdUaGVMTE1BSUltcHJvdlRoZWF0ZXJEYXRhJyk7XHJcblxyXG4vKipcclxuICog56Gu5L+d5a2Y5YKo55uu5b2V5a2Y5Zyo77yM5aaC5p6c5LiN5a2Y5Zyo5YiZ5Yib5bu644CCXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVTdG9yYWdlRGlyRXhpc3RzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBmcy5hY2Nlc3Moc3RvcmFnZURpcik7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHsgLy8g5L2/55SoIHVua25vd24g57G75Z6LXHJcbiAgICAvLyDmo4Dmn6XplJnor6/mmK/lkKbmmK/ljIXlkKsgY29kZSDlsZ7mgKfnmoTlr7nosaFcclxuICAgIGxldCBlcnJvckNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmICdjb2RlJyBpbiBlcnJvcikge1xyXG4gICAgICBlcnJvckNvZGUgPSAoZXJyb3IgYXMgeyBjb2RlOiBzdHJpbmcgfSkuY29kZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlpoLmnpznm67lvZXkuI3lrZjlnKggKEVOT0VOVCnvvIzliJnliJvlu7rlroNcclxuICAgIGlmIChlcnJvckNvZGUgPT09ICdFTk9FTlQnKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgZnMubWtkaXIoc3RvcmFnZURpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFN0b3JhZ2UgZGlyZWN0b3J5IGNyZWF0ZWQ6ICR7c3RvcmFnZURpcn1gKTtcclxuICAgICAgfSBjYXRjaCAobWtkaXJFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNyZWF0aW5nIHN0b3JhZ2UgZGlyZWN0b3J5ICR7c3RvcmFnZURpcn06YCwgbWtkaXJFcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHN0b3JhZ2UgZGlyZWN0b3J5OiAke3N0b3JhZ2VEaXJ9YCk7IC8vIOaKm+WHuumUmeivr++8jOiuqeiwg+eUqOiAheefpemBk+Wksei0peS6hlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDlpoLmnpzmmK/lhbbku5bplJnor6/vvIzliJnnm7TmjqXmipvlh7pcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgYWNjZXNzaW5nIHN0b3JhZ2UgZGlyZWN0b3J5ICR7c3RvcmFnZURpcn06YCwgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBhY2Nlc3Mgc3RvcmFnZSBkaXJlY3Rvcnk6ICR7c3RvcmFnZURpcn1gKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDku47mjIflrprnmoQgSlNPTiDmlofku7bor7vlj5bmlbDmja7jgIJcclxuICogQHBhcmFtIGZpbGVOYW1lIOaWh+S7tuWQjSAo5L6L5aaCICdzY3JpcHRzLmpzb24nLCAncm9sZXMuanNvbicpXHJcbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUg5aaC5p6c5paH5Lu25LiN5a2Y5Zyo5oiW5Li656m677yM6L+U5Zue55qE6buY6K6k5YC8XHJcbiAqIEByZXR1cm5zIOino+aekOWQjueahOaVsOaNruaIlum7mOiupOWAvFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRTdG9yZTxUPihmaWxlTmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQpOiBQcm9taXNlPFQ+IHtcclxuICBhd2FpdCBlbnN1cmVTdG9yYWdlRGlyRXhpc3RzKCk7IC8vIOehruS/neebruW9leWtmOWcqFxyXG4gIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHN0b3JhZ2VEaXIsIGZpbGVOYW1lKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZVBhdGgsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSk7XHJcbiAgICBpZiAoIWZpbGVDb250ZW50KSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7IC8vIOaWh+S7tuS4uuepuu+8jOi/lOWbnum7mOiupOWAvFxyXG4gICAgfVxyXG4gICAgLy8g5bCd6K+V6Kej5p6QIEpTT07vvIzlpoLmnpzlpLHotKXkuZ/nrpfplJnor69cclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpbGVDb250ZW50KSBhcyBUO1xyXG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xyXG4gICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcGFyc2luZyBKU09OIGZyb20gZmlsZSAke2ZpbGVQYXRofTpgLCBwYXJzZUVycm9yKTtcclxuICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7IC8vIOino+aekOWksei0peS5n+i/lOWbnum7mOiupOWAvFxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7IC8vIOS9v+eUqCB1bmtub3duIOexu+Wei1xyXG4gICAgLy8g5qOA5p+l6ZSZ6K+v5piv5ZCm5piv5YyF5ZCrIGNvZGUg5bGe5oCn55qE5a+56LGhXHJcbiAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiAnY29kZScgaW4gZXJyb3IpIHtcclxuICAgICAgLy8g5aaC5p6c5paH5Lu25LiN5a2Y5ZyoIChFTk9FTlQp77yM6L+U5Zue6buY6K6k5YC877yM6L+Z5piv5q2j5bi45oOF5Ya1XHJcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRU5PRU5UJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBTdG9yZSBmaWxlICR7ZmlsZU5hbWV9IG5vdCBmb3VuZCwgcmV0dXJuaW5nIGRlZmF1bHQgdmFsdWUuYCk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8g5aaC5p6c5piv5YW25LuW6K+75Y+W6ZSZ6K+v77yM5YiZ6K6w5b2V5bm26L+U5Zue6buY6K6k5YC8XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWFkaW5nIHN0b3JlIGZpbGUgJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xyXG4gICAgLy8g6L+Z6YeM6YCJ5oup6L+U5ZueIGRlZmF1bHRWYWx1Ze+8jOmBv+WFjeWboOWNleS4quaWh+S7tuaNn+Wdj+WvvOiHtOaVtOS4quW6lOeUqOWksei0pVxyXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgIC8vIOaIluiAheaKm+WHuumUmeivrzogdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcmVhZCBzdG9yZSBmaWxlOiAke2ZpbGVOYW1lfWApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWwhuaVsOaNruWGmeWFpeaMh+WumueahCBKU09OIOaWh+S7tuOAglxyXG4gKiBAcGFyYW0gZmlsZU5hbWUg5paH5Lu25ZCNICjkvovlpoIgJ3NjcmlwdHMuanNvbicsICdyb2xlcy5qc29uJylcclxuICogQHBhcmFtIGRhdGEg6KaB5YaZ5YWl55qE5pWw5o2uXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JpdGVTdG9yZTxUPihmaWxlTmFtZTogc3RyaW5nLCBkYXRhOiBUKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgYXdhaXQgZW5zdXJlU3RvcmFnZURpckV4aXN0cygpOyAvLyDnoa7kv53nm67lvZXlrZjlnKhcclxuICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihzdG9yYWdlRGlyLCBmaWxlTmFtZSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyDlsIbmlbDmja7ovazmjaLkuLrmoLzlvI/ljJbnmoQgSlNPTiDlrZfnrKbkuLIgKG51bGwsIDIg6KGo56S65L2/55SoIG51bGwg5aGr5YWF56ym5ZKMIDIg5Liq56m65qC857yp6L+bKVxyXG4gICAgY29uc3QgZmlsZUNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcclxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwgZmlsZUNvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhgRGF0YSBzdWNjZXNzZnVsbHkgd3JpdHRlbiB0byAke2ZpbGVQYXRofWApO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7IC8vIOS9v+eUqCB1bmtub3duIOexu+Wei1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3Igd3JpdGluZyBzdG9yZSBmaWxlICR7ZmlsZVBhdGh9OmAsIGVycm9yKTtcclxuICAgIC8vIOWPr+S7pemAieaLqeaAp+WcsOajgOafpemUmeivr+exu+Wei++8jOS9humAmuW4uOWGmeWFpeWksei0peebtOaOpeaKm+WHuuWNs+WPr1xyXG4gICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+WGmeWFpeWtmOWCqOaXtuWPkeeUn+acquefpemUmeivryc7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB3cml0ZSBzdG9yZSBmaWxlOiAke2ZpbGVOYW1lfS4gUmVhc29uOiAke21lc3NhZ2V9YCk7IC8vIOaKm+WHuuabtOivpue7hueahOmUmeivr1xyXG4gIH1cclxufVxyXG5cclxuLy8g5Y+v5Lul5Zyo6L+Z6YeM5re75Yqg5YW25LuW5a2Y5YKo55u45YWz55qE6L6F5Yqp5Ye95pWw77yM5L6L5aaC5Yig6Zmk5paH5Lu244CB5YiX5Ye65paH5Lu2562JIiwiZXhwb3J0IGNvbnN0IGRlZmF1bHRfZm9ybWF0ID0gJ1JGQzM5ODYnO1xuZXhwb3J0IGNvbnN0IGZvcm1hdHRlcnMgPSB7XG4gICAgUkZDMTczODogKHYpID0+IFN0cmluZyh2KS5yZXBsYWNlKC8lMjAvZywgJysnKSxcbiAgICBSRkMzOTg2OiAodikgPT4gU3RyaW5nKHYpLFxufTtcbmV4cG9ydCBjb25zdCBSRkMxNzM4ID0gJ1JGQzE3MzgnO1xuZXhwb3J0IGNvbnN0IFJGQzM5ODYgPSAnUkZDMzk4Nic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtYXRzLm1qcy5tYXAiLCJpbXBvcnQgeyBSRkMxNzM4IH0gZnJvbSBcIi4vZm9ybWF0cy5tanNcIjtcbmNvbnN0IGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBoZXhfdGFibGUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59KSgpO1xuZnVuY3Rpb24gY29tcGFjdF9xdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgaWYgKCFpdGVtKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG4gICAgICAgIGlmIChpc19hcnJheShvYmopKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wYWN0ZWQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFycmF5X3RvX29iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoaXNfYXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fFxuICAgICAgICAgICAgICAgICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cbiAgICBsZXQgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKGlzX2FycmF5KHRhcmdldCkgJiYgIWlzX2FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5X3RvX29iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaXNfYXJyYXkodGFyZ2V0KSAmJiBpc19hcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgaWYgKGhhcy5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBtZXJnZShhY2Nba2V5XSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG1lcmdlVGFyZ2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25fc2luZ2xlX3NvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShzdHIsIF8sIGNoYXJzZXQpIHtcbiAgICBjb25zdCBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cztcbiAgICB9XG59XG5jb25zdCBsaW1pdCA9IDEwMjQ7XG5leHBvcnQgY29uc3QgZW5jb2RlID0gKHN0ciwgX2RlZmF1bHRFbmNvZGVyLCBjaGFyc2V0LCBfa2luZCwgZm9ybWF0KSA9PiB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBsZXQgc3RyaW5nID0gc3RyO1xuICAgIGlmICh0eXBlb2Ygc3RyID09PSAnc3ltYm9sJykge1xuICAgICAgICBzdHJpbmcgPSBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3RyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gICAgfVxuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgcmV0dXJuIGVzY2FwZShzdHJpbmcpLnJlcGxhY2UoLyV1WzAtOWEtZl17NH0vZ2ksIGZ1bmN0aW9uICgkMCkge1xuICAgICAgICAgICAgcmV0dXJuICclMjYlMjMnICsgcGFyc2VJbnQoJDAuc2xpY2UoMiksIDE2KSArICclM0InO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IG91dCA9ICcnO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3RyaW5nLmxlbmd0aDsgaiArPSBsaW1pdCkge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gc3RyaW5nLmxlbmd0aCA+PSBsaW1pdCA/IHN0cmluZy5zbGljZShqLCBqICsgbGltaXQpIDogc3RyaW5nO1xuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IHNlZ21lbnQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09PSAweDJkIHx8IC8vIC1cbiAgICAgICAgICAgICAgICBjID09PSAweDJlIHx8IC8vIC5cbiAgICAgICAgICAgICAgICBjID09PSAweDVmIHx8IC8vIF9cbiAgICAgICAgICAgICAgICBjID09PSAweDdlIHx8IC8vIH5cbiAgICAgICAgICAgICAgICAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgfHwgLy8gMC05XG4gICAgICAgICAgICAgICAgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEpIHx8IC8vIGEtelxuICAgICAgICAgICAgICAgIChjID49IDB4NjEgJiYgYyA8PSAweDdhKSB8fCAvLyBBLVpcbiAgICAgICAgICAgICAgICAoZm9ybWF0ID09PSBSRkMxNzM4ICYmIChjID09PSAweDI4IHx8IGMgPT09IDB4MjkpKSAvLyAoIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyclthcnIubGVuZ3RoXSA9IHNlZ21lbnQuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gaGV4X3RhYmxlW2NdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGFyclthcnIubGVuZ3RoXSA9IGhleF90YWJsZVsweGMwIHwgKGMgPj4gNildICsgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID1cbiAgICAgICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ZTAgfCAoYyA+PiAxMildICsgaGV4X3RhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNmKV0gKyBoZXhfdGFibGVbMHg4MCB8IChjICYgMHgzZildO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzZmYpIDw8IDEwKSB8IChzZWdtZW50LmNoYXJDb2RlQXQoaSkgJiAweDNmZikpO1xuICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID1cbiAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHhmMCB8IChjID4+IDE4KV0gK1xuICAgICAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNmKV0gK1xuICAgICAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArXG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9IGFyci5qb2luKCcnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn07XG5leHBvcnQgZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIGNvbnN0IHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgICBjb25zdCByZWZzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBpdGVtID0gcXVldWVbaV07XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3Qgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wYWN0X3F1ZXVlKHF1ZXVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNfcmVnZXhwKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNfYnVmZmVyKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVfbWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNfYXJyYXkodmFsKSkge1xuICAgICAgICBjb25zdCBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCIsImltcG9ydCB7IGVuY29kZSwgaXNfYnVmZmVyLCBtYXliZV9tYXAgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7IGRlZmF1bHRfZm9ybWF0LCBmb3JtYXR0ZXJzIH0gZnJvbSBcIi4vZm9ybWF0cy5tanNcIjtcbmNvbnN0IGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0cyhwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhwcmVmaXgpICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhwcmVmaXgpICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCk7XG4gICAgfSxcbn07XG5jb25zdCBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBwdXNoID0gQXJyYXkucHJvdG90eXBlLnB1c2g7XG5jb25zdCBwdXNoX3RvX2FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVfb3JfYXJyYXkpIHtcbiAgICBwdXNoLmFwcGx5KGFyciwgaXNfYXJyYXkodmFsdWVfb3JfYXJyYXkpID8gdmFsdWVfb3JfYXJyYXkgOiBbdmFsdWVfb3JfYXJyYXldKTtcbn07XG5jb25zdCB0b19JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93RW1wdHlBcnJheXM6IGZhbHNlLFxuICAgIGFycmF5Rm9ybWF0OiAnaW5kaWNlcycsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGVuY29kZTogdHJ1ZSxcbiAgICBlbmNvZGVEb3RJbktleXM6IGZhbHNlLFxuICAgIGVuY29kZXI6IGVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRfZm9ybWF0LFxuICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyc1tkZWZhdWx0X2Zvcm1hdF0sXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgaW5kaWNlczogZmFsc2UsXG4gICAgc2VyaWFsaXplRGF0ZShkYXRlKSB7XG4gICAgICAgIHJldHVybiB0b19JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZSxcbn07XG5mdW5jdGlvbiBpc19ub25fbnVsbGlzaF9wcmltaXRpdmUodikge1xuICAgIHJldHVybiAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnc3ltYm9sJyB8fFxuICAgICAgICB0eXBlb2YgdiA9PT0gJ2JpZ2ludCcpO1xufVxuY29uc3Qgc2VudGluZWwgPSB7fTtcbmZ1bmN0aW9uIGlubmVyX3N0cmluZ2lmeShvYmplY3QsIHByZWZpeCwgZ2VuZXJhdGVBcnJheVByZWZpeCwgY29tbWFSb3VuZFRyaXAsIGFsbG93RW1wdHlBcnJheXMsIHN0cmljdE51bGxIYW5kbGluZywgc2tpcE51bGxzLCBlbmNvZGVEb3RJbktleXMsIGVuY29kZXIsIGZpbHRlciwgc29ydCwgYWxsb3dEb3RzLCBzZXJpYWxpemVEYXRlLCBmb3JtYXQsIGZvcm1hdHRlciwgZW5jb2RlVmFsdWVzT25seSwgY2hhcnNldCwgc2lkZUNoYW5uZWwpIHtcbiAgICBsZXQgb2JqID0gb2JqZWN0O1xuICAgIGxldCB0bXBfc2MgPSBzaWRlQ2hhbm5lbDtcbiAgICBsZXQgc3RlcCA9IDA7XG4gICAgbGV0IGZpbmRfZmxhZyA9IGZhbHNlO1xuICAgIHdoaWxlICgodG1wX3NjID0gdG1wX3NjLmdldChzZW50aW5lbCkpICE9PSB2b2lkIHVuZGVmaW5lZCAmJiAhZmluZF9mbGFnKSB7XG4gICAgICAgIC8vIFdoZXJlIG9iamVjdCBsYXN0IGFwcGVhcmVkIGluIHRoZSByZWYgdHJlZVxuICAgICAgICBjb25zdCBwb3MgPSB0bXBfc2MuZ2V0KG9iamVjdCk7XG4gICAgICAgIHN0ZXAgKz0gMTtcbiAgICAgICAgaWYgKHR5cGVvZiBwb3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAocG9zID09PSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0N5Y2xpYyBvYmplY3QgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmRfZmxhZyA9IHRydWU7IC8vIEJyZWFrIHdoaWxlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0bXBfc2MuZ2V0KHNlbnRpbmVsKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHN0ZXAgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZT8uKG9iaik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNfYXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSBtYXliZV9tYXAob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRGF0ZT8uKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgP1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdClcbiAgICAgICAgICAgICAgICA6IHByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG4gICAgaWYgKGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZShvYmopIHx8IGlzX2J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlfdmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI/LihrZXlfdmFsdWUpICtcbiAgICAgICAgICAgICAgICAgICAgJz0nICtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI/LihlbmNvZGVyKG9iaiwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJywgZm9ybWF0KSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyPy4ocHJlZml4KSArICc9JyArIGZvcm1hdHRlcj8uKFN0cmluZyhvYmopKV07XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICBsZXQgb2JqX2tleXM7XG4gICAgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNfYXJyYXkob2JqKSkge1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGpvaW4gZWxlbWVudHMgaW5cbiAgICAgICAgaWYgKGVuY29kZVZhbHVlc09ubHkgJiYgZW5jb2Rlcikge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB2YWx1ZXMgb25seVxuICAgICAgICAgICAgb2JqID0gbWF5YmVfbWFwKG9iaiwgZW5jb2Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgb2JqX2tleXMgPSBbeyB2YWx1ZTogb2JqLmxlbmd0aCA+IDAgPyBvYmouam9pbignLCcpIHx8IG51bGwgOiB2b2lkIHVuZGVmaW5lZCB9XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNfYXJyYXkoZmlsdGVyKSkge1xuICAgICAgICBvYmpfa2V5cyA9IGZpbHRlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpfa2V5cyA9IHNvcnQgPyBrZXlzLnNvcnQoc29ydCkgOiBrZXlzO1xuICAgIH1cbiAgICBjb25zdCBlbmNvZGVkX3ByZWZpeCA9IGVuY29kZURvdEluS2V5cyA/IFN0cmluZyhwcmVmaXgpLnJlcGxhY2UoL1xcLi9nLCAnJTJFJykgOiBTdHJpbmcocHJlZml4KTtcbiAgICBjb25zdCBhZGp1c3RlZF9wcmVmaXggPSBjb21tYVJvdW5kVHJpcCAmJiBpc19hcnJheShvYmopICYmIG9iai5sZW5ndGggPT09IDEgPyBlbmNvZGVkX3ByZWZpeCArICdbXScgOiBlbmNvZGVkX3ByZWZpeDtcbiAgICBpZiAoYWxsb3dFbXB0eUFycmF5cyAmJiBpc19hcnJheShvYmopICYmIG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGFkanVzdGVkX3ByZWZpeCArICdbXSc7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqX2tleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgY29uc3Qga2V5ID0gb2JqX2tleXNbal07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGtleS52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyBrZXkudmFsdWUgOiBvYmpba2V5XTtcbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBlbmNvZGVkX2tleSA9IGFsbG93RG90cyAmJiBlbmNvZGVEb3RJbktleXMgPyBrZXkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IGtleTtcbiAgICAgICAgY29uc3Qga2V5X3ByZWZpeCA9IGlzX2FycmF5KG9iaikgP1xuICAgICAgICAgICAgdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgoYWRqdXN0ZWRfcHJlZml4LCBlbmNvZGVkX2tleSlcbiAgICAgICAgICAgICAgICA6IGFkanVzdGVkX3ByZWZpeFxuICAgICAgICAgICAgOiBhZGp1c3RlZF9wcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsgZW5jb2RlZF9rZXkgOiAnWycgKyBlbmNvZGVkX2tleSArICddJyk7XG4gICAgICAgIHNpZGVDaGFubmVsLnNldChvYmplY3QsIHN0ZXApO1xuICAgICAgICBjb25zdCB2YWx1ZVNpZGVDaGFubmVsID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbC5zZXQoc2VudGluZWwsIHNpZGVDaGFubmVsKTtcbiAgICAgICAgcHVzaF90b19hcnJheSh2YWx1ZXMsIGlubmVyX3N0cmluZ2lmeSh2YWx1ZSwga2V5X3ByZWZpeCwgZ2VuZXJhdGVBcnJheVByZWZpeCwgY29tbWFSb3VuZFRyaXAsIGFsbG93RW1wdHlBcnJheXMsIHN0cmljdE51bGxIYW5kbGluZywgc2tpcE51bGxzLCBlbmNvZGVEb3RJbktleXMsIFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgZW5jb2RlVmFsdWVzT25seSAmJiBpc19hcnJheShvYmopID8gbnVsbCA6IGVuY29kZXIsIGZpbHRlciwgc29ydCwgYWxsb3dEb3RzLCBzZXJpYWxpemVEYXRlLCBmb3JtYXQsIGZvcm1hdHRlciwgZW5jb2RlVmFsdWVzT25seSwgY2hhcnNldCwgdmFsdWVTaWRlQ2hhbm5lbCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3N0cmluZ2lmeV9vcHRpb25zKG9wdHMgPSBkZWZhdWx0cykge1xuICAgIGlmICh0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGFsbG93RW1wdHlBcnJheXNgIG9wdGlvbiBjYW4gb25seSBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hlbiBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuZW5jb2RlRG90SW5LZXlzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgZW5jb2RlRG90SW5LZXlzYCBvcHRpb24gY2FuIG9ubHkgYmUgYHRydWVgIG9yIGBmYWxzZWAsIHdoZW4gcHJvdmlkZWQnKTtcbiAgICB9XG4gICAgaWYgKG9wdHMuZW5jb2RlciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJzZXQgPSBvcHRzLmNoYXJzZXQgfHwgZGVmYXVsdHMuY2hhcnNldDtcbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGxldCBmb3JtYXQgPSBkZWZhdWx0X2Zvcm1hdDtcbiAgICBpZiAodHlwZW9mIG9wdHMuZm9ybWF0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIWhhcy5jYWxsKGZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBmb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgbGV0IGZpbHRlciA9IGRlZmF1bHRzLmZpbHRlcjtcbiAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nIHx8IGlzX2FycmF5KG9wdHMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG4gICAgbGV0IGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRzLmFycmF5Rm9ybWF0ICYmIG9wdHMuYXJyYXlGb3JtYXQgaW4gYXJyYXlfcHJlZml4X2dlbmVyYXRvcnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmFycmF5Rm9ybWF0O1xuICAgIH1cbiAgICBlbHNlIGlmICgnaW5kaWNlcycgaW4gb3B0cykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBkZWZhdWx0cy5hcnJheUZvcm1hdDtcbiAgICB9XG4gICAgaWYgKCdjb21tYVJvdW5kVHJpcCcgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5jb21tYVJvdW5kVHJpcCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Bjb21tYVJvdW5kVHJpcGAgbXVzdCBiZSBhIGJvb2xlYW4sIG9yIGFic2VudCcpO1xuICAgIH1cbiAgICBjb25zdCBhbGxvd0RvdHMgPSB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgISFvcHRzLmVuY29kZURvdEluS2V5cyA9PT0gdHJ1ZSA/XG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICA6IGRlZmF1bHRzLmFsbG93RG90c1xuICAgICAgICA6ICEhb3B0cy5hbGxvd0RvdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYWxsb3dEb3RzOiBhbGxvd0RvdHMsXG4gICAgICAgIGFsbG93RW1wdHlBcnJheXM6IHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgPT09ICdib29sZWFuJyA/ICEhb3B0cy5hbGxvd0VtcHR5QXJyYXlzIDogZGVmYXVsdHMuYWxsb3dFbXB0eUFycmF5cyxcbiAgICAgICAgYXJyYXlGb3JtYXQ6IGFycmF5Rm9ybWF0LFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGNvbW1hUm91bmRUcmlwOiAhIW9wdHMuY29tbWFSb3VuZFRyaXAsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdHMuZGVsaW1pdGVyLFxuICAgICAgICBlbmNvZGU6IHR5cGVvZiBvcHRzLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGUsXG4gICAgICAgIGVuY29kZURvdEluS2V5czogdHlwZW9mIG9wdHMuZW5jb2RlRG90SW5LZXlzID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZURvdEluS2V5cyA6IGRlZmF1bHRzLmVuY29kZURvdEluS2V5cyxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc29ydDogdHlwZW9mIG9wdHMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc29ydCA6IG51bGwsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeShvYmplY3QsIG9wdHMgPSB7fSkge1xuICAgIGxldCBvYmogPSBvYmplY3Q7XG4gICAgY29uc3Qgb3B0aW9ucyA9IG5vcm1hbGl6ZV9zdHJpbmdpZnlfb3B0aW9ucyhvcHRzKTtcbiAgICBsZXQgb2JqX2tleXM7XG4gICAgbGV0IGZpbHRlcjtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzX2FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqX2tleXMgPSBmaWx0ZXI7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzW29wdGlvbnMuYXJyYXlGb3JtYXRdO1xuICAgIGNvbnN0IGNvbW1hUm91bmRUcmlwID0gZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBvcHRpb25zLmNvbW1hUm91bmRUcmlwO1xuICAgIGlmICghb2JqX2tleXMpIHtcbiAgICAgICAgb2JqX2tleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9ial9rZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcbiAgICB9XG4gICAgY29uc3Qgc2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqX2tleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gb2JqX2tleXNbaV07XG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaF90b19hcnJheShrZXlzLCBpbm5lcl9zdHJpbmdpZnkob2JqW2tleV0sIGtleSwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCwgY29tbWFSb3VuZFRyaXAsIG9wdGlvbnMuYWxsb3dFbXB0eUFycmF5cywgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsIG9wdGlvbnMuc2tpcE51bGxzLCBvcHRpb25zLmVuY29kZURvdEluS2V5cywgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLCBvcHRpb25zLmZpbHRlciwgb3B0aW9ucy5zb3J0LCBvcHRpb25zLmFsbG93RG90cywgb3B0aW9ucy5zZXJpYWxpemVEYXRlLCBvcHRpb25zLmZvcm1hdCwgb3B0aW9ucy5mb3JtYXR0ZXIsIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSwgb3B0aW9ucy5jaGFyc2V0LCBzaWRlQ2hhbm5lbCkpO1xuICAgIH1cbiAgICBjb25zdCBqb2luZWQgPSBrZXlzLmpvaW4ob3B0aW9ucy5kZWxpbWl0ZXIpO1xuICAgIGxldCBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ2lmeS5tanMubWFwIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC45Ni4wJzsgLy8geC1yZWxlYXNlLXBsZWFzZS12ZXJzaW9uXG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLm1qcy5tYXAiLCJleHBvcnQgbGV0IGF1dG8gPSBmYWxzZTtcbmV4cG9ydCBsZXQga2luZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmV0Y2ggPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlcXVlc3QgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBIZWFkZXJzID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGb3JtRGF0YSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgQmxvYiA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgRmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVhZGFibGVTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBnZXREZWZhdWx0QWdlbnQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGZpbGVGcm9tUGF0aCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgaXNGc1JlYWRTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gc2V0U2hpbXMoc2hpbXMsIG9wdGlvbnMgPSB7IGF1dG86IGZhbHNlIH0pIHtcbiAgICBpZiAoYXV0bykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHlvdSBtdXN0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGJlZm9yZSBpbXBvcnRpbmcgYW55dGhpbmcgZWxzZSBmcm9tIG9wZW5haWApO1xuICAgIH1cbiAgICBpZiAoa2luZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbid0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGFmdGVyIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7a2luZH0nXFxgYCk7XG4gICAgfVxuICAgIGF1dG8gPSBvcHRpb25zLmF1dG87XG4gICAga2luZCA9IHNoaW1zLmtpbmQ7XG4gICAgZmV0Y2ggPSBzaGltcy5mZXRjaDtcbiAgICBSZXF1ZXN0ID0gc2hpbXMuUmVxdWVzdDtcbiAgICBSZXNwb25zZSA9IHNoaW1zLlJlc3BvbnNlO1xuICAgIEhlYWRlcnMgPSBzaGltcy5IZWFkZXJzO1xuICAgIEZvcm1EYXRhID0gc2hpbXMuRm9ybURhdGE7XG4gICAgQmxvYiA9IHNoaW1zLkJsb2I7XG4gICAgRmlsZSA9IHNoaW1zLkZpbGU7XG4gICAgUmVhZGFibGVTdHJlYW0gPSBzaGltcy5SZWFkYWJsZVN0cmVhbTtcbiAgICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyA9IHNoaW1zLmdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zO1xuICAgIGdldERlZmF1bHRBZ2VudCA9IHNoaW1zLmdldERlZmF1bHRBZ2VudDtcbiAgICBmaWxlRnJvbVBhdGggPSBzaGltcy5maWxlRnJvbVBhdGg7XG4gICAgaXNGc1JlYWRTdHJlYW0gPSBzaGltcy5pc0ZzUmVhZFN0cmVhbTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJ5Lm1qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNvbnZlcnNpb25zID0ge307XG5tb2R1bGUuZXhwb3J0cyA9IGNvbnZlcnNpb25zO1xuXG5mdW5jdGlvbiBzaWduKHgpIHtcbiAgICByZXR1cm4geCA8IDAgPyAtMSA6IDE7XG59XG5cbmZ1bmN0aW9uIGV2ZW5Sb3VuZCh4KSB7XG4gICAgLy8gUm91bmQgeCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyLCBjaG9vc2luZyB0aGUgZXZlbiBpbnRlZ2VyIGlmIGl0IGxpZXMgaGFsZndheSBiZXR3ZWVuIHR3by5cbiAgICBpZiAoKHggJSAxKSA9PT0gMC41ICYmICh4ICYgMSkgPT09IDApIHsgLy8gW2V2ZW4gbnVtYmVyXS41OyByb3VuZCBkb3duIChpLmUuIGZsb29yKVxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh4KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU51bWJlckNvbnZlcnNpb24oYml0TGVuZ3RoLCB0eXBlT3B0cykge1xuICAgIGlmICghdHlwZU9wdHMudW5zaWduZWQpIHtcbiAgICAgICAgLS1iaXRMZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IGxvd2VyQm91bmQgPSB0eXBlT3B0cy51bnNpZ25lZCA/IDAgOiAtTWF0aC5wb3coMiwgYml0TGVuZ3RoKTtcbiAgICBjb25zdCB1cHBlckJvdW5kID0gTWF0aC5wb3coMiwgYml0TGVuZ3RoKSAtIDE7XG5cbiAgICBjb25zdCBtb2R1bG9WYWwgPSB0eXBlT3B0cy5tb2R1bG9CaXRMZW5ndGggPyBNYXRoLnBvdygyLCB0eXBlT3B0cy5tb2R1bG9CaXRMZW5ndGgpIDogTWF0aC5wb3coMiwgYml0TGVuZ3RoKTtcbiAgICBjb25zdCBtb2R1bG9Cb3VuZCA9IHR5cGVPcHRzLm1vZHVsb0JpdExlbmd0aCA/IE1hdGgucG93KDIsIHR5cGVPcHRzLm1vZHVsb0JpdExlbmd0aCAtIDEpIDogTWF0aC5wb3coMiwgYml0TGVuZ3RoIC0gMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oViwgb3B0cykge1xuICAgICAgICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcblxuICAgICAgICBsZXQgeCA9ICtWO1xuXG4gICAgICAgIGlmIChvcHRzLmVuZm9yY2VSYW5nZSkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgaXMgbm90IGEgZmluaXRlIG51bWJlclwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeCA9IHNpZ24oeCkgKiBNYXRoLmZsb29yKE1hdGguYWJzKHgpKTtcbiAgICAgICAgICAgIGlmICh4IDwgbG93ZXJCb3VuZCB8fCB4ID4gdXBwZXJCb3VuZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBpcyBub3QgaW4gYnl0ZSByYW5nZVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzTmFOKHgpICYmIG9wdHMuY2xhbXApIHtcbiAgICAgICAgICAgIHggPSBldmVuUm91bmQoeCk7XG5cbiAgICAgICAgICAgIGlmICh4IDwgbG93ZXJCb3VuZCkgeCA9IGxvd2VyQm91bmQ7XG4gICAgICAgICAgICBpZiAoeCA+IHVwcGVyQm91bmQpIHggPSB1cHBlckJvdW5kO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh4KSB8fCB4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHggPSBzaWduKHgpICogTWF0aC5mbG9vcihNYXRoLmFicyh4KSk7XG4gICAgICAgIHggPSB4ICUgbW9kdWxvVmFsO1xuXG4gICAgICAgIGlmICghdHlwZU9wdHMudW5zaWduZWQgJiYgeCA+PSBtb2R1bG9Cb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHggLSBtb2R1bG9WYWw7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZU9wdHMudW5zaWduZWQpIHtcbiAgICAgICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgICB4ICs9IG1vZHVsb1ZhbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA9PT0gLTApIHsgLy8gZG9uJ3QgcmV0dXJuIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG59XG5cbmNvbnZlcnNpb25zW1widm9pZFwiXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuY29udmVyc2lvbnNbXCJib29sZWFuXCJdID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiAhIXZhbDtcbn07XG5cbmNvbnZlcnNpb25zW1wiYnl0ZVwiXSA9IGNyZWF0ZU51bWJlckNvbnZlcnNpb24oOCwgeyB1bnNpZ25lZDogZmFsc2UgfSk7XG5jb252ZXJzaW9uc1tcIm9jdGV0XCJdID0gY3JlYXRlTnVtYmVyQ29udmVyc2lvbig4LCB7IHVuc2lnbmVkOiB0cnVlIH0pO1xuXG5jb252ZXJzaW9uc1tcInNob3J0XCJdID0gY3JlYXRlTnVtYmVyQ29udmVyc2lvbigxNiwgeyB1bnNpZ25lZDogZmFsc2UgfSk7XG5jb252ZXJzaW9uc1tcInVuc2lnbmVkIHNob3J0XCJdID0gY3JlYXRlTnVtYmVyQ29udmVyc2lvbigxNiwgeyB1bnNpZ25lZDogdHJ1ZSB9KTtcblxuY29udmVyc2lvbnNbXCJsb25nXCJdID0gY3JlYXRlTnVtYmVyQ29udmVyc2lvbigzMiwgeyB1bnNpZ25lZDogZmFsc2UgfSk7XG5jb252ZXJzaW9uc1tcInVuc2lnbmVkIGxvbmdcIl0gPSBjcmVhdGVOdW1iZXJDb252ZXJzaW9uKDMyLCB7IHVuc2lnbmVkOiB0cnVlIH0pO1xuXG5jb252ZXJzaW9uc1tcImxvbmcgbG9uZ1wiXSA9IGNyZWF0ZU51bWJlckNvbnZlcnNpb24oMzIsIHsgdW5zaWduZWQ6IGZhbHNlLCBtb2R1bG9CaXRMZW5ndGg6IDY0IH0pO1xuY29udmVyc2lvbnNbXCJ1bnNpZ25lZCBsb25nIGxvbmdcIl0gPSBjcmVhdGVOdW1iZXJDb252ZXJzaW9uKDMyLCB7IHVuc2lnbmVkOiB0cnVlLCBtb2R1bG9CaXRMZW5ndGg6IDY0IH0pO1xuXG5jb252ZXJzaW9uc1tcImRvdWJsZVwiXSA9IGZ1bmN0aW9uIChWKSB7XG4gICAgY29uc3QgeCA9ICtWO1xuXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IGlzIG5vdCBhIGZpbml0ZSBmbG9hdGluZy1wb2ludCB2YWx1ZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4geDtcbn07XG5cbmNvbnZlcnNpb25zW1widW5yZXN0cmljdGVkIGRvdWJsZVwiXSA9IGZ1bmN0aW9uIChWKSB7XG4gICAgY29uc3QgeCA9ICtWO1xuXG4gICAgaWYgKGlzTmFOKHgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBpcyBOYU5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHg7XG59O1xuXG4vLyBub3QgcXVpdGUgdmFsaWQsIGJ1dCBnb29kIGVub3VnaCBmb3IgSlNcbmNvbnZlcnNpb25zW1wiZmxvYXRcIl0gPSBjb252ZXJzaW9uc1tcImRvdWJsZVwiXTtcbmNvbnZlcnNpb25zW1widW5yZXN0cmljdGVkIGZsb2F0XCJdID0gY29udmVyc2lvbnNbXCJ1bnJlc3RyaWN0ZWQgZG91YmxlXCJdO1xuXG5jb252ZXJzaW9uc1tcIkRPTVN0cmluZ1wiXSA9IGZ1bmN0aW9uIChWLCBvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSBvcHRzID0ge307XG5cbiAgICBpZiAob3B0cy50cmVhdE51bGxBc0VtcHR5U3RyaW5nICYmIFYgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZyhWKTtcbn07XG5cbmNvbnZlcnNpb25zW1wiQnl0ZVN0cmluZ1wiXSA9IGZ1bmN0aW9uIChWLCBvcHRzKSB7XG4gICAgY29uc3QgeCA9IFN0cmluZyhWKTtcbiAgICBsZXQgYyA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKGxldCBpID0gMDsgKGMgPSB4LmNvZGVQb2ludEF0KGkpKSAhPT0gdW5kZWZpbmVkOyArK2kpIHtcbiAgICAgICAgaWYgKGMgPiAyNTUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBpcyBub3QgYSB2YWxpZCBieXRlc3RyaW5nXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHg7XG59O1xuXG5jb252ZXJzaW9uc1tcIlVTVlN0cmluZ1wiXSA9IGZ1bmN0aW9uIChWKSB7XG4gICAgY29uc3QgUyA9IFN0cmluZyhWKTtcbiAgICBjb25zdCBuID0gUy5sZW5ndGg7XG4gICAgY29uc3QgVSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGNvbnN0IGMgPSBTLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPiAweERGRkYpIHtcbiAgICAgICAgICAgIFUucHVzaChTdHJpbmcuZnJvbUNvZGVQb2ludChjKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoMHhEQzAwIDw9IGMgJiYgYyA8PSAweERGRkYpIHtcbiAgICAgICAgICAgIFUucHVzaChTdHJpbmcuZnJvbUNvZGVQb2ludCgweEZGRkQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpID09PSBuIC0gMSkge1xuICAgICAgICAgICAgICAgIFUucHVzaChTdHJpbmcuZnJvbUNvZGVQb2ludCgweEZGRkQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IFMuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKDB4REMwMCA8PSBkICYmIGQgPD0gMHhERkZGKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBjICYgMHgzRkY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBkICYgMHgzRkY7XG4gICAgICAgICAgICAgICAgICAgIFUucHVzaChTdHJpbmcuZnJvbUNvZGVQb2ludCgoMiA8PCAxNSkgKyAoMiA8PCA5KSAqIGEgKyBiKSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVLnB1c2goU3RyaW5nLmZyb21Db2RlUG9pbnQoMHhGRkZEKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFUuam9pbignJyk7XG59O1xuXG5jb252ZXJzaW9uc1tcIkRhdGVcIl0gPSBmdW5jdGlvbiAoViwgb3B0cykge1xuICAgIGlmICghKFYgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgaXMgbm90IGEgRGF0ZSBvYmplY3RcIik7XG4gICAgfVxuICAgIGlmIChpc05hTihWKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBWO1xufTtcblxuY29udmVyc2lvbnNbXCJSZWdFeHBcIl0gPSBmdW5jdGlvbiAoViwgb3B0cykge1xuICAgIGlmICghKFYgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgIFYgPSBuZXcgUmVnRXhwKFYpO1xuICAgIH1cblxuICAgIHJldHVybiBWO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cy5taXhpbiA9IGZ1bmN0aW9uIG1peGluKHRhcmdldCwgc291cmNlKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2UpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXlzW2ldLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5c1tpXSkpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy53cmFwcGVyU3ltYm9sID0gU3ltYm9sKFwid3JhcHBlclwiKTtcbm1vZHVsZS5leHBvcnRzLmltcGxTeW1ib2wgPSBTeW1ib2woXCJpbXBsXCIpO1xuXG5tb2R1bGUuZXhwb3J0cy53cmFwcGVyRm9ySW1wbCA9IGZ1bmN0aW9uIChpbXBsKSB7XG4gIHJldHVybiBpbXBsW21vZHVsZS5leHBvcnRzLndyYXBwZXJTeW1ib2xdO1xufTtcblxubW9kdWxlLmV4cG9ydHMuaW1wbEZvcldyYXBwZXIgPSBmdW5jdGlvbiAod3JhcHBlcikge1xuICByZXR1cm4gd3JhcHBlclttb2R1bGUuZXhwb3J0cy5pbXBsU3ltYm9sXTtcbn07XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKFwicHVueWNvZGVcIik7XG52YXIgbWFwcGluZ1RhYmxlID0gcmVxdWlyZShcIi4vbGliL21hcHBpbmdUYWJsZS5qc29uXCIpO1xuXG52YXIgUFJPQ0VTU0lOR19PUFRJT05TID0ge1xuICBUUkFOU0lUSU9OQUw6IDAsXG4gIE5PTlRSQU5TSVRJT05BTDogMVxufTtcblxuZnVuY3Rpb24gbm9ybWFsaXplKHN0cikgeyAvLyBmaXggYnVnIGluIHY4XG4gIHJldHVybiBzdHIuc3BsaXQoJ1xcdTAwMDAnKS5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMubm9ybWFsaXplKCdORkMnKTsgfSkuam9pbignXFx1MDAwMCcpO1xufVxuXG5mdW5jdGlvbiBmaW5kU3RhdHVzKHZhbCkge1xuICB2YXIgc3RhcnQgPSAwO1xuICB2YXIgZW5kID0gbWFwcGluZ1RhYmxlLmxlbmd0aCAtIDE7XG5cbiAgd2hpbGUgKHN0YXJ0IDw9IGVuZCkge1xuICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChzdGFydCArIGVuZCkgLyAyKTtcblxuICAgIHZhciB0YXJnZXQgPSBtYXBwaW5nVGFibGVbbWlkXTtcbiAgICBpZiAodGFyZ2V0WzBdWzBdIDw9IHZhbCAmJiB0YXJnZXRbMF1bMV0gPj0gdmFsKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0WzBdWzBdID4gdmFsKSB7XG4gICAgICBlbmQgPSBtaWQgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IG1pZCArIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciByZWdleEFzdHJhbFN5bWJvbHMgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nO1xuXG5mdW5jdGlvbiBjb3VudFN5bWJvbHMoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICAvLyByZXBsYWNlIGV2ZXJ5IHN1cnJvZ2F0ZSBwYWlyIHdpdGggYSBCTVAgc3ltYm9sXG4gICAgLnJlcGxhY2UocmVnZXhBc3RyYWxTeW1ib2xzLCAnXycpXG4gICAgLy8gdGhlbiBnZXQgdGhlIGxlbmd0aFxuICAgIC5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIG1hcENoYXJzKGRvbWFpbl9uYW1lLCB1c2VTVEQzLCBwcm9jZXNzaW5nX29wdGlvbikge1xuICB2YXIgaGFzRXJyb3IgPSBmYWxzZTtcbiAgdmFyIHByb2Nlc3NlZCA9IFwiXCI7XG5cbiAgdmFyIGxlbiA9IGNvdW50U3ltYm9scyhkb21haW5fbmFtZSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgY29kZVBvaW50ID0gZG9tYWluX25hbWUuY29kZVBvaW50QXQoaSk7XG4gICAgdmFyIHN0YXR1cyA9IGZpbmRTdGF0dXMoY29kZVBvaW50KTtcblxuICAgIHN3aXRjaCAoc3RhdHVzWzFdKSB7XG4gICAgICBjYXNlIFwiZGlzYWxsb3dlZFwiOlxuICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgIHByb2Nlc3NlZCArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpZ25vcmVkXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1hcHBlZFwiOlxuICAgICAgICBwcm9jZXNzZWQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQuYXBwbHkoU3RyaW5nLCBzdGF0dXNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZXZpYXRpb25cIjpcbiAgICAgICAgaWYgKHByb2Nlc3Npbmdfb3B0aW9uID09PSBQUk9DRVNTSU5HX09QVElPTlMuVFJBTlNJVElPTkFMKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkICs9IFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgc3RhdHVzWzJdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzZWQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2YWxpZFwiOlxuICAgICAgICBwcm9jZXNzZWQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGlzYWxsb3dlZF9TVEQzX21hcHBlZFwiOlxuICAgICAgICBpZiAodXNlU1REMykge1xuICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICBwcm9jZXNzZWQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzZWQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQuYXBwbHkoU3RyaW5nLCBzdGF0dXNbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRpc2FsbG93ZWRfU1REM192YWxpZFwiOlxuICAgICAgICBpZiAodXNlU1REMykge1xuICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb2Nlc3NlZCArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0cmluZzogcHJvY2Vzc2VkLFxuICAgIGVycm9yOiBoYXNFcnJvclxuICB9O1xufVxuXG52YXIgY29tYmluaW5nTWFya3NSZWdleCA9IC9bXFx1MDMwMC1cXHUwMzZGXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNUJEXFx1MDVCRlxcdTA1QzFcXHUwNUMyXFx1MDVDNFxcdTA1QzVcXHUwNUM3XFx1MDYxMC1cXHUwNjFBXFx1MDY0Qi1cXHUwNjVGXFx1MDY3MFxcdTA2RDYtXFx1MDZEQ1xcdTA2REYtXFx1MDZFNFxcdTA2RTdcXHUwNkU4XFx1MDZFQS1cXHUwNkVEXFx1MDcxMVxcdTA3MzAtXFx1MDc0QVxcdTA3QTYtXFx1MDdCMFxcdTA3RUItXFx1MDdGM1xcdTA4MTYtXFx1MDgxOVxcdTA4MUItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyRFxcdTA4NTktXFx1MDg1QlxcdTA4RTQtXFx1MDkwM1xcdTA5M0EtXFx1MDkzQ1xcdTA5M0UtXFx1MDk0RlxcdTA5NTEtXFx1MDk1N1xcdTA5NjJcXHUwOTYzXFx1MDk4MS1cXHUwOTgzXFx1MDlCQ1xcdTA5QkUtXFx1MDlDNFxcdTA5QzdcXHUwOUM4XFx1MDlDQi1cXHUwOUNEXFx1MDlEN1xcdTA5RTJcXHUwOUUzXFx1MEEwMS1cXHUwQTAzXFx1MEEzQ1xcdTBBM0UtXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNzBcXHUwQTcxXFx1MEE3NVxcdTBBODEtXFx1MEE4M1xcdTBBQkNcXHUwQUJFLVxcdTBBQzVcXHUwQUM3LVxcdTBBQzlcXHUwQUNCLVxcdTBBQ0RcXHUwQUUyXFx1MEFFM1xcdTBCMDEtXFx1MEIwM1xcdTBCM0NcXHUwQjNFLVxcdTBCNDRcXHUwQjQ3XFx1MEI0OFxcdTBCNEItXFx1MEI0RFxcdTBCNTZcXHUwQjU3XFx1MEI2MlxcdTBCNjNcXHUwQjgyXFx1MEJCRS1cXHUwQkMyXFx1MEJDNi1cXHUwQkM4XFx1MEJDQS1cXHUwQkNEXFx1MEJEN1xcdTBDMDAtXFx1MEMwM1xcdTBDM0UtXFx1MEM0NFxcdTBDNDYtXFx1MEM0OFxcdTBDNEEtXFx1MEM0RFxcdTBDNTVcXHUwQzU2XFx1MEM2MlxcdTBDNjNcXHUwQzgxLVxcdTBDODNcXHUwQ0JDXFx1MENCRS1cXHUwQ0M0XFx1MENDNi1cXHUwQ0M4XFx1MENDQS1cXHUwQ0NEXFx1MENENVxcdTBDRDZcXHUwQ0UyXFx1MENFM1xcdTBEMDEtXFx1MEQwM1xcdTBEM0UtXFx1MEQ0NFxcdTBENDYtXFx1MEQ0OFxcdTBENEEtXFx1MEQ0RFxcdTBENTdcXHUwRDYyXFx1MEQ2M1xcdTBEODJcXHUwRDgzXFx1MERDQVxcdTBEQ0YtXFx1MERENFxcdTBERDZcXHUwREQ4LVxcdTBEREZcXHUwREYyXFx1MERGM1xcdTBFMzFcXHUwRTM0LVxcdTBFM0FcXHUwRTQ3LVxcdTBFNEVcXHUwRUIxXFx1MEVCNC1cXHUwRUI5XFx1MEVCQlxcdTBFQkNcXHUwRUM4LVxcdTBFQ0RcXHUwRjE4XFx1MEYxOVxcdTBGMzVcXHUwRjM3XFx1MEYzOVxcdTBGM0VcXHUwRjNGXFx1MEY3MS1cXHUwRjg0XFx1MEY4NlxcdTBGODdcXHUwRjhELVxcdTBGOTdcXHUwRjk5LVxcdTBGQkNcXHUwRkM2XFx1MTAyQi1cXHUxMDNFXFx1MTA1Ni1cXHUxMDU5XFx1MTA1RS1cXHUxMDYwXFx1MTA2Mi1cXHUxMDY0XFx1MTA2Ny1cXHUxMDZEXFx1MTA3MS1cXHUxMDc0XFx1MTA4Mi1cXHUxMDhEXFx1MTA4RlxcdTEwOUEtXFx1MTA5RFxcdTEzNUQtXFx1MTM1RlxcdTE3MTItXFx1MTcxNFxcdTE3MzItXFx1MTczNFxcdTE3NTJcXHUxNzUzXFx1MTc3MlxcdTE3NzNcXHUxN0I0LVxcdTE3RDNcXHUxN0REXFx1MTgwQi1cXHUxODBEXFx1MThBOVxcdTE5MjAtXFx1MTkyQlxcdTE5MzAtXFx1MTkzQlxcdTE5QjAtXFx1MTlDMFxcdTE5QzhcXHUxOUM5XFx1MUExNy1cXHUxQTFCXFx1MUE1NS1cXHUxQTVFXFx1MUE2MC1cXHUxQTdDXFx1MUE3RlxcdTFBQjAtXFx1MUFCRVxcdTFCMDAtXFx1MUIwNFxcdTFCMzQtXFx1MUI0NFxcdTFCNkItXFx1MUI3M1xcdTFCODAtXFx1MUI4MlxcdTFCQTEtXFx1MUJBRFxcdTFCRTYtXFx1MUJGM1xcdTFDMjQtXFx1MUMzN1xcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNFOFxcdTFDRURcXHUxQ0YyLVxcdTFDRjRcXHUxQ0Y4XFx1MUNGOVxcdTFEQzAtXFx1MURGNVxcdTFERkMtXFx1MURGRlxcdTIwRDAtXFx1MjBGMFxcdTJDRUYtXFx1MkNGMVxcdTJEN0ZcXHUyREUwLVxcdTJERkZcXHUzMDJBLVxcdTMwMkZcXHUzMDk5XFx1MzA5QVxcdUE2NkYtXFx1QTY3MlxcdUE2NzQtXFx1QTY3RFxcdUE2OUZcXHVBNkYwXFx1QTZGMVxcdUE4MDJcXHVBODA2XFx1QTgwQlxcdUE4MjMtXFx1QTgyN1xcdUE4ODBcXHVBODgxXFx1QThCNC1cXHVBOEM0XFx1QThFMC1cXHVBOEYxXFx1QTkyNi1cXHVBOTJEXFx1QTk0Ny1cXHVBOTUzXFx1QTk4MC1cXHVBOTgzXFx1QTlCMy1cXHVBOUMwXFx1QTlFNVxcdUFBMjktXFx1QUEzNlxcdUFBNDNcXHVBQTRDXFx1QUE0RFxcdUFBN0ItXFx1QUE3RFxcdUFBQjBcXHVBQUIyLVxcdUFBQjRcXHVBQUI3XFx1QUFCOFxcdUFBQkVcXHVBQUJGXFx1QUFDMVxcdUFBRUItXFx1QUFFRlxcdUFBRjVcXHVBQUY2XFx1QUJFMy1cXHVBQkVBXFx1QUJFQ1xcdUFCRURcXHVGQjFFXFx1RkUwMC1cXHVGRTBGXFx1RkUyMC1cXHVGRTJEXXxcXHVEODAwW1xcdURERkRcXHVERUUwXFx1REY3Ni1cXHVERjdBXXxcXHVEODAyW1xcdURFMDEtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTBGXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFRTVcXHVERUU2XXxcXHVEODA0W1xcdURDMDAtXFx1REMwMlxcdURDMzgtXFx1REM0NlxcdURDN0YtXFx1REM4MlxcdURDQjAtXFx1RENCQVxcdUREMDAtXFx1REQwMlxcdUREMjctXFx1REQzNFxcdURENzNcXHVERDgwLVxcdUREODJcXHVEREIzLVxcdUREQzBcXHVERTJDLVxcdURFMzdcXHVERURGLVxcdURFRUFcXHVERjAxLVxcdURGMDNcXHVERjNDXFx1REYzRS1cXHVERjQ0XFx1REY0N1xcdURGNDhcXHVERjRCLVxcdURGNERcXHVERjU3XFx1REY2MlxcdURGNjNcXHVERjY2LVxcdURGNkNcXHVERjcwLVxcdURGNzRdfFxcdUQ4MDVbXFx1RENCMC1cXHVEQ0MzXFx1RERBRi1cXHVEREI1XFx1RERCOC1cXHVEREMwXFx1REUzMC1cXHVERTQwXFx1REVBQi1cXHVERUI3XXxcXHVEODFBW1xcdURFRjAtXFx1REVGNFxcdURGMzAtXFx1REYzNl18XFx1RDgxQltcXHVERjUxLVxcdURGN0VcXHVERjhGLVxcdURGOTJdfFxcdUQ4MkZbXFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NS1cXHVERDY5XFx1REQ2RC1cXHVERDcyXFx1REQ3Qi1cXHVERDgyXFx1REQ4NS1cXHVERDhCXFx1RERBQS1cXHVEREFEXFx1REU0Mi1cXHVERTQ0XXxcXHVEODNBW1xcdURDRDAtXFx1RENENl18XFx1REI0MFtcXHVERDAwLVxcdURERUZdLztcblxuZnVuY3Rpb24gdmFsaWRhdGVMYWJlbChsYWJlbCwgcHJvY2Vzc2luZ19vcHRpb24pIHtcbiAgaWYgKGxhYmVsLnN1YnN0cigwLCA0KSA9PT0gXCJ4bi0tXCIpIHtcbiAgICBsYWJlbCA9IHB1bnljb2RlLnRvVW5pY29kZShsYWJlbCk7XG4gICAgcHJvY2Vzc2luZ19vcHRpb24gPSBQUk9DRVNTSU5HX09QVElPTlMuTk9OVFJBTlNJVElPTkFMO1xuICB9XG5cbiAgdmFyIGVycm9yID0gZmFsc2U7XG5cbiAgaWYgKG5vcm1hbGl6ZShsYWJlbCkgIT09IGxhYmVsIHx8XG4gICAgICAobGFiZWxbM10gPT09IFwiLVwiICYmIGxhYmVsWzRdID09PSBcIi1cIikgfHxcbiAgICAgIGxhYmVsWzBdID09PSBcIi1cIiB8fCBsYWJlbFtsYWJlbC5sZW5ndGggLSAxXSA9PT0gXCItXCIgfHxcbiAgICAgIGxhYmVsLmluZGV4T2YoXCIuXCIpICE9PSAtMSB8fFxuICAgICAgbGFiZWwuc2VhcmNoKGNvbWJpbmluZ01hcmtzUmVnZXgpID09PSAwKSB7XG4gICAgZXJyb3IgPSB0cnVlO1xuICB9XG5cbiAgdmFyIGxlbiA9IGNvdW50U3ltYm9scyhsYWJlbCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgc3RhdHVzID0gZmluZFN0YXR1cyhsYWJlbC5jb2RlUG9pbnRBdChpKSk7XG4gICAgaWYgKChwcm9jZXNzaW5nID09PSBQUk9DRVNTSU5HX09QVElPTlMuVFJBTlNJVElPTkFMICYmIHN0YXR1c1sxXSAhPT0gXCJ2YWxpZFwiKSB8fFxuICAgICAgICAocHJvY2Vzc2luZyA9PT0gUFJPQ0VTU0lOR19PUFRJT05TLk5PTlRSQU5TSVRJT05BTCAmJlxuICAgICAgICAgc3RhdHVzWzFdICE9PSBcInZhbGlkXCIgJiYgc3RhdHVzWzFdICE9PSBcImRldmlhdGlvblwiKSkge1xuICAgICAgZXJyb3IgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsYWJlbDogbGFiZWwsXG4gICAgZXJyb3I6IGVycm9yXG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NpbmcoZG9tYWluX25hbWUsIHVzZVNURDMsIHByb2Nlc3Npbmdfb3B0aW9uKSB7XG4gIHZhciByZXN1bHQgPSBtYXBDaGFycyhkb21haW5fbmFtZSwgdXNlU1REMywgcHJvY2Vzc2luZ19vcHRpb24pO1xuICByZXN1bHQuc3RyaW5nID0gbm9ybWFsaXplKHJlc3VsdC5zdHJpbmcpO1xuXG4gIHZhciBsYWJlbHMgPSByZXN1bHQuc3RyaW5nLnNwbGl0KFwiLlwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyArK2kpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHZhbGlkYXRpb24gPSB2YWxpZGF0ZUxhYmVsKGxhYmVsc1tpXSk7XG4gICAgICBsYWJlbHNbaV0gPSB2YWxpZGF0aW9uLmxhYmVsO1xuICAgICAgcmVzdWx0LmVycm9yID0gcmVzdWx0LmVycm9yIHx8IHZhbGlkYXRpb24uZXJyb3I7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZXN1bHQuZXJyb3IgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RyaW5nOiBsYWJlbHMuam9pbihcIi5cIiksXG4gICAgZXJyb3I6IHJlc3VsdC5lcnJvclxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cy50b0FTQ0lJID0gZnVuY3Rpb24oZG9tYWluX25hbWUsIHVzZVNURDMsIHByb2Nlc3Npbmdfb3B0aW9uLCB2ZXJpZnlEbnNMZW5ndGgpIHtcbiAgdmFyIHJlc3VsdCA9IHByb2Nlc3NpbmcoZG9tYWluX25hbWUsIHVzZVNURDMsIHByb2Nlc3Npbmdfb3B0aW9uKTtcbiAgdmFyIGxhYmVscyA9IHJlc3VsdC5zdHJpbmcuc3BsaXQoXCIuXCIpO1xuICBsYWJlbHMgPSBsYWJlbHMubWFwKGZ1bmN0aW9uKGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHB1bnljb2RlLnRvQVNDSUkobCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZXN1bHQuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICB9KTtcblxuICBpZiAodmVyaWZ5RG5zTGVuZ3RoKSB7XG4gICAgdmFyIHRvdGFsID0gbGFiZWxzLnNsaWNlKDAsIGxhYmVscy5sZW5ndGggLSAxKS5qb2luKFwiLlwiKS5sZW5ndGg7XG4gICAgaWYgKHRvdGFsLmxlbmd0aCA+IDI1MyB8fCB0b3RhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlc3VsdC5lcnJvciA9IHRydWU7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaT0wOyBpIDwgbGFiZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAobGFiZWxzLmxlbmd0aCA+IDYzIHx8IGxhYmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVzdWx0LmVycm9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlc3VsdC5lcnJvcikgcmV0dXJuIG51bGw7XG4gIHJldHVybiBsYWJlbHMuam9pbihcIi5cIik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy50b1VuaWNvZGUgPSBmdW5jdGlvbihkb21haW5fbmFtZSwgdXNlU1REMykge1xuICB2YXIgcmVzdWx0ID0gcHJvY2Vzc2luZyhkb21haW5fbmFtZSwgdXNlU1REMywgUFJPQ0VTU0lOR19PUFRJT05TLk5PTlRSQU5TSVRJT05BTCk7XG5cbiAgcmV0dXJuIHtcbiAgICBkb21haW46IHJlc3VsdC5zdHJpbmcsXG4gICAgZXJyb3I6IHJlc3VsdC5lcnJvclxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMuUFJPQ0VTU0lOR19PUFRJT05TID0gUFJPQ0VTU0lOR19PUFRJT05TO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHB1bnljb2RlID0gcmVxdWlyZShcInB1bnljb2RlXCIpO1xyXG5jb25zdCB0cjQ2ID0gcmVxdWlyZShcInRyNDZcIik7XHJcblxyXG5jb25zdCBzcGVjaWFsU2NoZW1lcyA9IHtcclxuICBmdHA6IDIxLFxyXG4gIGZpbGU6IG51bGwsXHJcbiAgZ29waGVyOiA3MCxcclxuICBodHRwOiA4MCxcclxuICBodHRwczogNDQzLFxyXG4gIHdzOiA4MCxcclxuICB3c3M6IDQ0M1xyXG59O1xyXG5cclxuY29uc3QgZmFpbHVyZSA9IFN5bWJvbChcImZhaWx1cmVcIik7XHJcblxyXG5mdW5jdGlvbiBjb3VudFN5bWJvbHMoc3RyKSB7XHJcbiAgcmV0dXJuIHB1bnljb2RlLnVjczIuZGVjb2RlKHN0cikubGVuZ3RoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhdChpbnB1dCwgaWR4KSB7XHJcbiAgY29uc3QgYyA9IGlucHV0W2lkeF07XHJcbiAgcmV0dXJuIGlzTmFOKGMpID8gdW5kZWZpbmVkIDogU3RyaW5nLmZyb21Db2RlUG9pbnQoYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQVNDSUlEaWdpdChjKSB7XHJcbiAgcmV0dXJuIGMgPj0gMHgzMCAmJiBjIDw9IDB4Mzk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQVNDSUlBbHBoYShjKSB7XHJcbiAgcmV0dXJuIChjID49IDB4NDEgJiYgYyA8PSAweDVBKSB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQVNDSUlBbHBoYW51bWVyaWMoYykge1xyXG4gIHJldHVybiBpc0FTQ0lJQWxwaGEoYykgfHwgaXNBU0NJSURpZ2l0KGMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FTQ0lJSGV4KGMpIHtcclxuICByZXR1cm4gaXNBU0NJSURpZ2l0KGMpIHx8IChjID49IDB4NDEgJiYgYyA8PSAweDQ2KSB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg2Nik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU2luZ2xlRG90KGJ1ZmZlcikge1xyXG4gIHJldHVybiBidWZmZXIgPT09IFwiLlwiIHx8IGJ1ZmZlci50b0xvd2VyQ2FzZSgpID09PSBcIiUyZVwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0RvdWJsZURvdChidWZmZXIpIHtcclxuICBidWZmZXIgPSBidWZmZXIudG9Mb3dlckNhc2UoKTtcclxuICByZXR1cm4gYnVmZmVyID09PSBcIi4uXCIgfHwgYnVmZmVyID09PSBcIiUyZS5cIiB8fCBidWZmZXIgPT09IFwiLiUyZVwiIHx8IGJ1ZmZlciA9PT0gXCIlMmUlMmVcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNXaW5kb3dzRHJpdmVMZXR0ZXJDb2RlUG9pbnRzKGNwMSwgY3AyKSB7XHJcbiAgcmV0dXJuIGlzQVNDSUlBbHBoYShjcDEpICYmIChjcDIgPT09IDU4IHx8IGNwMiA9PT0gMTI0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNXaW5kb3dzRHJpdmVMZXR0ZXJTdHJpbmcoc3RyaW5nKSB7XHJcbiAgcmV0dXJuIHN0cmluZy5sZW5ndGggPT09IDIgJiYgaXNBU0NJSUFscGhhKHN0cmluZy5jb2RlUG9pbnRBdCgwKSkgJiYgKHN0cmluZ1sxXSA9PT0gXCI6XCIgfHwgc3RyaW5nWzFdID09PSBcInxcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTm9ybWFsaXplZFdpbmRvd3NEcml2ZUxldHRlclN0cmluZyhzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLmxlbmd0aCA9PT0gMiAmJiBpc0FTQ0lJQWxwaGEoc3RyaW5nLmNvZGVQb2ludEF0KDApKSAmJiBzdHJpbmdbMV0gPT09IFwiOlwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb250YWluc0ZvcmJpZGRlbkhvc3RDb2RlUG9pbnQoc3RyaW5nKSB7XHJcbiAgcmV0dXJuIHN0cmluZy5zZWFyY2goL1xcdTAwMDB8XFx1MDAwOXxcXHUwMDBBfFxcdTAwMER8XFx1MDAyMHwjfCV8XFwvfDp8XFw/fEB8XFxbfFxcXFx8XFxdLykgIT09IC0xO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb250YWluc0ZvcmJpZGRlbkhvc3RDb2RlUG9pbnRFeGNsdWRpbmdQZXJjZW50KHN0cmluZykge1xyXG4gIHJldHVybiBzdHJpbmcuc2VhcmNoKC9cXHUwMDAwfFxcdTAwMDl8XFx1MDAwQXxcXHUwMDBEfFxcdTAwMjB8I3xcXC98OnxcXD98QHxcXFt8XFxcXHxcXF0vKSAhPT0gLTE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU3BlY2lhbFNjaGVtZShzY2hlbWUpIHtcclxuICByZXR1cm4gc3BlY2lhbFNjaGVtZXNbc2NoZW1lXSAhPT0gdW5kZWZpbmVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NwZWNpYWwodXJsKSB7XHJcbiAgcmV0dXJuIGlzU3BlY2lhbFNjaGVtZSh1cmwuc2NoZW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVmYXVsdFBvcnQoc2NoZW1lKSB7XHJcbiAgcmV0dXJuIHNwZWNpYWxTY2hlbWVzW3NjaGVtZV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBlcmNlbnRFbmNvZGUoYykge1xyXG4gIGxldCBoZXggPSBjLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xyXG4gIGlmIChoZXgubGVuZ3RoID09PSAxKSB7XHJcbiAgICBoZXggPSBcIjBcIiArIGhleDtcclxuICB9XHJcblxyXG4gIHJldHVybiBcIiVcIiArIGhleDtcclxufVxyXG5cclxuZnVuY3Rpb24gdXRmOFBlcmNlbnRFbmNvZGUoYykge1xyXG4gIGNvbnN0IGJ1ZiA9IG5ldyBCdWZmZXIoYyk7XHJcblxyXG4gIGxldCBzdHIgPSBcIlwiO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1Zi5sZW5ndGg7ICsraSkge1xyXG4gICAgc3RyICs9IHBlcmNlbnRFbmNvZGUoYnVmW2ldKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHV0ZjhQZXJjZW50RGVjb2RlKHN0cikge1xyXG4gIGNvbnN0IGlucHV0ID0gbmV3IEJ1ZmZlcihzdHIpO1xyXG4gIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChpbnB1dFtpXSAhPT0gMzcpIHtcclxuICAgICAgb3V0cHV0LnB1c2goaW5wdXRbaV0pO1xyXG4gICAgfSBlbHNlIGlmIChpbnB1dFtpXSA9PT0gMzcgJiYgaXNBU0NJSUhleChpbnB1dFtpICsgMV0pICYmIGlzQVNDSUlIZXgoaW5wdXRbaSArIDJdKSkge1xyXG4gICAgICBvdXRwdXQucHVzaChwYXJzZUludChpbnB1dC5zbGljZShpICsgMSwgaSArIDMpLnRvU3RyaW5nKCksIDE2KSk7XHJcbiAgICAgIGkgKz0gMjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG91dHB1dC5wdXNoKGlucHV0W2ldKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG5ldyBCdWZmZXIob3V0cHV0KS50b1N0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0MwQ29udHJvbFBlcmNlbnRFbmNvZGUoYykge1xyXG4gIHJldHVybiBjIDw9IDB4MUYgfHwgYyA+IDB4N0U7XHJcbn1cclxuXHJcbmNvbnN0IGV4dHJhUGF0aFBlcmNlbnRFbmNvZGVTZXQgPSBuZXcgU2V0KFszMiwgMzQsIDM1LCA2MCwgNjIsIDYzLCA5NiwgMTIzLCAxMjVdKTtcclxuZnVuY3Rpb24gaXNQYXRoUGVyY2VudEVuY29kZShjKSB7XHJcbiAgcmV0dXJuIGlzQzBDb250cm9sUGVyY2VudEVuY29kZShjKSB8fCBleHRyYVBhdGhQZXJjZW50RW5jb2RlU2V0LmhhcyhjKTtcclxufVxyXG5cclxuY29uc3QgZXh0cmFVc2VyaW5mb1BlcmNlbnRFbmNvZGVTZXQgPVxyXG4gIG5ldyBTZXQoWzQ3LCA1OCwgNTksIDYxLCA2NCwgOTEsIDkyLCA5MywgOTQsIDEyNF0pO1xyXG5mdW5jdGlvbiBpc1VzZXJpbmZvUGVyY2VudEVuY29kZShjKSB7XHJcbiAgcmV0dXJuIGlzUGF0aFBlcmNlbnRFbmNvZGUoYykgfHwgZXh0cmFVc2VyaW5mb1BlcmNlbnRFbmNvZGVTZXQuaGFzKGMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwZXJjZW50RW5jb2RlQ2hhcihjLCBlbmNvZGVTZXRQcmVkaWNhdGUpIHtcclxuICBjb25zdCBjU3RyID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoYyk7XHJcblxyXG4gIGlmIChlbmNvZGVTZXRQcmVkaWNhdGUoYykpIHtcclxuICAgIHJldHVybiB1dGY4UGVyY2VudEVuY29kZShjU3RyKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjU3RyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUlQdjROdW1iZXIoaW5wdXQpIHtcclxuICBsZXQgUiA9IDEwO1xyXG5cclxuICBpZiAoaW5wdXQubGVuZ3RoID49IDIgJiYgaW5wdXQuY2hhckF0KDApID09PSBcIjBcIiAmJiBpbnB1dC5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKSA9PT0gXCJ4XCIpIHtcclxuICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyaW5nKDIpO1xyXG4gICAgUiA9IDE2O1xyXG4gIH0gZWxzZSBpZiAoaW5wdXQubGVuZ3RoID49IDIgJiYgaW5wdXQuY2hhckF0KDApID09PSBcIjBcIikge1xyXG4gICAgaW5wdXQgPSBpbnB1dC5zdWJzdHJpbmcoMSk7XHJcbiAgICBSID0gODtcclxuICB9XHJcblxyXG4gIGlmIChpbnB1dCA9PT0gXCJcIikge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZWdleCA9IFIgPT09IDEwID8gL1teMC05XS8gOiAoUiA9PT0gMTYgPyAvW14wLTlBLUZhLWZdLyA6IC9bXjAtN10vKTtcclxuICBpZiAocmVnZXgudGVzdChpbnB1dCkpIHtcclxuICAgIHJldHVybiBmYWlsdXJlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCBSKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VJUHY0KGlucHV0KSB7XHJcbiAgY29uc3QgcGFydHMgPSBpbnB1dC5zcGxpdChcIi5cIik7XHJcbiAgaWYgKHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdID09PSBcIlwiKSB7XHJcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgICBwYXJ0cy5wb3AoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChwYXJ0cy5sZW5ndGggPiA0KSB7XHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBudW1iZXJzID0gW107XHJcbiAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XHJcbiAgICBpZiAocGFydCA9PT0gXCJcIikge1xyXG4gICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuID0gcGFyc2VJUHY0TnVtYmVyKHBhcnQpO1xyXG4gICAgaWYgKG4gPT09IGZhaWx1cmUpIHtcclxuICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIG51bWJlcnMucHVzaChuKTtcclxuICB9XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVycy5sZW5ndGggLSAxOyArK2kpIHtcclxuICAgIGlmIChudW1iZXJzW2ldID4gMjU1KSB7XHJcbiAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAobnVtYmVyc1tudW1iZXJzLmxlbmd0aCAtIDFdID49IE1hdGgucG93KDI1NiwgNSAtIG51bWJlcnMubGVuZ3RoKSkge1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfVxyXG5cclxuICBsZXQgaXB2NCA9IG51bWJlcnMucG9wKCk7XHJcbiAgbGV0IGNvdW50ZXIgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IG4gb2YgbnVtYmVycykge1xyXG4gICAgaXB2NCArPSBuICogTWF0aC5wb3coMjU2LCAzIC0gY291bnRlcik7XHJcbiAgICArK2NvdW50ZXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXB2NDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VyaWFsaXplSVB2NChhZGRyZXNzKSB7XHJcbiAgbGV0IG91dHB1dCA9IFwiXCI7XHJcbiAgbGV0IG4gPSBhZGRyZXNzO1xyXG5cclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyArK2kpIHtcclxuICAgIG91dHB1dCA9IFN0cmluZyhuICUgMjU2KSArIG91dHB1dDtcclxuICAgIGlmIChpICE9PSA0KSB7XHJcbiAgICAgIG91dHB1dCA9IFwiLlwiICsgb3V0cHV0O1xyXG4gICAgfVxyXG4gICAgbiA9IE1hdGguZmxvb3IobiAvIDI1Nik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUlQdjYoaW5wdXQpIHtcclxuICBjb25zdCBhZGRyZXNzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xyXG4gIGxldCBwaWVjZUluZGV4ID0gMDtcclxuICBsZXQgY29tcHJlc3MgPSBudWxsO1xyXG4gIGxldCBwb2ludGVyID0gMDtcclxuXHJcbiAgaW5wdXQgPSBwdW55Y29kZS51Y3MyLmRlY29kZShpbnB1dCk7XHJcblxyXG4gIGlmIChpbnB1dFtwb2ludGVyXSA9PT0gNTgpIHtcclxuICAgIGlmIChpbnB1dFtwb2ludGVyICsgMV0gIT09IDU4KSB7XHJcbiAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50ZXIgKz0gMjtcclxuICAgICsrcGllY2VJbmRleDtcclxuICAgIGNvbXByZXNzID0gcGllY2VJbmRleDtcclxuICB9XHJcblxyXG4gIHdoaWxlIChwb2ludGVyIDwgaW5wdXQubGVuZ3RoKSB7XHJcbiAgICBpZiAocGllY2VJbmRleCA9PT0gOCkge1xyXG4gICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5wdXRbcG9pbnRlcl0gPT09IDU4KSB7XHJcbiAgICAgIGlmIChjb21wcmVzcyAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICB9XHJcbiAgICAgICsrcG9pbnRlcjtcclxuICAgICAgKytwaWVjZUluZGV4O1xyXG4gICAgICBjb21wcmVzcyA9IHBpZWNlSW5kZXg7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB2YWx1ZSA9IDA7XHJcbiAgICBsZXQgbGVuZ3RoID0gMDtcclxuXHJcbiAgICB3aGlsZSAobGVuZ3RoIDwgNCAmJiBpc0FTQ0lJSGV4KGlucHV0W3BvaW50ZXJdKSkge1xyXG4gICAgICB2YWx1ZSA9IHZhbHVlICogMHgxMCArIHBhcnNlSW50KGF0KGlucHV0LCBwb2ludGVyKSwgMTYpO1xyXG4gICAgICArK3BvaW50ZXI7XHJcbiAgICAgICsrbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpbnB1dFtwb2ludGVyXSA9PT0gNDYpIHtcclxuICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwb2ludGVyIC09IGxlbmd0aDtcclxuXHJcbiAgICAgIGlmIChwaWVjZUluZGV4ID4gNikge1xyXG4gICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgbnVtYmVyc1NlZW4gPSAwO1xyXG5cclxuICAgICAgd2hpbGUgKGlucHV0W3BvaW50ZXJdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBsZXQgaXB2NFBpZWNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKG51bWJlcnNTZWVuID4gMCkge1xyXG4gICAgICAgICAgaWYgKGlucHV0W3BvaW50ZXJdID09PSA0NiAmJiBudW1iZXJzU2VlbiA8IDQpIHtcclxuICAgICAgICAgICAgKytwb2ludGVyO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzQVNDSUlEaWdpdChpbnB1dFtwb2ludGVyXSkpIHtcclxuICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKGlzQVNDSUlEaWdpdChpbnB1dFtwb2ludGVyXSkpIHtcclxuICAgICAgICAgIGNvbnN0IG51bWJlciA9IHBhcnNlSW50KGF0KGlucHV0LCBwb2ludGVyKSk7XHJcbiAgICAgICAgICBpZiAoaXB2NFBpZWNlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlwdjRQaWVjZSA9IG51bWJlcjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXB2NFBpZWNlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXB2NFBpZWNlID0gaXB2NFBpZWNlICogMTAgKyBudW1iZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXB2NFBpZWNlID4gMjU1KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgKytwb2ludGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkcmVzc1twaWVjZUluZGV4XSA9IGFkZHJlc3NbcGllY2VJbmRleF0gKiAweDEwMCArIGlwdjRQaWVjZTtcclxuXHJcbiAgICAgICAgKytudW1iZXJzU2VlbjtcclxuXHJcbiAgICAgICAgaWYgKG51bWJlcnNTZWVuID09PSAyIHx8IG51bWJlcnNTZWVuID09PSA0KSB7XHJcbiAgICAgICAgICArK3BpZWNlSW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobnVtYmVyc1NlZW4gIT09IDQpIHtcclxuICAgICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYnJlYWs7XHJcbiAgICB9IGVsc2UgaWYgKGlucHV0W3BvaW50ZXJdID09PSA1OCkge1xyXG4gICAgICArK3BvaW50ZXI7XHJcbiAgICAgIGlmIChpbnB1dFtwb2ludGVyXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaW5wdXRbcG9pbnRlcl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRyZXNzW3BpZWNlSW5kZXhdID0gdmFsdWU7XHJcbiAgICArK3BpZWNlSW5kZXg7XHJcbiAgfVxyXG5cclxuICBpZiAoY29tcHJlc3MgIT09IG51bGwpIHtcclxuICAgIGxldCBzd2FwcyA9IHBpZWNlSW5kZXggLSBjb21wcmVzcztcclxuICAgIHBpZWNlSW5kZXggPSA3O1xyXG4gICAgd2hpbGUgKHBpZWNlSW5kZXggIT09IDAgJiYgc3dhcHMgPiAwKSB7XHJcbiAgICAgIGNvbnN0IHRlbXAgPSBhZGRyZXNzW2NvbXByZXNzICsgc3dhcHMgLSAxXTtcclxuICAgICAgYWRkcmVzc1tjb21wcmVzcyArIHN3YXBzIC0gMV0gPSBhZGRyZXNzW3BpZWNlSW5kZXhdO1xyXG4gICAgICBhZGRyZXNzW3BpZWNlSW5kZXhdID0gdGVtcDtcclxuICAgICAgLS1waWVjZUluZGV4O1xyXG4gICAgICAtLXN3YXBzO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoY29tcHJlc3MgPT09IG51bGwgJiYgcGllY2VJbmRleCAhPT0gOCkge1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYWRkcmVzcztcclxufVxyXG5cclxuZnVuY3Rpb24gc2VyaWFsaXplSVB2NihhZGRyZXNzKSB7XHJcbiAgbGV0IG91dHB1dCA9IFwiXCI7XHJcbiAgY29uc3Qgc2VxUmVzdWx0ID0gZmluZExvbmdlc3RaZXJvU2VxdWVuY2UoYWRkcmVzcyk7XHJcbiAgY29uc3QgY29tcHJlc3MgPSBzZXFSZXN1bHQuaWR4O1xyXG4gIGxldCBpZ25vcmUwID0gZmFsc2U7XHJcblxyXG4gIGZvciAobGV0IHBpZWNlSW5kZXggPSAwOyBwaWVjZUluZGV4IDw9IDc7ICsrcGllY2VJbmRleCkge1xyXG4gICAgaWYgKGlnbm9yZTAgJiYgYWRkcmVzc1twaWVjZUluZGV4XSA9PT0gMCkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH0gZWxzZSBpZiAoaWdub3JlMCkge1xyXG4gICAgICBpZ25vcmUwID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbXByZXNzID09PSBwaWVjZUluZGV4KSB7XHJcbiAgICAgIGNvbnN0IHNlcGFyYXRvciA9IHBpZWNlSW5kZXggPT09IDAgPyBcIjo6XCIgOiBcIjpcIjtcclxuICAgICAgb3V0cHV0ICs9IHNlcGFyYXRvcjtcclxuICAgICAgaWdub3JlMCA9IHRydWU7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dCArPSBhZGRyZXNzW3BpZWNlSW5kZXhdLnRvU3RyaW5nKDE2KTtcclxuXHJcbiAgICBpZiAocGllY2VJbmRleCAhPT0gNykge1xyXG4gICAgICBvdXRwdXQgKz0gXCI6XCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUhvc3QoaW5wdXQsIGlzU3BlY2lhbEFyZykge1xyXG4gIGlmIChpbnB1dFswXSA9PT0gXCJbXCIpIHtcclxuICAgIGlmIChpbnB1dFtpbnB1dC5sZW5ndGggLSAxXSAhPT0gXCJdXCIpIHtcclxuICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlSVB2NihpbnB1dC5zdWJzdHJpbmcoMSwgaW5wdXQubGVuZ3RoIC0gMSkpO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc1NwZWNpYWxBcmcpIHtcclxuICAgIHJldHVybiBwYXJzZU9wYXF1ZUhvc3QoaW5wdXQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZG9tYWluID0gdXRmOFBlcmNlbnREZWNvZGUoaW5wdXQpO1xyXG4gIGNvbnN0IGFzY2lpRG9tYWluID0gdHI0Ni50b0FTQ0lJKGRvbWFpbiwgZmFsc2UsIHRyNDYuUFJPQ0VTU0lOR19PUFRJT05TLk5PTlRSQU5TSVRJT05BTCwgZmFsc2UpO1xyXG4gIGlmIChhc2NpaURvbWFpbiA9PT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfVxyXG5cclxuICBpZiAoY29udGFpbnNGb3JiaWRkZW5Ib3N0Q29kZVBvaW50KGFzY2lpRG9tYWluKSkge1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBpcHY0SG9zdCA9IHBhcnNlSVB2NChhc2NpaURvbWFpbik7XHJcbiAgaWYgKHR5cGVvZiBpcHY0SG9zdCA9PT0gXCJudW1iZXJcIiB8fCBpcHY0SG9zdCA9PT0gZmFpbHVyZSkge1xyXG4gICAgcmV0dXJuIGlwdjRIb3N0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFzY2lpRG9tYWluO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU9wYXF1ZUhvc3QoaW5wdXQpIHtcclxuICBpZiAoY29udGFpbnNGb3JiaWRkZW5Ib3N0Q29kZVBvaW50RXhjbHVkaW5nUGVyY2VudChpbnB1dCkpIHtcclxuICAgIHJldHVybiBmYWlsdXJlO1xyXG4gIH1cclxuXHJcbiAgbGV0IG91dHB1dCA9IFwiXCI7XHJcbiAgY29uc3QgZGVjb2RlZCA9IHB1bnljb2RlLnVjczIuZGVjb2RlKGlucHV0KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlY29kZWQubGVuZ3RoOyArK2kpIHtcclxuICAgIG91dHB1dCArPSBwZXJjZW50RW5jb2RlQ2hhcihkZWNvZGVkW2ldLCBpc0MwQ29udHJvbFBlcmNlbnRFbmNvZGUpO1xyXG4gIH1cclxuICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kTG9uZ2VzdFplcm9TZXF1ZW5jZShhcnIpIHtcclxuICBsZXQgbWF4SWR4ID0gbnVsbDtcclxuICBsZXQgbWF4TGVuID0gMTsgLy8gb25seSBmaW5kIGVsZW1lbnRzID4gMVxyXG4gIGxldCBjdXJyU3RhcnQgPSBudWxsO1xyXG4gIGxldCBjdXJyTGVuID0gMDtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChhcnJbaV0gIT09IDApIHtcclxuICAgICAgaWYgKGN1cnJMZW4gPiBtYXhMZW4pIHtcclxuICAgICAgICBtYXhJZHggPSBjdXJyU3RhcnQ7XHJcbiAgICAgICAgbWF4TGVuID0gY3VyckxlbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3VyclN0YXJ0ID0gbnVsbDtcclxuICAgICAgY3VyckxlbiA9IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoY3VyclN0YXJ0ID09PSBudWxsKSB7XHJcbiAgICAgICAgY3VyclN0YXJ0ID0gaTtcclxuICAgICAgfVxyXG4gICAgICArK2N1cnJMZW47XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBpZiB0cmFpbGluZyB6ZXJvc1xyXG4gIGlmIChjdXJyTGVuID4gbWF4TGVuKSB7XHJcbiAgICBtYXhJZHggPSBjdXJyU3RhcnQ7XHJcbiAgICBtYXhMZW4gPSBjdXJyTGVuO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlkeDogbWF4SWR4LFxyXG4gICAgbGVuOiBtYXhMZW5cclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXJpYWxpemVIb3N0KGhvc3QpIHtcclxuICBpZiAodHlwZW9mIGhvc3QgPT09IFwibnVtYmVyXCIpIHtcclxuICAgIHJldHVybiBzZXJpYWxpemVJUHY0KGhvc3QpO1xyXG4gIH1cclxuXHJcbiAgLy8gSVB2NiBzZXJpYWxpemVyXHJcbiAgaWYgKGhvc3QgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgcmV0dXJuIFwiW1wiICsgc2VyaWFsaXplSVB2Nihob3N0KSArIFwiXVwiO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGhvc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaW1Db250cm9sQ2hhcnModXJsKSB7XHJcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC9eW1xcdTAwMDAtXFx1MDAxRlxcdTAwMjBdK3xbXFx1MDAwMC1cXHUwMDFGXFx1MDAyMF0rJC9nLCBcIlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJpbVRhYkFuZE5ld2xpbmUodXJsKSB7XHJcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXHUwMDA5fFxcdTAwMEF8XFx1MDAwRC9nLCBcIlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvcnRlblBhdGgodXJsKSB7XHJcbiAgY29uc3QgcGF0aCA9IHVybC5wYXRoO1xyXG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBpZiAodXJsLnNjaGVtZSA9PT0gXCJmaWxlXCIgJiYgcGF0aC5sZW5ndGggPT09IDEgJiYgaXNOb3JtYWxpemVkV2luZG93c0RyaXZlTGV0dGVyKHBhdGhbMF0pKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBwYXRoLnBvcCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNsdWRlc0NyZWRlbnRpYWxzKHVybCkge1xyXG4gIHJldHVybiB1cmwudXNlcm5hbWUgIT09IFwiXCIgfHwgdXJsLnBhc3N3b3JkICE9PSBcIlwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5ub3RIYXZlQVVzZXJuYW1lUGFzc3dvcmRQb3J0KHVybCkge1xyXG4gIHJldHVybiB1cmwuaG9zdCA9PT0gbnVsbCB8fCB1cmwuaG9zdCA9PT0gXCJcIiB8fCB1cmwuY2Fubm90QmVBQmFzZVVSTCB8fCB1cmwuc2NoZW1lID09PSBcImZpbGVcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNOb3JtYWxpemVkV2luZG93c0RyaXZlTGV0dGVyKHN0cmluZykge1xyXG4gIHJldHVybiAvXltBLVphLXpdOiQvLnRlc3Qoc3RyaW5nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gVVJMU3RhdGVNYWNoaW5lKGlucHV0LCBiYXNlLCBlbmNvZGluZ092ZXJyaWRlLCB1cmwsIHN0YXRlT3ZlcnJpZGUpIHtcclxuICB0aGlzLnBvaW50ZXIgPSAwO1xyXG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICB0aGlzLmJhc2UgPSBiYXNlIHx8IG51bGw7XHJcbiAgdGhpcy5lbmNvZGluZ092ZXJyaWRlID0gZW5jb2RpbmdPdmVycmlkZSB8fCBcInV0Zi04XCI7XHJcbiAgdGhpcy5zdGF0ZU92ZXJyaWRlID0gc3RhdGVPdmVycmlkZTtcclxuICB0aGlzLnVybCA9IHVybDtcclxuICB0aGlzLmZhaWx1cmUgPSBmYWxzZTtcclxuICB0aGlzLnBhcnNlRXJyb3IgPSBmYWxzZTtcclxuXHJcbiAgaWYgKCF0aGlzLnVybCkge1xyXG4gICAgdGhpcy51cmwgPSB7XHJcbiAgICAgIHNjaGVtZTogXCJcIixcclxuICAgICAgdXNlcm5hbWU6IFwiXCIsXHJcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxyXG4gICAgICBob3N0OiBudWxsLFxyXG4gICAgICBwb3J0OiBudWxsLFxyXG4gICAgICBwYXRoOiBbXSxcclxuICAgICAgcXVlcnk6IG51bGwsXHJcbiAgICAgIGZyYWdtZW50OiBudWxsLFxyXG5cclxuICAgICAgY2Fubm90QmVBQmFzZVVSTDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVzID0gdHJpbUNvbnRyb2xDaGFycyh0aGlzLmlucHV0KTtcclxuICAgIGlmIChyZXMgIT09IHRoaXMuaW5wdXQpIHtcclxuICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuaW5wdXQgPSByZXM7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXMgPSB0cmltVGFiQW5kTmV3bGluZSh0aGlzLmlucHV0KTtcclxuICBpZiAocmVzICE9PSB0aGlzLmlucHV0KSB7XHJcbiAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gIH1cclxuICB0aGlzLmlucHV0ID0gcmVzO1xyXG5cclxuICB0aGlzLnN0YXRlID0gc3RhdGVPdmVycmlkZSB8fCBcInNjaGVtZSBzdGFydFwiO1xyXG5cclxuICB0aGlzLmJ1ZmZlciA9IFwiXCI7XHJcbiAgdGhpcy5hdEZsYWcgPSBmYWxzZTtcclxuICB0aGlzLmFyckZsYWcgPSBmYWxzZTtcclxuICB0aGlzLnBhc3N3b3JkVG9rZW5TZWVuRmxhZyA9IGZhbHNlO1xyXG5cclxuICB0aGlzLmlucHV0ID0gcHVueWNvZGUudWNzMi5kZWNvZGUodGhpcy5pbnB1dCk7XHJcblxyXG4gIGZvciAoOyB0aGlzLnBvaW50ZXIgPD0gdGhpcy5pbnB1dC5sZW5ndGg7ICsrdGhpcy5wb2ludGVyKSB7XHJcbiAgICBjb25zdCBjID0gdGhpcy5pbnB1dFt0aGlzLnBvaW50ZXJdO1xyXG4gICAgY29uc3QgY1N0ciA9IGlzTmFOKGMpID8gdW5kZWZpbmVkIDogU3RyaW5nLmZyb21Db2RlUG9pbnQoYyk7XHJcblxyXG4gICAgLy8gZXhlYyBzdGF0ZSBtYWNoaW5lXHJcbiAgICBjb25zdCByZXQgPSB0aGlzW1wicGFyc2UgXCIgKyB0aGlzLnN0YXRlXShjLCBjU3RyKTtcclxuICAgIGlmICghcmV0KSB7XHJcbiAgICAgIGJyZWFrOyAvLyB0ZXJtaW5hdGUgYWxnb3JpdGhtXHJcbiAgICB9IGVsc2UgaWYgKHJldCA9PT0gZmFpbHVyZSkge1xyXG4gICAgICB0aGlzLmZhaWx1cmUgPSB0cnVlO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBzY2hlbWUgc3RhcnRcIl0gPSBmdW5jdGlvbiBwYXJzZVNjaGVtZVN0YXJ0KGMsIGNTdHIpIHtcclxuICBpZiAoaXNBU0NJSUFscGhhKGMpKSB7XHJcbiAgICB0aGlzLmJ1ZmZlciArPSBjU3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJzY2hlbWVcIjtcclxuICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlT3ZlcnJpZGUpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcIm5vIHNjaGVtZVwiO1xyXG4gICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICByZXR1cm4gZmFpbHVyZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHNjaGVtZVwiXSA9IGZ1bmN0aW9uIHBhcnNlU2NoZW1lKGMsIGNTdHIpIHtcclxuICBpZiAoaXNBU0NJSUFscGhhbnVtZXJpYyhjKSB8fCBjID09PSA0MyB8fCBjID09PSA0NSB8fCBjID09PSA0Nikge1xyXG4gICAgdGhpcy5idWZmZXIgKz0gY1N0ci50b0xvd2VyQ2FzZSgpO1xyXG4gIH0gZWxzZSBpZiAoYyA9PT0gNTgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlT3ZlcnJpZGUpIHtcclxuICAgICAgaWYgKGlzU3BlY2lhbCh0aGlzLnVybCkgJiYgIWlzU3BlY2lhbFNjaGVtZSh0aGlzLmJ1ZmZlcikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNTcGVjaWFsKHRoaXMudXJsKSAmJiBpc1NwZWNpYWxTY2hlbWUodGhpcy5idWZmZXIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoKGluY2x1ZGVzQ3JlZGVudGlhbHModGhpcy51cmwpIHx8IHRoaXMudXJsLnBvcnQgIT09IG51bGwpICYmIHRoaXMuYnVmZmVyID09PSBcImZpbGVcIikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudXJsLnNjaGVtZSA9PT0gXCJmaWxlXCIgJiYgKHRoaXMudXJsLmhvc3QgPT09IFwiXCIgfHwgdGhpcy51cmwuaG9zdCA9PT0gbnVsbCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudXJsLnNjaGVtZSA9IHRoaXMuYnVmZmVyO1xyXG4gICAgdGhpcy5idWZmZXIgPSBcIlwiO1xyXG4gICAgaWYgKHRoaXMuc3RhdGVPdmVycmlkZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51cmwuc2NoZW1lID09PSBcImZpbGVcIikge1xyXG4gICAgICBpZiAodGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAxXSAhPT0gNDcgfHwgdGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAyXSAhPT0gNDcpIHtcclxuICAgICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcImZpbGVcIjtcclxuICAgIH0gZWxzZSBpZiAoaXNTcGVjaWFsKHRoaXMudXJsKSAmJiB0aGlzLmJhc2UgIT09IG51bGwgJiYgdGhpcy5iYXNlLnNjaGVtZSA9PT0gdGhpcy51cmwuc2NoZW1lKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcInNwZWNpYWwgcmVsYXRpdmUgb3IgYXV0aG9yaXR5XCI7XHJcbiAgICB9IGVsc2UgaWYgKGlzU3BlY2lhbCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy5zdGF0ZSA9IFwic3BlY2lhbCBhdXRob3JpdHkgc2xhc2hlc1wiO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmlucHV0W3RoaXMucG9pbnRlciArIDFdID09PSA0Nykge1xyXG4gICAgICB0aGlzLnN0YXRlID0gXCJwYXRoIG9yIGF1dGhvcml0eVwiO1xyXG4gICAgICArK3RoaXMucG9pbnRlcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudXJsLmNhbm5vdEJlQUJhc2VVUkwgPSB0cnVlO1xyXG4gICAgICB0aGlzLnVybC5wYXRoLnB1c2goXCJcIik7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcImNhbm5vdC1iZS1hLWJhc2UtVVJMIHBhdGhcIjtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlT3ZlcnJpZGUpIHtcclxuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcIm5vIHNjaGVtZVwiO1xyXG4gICAgdGhpcy5wb2ludGVyID0gLTE7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICByZXR1cm4gZmFpbHVyZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIG5vIHNjaGVtZVwiXSA9IGZ1bmN0aW9uIHBhcnNlTm9TY2hlbWUoYykge1xyXG4gIGlmICh0aGlzLmJhc2UgPT09IG51bGwgfHwgKHRoaXMuYmFzZS5jYW5ub3RCZUFCYXNlVVJMICYmIGMgIT09IDM1KSkge1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfSBlbHNlIGlmICh0aGlzLmJhc2UuY2Fubm90QmVBQmFzZVVSTCAmJiBjID09PSAzNSkge1xyXG4gICAgdGhpcy51cmwuc2NoZW1lID0gdGhpcy5iYXNlLnNjaGVtZTtcclxuICAgIHRoaXMudXJsLnBhdGggPSB0aGlzLmJhc2UucGF0aC5zbGljZSgpO1xyXG4gICAgdGhpcy51cmwucXVlcnkgPSB0aGlzLmJhc2UucXVlcnk7XHJcbiAgICB0aGlzLnVybC5mcmFnbWVudCA9IFwiXCI7XHJcbiAgICB0aGlzLnVybC5jYW5ub3RCZUFCYXNlVVJMID0gdHJ1ZTtcclxuICAgIHRoaXMuc3RhdGUgPSBcImZyYWdtZW50XCI7XHJcbiAgfSBlbHNlIGlmICh0aGlzLmJhc2Uuc2NoZW1lID09PSBcImZpbGVcIikge1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwiZmlsZVwiO1xyXG4gICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcInJlbGF0aXZlXCI7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHNwZWNpYWwgcmVsYXRpdmUgb3IgYXV0aG9yaXR5XCJdID0gZnVuY3Rpb24gcGFyc2VTcGVjaWFsUmVsYXRpdmVPckF1dGhvcml0eShjKSB7XHJcbiAgaWYgKGMgPT09IDQ3ICYmIHRoaXMuaW5wdXRbdGhpcy5wb2ludGVyICsgMV0gPT09IDQ3KSB7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJzcGVjaWFsIGF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO1xyXG4gICAgKyt0aGlzLnBvaW50ZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBwYXRoIG9yIGF1dGhvcml0eVwiXSA9IGZ1bmN0aW9uIHBhcnNlUGF0aE9yQXV0aG9yaXR5KGMpIHtcclxuICBpZiAoYyA9PT0gNDcpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcImF1dGhvcml0eVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJwYXRoXCI7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHJlbGF0aXZlXCJdID0gZnVuY3Rpb24gcGFyc2VSZWxhdGl2ZShjKSB7XHJcbiAgdGhpcy51cmwuc2NoZW1lID0gdGhpcy5iYXNlLnNjaGVtZTtcclxuICBpZiAoaXNOYU4oYykpIHtcclxuICAgIHRoaXMudXJsLnVzZXJuYW1lID0gdGhpcy5iYXNlLnVzZXJuYW1lO1xyXG4gICAgdGhpcy51cmwucGFzc3dvcmQgPSB0aGlzLmJhc2UucGFzc3dvcmQ7XHJcbiAgICB0aGlzLnVybC5ob3N0ID0gdGhpcy5iYXNlLmhvc3Q7XHJcbiAgICB0aGlzLnVybC5wb3J0ID0gdGhpcy5iYXNlLnBvcnQ7XHJcbiAgICB0aGlzLnVybC5wYXRoID0gdGhpcy5iYXNlLnBhdGguc2xpY2UoKTtcclxuICAgIHRoaXMudXJsLnF1ZXJ5ID0gdGhpcy5iYXNlLnF1ZXJ5O1xyXG4gIH0gZWxzZSBpZiAoYyA9PT0gNDcpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcInJlbGF0aXZlIHNsYXNoXCI7XHJcbiAgfSBlbHNlIGlmIChjID09PSA2Mykge1xyXG4gICAgdGhpcy51cmwudXNlcm5hbWUgPSB0aGlzLmJhc2UudXNlcm5hbWU7XHJcbiAgICB0aGlzLnVybC5wYXNzd29yZCA9IHRoaXMuYmFzZS5wYXNzd29yZDtcclxuICAgIHRoaXMudXJsLmhvc3QgPSB0aGlzLmJhc2UuaG9zdDtcclxuICAgIHRoaXMudXJsLnBvcnQgPSB0aGlzLmJhc2UucG9ydDtcclxuICAgIHRoaXMudXJsLnBhdGggPSB0aGlzLmJhc2UucGF0aC5zbGljZSgpO1xyXG4gICAgdGhpcy51cmwucXVlcnkgPSBcIlwiO1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwicXVlcnlcIjtcclxuICB9IGVsc2UgaWYgKGMgPT09IDM1KSB7XHJcbiAgICB0aGlzLnVybC51c2VybmFtZSA9IHRoaXMuYmFzZS51c2VybmFtZTtcclxuICAgIHRoaXMudXJsLnBhc3N3b3JkID0gdGhpcy5iYXNlLnBhc3N3b3JkO1xyXG4gICAgdGhpcy51cmwuaG9zdCA9IHRoaXMuYmFzZS5ob3N0O1xyXG4gICAgdGhpcy51cmwucG9ydCA9IHRoaXMuYmFzZS5wb3J0O1xyXG4gICAgdGhpcy51cmwucGF0aCA9IHRoaXMuYmFzZS5wYXRoLnNsaWNlKCk7XHJcbiAgICB0aGlzLnVybC5xdWVyeSA9IHRoaXMuYmFzZS5xdWVyeTtcclxuICAgIHRoaXMudXJsLmZyYWdtZW50ID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcImZyYWdtZW50XCI7XHJcbiAgfSBlbHNlIGlmIChpc1NwZWNpYWwodGhpcy51cmwpICYmIGMgPT09IDkyKSB7XHJcbiAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwicmVsYXRpdmUgc2xhc2hcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy51cmwudXNlcm5hbWUgPSB0aGlzLmJhc2UudXNlcm5hbWU7XHJcbiAgICB0aGlzLnVybC5wYXNzd29yZCA9IHRoaXMuYmFzZS5wYXNzd29yZDtcclxuICAgIHRoaXMudXJsLmhvc3QgPSB0aGlzLmJhc2UuaG9zdDtcclxuICAgIHRoaXMudXJsLnBvcnQgPSB0aGlzLmJhc2UucG9ydDtcclxuICAgIHRoaXMudXJsLnBhdGggPSB0aGlzLmJhc2UucGF0aC5zbGljZSgwLCB0aGlzLmJhc2UucGF0aC5sZW5ndGggLSAxKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0gXCJwYXRoXCI7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHJlbGF0aXZlIHNsYXNoXCJdID0gZnVuY3Rpb24gcGFyc2VSZWxhdGl2ZVNsYXNoKGMpIHtcclxuICBpZiAoaXNTcGVjaWFsKHRoaXMudXJsKSAmJiAoYyA9PT0gNDcgfHwgYyA9PT0gOTIpKSB7XHJcbiAgICBpZiAoYyA9PT0gOTIpIHtcclxuICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUgPSBcInNwZWNpYWwgYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7XHJcbiAgfSBlbHNlIGlmIChjID09PSA0Nykge1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwiYXV0aG9yaXR5XCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMudXJsLnVzZXJuYW1lID0gdGhpcy5iYXNlLnVzZXJuYW1lO1xyXG4gICAgdGhpcy51cmwucGFzc3dvcmQgPSB0aGlzLmJhc2UucGFzc3dvcmQ7XHJcbiAgICB0aGlzLnVybC5ob3N0ID0gdGhpcy5iYXNlLmhvc3Q7XHJcbiAgICB0aGlzLnVybC5wb3J0ID0gdGhpcy5iYXNlLnBvcnQ7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJwYXRoXCI7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHNwZWNpYWwgYXV0aG9yaXR5IHNsYXNoZXNcIl0gPSBmdW5jdGlvbiBwYXJzZVNwZWNpYWxBdXRob3JpdHlTbGFzaGVzKGMpIHtcclxuICBpZiAoYyA9PT0gNDcgJiYgdGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAxXSA9PT0gNDcpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcInNwZWNpYWwgYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7XHJcbiAgICArK3RoaXMucG9pbnRlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIHRoaXMuc3RhdGUgPSBcInNwZWNpYWwgYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHNwZWNpYWwgYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCJdID0gZnVuY3Rpb24gcGFyc2VTcGVjaWFsQXV0aG9yaXR5SWdub3JlU2xhc2hlcyhjKSB7XHJcbiAgaWYgKGMgIT09IDQ3ICYmIGMgIT09IDkyKSB7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJhdXRob3JpdHlcIjtcclxuICAgIC0tdGhpcy5wb2ludGVyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5VUkxTdGF0ZU1hY2hpbmUucHJvdG90eXBlW1wicGFyc2UgYXV0aG9yaXR5XCJdID0gZnVuY3Rpb24gcGFyc2VBdXRob3JpdHkoYywgY1N0cikge1xyXG4gIGlmIChjID09PSA2NCkge1xyXG4gICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIGlmICh0aGlzLmF0RmxhZykge1xyXG4gICAgICB0aGlzLmJ1ZmZlciA9IFwiJTQwXCIgKyB0aGlzLmJ1ZmZlcjtcclxuICAgIH1cclxuICAgIHRoaXMuYXRGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAvLyBjYXJlZnVsLCB0aGlzIGlzIGJhc2VkIG9uIGJ1ZmZlciBhbmQgaGFzIGl0cyBvd24gcG9pbnRlciAodGhpcy5wb2ludGVyICE9IHBvaW50ZXIpIGFuZCBpbm5lciBjaGFyc1xyXG4gICAgY29uc3QgbGVuID0gY291bnRTeW1ib2xzKHRoaXMuYnVmZmVyKTtcclxuICAgIGZvciAobGV0IHBvaW50ZXIgPSAwOyBwb2ludGVyIDwgbGVuOyArK3BvaW50ZXIpIHtcclxuICAgICAgY29uc3QgY29kZVBvaW50ID0gdGhpcy5idWZmZXIuY29kZVBvaW50QXQocG9pbnRlcik7XHJcblxyXG4gICAgICBpZiAoY29kZVBvaW50ID09PSA1OCAmJiAhdGhpcy5wYXNzd29yZFRva2VuU2VlbkZsYWcpIHtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkVG9rZW5TZWVuRmxhZyA9IHRydWU7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZW5jb2RlZENvZGVQb2ludHMgPSBwZXJjZW50RW5jb2RlQ2hhcihjb2RlUG9pbnQsIGlzVXNlcmluZm9QZXJjZW50RW5jb2RlKTtcclxuICAgICAgaWYgKHRoaXMucGFzc3dvcmRUb2tlblNlZW5GbGFnKSB7XHJcbiAgICAgICAgdGhpcy51cmwucGFzc3dvcmQgKz0gZW5jb2RlZENvZGVQb2ludHM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy51cmwudXNlcm5hbWUgKz0gZW5jb2RlZENvZGVQb2ludHM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcclxuICB9IGVsc2UgaWYgKGlzTmFOKGMpIHx8IGMgPT09IDQ3IHx8IGMgPT09IDYzIHx8IGMgPT09IDM1IHx8XHJcbiAgICAgICAgICAgICAoaXNTcGVjaWFsKHRoaXMudXJsKSAmJiBjID09PSA5MikpIHtcclxuICAgIGlmICh0aGlzLmF0RmxhZyAmJiB0aGlzLmJ1ZmZlciA9PT0gXCJcIikge1xyXG4gICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgIH1cclxuICAgIHRoaXMucG9pbnRlciAtPSBjb3VudFN5bWJvbHModGhpcy5idWZmZXIpICsgMTtcclxuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcImhvc3RcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5idWZmZXIgKz0gY1N0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIGhvc3RuYW1lXCJdID1cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIGhvc3RcIl0gPSBmdW5jdGlvbiBwYXJzZUhvc3ROYW1lKGMsIGNTdHIpIHtcclxuICBpZiAodGhpcy5zdGF0ZU92ZXJyaWRlICYmIHRoaXMudXJsLnNjaGVtZSA9PT0gXCJmaWxlXCIpIHtcclxuICAgIC0tdGhpcy5wb2ludGVyO1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwiZmlsZSBob3N0XCI7XHJcbiAgfSBlbHNlIGlmIChjID09PSA1OCAmJiAhdGhpcy5hcnJGbGFnKSB7XHJcbiAgICBpZiAodGhpcy5idWZmZXIgPT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaG9zdCA9IHBhcnNlSG9zdCh0aGlzLmJ1ZmZlciwgaXNTcGVjaWFsKHRoaXMudXJsKSk7XHJcbiAgICBpZiAoaG9zdCA9PT0gZmFpbHVyZSkge1xyXG4gICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVybC5ob3N0ID0gaG9zdDtcclxuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcInBvcnRcIjtcclxuICAgIGlmICh0aGlzLnN0YXRlT3ZlcnJpZGUgPT09IFwiaG9zdG5hbWVcIikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChpc05hTihjKSB8fCBjID09PSA0NyB8fCBjID09PSA2MyB8fCBjID09PSAzNSB8fFxyXG4gICAgICAgICAgICAgKGlzU3BlY2lhbCh0aGlzLnVybCkgJiYgYyA9PT0gOTIpKSB7XHJcbiAgICAtLXRoaXMucG9pbnRlcjtcclxuICAgIGlmIChpc1NwZWNpYWwodGhpcy51cmwpICYmIHRoaXMuYnVmZmVyID09PSBcIlwiKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlT3ZlcnJpZGUgJiYgdGhpcy5idWZmZXIgPT09IFwiXCIgJiZcclxuICAgICAgICAgICAgICAgKGluY2x1ZGVzQ3JlZGVudGlhbHModGhpcy51cmwpIHx8IHRoaXMudXJsLnBvcnQgIT09IG51bGwpKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBob3N0ID0gcGFyc2VIb3N0KHRoaXMuYnVmZmVyLCBpc1NwZWNpYWwodGhpcy51cmwpKTtcclxuICAgIGlmIChob3N0ID09PSBmYWlsdXJlKSB7XHJcbiAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXJsLmhvc3QgPSBob3N0O1xyXG4gICAgdGhpcy5idWZmZXIgPSBcIlwiO1xyXG4gICAgdGhpcy5zdGF0ZSA9IFwicGF0aCBzdGFydFwiO1xyXG4gICAgaWYgKHRoaXMuc3RhdGVPdmVycmlkZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChjID09PSA5MSkge1xyXG4gICAgICB0aGlzLmFyckZsYWcgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChjID09PSA5Mykge1xyXG4gICAgICB0aGlzLmFyckZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuYnVmZmVyICs9IGNTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBwb3J0XCJdID0gZnVuY3Rpb24gcGFyc2VQb3J0KGMsIGNTdHIpIHtcclxuICBpZiAoaXNBU0NJSURpZ2l0KGMpKSB7XHJcbiAgICB0aGlzLmJ1ZmZlciArPSBjU3RyO1xyXG4gIH0gZWxzZSBpZiAoaXNOYU4oYykgfHwgYyA9PT0gNDcgfHwgYyA9PT0gNjMgfHwgYyA9PT0gMzUgfHxcclxuICAgICAgICAgICAgIChpc1NwZWNpYWwodGhpcy51cmwpICYmIGMgPT09IDkyKSB8fFxyXG4gICAgICAgICAgICAgdGhpcy5zdGF0ZU92ZXJyaWRlKSB7XHJcbiAgICBpZiAodGhpcy5idWZmZXIgIT09IFwiXCIpIHtcclxuICAgICAgY29uc3QgcG9ydCA9IHBhcnNlSW50KHRoaXMuYnVmZmVyKTtcclxuICAgICAgaWYgKHBvcnQgPiBNYXRoLnBvdygyLCAxNikgLSAxKSB7XHJcbiAgICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZmFpbHVyZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVybC5wb3J0ID0gcG9ydCA9PT0gZGVmYXVsdFBvcnQodGhpcy51cmwuc2NoZW1lKSA/IG51bGwgOiBwb3J0O1xyXG4gICAgICB0aGlzLmJ1ZmZlciA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zdGF0ZU92ZXJyaWRlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUgPSBcInBhdGggc3RhcnRcIjtcclxuICAgIC0tdGhpcy5wb2ludGVyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgcmV0dXJuIGZhaWx1cmU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGZpbGVPdGhlcndpc2VDb2RlUG9pbnRzID0gbmV3IFNldChbNDcsIDkyLCA2MywgMzVdKTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBmaWxlXCJdID0gZnVuY3Rpb24gcGFyc2VGaWxlKGMpIHtcclxuICB0aGlzLnVybC5zY2hlbWUgPSBcImZpbGVcIjtcclxuXHJcbiAgaWYgKGMgPT09IDQ3IHx8IGMgPT09IDkyKSB7XHJcbiAgICBpZiAoYyA9PT0gOTIpIHtcclxuICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUgPSBcImZpbGUgc2xhc2hcIjtcclxuICB9IGVsc2UgaWYgKHRoaXMuYmFzZSAhPT0gbnVsbCAmJiB0aGlzLmJhc2Uuc2NoZW1lID09PSBcImZpbGVcIikge1xyXG4gICAgaWYgKGlzTmFOKGMpKSB7XHJcbiAgICAgIHRoaXMudXJsLmhvc3QgPSB0aGlzLmJhc2UuaG9zdDtcclxuICAgICAgdGhpcy51cmwucGF0aCA9IHRoaXMuYmFzZS5wYXRoLnNsaWNlKCk7XHJcbiAgICAgIHRoaXMudXJsLnF1ZXJ5ID0gdGhpcy5iYXNlLnF1ZXJ5O1xyXG4gICAgfSBlbHNlIGlmIChjID09PSA2Mykge1xyXG4gICAgICB0aGlzLnVybC5ob3N0ID0gdGhpcy5iYXNlLmhvc3Q7XHJcbiAgICAgIHRoaXMudXJsLnBhdGggPSB0aGlzLmJhc2UucGF0aC5zbGljZSgpO1xyXG4gICAgICB0aGlzLnVybC5xdWVyeSA9IFwiXCI7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcInF1ZXJ5XCI7XHJcbiAgICB9IGVsc2UgaWYgKGMgPT09IDM1KSB7XHJcbiAgICAgIHRoaXMudXJsLmhvc3QgPSB0aGlzLmJhc2UuaG9zdDtcclxuICAgICAgdGhpcy51cmwucGF0aCA9IHRoaXMuYmFzZS5wYXRoLnNsaWNlKCk7XHJcbiAgICAgIHRoaXMudXJsLnF1ZXJ5ID0gdGhpcy5iYXNlLnF1ZXJ5O1xyXG4gICAgICB0aGlzLnVybC5mcmFnbWVudCA9IFwiXCI7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcImZyYWdtZW50XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5pbnB1dC5sZW5ndGggLSB0aGlzLnBvaW50ZXIgLSAxID09PSAwIHx8IC8vIHJlbWFpbmluZyBjb25zaXN0cyBvZiAwIGNvZGUgcG9pbnRzXHJcbiAgICAgICAgICAhaXNXaW5kb3dzRHJpdmVMZXR0ZXJDb2RlUG9pbnRzKGMsIHRoaXMuaW5wdXRbdGhpcy5wb2ludGVyICsgMV0pIHx8XHJcbiAgICAgICAgICAodGhpcy5pbnB1dC5sZW5ndGggLSB0aGlzLnBvaW50ZXIgLSAxID49IDIgJiYgLy8gcmVtYWluaW5nIGhhcyBhdCBsZWFzdCAyIGNvZGUgcG9pbnRzXHJcbiAgICAgICAgICAgIWZpbGVPdGhlcndpc2VDb2RlUG9pbnRzLmhhcyh0aGlzLmlucHV0W3RoaXMucG9pbnRlciArIDJdKSkpIHtcclxuICAgICAgICB0aGlzLnVybC5ob3N0ID0gdGhpcy5iYXNlLmhvc3Q7XHJcbiAgICAgICAgdGhpcy51cmwucGF0aCA9IHRoaXMuYmFzZS5wYXRoLnNsaWNlKCk7XHJcbiAgICAgICAgc2hvcnRlblBhdGgodGhpcy51cmwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcInBhdGhcIjtcclxuICAgICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuc3RhdGUgPSBcInBhdGhcIjtcclxuICAgIC0tdGhpcy5wb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5VUkxTdGF0ZU1hY2hpbmUucHJvdG90eXBlW1wicGFyc2UgZmlsZSBzbGFzaFwiXSA9IGZ1bmN0aW9uIHBhcnNlRmlsZVNsYXNoKGMpIHtcclxuICBpZiAoYyA9PT0gNDcgfHwgYyA9PT0gOTIpIHtcclxuICAgIGlmIChjID09PSA5Mikge1xyXG4gICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGF0ZSA9IFwiZmlsZSBob3N0XCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh0aGlzLmJhc2UgIT09IG51bGwgJiYgdGhpcy5iYXNlLnNjaGVtZSA9PT0gXCJmaWxlXCIpIHtcclxuICAgICAgaWYgKGlzTm9ybWFsaXplZFdpbmRvd3NEcml2ZUxldHRlclN0cmluZyh0aGlzLmJhc2UucGF0aFswXSkpIHtcclxuICAgICAgICB0aGlzLnVybC5wYXRoLnB1c2godGhpcy5iYXNlLnBhdGhbMF0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudXJsLmhvc3QgPSB0aGlzLmJhc2UuaG9zdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5zdGF0ZSA9IFwicGF0aFwiO1xyXG4gICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBmaWxlIGhvc3RcIl0gPSBmdW5jdGlvbiBwYXJzZUZpbGVIb3N0KGMsIGNTdHIpIHtcclxuICBpZiAoaXNOYU4oYykgfHwgYyA9PT0gNDcgfHwgYyA9PT0gOTIgfHwgYyA9PT0gNjMgfHwgYyA9PT0gMzUpIHtcclxuICAgIC0tdGhpcy5wb2ludGVyO1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlT3ZlcnJpZGUgJiYgaXNXaW5kb3dzRHJpdmVMZXR0ZXJTdHJpbmcodGhpcy5idWZmZXIpKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcInBhdGhcIjtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5idWZmZXIgPT09IFwiXCIpIHtcclxuICAgICAgdGhpcy51cmwuaG9zdCA9IFwiXCI7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlT3ZlcnJpZGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zdGF0ZSA9IFwicGF0aCBzdGFydFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGhvc3QgPSBwYXJzZUhvc3QodGhpcy5idWZmZXIsIGlzU3BlY2lhbCh0aGlzLnVybCkpO1xyXG4gICAgICBpZiAoaG9zdCA9PT0gZmFpbHVyZSkge1xyXG4gICAgICAgIHJldHVybiBmYWlsdXJlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChob3N0ID09PSBcImxvY2FsaG9zdFwiKSB7XHJcbiAgICAgICAgaG9zdCA9IFwiXCI7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy51cmwuaG9zdCA9IGhvc3Q7XHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZU92ZXJyaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmJ1ZmZlciA9IFwiXCI7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSBcInBhdGggc3RhcnRcIjtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5idWZmZXIgKz0gY1N0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuVVJMU3RhdGVNYWNoaW5lLnByb3RvdHlwZVtcInBhcnNlIHBhdGggc3RhcnRcIl0gPSBmdW5jdGlvbiBwYXJzZVBhdGhTdGFydChjKSB7XHJcbiAgaWYgKGlzU3BlY2lhbCh0aGlzLnVybCkpIHtcclxuICAgIGlmIChjID09PSA5Mikge1xyXG4gICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGF0ZSA9IFwicGF0aFwiO1xyXG5cclxuICAgIGlmIChjICE9PSA0NyAmJiBjICE9PSA5Mikge1xyXG4gICAgICAtLXRoaXMucG9pbnRlcjtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlT3ZlcnJpZGUgJiYgYyA9PT0gNjMpIHtcclxuICAgIHRoaXMudXJsLnF1ZXJ5ID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcInF1ZXJ5XCI7XHJcbiAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZU92ZXJyaWRlICYmIGMgPT09IDM1KSB7XHJcbiAgICB0aGlzLnVybC5mcmFnbWVudCA9IFwiXCI7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJmcmFnbWVudFwiO1xyXG4gIH0gZWxzZSBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJwYXRoXCI7XHJcbiAgICBpZiAoYyAhPT0gNDcpIHtcclxuICAgICAgLS10aGlzLnBvaW50ZXI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBwYXRoXCJdID0gZnVuY3Rpb24gcGFyc2VQYXRoKGMpIHtcclxuICBpZiAoaXNOYU4oYykgfHwgYyA9PT0gNDcgfHwgKGlzU3BlY2lhbCh0aGlzLnVybCkgJiYgYyA9PT0gOTIpIHx8XHJcbiAgICAgICghdGhpcy5zdGF0ZU92ZXJyaWRlICYmIChjID09PSA2MyB8fCBjID09PSAzNSkpKSB7XHJcbiAgICBpZiAoaXNTcGVjaWFsKHRoaXMudXJsKSAmJiBjID09PSA5Mikge1xyXG4gICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0RvdWJsZURvdCh0aGlzLmJ1ZmZlcikpIHtcclxuICAgICAgc2hvcnRlblBhdGgodGhpcy51cmwpO1xyXG4gICAgICBpZiAoYyAhPT0gNDcgJiYgIShpc1NwZWNpYWwodGhpcy51cmwpICYmIGMgPT09IDkyKSkge1xyXG4gICAgICAgIHRoaXMudXJsLnBhdGgucHVzaChcIlwiKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc1NpbmdsZURvdCh0aGlzLmJ1ZmZlcikgJiYgYyAhPT0gNDcgJiZcclxuICAgICAgICAgICAgICAgIShpc1NwZWNpYWwodGhpcy51cmwpICYmIGMgPT09IDkyKSkge1xyXG4gICAgICB0aGlzLnVybC5wYXRoLnB1c2goXCJcIik7XHJcbiAgICB9IGVsc2UgaWYgKCFpc1NpbmdsZURvdCh0aGlzLmJ1ZmZlcikpIHtcclxuICAgICAgaWYgKHRoaXMudXJsLnNjaGVtZSA9PT0gXCJmaWxlXCIgJiYgdGhpcy51cmwucGF0aC5sZW5ndGggPT09IDAgJiYgaXNXaW5kb3dzRHJpdmVMZXR0ZXJTdHJpbmcodGhpcy5idWZmZXIpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXJsLmhvc3QgIT09IFwiXCIgJiYgdGhpcy51cmwuaG9zdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMudXJsLmhvc3QgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyWzBdICsgXCI6XCI7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy51cmwucGF0aC5wdXNoKHRoaXMuYnVmZmVyKTtcclxuICAgIH1cclxuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcclxuICAgIGlmICh0aGlzLnVybC5zY2hlbWUgPT09IFwiZmlsZVwiICYmIChjID09PSB1bmRlZmluZWQgfHwgYyA9PT0gNjMgfHwgYyA9PT0gMzUpKSB7XHJcbiAgICAgIHdoaWxlICh0aGlzLnVybC5wYXRoLmxlbmd0aCA+IDEgJiYgdGhpcy51cmwucGF0aFswXSA9PT0gXCJcIikge1xyXG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICAgICAgdGhpcy51cmwucGF0aC5zaGlmdCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYyA9PT0gNjMpIHtcclxuICAgICAgdGhpcy51cmwucXVlcnkgPSBcIlwiO1xyXG4gICAgICB0aGlzLnN0YXRlID0gXCJxdWVyeVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGMgPT09IDM1KSB7XHJcbiAgICAgIHRoaXMudXJsLmZyYWdtZW50ID0gXCJcIjtcclxuICAgICAgdGhpcy5zdGF0ZSA9IFwiZnJhZ21lbnRcIjtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gVE9ETzogSWYgYyBpcyBub3QgYSBVUkwgY29kZSBwb2ludCBhbmQgbm90IFwiJVwiLCBwYXJzZSBlcnJvci5cclxuXHJcbiAgICBpZiAoYyA9PT0gMzcgJiZcclxuICAgICAgKCFpc0FTQ0lJSGV4KHRoaXMuaW5wdXRbdGhpcy5wb2ludGVyICsgMV0pIHx8XHJcbiAgICAgICAgIWlzQVNDSUlIZXgodGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAyXSkpKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idWZmZXIgKz0gcGVyY2VudEVuY29kZUNoYXIoYywgaXNQYXRoUGVyY2VudEVuY29kZSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBjYW5ub3QtYmUtYS1iYXNlLVVSTCBwYXRoXCJdID0gZnVuY3Rpb24gcGFyc2VDYW5ub3RCZUFCYXNlVVJMUGF0aChjKSB7XHJcbiAgaWYgKGMgPT09IDYzKSB7XHJcbiAgICB0aGlzLnVybC5xdWVyeSA9IFwiXCI7XHJcbiAgICB0aGlzLnN0YXRlID0gXCJxdWVyeVwiO1xyXG4gIH0gZWxzZSBpZiAoYyA9PT0gMzUpIHtcclxuICAgIHRoaXMudXJsLmZyYWdtZW50ID0gXCJcIjtcclxuICAgIHRoaXMuc3RhdGUgPSBcImZyYWdtZW50XCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFRPRE86IEFkZDogbm90IGEgVVJMIGNvZGUgcG9pbnRcclxuICAgIGlmICghaXNOYU4oYykgJiYgYyAhPT0gMzcpIHtcclxuICAgICAgdGhpcy5wYXJzZUVycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYyA9PT0gMzcgJiZcclxuICAgICAgICAoIWlzQVNDSUlIZXgodGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAxXSkgfHxcclxuICAgICAgICAgIWlzQVNDSUlIZXgodGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAyXSkpKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc05hTihjKSkge1xyXG4gICAgICB0aGlzLnVybC5wYXRoWzBdID0gdGhpcy51cmwucGF0aFswXSArIHBlcmNlbnRFbmNvZGVDaGFyKGMsIGlzQzBDb250cm9sUGVyY2VudEVuY29kZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBxdWVyeVwiXSA9IGZ1bmN0aW9uIHBhcnNlUXVlcnkoYywgY1N0cikge1xyXG4gIGlmIChpc05hTihjKSB8fCAoIXRoaXMuc3RhdGVPdmVycmlkZSAmJiBjID09PSAzNSkpIHtcclxuICAgIGlmICghaXNTcGVjaWFsKHRoaXMudXJsKSB8fCB0aGlzLnVybC5zY2hlbWUgPT09IFwid3NcIiB8fCB0aGlzLnVybC5zY2hlbWUgPT09IFwid3NzXCIpIHtcclxuICAgICAgdGhpcy5lbmNvZGluZ092ZXJyaWRlID0gXCJ1dGYtOFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXIpOyAvLyBUT0RPOiBVc2UgZW5jb2Rpbmcgb3ZlcnJpZGUgaW5zdGVhZFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgaWYgKGJ1ZmZlcltpXSA8IDB4MjEgfHwgYnVmZmVyW2ldID4gMHg3RSB8fCBidWZmZXJbaV0gPT09IDB4MjIgfHwgYnVmZmVyW2ldID09PSAweDIzIHx8XHJcbiAgICAgICAgICBidWZmZXJbaV0gPT09IDB4M0MgfHwgYnVmZmVyW2ldID09PSAweDNFKSB7XHJcbiAgICAgICAgdGhpcy51cmwucXVlcnkgKz0gcGVyY2VudEVuY29kZShidWZmZXJbaV0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudXJsLnF1ZXJ5ICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KGJ1ZmZlcltpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1ZmZlciA9IFwiXCI7XHJcbiAgICBpZiAoYyA9PT0gMzUpIHtcclxuICAgICAgdGhpcy51cmwuZnJhZ21lbnQgPSBcIlwiO1xyXG4gICAgICB0aGlzLnN0YXRlID0gXCJmcmFnbWVudFwiO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBUT0RPOiBJZiBjIGlzIG5vdCBhIFVSTCBjb2RlIHBvaW50IGFuZCBub3QgXCIlXCIsIHBhcnNlIGVycm9yLlxyXG4gICAgaWYgKGMgPT09IDM3ICYmXHJcbiAgICAgICghaXNBU0NJSUhleCh0aGlzLmlucHV0W3RoaXMucG9pbnRlciArIDFdKSB8fFxyXG4gICAgICAgICFpc0FTQ0lJSGV4KHRoaXMuaW5wdXRbdGhpcy5wb2ludGVyICsgMl0pKSkge1xyXG4gICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnVmZmVyICs9IGNTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblVSTFN0YXRlTWFjaGluZS5wcm90b3R5cGVbXCJwYXJzZSBmcmFnbWVudFwiXSA9IGZ1bmN0aW9uIHBhcnNlRnJhZ21lbnQoYykge1xyXG4gIGlmIChpc05hTihjKSkgeyAvLyBkbyBub3RoaW5nXHJcbiAgfSBlbHNlIGlmIChjID09PSAweDApIHtcclxuICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFRPRE86IElmIGMgaXMgbm90IGEgVVJMIGNvZGUgcG9pbnQgYW5kIG5vdCBcIiVcIiwgcGFyc2UgZXJyb3IuXHJcbiAgICBpZiAoYyA9PT0gMzcgJiZcclxuICAgICAgKCFpc0FTQ0lJSGV4KHRoaXMuaW5wdXRbdGhpcy5wb2ludGVyICsgMV0pIHx8XHJcbiAgICAgICAgIWlzQVNDSUlIZXgodGhpcy5pbnB1dFt0aGlzLnBvaW50ZXIgKyAyXSkpKSB7XHJcbiAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cmwuZnJhZ21lbnQgKz0gcGVyY2VudEVuY29kZUNoYXIoYywgaXNDMENvbnRyb2xQZXJjZW50RW5jb2RlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2VyaWFsaXplVVJMKHVybCwgZXhjbHVkZUZyYWdtZW50KSB7XHJcbiAgbGV0IG91dHB1dCA9IHVybC5zY2hlbWUgKyBcIjpcIjtcclxuICBpZiAodXJsLmhvc3QgIT09IG51bGwpIHtcclxuICAgIG91dHB1dCArPSBcIi8vXCI7XHJcblxyXG4gICAgaWYgKHVybC51c2VybmFtZSAhPT0gXCJcIiB8fCB1cmwucGFzc3dvcmQgIT09IFwiXCIpIHtcclxuICAgICAgb3V0cHV0ICs9IHVybC51c2VybmFtZTtcclxuICAgICAgaWYgKHVybC5wYXNzd29yZCAhPT0gXCJcIikge1xyXG4gICAgICAgIG91dHB1dCArPSBcIjpcIiArIHVybC5wYXNzd29yZDtcclxuICAgICAgfVxyXG4gICAgICBvdXRwdXQgKz0gXCJAXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb3V0cHV0ICs9IHNlcmlhbGl6ZUhvc3QodXJsLmhvc3QpO1xyXG5cclxuICAgIGlmICh1cmwucG9ydCAhPT0gbnVsbCkge1xyXG4gICAgICBvdXRwdXQgKz0gXCI6XCIgKyB1cmwucG9ydDtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHVybC5ob3N0ID09PSBudWxsICYmIHVybC5zY2hlbWUgPT09IFwiZmlsZVwiKSB7XHJcbiAgICBvdXRwdXQgKz0gXCIvL1wiO1xyXG4gIH1cclxuXHJcbiAgaWYgKHVybC5jYW5ub3RCZUFCYXNlVVJMKSB7XHJcbiAgICBvdXRwdXQgKz0gdXJsLnBhdGhbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIGZvciAoY29uc3Qgc3RyaW5nIG9mIHVybC5wYXRoKSB7XHJcbiAgICAgIG91dHB1dCArPSBcIi9cIiArIHN0cmluZztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICh1cmwucXVlcnkgIT09IG51bGwpIHtcclxuICAgIG91dHB1dCArPSBcIj9cIiArIHVybC5xdWVyeTtcclxuICB9XHJcblxyXG4gIGlmICghZXhjbHVkZUZyYWdtZW50ICYmIHVybC5mcmFnbWVudCAhPT0gbnVsbCkge1xyXG4gICAgb3V0cHV0ICs9IFwiI1wiICsgdXJsLmZyYWdtZW50O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dHB1dDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VyaWFsaXplT3JpZ2luKHR1cGxlKSB7XHJcbiAgbGV0IHJlc3VsdCA9IHR1cGxlLnNjaGVtZSArIFwiOi8vXCI7XHJcbiAgcmVzdWx0ICs9IHNlcmlhbGl6ZUhvc3QodHVwbGUuaG9zdCk7XHJcblxyXG4gIGlmICh0dXBsZS5wb3J0ICE9PSBudWxsKSB7XHJcbiAgICByZXN1bHQgKz0gXCI6XCIgKyB0dXBsZS5wb3J0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuc2VyaWFsaXplVVJMID0gc2VyaWFsaXplVVJMO1xyXG5cclxubW9kdWxlLmV4cG9ydHMuc2VyaWFsaXplVVJMT3JpZ2luID0gZnVuY3Rpb24gKHVybCkge1xyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC11cmwtb3JpZ2luXHJcbiAgc3dpdGNoICh1cmwuc2NoZW1lKSB7XHJcbiAgICBjYXNlIFwiYmxvYlwiOlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cy5zZXJpYWxpemVVUkxPcmlnaW4obW9kdWxlLmV4cG9ydHMucGFyc2VVUkwodXJsLnBhdGhbMF0pKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIHNlcmlhbGl6aW5nIGFuIG9wYXF1ZSBvcmlnaW4gcmV0dXJucyBcIm51bGxcIlxyXG4gICAgICAgIHJldHVybiBcIm51bGxcIjtcclxuICAgICAgfVxyXG4gICAgY2FzZSBcImZ0cFwiOlxyXG4gICAgY2FzZSBcImdvcGhlclwiOlxyXG4gICAgY2FzZSBcImh0dHBcIjpcclxuICAgIGNhc2UgXCJodHRwc1wiOlxyXG4gICAgY2FzZSBcIndzXCI6XHJcbiAgICBjYXNlIFwid3NzXCI6XHJcbiAgICAgIHJldHVybiBzZXJpYWxpemVPcmlnaW4oe1xyXG4gICAgICAgIHNjaGVtZTogdXJsLnNjaGVtZSxcclxuICAgICAgICBob3N0OiB1cmwuaG9zdCxcclxuICAgICAgICBwb3J0OiB1cmwucG9ydFxyXG4gICAgICB9KTtcclxuICAgIGNhc2UgXCJmaWxlXCI6XHJcbiAgICAgIC8vIHNwZWMgc2F5cyBcImV4ZXJjaXNlIHRvIHRoZSByZWFkZXJcIiwgY2hyb21lIHNheXMgXCJmaWxlOi8vXCJcclxuICAgICAgcmV0dXJuIFwiZmlsZTovL1wiO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgLy8gc2VyaWFsaXppbmcgYW4gb3BhcXVlIG9yaWdpbiByZXR1cm5zIFwibnVsbFwiXHJcbiAgICAgIHJldHVybiBcIm51bGxcIjtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5iYXNpY1VSTFBhcnNlID0gZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7XHJcbiAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgb3B0aW9ucyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdXNtID0gbmV3IFVSTFN0YXRlTWFjaGluZShpbnB1dCwgb3B0aW9ucy5iYXNlVVJMLCBvcHRpb25zLmVuY29kaW5nT3ZlcnJpZGUsIG9wdGlvbnMudXJsLCBvcHRpb25zLnN0YXRlT3ZlcnJpZGUpO1xyXG4gIGlmICh1c20uZmFpbHVyZSkge1xyXG4gICAgcmV0dXJuIFwiZmFpbHVyZVwiO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHVzbS51cmw7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5zZXRUaGVVc2VybmFtZSA9IGZ1bmN0aW9uICh1cmwsIHVzZXJuYW1lKSB7XHJcbiAgdXJsLnVzZXJuYW1lID0gXCJcIjtcclxuICBjb25zdCBkZWNvZGVkID0gcHVueWNvZGUudWNzMi5kZWNvZGUodXNlcm5hbWUpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7ICsraSkge1xyXG4gICAgdXJsLnVzZXJuYW1lICs9IHBlcmNlbnRFbmNvZGVDaGFyKGRlY29kZWRbaV0sIGlzVXNlcmluZm9QZXJjZW50RW5jb2RlKTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5zZXRUaGVQYXNzd29yZCA9IGZ1bmN0aW9uICh1cmwsIHBhc3N3b3JkKSB7XHJcbiAgdXJsLnBhc3N3b3JkID0gXCJcIjtcclxuICBjb25zdCBkZWNvZGVkID0gcHVueWNvZGUudWNzMi5kZWNvZGUocGFzc3dvcmQpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7ICsraSkge1xyXG4gICAgdXJsLnBhc3N3b3JkICs9IHBlcmNlbnRFbmNvZGVDaGFyKGRlY29kZWRbaV0sIGlzVXNlcmluZm9QZXJjZW50RW5jb2RlKTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5zZXJpYWxpemVIb3N0ID0gc2VyaWFsaXplSG9zdDtcclxuXHJcbm1vZHVsZS5leHBvcnRzLmNhbm5vdEhhdmVBVXNlcm5hbWVQYXNzd29yZFBvcnQgPSBjYW5ub3RIYXZlQVVzZXJuYW1lUGFzc3dvcmRQb3J0O1xyXG5cclxubW9kdWxlLmV4cG9ydHMuc2VyaWFsaXplSW50ZWdlciA9IGZ1bmN0aW9uIChpbnRlZ2VyKSB7XHJcbiAgcmV0dXJuIFN0cmluZyhpbnRlZ2VyKTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzLnBhcnNlVVJMID0gZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7XHJcbiAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgb3B0aW9ucyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLy8gV2UgZG9uJ3QgaGFuZGxlIGJsb2JzLCBzbyB0aGlzIGp1c3QgZGVsZWdhdGVzOlxyXG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cy5iYXNpY1VSTFBhcnNlKGlucHV0LCB7IGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCwgZW5jb2RpbmdPdmVycmlkZTogb3B0aW9ucy5lbmNvZGluZ092ZXJyaWRlIH0pO1xyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHVzbSA9IHJlcXVpcmUoXCIuL3VybC1zdGF0ZS1tYWNoaW5lXCIpO1xuXG5leHBvcnRzLmltcGxlbWVudGF0aW9uID0gY2xhc3MgVVJMSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yQXJncykge1xuICAgIGNvbnN0IHVybCA9IGNvbnN0cnVjdG9yQXJnc1swXTtcbiAgICBjb25zdCBiYXNlID0gY29uc3RydWN0b3JBcmdzWzFdO1xuXG4gICAgbGV0IHBhcnNlZEJhc2UgPSBudWxsO1xuICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhcnNlZEJhc2UgPSB1c20uYmFzaWNVUkxQYXJzZShiYXNlKTtcbiAgICAgIGlmIChwYXJzZWRCYXNlID09PSBcImZhaWx1cmVcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBiYXNlIFVSTFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRVUkwgPSB1c20uYmFzaWNVUkxQYXJzZSh1cmwsIHsgYmFzZVVSTDogcGFyc2VkQmFzZSB9KTtcbiAgICBpZiAocGFyc2VkVVJMID09PSBcImZhaWx1cmVcIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgVVJMXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3VybCA9IHBhcnNlZFVSTDtcblxuICAgIC8vIFRPRE86IHF1ZXJ5IHN0dWZmXG4gIH1cblxuICBnZXQgaHJlZigpIHtcbiAgICByZXR1cm4gdXNtLnNlcmlhbGl6ZVVSTCh0aGlzLl91cmwpO1xuICB9XG5cbiAgc2V0IGhyZWYodikge1xuICAgIGNvbnN0IHBhcnNlZFVSTCA9IHVzbS5iYXNpY1VSTFBhcnNlKHYpO1xuICAgIGlmIChwYXJzZWRVUkwgPT09IFwiZmFpbHVyZVwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBVUkxcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fdXJsID0gcGFyc2VkVVJMO1xuICB9XG5cbiAgZ2V0IG9yaWdpbigpIHtcbiAgICByZXR1cm4gdXNtLnNlcmlhbGl6ZVVSTE9yaWdpbih0aGlzLl91cmwpO1xuICB9XG5cbiAgZ2V0IHByb3RvY29sKCkge1xuICAgIHJldHVybiB0aGlzLl91cmwuc2NoZW1lICsgXCI6XCI7XG4gIH1cblxuICBzZXQgcHJvdG9jb2wodikge1xuICAgIHVzbS5iYXNpY1VSTFBhcnNlKHYgKyBcIjpcIiwgeyB1cmw6IHRoaXMuX3VybCwgc3RhdGVPdmVycmlkZTogXCJzY2hlbWUgc3RhcnRcIiB9KTtcbiAgfVxuXG4gIGdldCB1c2VybmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsLnVzZXJuYW1lO1xuICB9XG5cbiAgc2V0IHVzZXJuYW1lKHYpIHtcbiAgICBpZiAodXNtLmNhbm5vdEhhdmVBVXNlcm5hbWVQYXNzd29yZFBvcnQodGhpcy5fdXJsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVzbS5zZXRUaGVVc2VybmFtZSh0aGlzLl91cmwsIHYpO1xuICB9XG5cbiAgZ2V0IHBhc3N3b3JkKCkge1xuICAgIHJldHVybiB0aGlzLl91cmwucGFzc3dvcmQ7XG4gIH1cblxuICBzZXQgcGFzc3dvcmQodikge1xuICAgIGlmICh1c20uY2Fubm90SGF2ZUFVc2VybmFtZVBhc3N3b3JkUG9ydCh0aGlzLl91cmwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXNtLnNldFRoZVBhc3N3b3JkKHRoaXMuX3VybCwgdik7XG4gIH1cblxuICBnZXQgaG9zdCgpIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLl91cmw7XG5cbiAgICBpZiAodXJsLmhvc3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIGlmICh1cmwucG9ydCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVzbS5zZXJpYWxpemVIb3N0KHVybC5ob3N0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNtLnNlcmlhbGl6ZUhvc3QodXJsLmhvc3QpICsgXCI6XCIgKyB1c20uc2VyaWFsaXplSW50ZWdlcih1cmwucG9ydCk7XG4gIH1cblxuICBzZXQgaG9zdCh2KSB7XG4gICAgaWYgKHRoaXMuX3VybC5jYW5ub3RCZUFCYXNlVVJMKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXNtLmJhc2ljVVJMUGFyc2UodiwgeyB1cmw6IHRoaXMuX3VybCwgc3RhdGVPdmVycmlkZTogXCJob3N0XCIgfSk7XG4gIH1cblxuICBnZXQgaG9zdG5hbWUoKSB7XG4gICAgaWYgKHRoaXMuX3VybC5ob3N0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNtLnNlcmlhbGl6ZUhvc3QodGhpcy5fdXJsLmhvc3QpO1xuICB9XG5cbiAgc2V0IGhvc3RuYW1lKHYpIHtcbiAgICBpZiAodGhpcy5fdXJsLmNhbm5vdEJlQUJhc2VVUkwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1c20uYmFzaWNVUkxQYXJzZSh2LCB7IHVybDogdGhpcy5fdXJsLCBzdGF0ZU92ZXJyaWRlOiBcImhvc3RuYW1lXCIgfSk7XG4gIH1cblxuICBnZXQgcG9ydCgpIHtcbiAgICBpZiAodGhpcy5fdXJsLnBvcnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiB1c20uc2VyaWFsaXplSW50ZWdlcih0aGlzLl91cmwucG9ydCk7XG4gIH1cblxuICBzZXQgcG9ydCh2KSB7XG4gICAgaWYgKHVzbS5jYW5ub3RIYXZlQVVzZXJuYW1lUGFzc3dvcmRQb3J0KHRoaXMuX3VybCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodiA9PT0gXCJcIikge1xuICAgICAgdGhpcy5fdXJsLnBvcnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c20uYmFzaWNVUkxQYXJzZSh2LCB7IHVybDogdGhpcy5fdXJsLCBzdGF0ZU92ZXJyaWRlOiBcInBvcnRcIiB9KTtcbiAgICB9XG4gIH1cblxuICBnZXQgcGF0aG5hbWUoKSB7XG4gICAgaWYgKHRoaXMuX3VybC5jYW5ub3RCZUFCYXNlVVJMKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXJsLnBhdGhbMF07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3VybC5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiL1wiICsgdGhpcy5fdXJsLnBhdGguam9pbihcIi9cIik7XG4gIH1cblxuICBzZXQgcGF0aG5hbWUodikge1xuICAgIGlmICh0aGlzLl91cmwuY2Fubm90QmVBQmFzZVVSTCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3VybC5wYXRoID0gW107XG4gICAgdXNtLmJhc2ljVVJMUGFyc2UodiwgeyB1cmw6IHRoaXMuX3VybCwgc3RhdGVPdmVycmlkZTogXCJwYXRoIHN0YXJ0XCIgfSk7XG4gIH1cblxuICBnZXQgc2VhcmNoKCkge1xuICAgIGlmICh0aGlzLl91cmwucXVlcnkgPT09IG51bGwgfHwgdGhpcy5fdXJsLnF1ZXJ5ID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCI/XCIgKyB0aGlzLl91cmwucXVlcnk7XG4gIH1cblxuICBzZXQgc2VhcmNoKHYpIHtcbiAgICAvLyBUT0RPOiBxdWVyeSBzdHVmZlxuXG4gICAgY29uc3QgdXJsID0gdGhpcy5fdXJsO1xuXG4gICAgaWYgKHYgPT09IFwiXCIpIHtcbiAgICAgIHVybC5xdWVyeSA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5wdXQgPSB2WzBdID09PSBcIj9cIiA/IHYuc3Vic3RyaW5nKDEpIDogdjtcbiAgICB1cmwucXVlcnkgPSBcIlwiO1xuICAgIHVzbS5iYXNpY1VSTFBhcnNlKGlucHV0LCB7IHVybCwgc3RhdGVPdmVycmlkZTogXCJxdWVyeVwiIH0pO1xuICB9XG5cbiAgZ2V0IGhhc2goKSB7XG4gICAgaWYgKHRoaXMuX3VybC5mcmFnbWVudCA9PT0gbnVsbCB8fCB0aGlzLl91cmwuZnJhZ21lbnQgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIiNcIiArIHRoaXMuX3VybC5mcmFnbWVudDtcbiAgfVxuXG4gIHNldCBoYXNoKHYpIHtcbiAgICBpZiAodiA9PT0gXCJcIikge1xuICAgICAgdGhpcy5fdXJsLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnB1dCA9IHZbMF0gPT09IFwiI1wiID8gdi5zdWJzdHJpbmcoMSkgOiB2O1xuICAgIHRoaXMuX3VybC5mcmFnbWVudCA9IFwiXCI7XG4gICAgdXNtLmJhc2ljVVJMUGFyc2UoaW5wdXQsIHsgdXJsOiB0aGlzLl91cmwsIHN0YXRlT3ZlcnJpZGU6IFwiZnJhZ21lbnRcIiB9KTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5ocmVmO1xuICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGNvbnZlcnNpb25zID0gcmVxdWlyZShcIndlYmlkbC1jb252ZXJzaW9uc1wiKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCBJbXBsID0gcmVxdWlyZShcIi4vL1VSTC1pbXBsLmpzXCIpO1xuXG5jb25zdCBpbXBsID0gdXRpbHMuaW1wbFN5bWJvbDtcblxuZnVuY3Rpb24gVVJMKHVybCkge1xuICBpZiAoIXRoaXMgfHwgdGhpc1tpbXBsXSB8fCAhKHRoaXMgaW5zdGFuY2VvZiBVUkwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1VSTCc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnVVJMJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgXCIgKyBhcmd1bWVudHMubGVuZ3RoICsgXCIgcHJlc2VudC5cIik7XG4gIH1cbiAgY29uc3QgYXJncyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggJiYgaSA8IDI7ICsraSkge1xuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gIH1cbiAgYXJnc1swXSA9IGNvbnZlcnNpb25zW1wiVVNWU3RyaW5nXCJdKGFyZ3NbMF0pO1xuICBpZiAoYXJnc1sxXSAhPT0gdW5kZWZpbmVkKSB7XG4gIGFyZ3NbMV0gPSBjb252ZXJzaW9uc1tcIlVTVlN0cmluZ1wiXShhcmdzWzFdKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzLnNldHVwKHRoaXMsIGFyZ3MpO1xufVxuXG5VUkwucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgaWYgKCF0aGlzIHx8ICFtb2R1bGUuZXhwb3J0cy5pcyh0aGlzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGludm9jYXRpb25cIik7XG4gIH1cbiAgY29uc3QgYXJncyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggJiYgaSA8IDA7ICsraSkge1xuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gIH1cbiAgcmV0dXJuIHRoaXNbaW1wbF0udG9KU09OLmFwcGx5KHRoaXNbaW1wbF0sIGFyZ3MpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkwucHJvdG90eXBlLCBcImhyZWZcIiwge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXNbaW1wbF0uaHJlZjtcbiAgfSxcbiAgc2V0KFYpIHtcbiAgICBWID0gY29udmVyc2lvbnNbXCJVU1ZTdHJpbmdcIl0oVik7XG4gICAgdGhpc1tpbXBsXS5ocmVmID0gVjtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuVVJMLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzIHx8ICFtb2R1bGUuZXhwb3J0cy5pcyh0aGlzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGludm9jYXRpb25cIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuaHJlZjtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkwucHJvdG90eXBlLCBcIm9yaWdpblwiLCB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpc1tpbXBsXS5vcmlnaW47XG4gIH0sXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkwucHJvdG90eXBlLCBcInByb3RvY29sXCIsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzW2ltcGxdLnByb3RvY29sO1xuICB9LFxuICBzZXQoVikge1xuICAgIFYgPSBjb252ZXJzaW9uc1tcIlVTVlN0cmluZ1wiXShWKTtcbiAgICB0aGlzW2ltcGxdLnByb3RvY29sID0gVjtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSTC5wcm90b3R5cGUsIFwidXNlcm5hbWVcIiwge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXNbaW1wbF0udXNlcm5hbWU7XG4gIH0sXG4gIHNldChWKSB7XG4gICAgViA9IGNvbnZlcnNpb25zW1wiVVNWU3RyaW5nXCJdKFYpO1xuICAgIHRoaXNbaW1wbF0udXNlcm5hbWUgPSBWO1xuICB9LFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVVJMLnByb3RvdHlwZSwgXCJwYXNzd29yZFwiLCB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpc1tpbXBsXS5wYXNzd29yZDtcbiAgfSxcbiAgc2V0KFYpIHtcbiAgICBWID0gY29udmVyc2lvbnNbXCJVU1ZTdHJpbmdcIl0oVik7XG4gICAgdGhpc1tpbXBsXS5wYXNzd29yZCA9IFY7XG4gIH0sXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkwucHJvdG90eXBlLCBcImhvc3RcIiwge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXNbaW1wbF0uaG9zdDtcbiAgfSxcbiAgc2V0KFYpIHtcbiAgICBWID0gY29udmVyc2lvbnNbXCJVU1ZTdHJpbmdcIl0oVik7XG4gICAgdGhpc1tpbXBsXS5ob3N0ID0gVjtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSTC5wcm90b3R5cGUsIFwiaG9zdG5hbWVcIiwge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXNbaW1wbF0uaG9zdG5hbWU7XG4gIH0sXG4gIHNldChWKSB7XG4gICAgViA9IGNvbnZlcnNpb25zW1wiVVNWU3RyaW5nXCJdKFYpO1xuICAgIHRoaXNbaW1wbF0uaG9zdG5hbWUgPSBWO1xuICB9LFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVVJMLnByb3RvdHlwZSwgXCJwb3J0XCIsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzW2ltcGxdLnBvcnQ7XG4gIH0sXG4gIHNldChWKSB7XG4gICAgViA9IGNvbnZlcnNpb25zW1wiVVNWU3RyaW5nXCJdKFYpO1xuICAgIHRoaXNbaW1wbF0ucG9ydCA9IFY7XG4gIH0sXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkwucHJvdG90eXBlLCBcInBhdGhuYW1lXCIsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzW2ltcGxdLnBhdGhuYW1lO1xuICB9LFxuICBzZXQoVikge1xuICAgIFYgPSBjb252ZXJzaW9uc1tcIlVTVlN0cmluZ1wiXShWKTtcbiAgICB0aGlzW2ltcGxdLnBhdGhuYW1lID0gVjtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSTC5wcm90b3R5cGUsIFwic2VhcmNoXCIsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzW2ltcGxdLnNlYXJjaDtcbiAgfSxcbiAgc2V0KFYpIHtcbiAgICBWID0gY29udmVyc2lvbnNbXCJVU1ZTdHJpbmdcIl0oVik7XG4gICAgdGhpc1tpbXBsXS5zZWFyY2ggPSBWO1xuICB9LFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVVJMLnByb3RvdHlwZSwgXCJoYXNoXCIsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzW2ltcGxdLmhhc2g7XG4gIH0sXG4gIHNldChWKSB7XG4gICAgViA9IGNvbnZlcnNpb25zW1wiVVNWU3RyaW5nXCJdKFYpO1xuICAgIHRoaXNbaW1wbF0uaGFzaCA9IFY7XG4gIH0sXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiBvYmpbaW1wbF0gaW5zdGFuY2VvZiBJbXBsLmltcGxlbWVudGF0aW9uO1xuICB9LFxuICBjcmVhdGUoY29uc3RydWN0b3JBcmdzLCBwcml2YXRlRGF0YSkge1xuICAgIGxldCBvYmogPSBPYmplY3QuY3JlYXRlKFVSTC5wcm90b3R5cGUpO1xuICAgIHRoaXMuc2V0dXAob2JqLCBjb25zdHJ1Y3RvckFyZ3MsIHByaXZhdGVEYXRhKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBzZXR1cChvYmosIGNvbnN0cnVjdG9yQXJncywgcHJpdmF0ZURhdGEpIHtcbiAgICBpZiAoIXByaXZhdGVEYXRhKSBwcml2YXRlRGF0YSA9IHt9O1xuICAgIHByaXZhdGVEYXRhLndyYXBwZXIgPSBvYmo7XG5cbiAgICBvYmpbaW1wbF0gPSBuZXcgSW1wbC5pbXBsZW1lbnRhdGlvbihjb25zdHJ1Y3RvckFyZ3MsIHByaXZhdGVEYXRhKTtcbiAgICBvYmpbaW1wbF1bdXRpbHMud3JhcHBlclN5bWJvbF0gPSBvYmo7XG4gIH0sXG4gIGludGVyZmFjZTogVVJMLFxuICBleHBvc2U6IHtcbiAgICBXaW5kb3c6IHsgVVJMOiBVUkwgfSxcbiAgICBXb3JrZXI6IHsgVVJMOiBVUkwgfVxuICB9XG59O1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5VUkwgPSByZXF1aXJlKFwiLi9VUkxcIikuaW50ZXJmYWNlO1xuZXhwb3J0cy5zZXJpYWxpemVVUkwgPSByZXF1aXJlKFwiLi91cmwtc3RhdGUtbWFjaGluZVwiKS5zZXJpYWxpemVVUkw7XG5leHBvcnRzLnNlcmlhbGl6ZVVSTE9yaWdpbiA9IHJlcXVpcmUoXCIuL3VybC1zdGF0ZS1tYWNoaW5lXCIpLnNlcmlhbGl6ZVVSTE9yaWdpbjtcbmV4cG9ydHMuYmFzaWNVUkxQYXJzZSA9IHJlcXVpcmUoXCIuL3VybC1zdGF0ZS1tYWNoaW5lXCIpLmJhc2ljVVJMUGFyc2U7XG5leHBvcnRzLnNldFRoZVVzZXJuYW1lID0gcmVxdWlyZShcIi4vdXJsLXN0YXRlLW1hY2hpbmVcIikuc2V0VGhlVXNlcm5hbWU7XG5leHBvcnRzLnNldFRoZVBhc3N3b3JkID0gcmVxdWlyZShcIi4vdXJsLXN0YXRlLW1hY2hpbmVcIikuc2V0VGhlUGFzc3dvcmQ7XG5leHBvcnRzLnNlcmlhbGl6ZUhvc3QgPSByZXF1aXJlKFwiLi91cmwtc3RhdGUtbWFjaGluZVwiKS5zZXJpYWxpemVIb3N0O1xuZXhwb3J0cy5zZXJpYWxpemVJbnRlZ2VyID0gcmVxdWlyZShcIi4vdXJsLXN0YXRlLW1hY2hpbmVcIikuc2VyaWFsaXplSW50ZWdlcjtcbmV4cG9ydHMucGFyc2VVUkwgPSByZXF1aXJlKFwiLi91cmwtc3RhdGUtbWFjaGluZVwiKS5wYXJzZVVSTDtcbiIsImltcG9ydCBTdHJlYW0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IFVybCBmcm9tICd1cmwnO1xuaW1wb3J0IHdoYXR3Z1VybCBmcm9tICd3aGF0d2ctdXJsJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgemxpYiBmcm9tICd6bGliJztcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3RtcHZhci9qc2RvbS9ibG9iL2FhODViMmFiZjA3NzY2ZmY3YmY1YzFmNmRhYWZiMzcyNmYyZjJkYjUvbGliL2pzZG9tL2xpdmluZy9ibG9iLmpzXG5cbi8vIGZpeCBmb3IgXCJSZWFkYWJsZVwiIGlzbid0IGEgbmFtZWQgZXhwb3J0IGlzc3VlXG5jb25zdCBSZWFkYWJsZSA9IFN0cmVhbS5SZWFkYWJsZTtcblxuY29uc3QgQlVGRkVSID0gU3ltYm9sKCdidWZmZXInKTtcbmNvbnN0IFRZUEUgPSBTeW1ib2woJ3R5cGUnKTtcblxuY2xhc3MgQmxvYiB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXNbVFlQRV0gPSAnJztcblxuXHRcdGNvbnN0IGJsb2JQYXJ0cyA9IGFyZ3VtZW50c1swXTtcblx0XHRjb25zdCBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuXG5cdFx0Y29uc3QgYnVmZmVycyA9IFtdO1xuXHRcdGxldCBzaXplID0gMDtcblxuXHRcdGlmIChibG9iUGFydHMpIHtcblx0XHRcdGNvbnN0IGEgPSBibG9iUGFydHM7XG5cdFx0XHRjb25zdCBsZW5ndGggPSBOdW1iZXIoYS5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBlbGVtZW50ID0gYVtpXTtcblx0XHRcdFx0bGV0IGJ1ZmZlcjtcblx0XHRcdFx0aWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBCdWZmZXIpIHtcblx0XHRcdFx0XHRidWZmZXIgPSBlbGVtZW50O1xuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhlbGVtZW50KSkge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGVsZW1lbnQuYnVmZmVyLCBlbGVtZW50LmJ5dGVPZmZzZXQsIGVsZW1lbnQuYnl0ZUxlbmd0aCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gQnVmZmVyLmZyb20oZWxlbWVudCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEJsb2IpIHtcblx0XHRcdFx0XHRidWZmZXIgPSBlbGVtZW50W0JVRkZFUl07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gQnVmZmVyLmZyb20odHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gZWxlbWVudCA6IFN0cmluZyhlbGVtZW50KSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2l6ZSArPSBidWZmZXIubGVuZ3RoO1xuXHRcdFx0XHRidWZmZXJzLnB1c2goYnVmZmVyKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzW0JVRkZFUl0gPSBCdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xuXG5cdFx0bGV0IHR5cGUgPSBvcHRpb25zICYmIG9wdGlvbnMudHlwZSAhPT0gdW5kZWZpbmVkICYmIFN0cmluZyhvcHRpb25zLnR5cGUpLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKHR5cGUgJiYgIS9bXlxcdTAwMjAtXFx1MDA3RV0vLnRlc3QodHlwZSkpIHtcblx0XHRcdHRoaXNbVFlQRV0gPSB0eXBlO1xuXHRcdH1cblx0fVxuXHRnZXQgc2l6ZSgpIHtcblx0XHRyZXR1cm4gdGhpc1tCVUZGRVJdLmxlbmd0aDtcblx0fVxuXHRnZXQgdHlwZSgpIHtcblx0XHRyZXR1cm4gdGhpc1tUWVBFXTtcblx0fVxuXHR0ZXh0KCkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpc1tCVUZGRVJdLnRvU3RyaW5nKCkpO1xuXHR9XG5cdGFycmF5QnVmZmVyKCkge1xuXHRcdGNvbnN0IGJ1ZiA9IHRoaXNbQlVGRkVSXTtcblx0XHRjb25zdCBhYiA9IGJ1Zi5idWZmZXIuc2xpY2UoYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlT2Zmc2V0ICsgYnVmLmJ5dGVMZW5ndGgpO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoYWIpO1xuXHR9XG5cdHN0cmVhbSgpIHtcblx0XHRjb25zdCByZWFkYWJsZSA9IG5ldyBSZWFkYWJsZSgpO1xuXHRcdHJlYWRhYmxlLl9yZWFkID0gZnVuY3Rpb24gKCkge307XG5cdFx0cmVhZGFibGUucHVzaCh0aGlzW0JVRkZFUl0pO1xuXHRcdHJlYWRhYmxlLnB1c2gobnVsbCk7XG5cdFx0cmV0dXJuIHJlYWRhYmxlO1xuXHR9XG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiAnW29iamVjdCBCbG9iXSc7XG5cdH1cblx0c2xpY2UoKSB7XG5cdFx0Y29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcblxuXHRcdGNvbnN0IHN0YXJ0ID0gYXJndW1lbnRzWzBdO1xuXHRcdGNvbnN0IGVuZCA9IGFyZ3VtZW50c1sxXTtcblx0XHRsZXQgcmVsYXRpdmVTdGFydCwgcmVsYXRpdmVFbmQ7XG5cdFx0aWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJlbGF0aXZlU3RhcnQgPSAwO1xuXHRcdH0gZWxzZSBpZiAoc3RhcnQgPCAwKSB7XG5cdFx0XHRyZWxhdGl2ZVN0YXJ0ID0gTWF0aC5tYXgoc2l6ZSArIHN0YXJ0LCAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVsYXRpdmVTdGFydCA9IE1hdGgubWluKHN0YXJ0LCBzaXplKTtcblx0XHR9XG5cdFx0aWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZWxhdGl2ZUVuZCA9IHNpemU7XG5cdFx0fSBlbHNlIGlmIChlbmQgPCAwKSB7XG5cdFx0XHRyZWxhdGl2ZUVuZCA9IE1hdGgubWF4KHNpemUgKyBlbmQsIDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZWxhdGl2ZUVuZCA9IE1hdGgubWluKGVuZCwgc2l6ZSk7XG5cdFx0fVxuXHRcdGNvbnN0IHNwYW4gPSBNYXRoLm1heChyZWxhdGl2ZUVuZCAtIHJlbGF0aXZlU3RhcnQsIDApO1xuXG5cdFx0Y29uc3QgYnVmZmVyID0gdGhpc1tCVUZGRVJdO1xuXHRcdGNvbnN0IHNsaWNlZEJ1ZmZlciA9IGJ1ZmZlci5zbGljZShyZWxhdGl2ZVN0YXJ0LCByZWxhdGl2ZVN0YXJ0ICsgc3Bhbik7XG5cdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFtdLCB7IHR5cGU6IGFyZ3VtZW50c1syXSB9KTtcblx0XHRibG9iW0JVRkZFUl0gPSBzbGljZWRCdWZmZXI7XG5cdFx0cmV0dXJuIGJsb2I7XG5cdH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmxvYi5wcm90b3R5cGUsIHtcblx0c2l6ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHR5cGU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRzbGljZTogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQmxvYi5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHR2YWx1ZTogJ0Jsb2InLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vKipcbiAqIGZldGNoLWVycm9yLmpzXG4gKlxuICogRmV0Y2hFcnJvciBpbnRlcmZhY2UgZm9yIG9wZXJhdGlvbmFsIGVycm9yc1xuICovXG5cbi8qKlxuICogQ3JlYXRlIEZldGNoRXJyb3IgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICBtZXNzYWdlICAgICAgRXJyb3IgbWVzc2FnZSBmb3IgaHVtYW5cbiAqIEBwYXJhbSAgIFN0cmluZyAgICAgIHR5cGUgICAgICAgICBFcnJvciB0eXBlIGZvciBtYWNoaW5lXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICBzeXN0ZW1FcnJvciAgRm9yIE5vZGUuanMgc3lzdGVtIGVycm9yXG4gKiBAcmV0dXJuICBGZXRjaEVycm9yXG4gKi9cbmZ1bmN0aW9uIEZldGNoRXJyb3IobWVzc2FnZSwgdHlwZSwgc3lzdGVtRXJyb3IpIHtcbiAgRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gIC8vIHdoZW4gZXJyLnR5cGUgaXMgYHN5c3RlbWAsIGVyci5jb2RlIGNvbnRhaW5zIHN5c3RlbSBlcnJvciBjb2RlXG4gIGlmIChzeXN0ZW1FcnJvcikge1xuICAgIHRoaXMuY29kZSA9IHRoaXMuZXJybm8gPSBzeXN0ZW1FcnJvci5jb2RlO1xuICB9XG5cbiAgLy8gaGlkZSBjdXN0b20gZXJyb3IgaW1wbGVtZW50YXRpb24gZGV0YWlscyBmcm9tIGVuZC11c2Vyc1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbn1cblxuRmV0Y2hFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5GZXRjaEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZldGNoRXJyb3I7XG5GZXRjaEVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0ZldGNoRXJyb3InO1xuXG5sZXQgY29udmVydDtcbnRyeSB7XG5cdGNvbnZlcnQgPSByZXF1aXJlKCdlbmNvZGluZycpLmNvbnZlcnQ7XG59IGNhdGNoIChlKSB7fVxuXG5jb25zdCBJTlRFUk5BTFMgPSBTeW1ib2woJ0JvZHkgaW50ZXJuYWxzJyk7XG5cbi8vIGZpeCBhbiBpc3N1ZSB3aGVyZSBcIlBhc3NUaHJvdWdoXCIgaXNuJ3QgYSBuYW1lZCBleHBvcnQgZm9yIG5vZGUgPDEwXG5jb25zdCBQYXNzVGhyb3VnaCA9IFN0cmVhbS5QYXNzVGhyb3VnaDtcblxuLyoqXG4gKiBCb2R5IG1peGluXG4gKlxuICogUmVmOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jYm9keVxuICpcbiAqIEBwYXJhbSAgIFN0cmVhbSAgYm9keSAgUmVhZGFibGUgc3RyZWFtXG4gKiBAcGFyYW0gICBPYmplY3QgIG9wdHMgIFJlc3BvbnNlIG9wdGlvbnNcbiAqIEByZXR1cm4gIFZvaWRcbiAqL1xuZnVuY3Rpb24gQm9keShib2R5KSB7XG5cdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0dmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuXHQgICAgX3JlZiRzaXplID0gX3JlZi5zaXplO1xuXG5cdGxldCBzaXplID0gX3JlZiRzaXplID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRzaXplO1xuXHR2YXIgX3JlZiR0aW1lb3V0ID0gX3JlZi50aW1lb3V0O1xuXHRsZXQgdGltZW91dCA9IF9yZWYkdGltZW91dCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkdGltZW91dDtcblxuXHRpZiAoYm9keSA9PSBudWxsKSB7XG5cdFx0Ly8gYm9keSBpcyB1bmRlZmluZWQgb3IgbnVsbFxuXHRcdGJvZHkgPSBudWxsO1xuXHR9IGVsc2UgaWYgKGlzVVJMU2VhcmNoUGFyYW1zKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBhIFVSTFNlYXJjaFBhcmFtc1xuXHRcdGJvZHkgPSBCdWZmZXIuZnJvbShib2R5LnRvU3RyaW5nKCkpO1xuXHR9IGVsc2UgaWYgKGlzQmxvYihib2R5KSkgOyBlbHNlIGlmIChCdWZmZXIuaXNCdWZmZXIoYm9keSkpIDsgZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclxuXHRcdGJvZHkgPSBCdWZmZXIuZnJvbShib2R5KTtcblx0fSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYm9keSkpIHtcblx0XHQvLyBib2R5IGlzIEFycmF5QnVmZmVyVmlld1xuXHRcdGJvZHkgPSBCdWZmZXIuZnJvbShib2R5LmJ1ZmZlciwgYm9keS5ieXRlT2Zmc2V0LCBib2R5LmJ5dGVMZW5ndGgpO1xuXHR9IGVsc2UgaWYgKGJvZHkgaW5zdGFuY2VvZiBTdHJlYW0pIDsgZWxzZSB7XG5cdFx0Ly8gbm9uZSBvZiB0aGUgYWJvdmVcblx0XHQvLyBjb2VyY2UgdG8gc3RyaW5nIHRoZW4gYnVmZmVyXG5cdFx0Ym9keSA9IEJ1ZmZlci5mcm9tKFN0cmluZyhib2R5KSk7XG5cdH1cblx0dGhpc1tJTlRFUk5BTFNdID0ge1xuXHRcdGJvZHksXG5cdFx0ZGlzdHVyYmVkOiBmYWxzZSxcblx0XHRlcnJvcjogbnVsbFxuXHR9O1xuXHR0aGlzLnNpemUgPSBzaXplO1xuXHR0aGlzLnRpbWVvdXQgPSB0aW1lb3V0O1xuXG5cdGlmIChib2R5IGluc3RhbmNlb2YgU3RyZWFtKSB7XG5cdFx0Ym9keS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRjb25zdCBlcnJvciA9IGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicgPyBlcnIgOiBuZXcgRmV0Y2hFcnJvcihgSW52YWxpZCByZXNwb25zZSBib2R5IHdoaWxlIHRyeWluZyB0byBmZXRjaCAke190aGlzLnVybH06ICR7ZXJyLm1lc3NhZ2V9YCwgJ3N5c3RlbScsIGVycik7XG5cdFx0XHRfdGhpc1tJTlRFUk5BTFNdLmVycm9yID0gZXJyb3I7XG5cdFx0fSk7XG5cdH1cbn1cblxuQm9keS5wcm90b3R5cGUgPSB7XG5cdGdldCBib2R5KCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMU10uYm9keTtcblx0fSxcblxuXHRnZXQgYm9keVVzZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTXS5kaXN0dXJiZWQ7XG5cdH0sXG5cblx0LyoqXG4gICogRGVjb2RlIHJlc3BvbnNlIGFzIEFycmF5QnVmZmVyXG4gICpcbiAgKiBAcmV0dXJuICBQcm9taXNlXG4gICovXG5cdGFycmF5QnVmZmVyKCkge1xuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGJ1Zikge1xuXHRcdFx0cmV0dXJuIGJ1Zi5idWZmZXIuc2xpY2UoYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlT2Zmc2V0ICsgYnVmLmJ5dGVMZW5ndGgpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuICAqIFJldHVybiByYXcgcmVzcG9uc2UgYXMgQmxvYlxuICAqXG4gICogQHJldHVybiBQcm9taXNlXG4gICovXG5cdGJsb2IoKSB7XG5cdFx0bGV0IGN0ID0gdGhpcy5oZWFkZXJzICYmIHRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpIHx8ICcnO1xuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGJ1Zikge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oXG5cdFx0XHQvLyBQcmV2ZW50IGNvcHlpbmdcblx0XHRcdG5ldyBCbG9iKFtdLCB7XG5cdFx0XHRcdHR5cGU6IGN0LnRvTG93ZXJDYXNlKClcblx0XHRcdH0pLCB7XG5cdFx0XHRcdFtCVUZGRVJdOiBidWZcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuICAqIERlY29kZSByZXNwb25zZSBhcyBqc29uXG4gICpcbiAgKiBAcmV0dXJuICBQcm9taXNlXG4gICovXG5cdGpzb24oKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiBKU09OLnBhcnNlKGJ1ZmZlci50b1N0cmluZygpKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRyZXR1cm4gQm9keS5Qcm9taXNlLnJlamVjdChuZXcgRmV0Y2hFcnJvcihgaW52YWxpZCBqc29uIHJlc3BvbnNlIGJvZHkgYXQgJHtfdGhpczIudXJsfSByZWFzb246ICR7ZXJyLm1lc3NhZ2V9YCwgJ2ludmFsaWQtanNvbicpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMgdGV4dFxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHR0ZXh0KCkge1xuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0cmV0dXJuIGJ1ZmZlci50b1N0cmluZygpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuICAqIERlY29kZSByZXNwb25zZSBhcyBidWZmZXIgKG5vbi1zcGVjIGFwaSlcbiAgKlxuICAqIEByZXR1cm4gIFByb21pc2VcbiAgKi9cblx0YnVmZmVyKCkge1xuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpO1xuXHR9LFxuXG5cdC8qKlxuICAqIERlY29kZSByZXNwb25zZSBhcyB0ZXh0LCB3aGlsZSBhdXRvbWF0aWNhbGx5IGRldGVjdGluZyB0aGUgZW5jb2RpbmcgYW5kXG4gICogdHJ5aW5nIHRvIGRlY29kZSB0byBVVEYtOCAobm9uLXNwZWMgYXBpKVxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHR0ZXh0Q29udmVydGVkKCkge1xuXHRcdHZhciBfdGhpczMgPSB0aGlzO1xuXG5cdFx0cmV0dXJuIGNvbnN1bWVCb2R5LmNhbGwodGhpcykudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHRyZXR1cm4gY29udmVydEJvZHkoYnVmZmVyLCBfdGhpczMuaGVhZGVycyk7XG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vIEluIGJyb3dzZXJzLCBhbGwgcHJvcGVydGllcyBhcmUgZW51bWVyYWJsZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJvZHkucHJvdG90eXBlLCB7XG5cdGJvZHk6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRib2R5VXNlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGFycmF5QnVmZmVyOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0YmxvYjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGpzb246IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHR0ZXh0OiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5cbkJvZHkubWl4SW4gPSBmdW5jdGlvbiAocHJvdG8pIHtcblx0Zm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEJvZHkucHJvdG90eXBlKSkge1xuXHRcdC8vIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBmdXR1cmUgcHJvb2Zcblx0XHRpZiAoIShuYW1lIGluIHByb3RvKSkge1xuXHRcdFx0Y29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQm9keS5wcm90b3R5cGUsIG5hbWUpO1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCBkZXNjKTtcblx0XHR9XG5cdH1cbn07XG5cbi8qKlxuICogQ29uc3VtZSBhbmQgY29udmVydCBhbiBlbnRpcmUgQm9keSB0byBhIEJ1ZmZlci5cbiAqXG4gKiBSZWY6IGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LWJvZHktY29uc3VtZS1ib2R5XG4gKlxuICogQHJldHVybiAgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBjb25zdW1lQm9keSgpIHtcblx0dmFyIF90aGlzNCA9IHRoaXM7XG5cblx0aWYgKHRoaXNbSU5URVJOQUxTXS5kaXN0dXJiZWQpIHtcblx0XHRyZXR1cm4gQm9keS5Qcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKGBib2R5IHVzZWQgYWxyZWFkeSBmb3I6ICR7dGhpcy51cmx9YCkpO1xuXHR9XG5cblx0dGhpc1tJTlRFUk5BTFNdLmRpc3R1cmJlZCA9IHRydWU7XG5cblx0aWYgKHRoaXNbSU5URVJOQUxTXS5lcnJvcikge1xuXHRcdHJldHVybiBCb2R5LlByb21pc2UucmVqZWN0KHRoaXNbSU5URVJOQUxTXS5lcnJvcik7XG5cdH1cblxuXHRsZXQgYm9keSA9IHRoaXMuYm9keTtcblxuXHQvLyBib2R5IGlzIG51bGxcblx0aWYgKGJvZHkgPT09IG51bGwpIHtcblx0XHRyZXR1cm4gQm9keS5Qcm9taXNlLnJlc29sdmUoQnVmZmVyLmFsbG9jKDApKTtcblx0fVxuXG5cdC8vIGJvZHkgaXMgYmxvYlxuXHRpZiAoaXNCbG9iKGJvZHkpKSB7XG5cdFx0Ym9keSA9IGJvZHkuc3RyZWFtKCk7XG5cdH1cblxuXHQvLyBib2R5IGlzIGJ1ZmZlclxuXHRpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZXNvbHZlKGJvZHkpO1xuXHR9XG5cblx0Ly8gaXN0YW5idWwgaWdub3JlIGlmOiBzaG91bGQgbmV2ZXIgaGFwcGVuXG5cdGlmICghKGJvZHkgaW5zdGFuY2VvZiBTdHJlYW0pKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZXNvbHZlKEJ1ZmZlci5hbGxvYygwKSk7XG5cdH1cblxuXHQvLyBib2R5IGlzIHN0cmVhbVxuXHQvLyBnZXQgcmVhZHkgdG8gYWN0dWFsbHkgY29uc3VtZSB0aGUgYm9keVxuXHRsZXQgYWNjdW0gPSBbXTtcblx0bGV0IGFjY3VtQnl0ZXMgPSAwO1xuXHRsZXQgYWJvcnQgPSBmYWxzZTtcblxuXHRyZXR1cm4gbmV3IEJvZHkuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0bGV0IHJlc1RpbWVvdXQ7XG5cblx0XHQvLyBhbGxvdyB0aW1lb3V0IG9uIHNsb3cgcmVzcG9uc2UgYm9keVxuXHRcdGlmIChfdGhpczQudGltZW91dCkge1xuXHRcdFx0cmVzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRhYm9ydCA9IHRydWU7XG5cdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgUmVzcG9uc2UgdGltZW91dCB3aGlsZSB0cnlpbmcgdG8gZmV0Y2ggJHtfdGhpczQudXJsfSAob3ZlciAke190aGlzNC50aW1lb3V0fW1zKWAsICdib2R5LXRpbWVvdXQnKSk7XG5cdFx0XHR9LCBfdGhpczQudGltZW91dCk7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlIHN0cmVhbSBlcnJvcnNcblx0XHRib2R5Lm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdGlmIChlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG5cdFx0XHRcdC8vIGlmIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkLCByZWplY3Qgd2l0aCB0aGlzIEVycm9yXG5cdFx0XHRcdGFib3J0ID0gdHJ1ZTtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBvdGhlciBlcnJvcnMsIHN1Y2ggYXMgaW5jb3JyZWN0IGNvbnRlbnQtZW5jb2Rpbmdcblx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGJvZHkgd2hpbGUgdHJ5aW5nIHRvIGZldGNoICR7X3RoaXM0LnVybH06ICR7ZXJyLm1lc3NhZ2V9YCwgJ3N5c3RlbScsIGVycikpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ym9keS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xuXHRcdFx0aWYgKGFib3J0IHx8IGNodW5rID09PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKF90aGlzNC5zaXplICYmIGFjY3VtQnl0ZXMgKyBjaHVuay5sZW5ndGggPiBfdGhpczQuc2l6ZSkge1xuXHRcdFx0XHRhYm9ydCA9IHRydWU7XG5cdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgY29udGVudCBzaXplIGF0ICR7X3RoaXM0LnVybH0gb3ZlciBsaW1pdDogJHtfdGhpczQuc2l6ZX1gLCAnbWF4LXNpemUnKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YWNjdW1CeXRlcyArPSBjaHVuay5sZW5ndGg7XG5cdFx0XHRhY2N1bS5wdXNoKGNodW5rKTtcblx0XHR9KTtcblxuXHRcdGJvZHkub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChhYm9ydCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNsZWFyVGltZW91dChyZXNUaW1lb3V0KTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmVzb2x2ZShCdWZmZXIuY29uY2F0KGFjY3VtLCBhY2N1bUJ5dGVzKSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Ly8gaGFuZGxlIHN0cmVhbXMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRvbyBtdWNoIGRhdGEgKGlzc3VlICM0MTQpXG5cdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgQ291bGQgbm90IGNyZWF0ZSBCdWZmZXIgZnJvbSByZXNwb25zZSBib2R5IGZvciAke190aGlzNC51cmx9OiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cbi8qKlxuICogRGV0ZWN0IGJ1ZmZlciBlbmNvZGluZyBhbmQgY29udmVydCB0byB0YXJnZXQgZW5jb2RpbmdcbiAqIHJlZjogaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDExMy9wYXJzaW5nLmh0bWwjZGV0ZXJtaW5pbmctdGhlLWNoYXJhY3Rlci1lbmNvZGluZ1xuICpcbiAqIEBwYXJhbSAgIEJ1ZmZlciAgYnVmZmVyICAgIEluY29taW5nIGJ1ZmZlclxuICogQHBhcmFtICAgU3RyaW5nICBlbmNvZGluZyAgVGFyZ2V0IGVuY29kaW5nXG4gKiBAcmV0dXJuICBTdHJpbmdcbiAqL1xuZnVuY3Rpb24gY29udmVydEJvZHkoYnVmZmVyLCBoZWFkZXJzKSB7XG5cdGlmICh0eXBlb2YgY29udmVydCAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcignVGhlIHBhY2thZ2UgYGVuY29kaW5nYCBtdXN0IGJlIGluc3RhbGxlZCB0byB1c2UgdGhlIHRleHRDb252ZXJ0ZWQoKSBmdW5jdGlvbicpO1xuXHR9XG5cblx0Y29uc3QgY3QgPSBoZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG5cdGxldCBjaGFyc2V0ID0gJ3V0Zi04Jztcblx0bGV0IHJlcywgc3RyO1xuXG5cdC8vIGhlYWRlclxuXHRpZiAoY3QpIHtcblx0XHRyZXMgPSAvY2hhcnNldD0oW147XSopL2kuZXhlYyhjdCk7XG5cdH1cblxuXHQvLyBubyBjaGFyc2V0IGluIGNvbnRlbnQgdHlwZSwgcGVlayBhdCByZXNwb25zZSBib2R5IGZvciBhdCBtb3N0IDEwMjQgYnl0ZXNcblx0c3RyID0gYnVmZmVyLnNsaWNlKDAsIDEwMjQpLnRvU3RyaW5nKCk7XG5cblx0Ly8gaHRtbDVcblx0aWYgKCFyZXMgJiYgc3RyKSB7XG5cdFx0cmVzID0gLzxtZXRhLis/Y2hhcnNldD0oWydcIl0pKC4rPylcXDEvaS5leGVjKHN0cik7XG5cdH1cblxuXHQvLyBodG1sNFxuXHRpZiAoIXJlcyAmJiBzdHIpIHtcblx0XHRyZXMgPSAvPG1ldGFbXFxzXSs/aHR0cC1lcXVpdj0oWydcIl0pY29udGVudC10eXBlXFwxW1xcc10rP2NvbnRlbnQ9KFsnXCJdKSguKz8pXFwyL2kuZXhlYyhzdHIpO1xuXHRcdGlmICghcmVzKSB7XG5cdFx0XHRyZXMgPSAvPG1ldGFbXFxzXSs/Y29udGVudD0oWydcIl0pKC4rPylcXDFbXFxzXSs/aHR0cC1lcXVpdj0oWydcIl0pY29udGVudC10eXBlXFwzL2kuZXhlYyhzdHIpO1xuXHRcdFx0aWYgKHJlcykge1xuXHRcdFx0XHRyZXMucG9wKCk7IC8vIGRyb3AgbGFzdCBxdW90ZVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChyZXMpIHtcblx0XHRcdHJlcyA9IC9jaGFyc2V0PSguKikvaS5leGVjKHJlcy5wb3AoKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8geG1sXG5cdGlmICghcmVzICYmIHN0cikge1xuXHRcdHJlcyA9IC88XFw/eG1sLis/ZW5jb2Rpbmc9KFsnXCJdKSguKz8pXFwxL2kuZXhlYyhzdHIpO1xuXHR9XG5cblx0Ly8gZm91bmQgY2hhcnNldFxuXHRpZiAocmVzKSB7XG5cdFx0Y2hhcnNldCA9IHJlcy5wb3AoKTtcblxuXHRcdC8vIHByZXZlbnQgZGVjb2RlIGlzc3VlcyB3aGVuIHNpdGVzIHVzZSBpbmNvcnJlY3QgZW5jb2Rpbmdcblx0XHQvLyByZWY6IGh0dHBzOi8vaHNpdm9uZW4uZmkvZW5jb2RpbmctbWVudS9cblx0XHRpZiAoY2hhcnNldCA9PT0gJ2diMjMxMicgfHwgY2hhcnNldCA9PT0gJ2diaycpIHtcblx0XHRcdGNoYXJzZXQgPSAnZ2IxODAzMCc7XG5cdFx0fVxuXHR9XG5cblx0Ly8gdHVybiByYXcgYnVmZmVycyBpbnRvIGEgc2luZ2xlIHV0Zi04IGJ1ZmZlclxuXHRyZXR1cm4gY29udmVydChidWZmZXIsICdVVEYtOCcsIGNoYXJzZXQpLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogRGV0ZWN0IGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICogcmVmOiBodHRwczovL2dpdGh1Yi5jb20vYml0aW5uL25vZGUtZmV0Y2gvaXNzdWVzLzI5NiNpc3N1ZWNvbW1lbnQtMzA3NTk4MTQzXG4gKlxuICogQHBhcmFtICAgT2JqZWN0ICBvYmogICAgIE9iamVjdCB0byBkZXRlY3QgYnkgdHlwZSBvciBicmFuZFxuICogQHJldHVybiAgU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKG9iaikge1xuXHQvLyBEdWNrLXR5cGluZyBhcyBhIG5lY2Vzc2FyeSBjb25kaXRpb24uXG5cdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqLmFwcGVuZCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmRlbGV0ZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmdldEFsbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmhhcyAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLnNldCAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIEJyYW5kLWNoZWNraW5nIGFuZCBtb3JlIGR1Y2stdHlwaW5nIGFzIG9wdGlvbmFsIGNvbmRpdGlvbi5cblx0cmV0dXJuIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSAnVVJMU2VhcmNoUGFyYW1zJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgVVJMU2VhcmNoUGFyYW1zXScgfHwgdHlwZW9mIG9iai5zb3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGEgVzNDIGBCbG9iYCBvYmplY3QgKHdoaWNoIGBGaWxlYCBpbmhlcml0cyBmcm9tKVxuICogQHBhcmFtICB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmoudHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIG9iai5zdHJlYW0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdzdHJpbmcnICYmIC9eKEJsb2J8RmlsZSkkLy50ZXN0KG9iai5jb25zdHJ1Y3Rvci5uYW1lKSAmJiAvXihCbG9ifEZpbGUpJC8udGVzdChvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG59XG5cbi8qKlxuICogQ2xvbmUgYm9keSBnaXZlbiBSZXMvUmVxIGluc3RhbmNlXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgIGluc3RhbmNlICBSZXNwb25zZSBvciBSZXF1ZXN0IGluc3RhbmNlXG4gKiBAcmV0dXJuICBNaXhlZFxuICovXG5mdW5jdGlvbiBjbG9uZShpbnN0YW5jZSkge1xuXHRsZXQgcDEsIHAyO1xuXHRsZXQgYm9keSA9IGluc3RhbmNlLmJvZHk7XG5cblx0Ly8gZG9uJ3QgYWxsb3cgY2xvbmluZyBhIHVzZWQgYm9keVxuXHRpZiAoaW5zdGFuY2UuYm9keVVzZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBjbG9uZSBib2R5IGFmdGVyIGl0IGlzIHVzZWQnKTtcblx0fVxuXG5cdC8vIGNoZWNrIHRoYXQgYm9keSBpcyBhIHN0cmVhbSBhbmQgbm90IGZvcm0tZGF0YSBvYmplY3Rcblx0Ly8gbm90ZTogd2UgY2FuJ3QgY2xvbmUgdGhlIGZvcm0tZGF0YSBvYmplY3Qgd2l0aG91dCBoYXZpbmcgaXQgYXMgYSBkZXBlbmRlbmN5XG5cdGlmIChib2R5IGluc3RhbmNlb2YgU3RyZWFtICYmIHR5cGVvZiBib2R5LmdldEJvdW5kYXJ5ICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gdGVlIGluc3RhbmNlIGJvZHlcblx0XHRwMSA9IG5ldyBQYXNzVGhyb3VnaCgpO1xuXHRcdHAyID0gbmV3IFBhc3NUaHJvdWdoKCk7XG5cdFx0Ym9keS5waXBlKHAxKTtcblx0XHRib2R5LnBpcGUocDIpO1xuXHRcdC8vIHNldCBpbnN0YW5jZSBib2R5IHRvIHRlZWQgYm9keSBhbmQgcmV0dXJuIHRoZSBvdGhlciB0ZWVkIGJvZHlcblx0XHRpbnN0YW5jZVtJTlRFUk5BTFNdLmJvZHkgPSBwMTtcblx0XHRib2R5ID0gcDI7XG5cdH1cblxuXHRyZXR1cm4gYm9keTtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyB0aGUgb3BlcmF0aW9uIFwiZXh0cmFjdCBhIGBDb250ZW50LVR5cGVgIHZhbHVlIGZyb20gfG9iamVjdHxcIiBhc1xuICogc3BlY2lmaWVkIGluIHRoZSBzcGVjaWZpY2F0aW9uOlxuICogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtYm9keWluaXQtZXh0cmFjdFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGluc3RhbmNlLmJvZHkgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgaW5zdGFuY2UgIEFueSBvcHRpb25zLmJvZHkgaW5wdXRcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdENvbnRlbnRUeXBlKGJvZHkpIHtcblx0aWYgKGJvZHkgPT09IG51bGwpIHtcblx0XHQvLyBib2R5IGlzIG51bGxcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0XHQvLyBib2R5IGlzIHN0cmluZ1xuXHRcdHJldHVybiAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jztcblx0fSBlbHNlIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYSBVUkxTZWFyY2hQYXJhbXNcblx0XHRyZXR1cm4gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jztcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIHtcblx0XHQvLyBib2R5IGlzIGJsb2Jcblx0XHRyZXR1cm4gYm9keS50eXBlIHx8IG51bGw7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYm9keSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcblx0XHQvLyBib2R5IGlzIEFycmF5QnVmZmVyXG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclZpZXdcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmICh0eXBlb2YgYm9keS5nZXRCb3VuZGFyeSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGRldGVjdCBmb3JtIGRhdGEgaW5wdXQgZnJvbSBmb3JtLWRhdGEgbW9kdWxlXG5cdFx0cmV0dXJuIGBtdWx0aXBhcnQvZm9ybS1kYXRhO2JvdW5kYXJ5PSR7Ym9keS5nZXRCb3VuZGFyeSgpfWA7XG5cdH0gZWxzZSBpZiAoYm9keSBpbnN0YW5jZW9mIFN0cmVhbSkge1xuXHRcdC8vIGJvZHkgaXMgc3RyZWFtXG5cdFx0Ly8gY2FuJ3QgcmVhbGx5IGRvIG11Y2ggYWJvdXQgdGhpc1xuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEJvZHkgY29uc3RydWN0b3IgZGVmYXVsdHMgb3RoZXIgdGhpbmdzIHRvIHN0cmluZ1xuXHRcdHJldHVybiAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jztcblx0fVxufVxuXG4vKipcbiAqIFRoZSBGZXRjaCBTdGFuZGFyZCB0cmVhdHMgdGhpcyBhcyBpZiBcInRvdGFsIGJ5dGVzXCIgaXMgYSBwcm9wZXJ0eSBvbiB0aGUgYm9keS5cbiAqIEZvciB1cywgd2UgaGF2ZSB0byBleHBsaWNpdGx5IGdldCBpdCB3aXRoIGEgZnVuY3Rpb24uXG4gKlxuICogcmVmOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1ib2R5LXRvdGFsLWJ5dGVzXG4gKlxuICogQHBhcmFtICAgQm9keSAgICBpbnN0YW5jZSAgIEluc3RhbmNlIG9mIEJvZHlcbiAqIEByZXR1cm4gIE51bWJlcj8gICAgICAgICAgICBOdW1iZXIgb2YgYnl0ZXMsIG9yIG51bGwgaWYgbm90IHBvc3NpYmxlXG4gKi9cbmZ1bmN0aW9uIGdldFRvdGFsQnl0ZXMoaW5zdGFuY2UpIHtcblx0Y29uc3QgYm9keSA9IGluc3RhbmNlLmJvZHk7XG5cblxuXHRpZiAoYm9keSA9PT0gbnVsbCkge1xuXHRcdC8vIGJvZHkgaXMgbnVsbFxuXHRcdHJldHVybiAwO1xuXHR9IGVsc2UgaWYgKGlzQmxvYihib2R5KSkge1xuXHRcdHJldHVybiBib2R5LnNpemU7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRyZXR1cm4gYm9keS5sZW5ndGg7XG5cdH0gZWxzZSBpZiAoYm9keSAmJiB0eXBlb2YgYm9keS5nZXRMZW5ndGhTeW5jID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gZGV0ZWN0IGZvcm0gZGF0YSBpbnB1dCBmcm9tIGZvcm0tZGF0YSBtb2R1bGVcblx0XHRpZiAoYm9keS5fbGVuZ3RoUmV0cmlldmVycyAmJiBib2R5Ll9sZW5ndGhSZXRyaWV2ZXJzLmxlbmd0aCA9PSAwIHx8IC8vIDEueFxuXHRcdGJvZHkuaGFzS25vd25MZW5ndGggJiYgYm9keS5oYXNLbm93bkxlbmd0aCgpKSB7XG5cdFx0XHQvLyAyLnhcblx0XHRcdHJldHVybiBib2R5LmdldExlbmd0aFN5bmMoKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gYm9keSBpcyBzdHJlYW1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIFdyaXRlIGEgQm9keSB0byBhIE5vZGUuanMgV3JpdGFibGVTdHJlYW0gKGUuZy4gaHR0cC5SZXF1ZXN0KSBvYmplY3QuXG4gKlxuICogQHBhcmFtICAgQm9keSAgICBpbnN0YW5jZSAgIEluc3RhbmNlIG9mIEJvZHlcbiAqIEByZXR1cm4gIFZvaWRcbiAqL1xuZnVuY3Rpb24gd3JpdGVUb1N0cmVhbShkZXN0LCBpbnN0YW5jZSkge1xuXHRjb25zdCBib2R5ID0gaW5zdGFuY2UuYm9keTtcblxuXG5cdGlmIChib2R5ID09PSBudWxsKSB7XG5cdFx0Ly8gYm9keSBpcyBudWxsXG5cdFx0ZGVzdC5lbmQoKTtcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIHtcblx0XHRib2R5LnN0cmVhbSgpLnBpcGUoZGVzdCk7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRkZXN0LndyaXRlKGJvZHkpO1xuXHRcdGRlc3QuZW5kKCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gYm9keSBpcyBzdHJlYW1cblx0XHRib2R5LnBpcGUoZGVzdCk7XG5cdH1cbn1cblxuLy8gZXhwb3NlIFByb21pc2VcbkJvZHkuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG4vKipcbiAqIGhlYWRlcnMuanNcbiAqXG4gKiBIZWFkZXJzIGNsYXNzIG9mZmVycyBjb252ZW5pZW50IGhlbHBlcnNcbiAqL1xuXG5jb25zdCBpbnZhbGlkVG9rZW5SZWdleCA9IC9bXlxcXl9gYS16QS1aXFwtMC05ISMkJSYnKisufH5dLztcbmNvbnN0IGludmFsaWRIZWFkZXJDaGFyUmVnZXggPSAvW15cXHRcXHgyMC1cXHg3ZVxceDgwLVxceGZmXS87XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZShuYW1lKSB7XG5cdG5hbWUgPSBgJHtuYW1lfWA7XG5cdGlmIChpbnZhbGlkVG9rZW5SZWdleC50ZXN0KG5hbWUpIHx8IG5hbWUgPT09ICcnKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgJHtuYW1lfSBpcyBub3QgYSBsZWdhbCBIVFRQIGhlYWRlciBuYW1lYCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWx1ZSkge1xuXHR2YWx1ZSA9IGAke3ZhbHVlfWA7XG5cdGlmIChpbnZhbGlkSGVhZGVyQ2hhclJlZ2V4LnRlc3QodmFsdWUpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgJHt2YWx1ZX0gaXMgbm90IGEgbGVnYWwgSFRUUCBoZWFkZXIgdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIEZpbmQgdGhlIGtleSBpbiB0aGUgbWFwIG9iamVjdCBnaXZlbiBhIGhlYWRlciBuYW1lLlxuICpcbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0gICBTdHJpbmcgIG5hbWUgIEhlYWRlciBuYW1lXG4gKiBAcmV0dXJuICBTdHJpbmd8VW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGZpbmQobWFwLCBuYW1lKSB7XG5cdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuXHRcdGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSkge1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuY29uc3QgTUFQID0gU3ltYm9sKCdtYXAnKTtcbmNsYXNzIEhlYWRlcnMge1xuXHQvKipcbiAgKiBIZWFkZXJzIGNsYXNzXG4gICpcbiAgKiBAcGFyYW0gICBPYmplY3QgIGhlYWRlcnMgIFJlc3BvbnNlIGhlYWRlcnNcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdGxldCBpbml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQ7XG5cblx0XHR0aGlzW01BUF0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5cdFx0aWYgKGluaXQgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG5cdFx0XHRjb25zdCByYXdIZWFkZXJzID0gaW5pdC5yYXcoKTtcblx0XHRcdGNvbnN0IGhlYWRlck5hbWVzID0gT2JqZWN0LmtleXMocmF3SGVhZGVycyk7XG5cblx0XHRcdGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBoZWFkZXJOYW1lcykge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHJhd0hlYWRlcnNbaGVhZGVyTmFtZV0pIHtcblx0XHRcdFx0XHR0aGlzLmFwcGVuZChoZWFkZXJOYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFdlIGRvbid0IHdvcnJ5IGFib3V0IGNvbnZlcnRpbmcgcHJvcCB0byBCeXRlU3RyaW5nIGhlcmUgYXMgYXBwZW5kKClcblx0XHQvLyB3aWxsIGhhbmRsZSBpdC5cblx0XHRpZiAoaW5pdCA9PSBudWxsKSA7IGVsc2UgaWYgKHR5cGVvZiBpbml0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWV0aG9kID0gaW5pdFtTeW1ib2wuaXRlcmF0b3JdO1xuXHRcdFx0aWYgKG1ldGhvZCAhPSBudWxsKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbWV0aG9kICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSGVhZGVyIHBhaXJzIG11c3QgYmUgaXRlcmFibGUnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHNlcXVlbmNlPHNlcXVlbmNlPEJ5dGVTdHJpbmc+PlxuXHRcdFx0XHQvLyBOb3RlOiBwZXIgc3BlYyB3ZSBoYXZlIHRvIGZpcnN0IGV4aGF1c3QgdGhlIGxpc3RzIHRoZW4gcHJvY2VzcyB0aGVtXG5cdFx0XHRcdGNvbnN0IHBhaXJzID0gW107XG5cdFx0XHRcdGZvciAoY29uc3QgcGFpciBvZiBpbml0KSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwYWlyICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFpcltTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFYWNoIGhlYWRlciBwYWlyIG11c3QgYmUgaXRlcmFibGUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGFpcnMucHVzaChBcnJheS5mcm9tKHBhaXIpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuXHRcdFx0XHRcdGlmIChwYWlyLmxlbmd0aCAhPT0gMikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRWFjaCBoZWFkZXIgcGFpciBtdXN0IGJlIGEgbmFtZS92YWx1ZSB0dXBsZScpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLmFwcGVuZChwYWlyWzBdLCBwYWlyWzFdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcmVjb3JkPEJ5dGVTdHJpbmcsIEJ5dGVTdHJpbmc+XG5cdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGluaXQpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBpbml0W2tleV07XG5cdFx0XHRcdFx0dGhpcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgaW5pdGlhbGl6ZXIgbXVzdCBiZSBhbiBvYmplY3QnKTtcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBSZXR1cm4gY29tYmluZWQgaGVhZGVyIHZhbHVlIGdpdmVuIG5hbWVcbiAgKlxuICAqIEBwYXJhbSAgIFN0cmluZyAgbmFtZSAgSGVhZGVyIG5hbWVcbiAgKiBAcmV0dXJuICBNaXhlZFxuICAqL1xuXHRnZXQobmFtZSkge1xuXHRcdG5hbWUgPSBgJHtuYW1lfWA7XG5cdFx0dmFsaWRhdGVOYW1lKG5hbWUpO1xuXHRcdGNvbnN0IGtleSA9IGZpbmQodGhpc1tNQVBdLCBuYW1lKTtcblx0XHRpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzW01BUF1ba2V5XS5qb2luKCcsICcpO1xuXHR9XG5cblx0LyoqXG4gICogSXRlcmF0ZSBvdmVyIGFsbCBoZWFkZXJzXG4gICpcbiAgKiBAcGFyYW0gICBGdW5jdGlvbiAgY2FsbGJhY2sgIEV4ZWN1dGVkIGZvciBlYWNoIGl0ZW0gd2l0aCBwYXJhbWV0ZXJzICh2YWx1ZSwgbmFtZSwgdGhpc0FyZylcbiAgKiBAcGFyYW0gICBCb29sZWFuICAgdGhpc0FyZyAgIGB0aGlzYCBjb250ZXh0IGZvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0Zm9yRWFjaChjYWxsYmFjaykge1xuXHRcdGxldCB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cblx0XHRsZXQgcGFpcnMgPSBnZXRIZWFkZXJzKHRoaXMpO1xuXHRcdGxldCBpID0gMDtcblx0XHR3aGlsZSAoaSA8IHBhaXJzLmxlbmd0aCkge1xuXHRcdFx0dmFyIF9wYWlycyRpID0gcGFpcnNbaV07XG5cdFx0XHRjb25zdCBuYW1lID0gX3BhaXJzJGlbMF0sXG5cdFx0XHQgICAgICB2YWx1ZSA9IF9wYWlycyRpWzFdO1xuXG5cdFx0XHRjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBuYW1lLCB0aGlzKTtcblx0XHRcdHBhaXJzID0gZ2V0SGVhZGVycyh0aGlzKTtcblx0XHRcdGkrKztcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBPdmVyd3JpdGUgaGVhZGVyIHZhbHVlcyBnaXZlbiBuYW1lXG4gICpcbiAgKiBAcGFyYW0gICBTdHJpbmcgIG5hbWUgICBIZWFkZXIgbmFtZVxuICAqIEBwYXJhbSAgIFN0cmluZyAgdmFsdWUgIEhlYWRlciB2YWx1ZVxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0c2V0KG5hbWUsIHZhbHVlKSB7XG5cdFx0bmFtZSA9IGAke25hbWV9YDtcblx0XHR2YWx1ZSA9IGAke3ZhbHVlfWA7XG5cdFx0dmFsaWRhdGVOYW1lKG5hbWUpO1xuXHRcdHZhbGlkYXRlVmFsdWUodmFsdWUpO1xuXHRcdGNvbnN0IGtleSA9IGZpbmQodGhpc1tNQVBdLCBuYW1lKTtcblx0XHR0aGlzW01BUF1ba2V5ICE9PSB1bmRlZmluZWQgPyBrZXkgOiBuYW1lXSA9IFt2YWx1ZV07XG5cdH1cblxuXHQvKipcbiAgKiBBcHBlbmQgYSB2YWx1ZSBvbnRvIGV4aXN0aW5nIGhlYWRlclxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICBuYW1lICAgSGVhZGVyIG5hbWVcbiAgKiBAcGFyYW0gICBTdHJpbmcgIHZhbHVlICBIZWFkZXIgdmFsdWVcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuXHRcdG5hbWUgPSBgJHtuYW1lfWA7XG5cdFx0dmFsdWUgPSBgJHt2YWx1ZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHR2YWxpZGF0ZVZhbHVlKHZhbHVlKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0aWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzW01BUF1ba2V5XS5wdXNoKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpc1tNQVBdW25hbWVdID0gW3ZhbHVlXTtcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBDaGVjayBmb3IgaGVhZGVyIG5hbWUgZXhpc3RlbmNlXG4gICpcbiAgKiBAcGFyYW0gICBTdHJpbmcgICBuYW1lICBIZWFkZXIgbmFtZVxuICAqIEByZXR1cm4gIEJvb2xlYW5cbiAgKi9cblx0aGFzKG5hbWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHRyZXR1cm4gZmluZCh0aGlzW01BUF0sIG5hbWUpICE9PSB1bmRlZmluZWQ7XG5cdH1cblxuXHQvKipcbiAgKiBEZWxldGUgYWxsIGhlYWRlciB2YWx1ZXMgZ2l2ZW4gbmFtZVxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICBuYW1lICBIZWFkZXIgbmFtZVxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0ZGVsZXRlKG5hbWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0aWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkZWxldGUgdGhpc1tNQVBdW2tleV07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG4gICogUmV0dXJuIHJhdyBoZWFkZXJzIChub24tc3BlYyBhcGkpXG4gICpcbiAgKiBAcmV0dXJuICBPYmplY3RcbiAgKi9cblx0cmF3KCkge1xuXHRcdHJldHVybiB0aGlzW01BUF07XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24ga2V5cy5cbiAgKlxuICAqIEByZXR1cm4gIEl0ZXJhdG9yXG4gICovXG5cdGtleXMoKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZUhlYWRlcnNJdGVyYXRvcih0aGlzLCAna2V5Jyk7XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24gdmFsdWVzLlxuICAqXG4gICogQHJldHVybiAgSXRlcmF0b3JcbiAgKi9cblx0dmFsdWVzKCkge1xuXHRcdHJldHVybiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGhpcywgJ3ZhbHVlJyk7XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24gZW50cmllcy5cbiAgKlxuICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgaXRlcmF0b3Igb2YgdGhlIEhlYWRlcnMgb2JqZWN0LlxuICAqXG4gICogQHJldHVybiAgSXRlcmF0b3JcbiAgKi9cblx0W1N5bWJvbC5pdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZUhlYWRlcnNJdGVyYXRvcih0aGlzLCAna2V5K3ZhbHVlJyk7XG5cdH1cbn1cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGVhZGVycy5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHR2YWx1ZTogJ0hlYWRlcnMnLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhIZWFkZXJzLnByb3RvdHlwZSwge1xuXHRnZXQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRmb3JFYWNoOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0c2V0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0YXBwZW5kOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0aGFzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0ZGVsZXRlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0a2V5czogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHZhbHVlczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGVudHJpZXM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuZnVuY3Rpb24gZ2V0SGVhZGVycyhoZWFkZXJzKSB7XG5cdGxldCBraW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAna2V5K3ZhbHVlJztcblxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaGVhZGVyc1tNQVBdKS5zb3J0KCk7XG5cdHJldHVybiBrZXlzLm1hcChraW5kID09PSAna2V5JyA/IGZ1bmN0aW9uIChrKSB7XG5cdFx0cmV0dXJuIGsudG9Mb3dlckNhc2UoKTtcblx0fSA6IGtpbmQgPT09ICd2YWx1ZScgPyBmdW5jdGlvbiAoaykge1xuXHRcdHJldHVybiBoZWFkZXJzW01BUF1ba10uam9pbignLCAnKTtcblx0fSA6IGZ1bmN0aW9uIChrKSB7XG5cdFx0cmV0dXJuIFtrLnRvTG93ZXJDYXNlKCksIGhlYWRlcnNbTUFQXVtrXS5qb2luKCcsICcpXTtcblx0fSk7XG59XG5cbmNvbnN0IElOVEVSTkFMID0gU3ltYm9sKCdpbnRlcm5hbCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGFyZ2V0LCBraW5kKSB7XG5cdGNvbnN0IGl0ZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShIZWFkZXJzSXRlcmF0b3JQcm90b3R5cGUpO1xuXHRpdGVyYXRvcltJTlRFUk5BTF0gPSB7XG5cdFx0dGFyZ2V0LFxuXHRcdGtpbmQsXG5cdFx0aW5kZXg6IDBcblx0fTtcblx0cmV0dXJuIGl0ZXJhdG9yO1xufVxuXG5jb25zdCBIZWFkZXJzSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2Yoe1xuXHRuZXh0KCkge1xuXHRcdC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuXHRcdGlmICghdGhpcyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgIT09IEhlYWRlcnNJdGVyYXRvclByb3RvdHlwZSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYHRoaXNgIGlzIG5vdCBhIEhlYWRlcnNJdGVyYXRvcicpO1xuXHRcdH1cblxuXHRcdHZhciBfSU5URVJOQUwgPSB0aGlzW0lOVEVSTkFMXTtcblx0XHRjb25zdCB0YXJnZXQgPSBfSU5URVJOQUwudGFyZ2V0LFxuXHRcdCAgICAgIGtpbmQgPSBfSU5URVJOQUwua2luZCxcblx0XHQgICAgICBpbmRleCA9IF9JTlRFUk5BTC5pbmRleDtcblxuXHRcdGNvbnN0IHZhbHVlcyA9IGdldEhlYWRlcnModGFyZ2V0LCBraW5kKTtcblx0XHRjb25zdCBsZW4gPSB2YWx1ZXMubGVuZ3RoO1xuXHRcdGlmIChpbmRleCA+PSBsZW4pIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQsXG5cdFx0XHRcdGRvbmU6IHRydWVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhpc1tJTlRFUk5BTF0uaW5kZXggPSBpbmRleCArIDE7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IHZhbHVlc1tpbmRleF0sXG5cdFx0XHRkb25lOiBmYWxzZVxuXHRcdH07XG5cdH1cbn0sIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGVhZGVyc0l0ZXJhdG9yUHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdIZWFkZXJzSXRlcmF0b3InLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vKipcbiAqIEV4cG9ydCB0aGUgSGVhZGVycyBvYmplY3QgaW4gYSBmb3JtIHRoYXQgTm9kZS5qcyBjYW4gY29uc3VtZS5cbiAqXG4gKiBAcGFyYW0gICBIZWFkZXJzICBoZWFkZXJzXG4gKiBAcmV0dXJuICBPYmplY3RcbiAqL1xuZnVuY3Rpb24gZXhwb3J0Tm9kZUNvbXBhdGlibGVIZWFkZXJzKGhlYWRlcnMpIHtcblx0Y29uc3Qgb2JqID0gT2JqZWN0LmFzc2lnbih7IF9fcHJvdG9fXzogbnVsbCB9LCBoZWFkZXJzW01BUF0pO1xuXG5cdC8vIGh0dHAucmVxdWVzdCgpIG9ubHkgc3VwcG9ydHMgc3RyaW5nIGFzIEhvc3QgaGVhZGVyLiBUaGlzIGhhY2sgbWFrZXNcblx0Ly8gc3BlY2lmeWluZyBjdXN0b20gSG9zdCBoZWFkZXIgcG9zc2libGUuXG5cdGNvbnN0IGhvc3RIZWFkZXJLZXkgPSBmaW5kKGhlYWRlcnNbTUFQXSwgJ0hvc3QnKTtcblx0aWYgKGhvc3RIZWFkZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdG9ialtob3N0SGVhZGVyS2V5XSA9IG9ialtob3N0SGVhZGVyS2V5XVswXTtcblx0fVxuXG5cdHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgSGVhZGVycyBvYmplY3QgZnJvbSBhbiBvYmplY3Qgb2YgaGVhZGVycywgaWdub3JpbmcgdGhvc2UgdGhhdCBkb1xuICogbm90IGNvbmZvcm0gdG8gSFRUUCBncmFtbWFyIHByb2R1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSAgIE9iamVjdCAgb2JqICBPYmplY3Qgb2YgaGVhZGVyc1xuICogQHJldHVybiAgSGVhZGVyc1xuICovXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzTGVuaWVudChvYmopIHtcblx0Y29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cdGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG5cdFx0aWYgKGludmFsaWRUb2tlblJlZ2V4LnRlc3QobmFtZSkpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvYmpbbmFtZV0pKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHZhbCBvZiBvYmpbbmFtZV0pIHtcblx0XHRcdFx0aWYgKGludmFsaWRIZWFkZXJDaGFyUmVnZXgudGVzdCh2YWwpKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGhlYWRlcnNbTUFQXVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tNQVBdW25hbWVdID0gW3ZhbF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tNQVBdW25hbWVdLnB1c2godmFsKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIWludmFsaWRIZWFkZXJDaGFyUmVnZXgudGVzdChvYmpbbmFtZV0pKSB7XG5cdFx0XHRoZWFkZXJzW01BUF1bbmFtZV0gPSBbb2JqW25hbWVdXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGhlYWRlcnM7XG59XG5cbmNvbnN0IElOVEVSTkFMUyQxID0gU3ltYm9sKCdSZXNwb25zZSBpbnRlcm5hbHMnKTtcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiU1RBVFVTX0NPREVTXCIgYXJlbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgU1RBVFVTX0NPREVTID0gaHR0cC5TVEFUVVNfQ09ERVM7XG5cbi8qKlxuICogUmVzcG9uc2UgY2xhc3NcbiAqXG4gKiBAcGFyYW0gICBTdHJlYW0gIGJvZHkgIFJlYWRhYmxlIHN0cmVhbVxuICogQHBhcmFtICAgT2JqZWN0ICBvcHRzICBSZXNwb25zZSBvcHRpb25zXG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmNsYXNzIFJlc3BvbnNlIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0bGV0IGJvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG5cdFx0bGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG5cdFx0Qm9keS5jYWxsKHRoaXMsIGJvZHksIG9wdHMpO1xuXG5cdFx0Y29uc3Qgc3RhdHVzID0gb3B0cy5zdGF0dXMgfHwgMjAwO1xuXHRcdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRzLmhlYWRlcnMpO1xuXG5cdFx0aWYgKGJvZHkgIT0gbnVsbCAmJiAhaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpKSB7XG5cdFx0XHRjb25zdCBjb250ZW50VHlwZSA9IGV4dHJhY3RDb250ZW50VHlwZShib2R5KTtcblx0XHRcdGlmIChjb250ZW50VHlwZSkge1xuXHRcdFx0XHRoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgY29udGVudFR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXNbSU5URVJOQUxTJDFdID0ge1xuXHRcdFx0dXJsOiBvcHRzLnVybCxcblx0XHRcdHN0YXR1cyxcblx0XHRcdHN0YXR1c1RleHQ6IG9wdHMuc3RhdHVzVGV4dCB8fCBTVEFUVVNfQ09ERVNbc3RhdHVzXSxcblx0XHRcdGhlYWRlcnMsXG5cdFx0XHRjb3VudGVyOiBvcHRzLmNvdW50ZXJcblx0XHR9O1xuXHR9XG5cblx0Z2V0IHVybCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0udXJsIHx8ICcnO1xuXHR9XG5cblx0Z2V0IHN0YXR1cygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzO1xuXHR9XG5cblx0LyoqXG4gICogQ29udmVuaWVuY2UgcHJvcGVydHkgcmVwcmVzZW50aW5nIGlmIHRoZSByZXF1ZXN0IGVuZGVkIG5vcm1hbGx5XG4gICovXG5cdGdldCBvaygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzID49IDIwMCAmJiB0aGlzW0lOVEVSTkFMUyQxXS5zdGF0dXMgPCAzMDA7XG5cdH1cblxuXHRnZXQgcmVkaXJlY3RlZCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uY291bnRlciA+IDA7XG5cdH1cblxuXHRnZXQgc3RhdHVzVGV4dCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzVGV4dDtcblx0fVxuXG5cdGdldCBoZWFkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQxXS5oZWFkZXJzO1xuXHR9XG5cblx0LyoqXG4gICogQ2xvbmUgdGhpcyByZXNwb25zZVxuICAqXG4gICogQHJldHVybiAgUmVzcG9uc2VcbiAgKi9cblx0Y2xvbmUoKSB7XG5cdFx0cmV0dXJuIG5ldyBSZXNwb25zZShjbG9uZSh0aGlzKSwge1xuXHRcdFx0dXJsOiB0aGlzLnVybCxcblx0XHRcdHN0YXR1czogdGhpcy5zdGF0dXMsXG5cdFx0XHRzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG5cdFx0XHRoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG5cdFx0XHRvazogdGhpcy5vayxcblx0XHRcdHJlZGlyZWN0ZWQ6IHRoaXMucmVkaXJlY3RlZFxuXHRcdH0pO1xuXHR9XG59XG5cbkJvZHkubWl4SW4oUmVzcG9uc2UucHJvdG90eXBlKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVzcG9uc2UucHJvdG90eXBlLCB7XG5cdHVybDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHN0YXR1czogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdG9rOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0cmVkaXJlY3RlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHN0YXR1c1RleHQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRoZWFkZXJzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Y2xvbmU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG5cdHZhbHVlOiAnUmVzcG9uc2UnLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5jb25zdCBJTlRFUk5BTFMkMiA9IFN5bWJvbCgnUmVxdWVzdCBpbnRlcm5hbHMnKTtcbmNvbnN0IFVSTCA9IFVybC5VUkwgfHwgd2hhdHdnVXJsLlVSTDtcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiZm9ybWF0XCIsIFwicGFyc2VcIiBhcmVuJ3QgYSBuYW1lZCBleHBvcnQgZm9yIG5vZGUgPDEwXG5jb25zdCBwYXJzZV91cmwgPSBVcmwucGFyc2U7XG5jb25zdCBmb3JtYXRfdXJsID0gVXJsLmZvcm1hdDtcblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBgbmV3IFVSTGAgdG8gaGFuZGxlIGFyYml0cmFyeSBVUkxzXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB1cmxTdHJcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlVVJMKHVybFN0cikge1xuXHQvKlxuIFx0Q2hlY2sgd2hldGhlciB0aGUgVVJMIGlzIGFic29sdXRlIG9yIG5vdFxuIFx0XHRTY2hlbWU6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4xXG4gXHRBYnNvbHV0ZSBVUkw6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNC4zXG4gKi9cblx0aWYgKC9eW2EtekEtWl1bYS16QS1aXFxkK1xcLS5dKjovLmV4ZWModXJsU3RyKSkge1xuXHRcdHVybFN0ciA9IG5ldyBVUkwodXJsU3RyKS50b1N0cmluZygpO1xuXHR9XG5cblx0Ly8gRmFsbGJhY2sgdG8gb2xkIGltcGxlbWVudGF0aW9uIGZvciBhcmJpdHJhcnkgVVJMc1xuXHRyZXR1cm4gcGFyc2VfdXJsKHVybFN0cik7XG59XG5cbmNvbnN0IHN0cmVhbURlc3RydWN0aW9uU3VwcG9ydGVkID0gJ2Rlc3Ryb3knIGluIFN0cmVhbS5SZWFkYWJsZS5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBSZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSAgIE1peGVkICAgaW5wdXRcbiAqIEByZXR1cm4gIEJvb2xlYW5cbiAqL1xuZnVuY3Rpb24gaXNSZXF1ZXN0KGlucHV0KSB7XG5cdHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIHR5cGVvZiBpbnB1dFtJTlRFUk5BTFMkMl0gPT09ICdvYmplY3QnO1xufVxuXG5mdW5jdGlvbiBpc0Fib3J0U2lnbmFsKHNpZ25hbCkge1xuXHRjb25zdCBwcm90byA9IHNpZ25hbCAmJiB0eXBlb2Ygc2lnbmFsID09PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2lnbmFsKTtcblx0cmV0dXJuICEhKHByb3RvICYmIHByb3RvLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdBYm9ydFNpZ25hbCcpO1xufVxuXG4vKipcbiAqIFJlcXVlc3QgY2xhc3NcbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgIGlucHV0ICBVcmwgb3IgUmVxdWVzdCBpbnN0YW5jZVxuICogQHBhcmFtICAgT2JqZWN0ICBpbml0ICAgQ3VzdG9tIG9wdGlvbnNcbiAqIEByZXR1cm4gIFZvaWRcbiAqL1xuY2xhc3MgUmVxdWVzdCB7XG5cdGNvbnN0cnVjdG9yKGlucHV0KSB7XG5cdFx0bGV0IGluaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG5cdFx0bGV0IHBhcnNlZFVSTDtcblxuXHRcdC8vIG5vcm1hbGl6ZSBpbnB1dFxuXHRcdGlmICghaXNSZXF1ZXN0KGlucHV0KSkge1xuXHRcdFx0aWYgKGlucHV0ICYmIGlucHV0LmhyZWYpIHtcblx0XHRcdFx0Ly8gaW4gb3JkZXIgdG8gc3VwcG9ydCBOb2RlLmpzJyBVcmwgb2JqZWN0czsgdGhvdWdoIFdIQVRXRydzIFVSTCBvYmplY3RzXG5cdFx0XHRcdC8vIHdpbGwgZmFsbCBpbnRvIHRoaXMgYnJhbmNoIGFsc28gKHNpbmNlIHRoZWlyIGB0b1N0cmluZygpYCB3aWxsIHJldHVyblxuXHRcdFx0XHQvLyBgaHJlZmAgcHJvcGVydHkgYW55d2F5KVxuXHRcdFx0XHRwYXJzZWRVUkwgPSBwYXJzZVVSTChpbnB1dC5ocmVmKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGNvZXJjZSBpbnB1dCB0byBhIHN0cmluZyBiZWZvcmUgYXR0ZW1wdGluZyB0byBwYXJzZVxuXHRcdFx0XHRwYXJzZWRVUkwgPSBwYXJzZVVSTChgJHtpbnB1dH1gKTtcblx0XHRcdH1cblx0XHRcdGlucHV0ID0ge307XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhcnNlZFVSTCA9IHBhcnNlVVJMKGlucHV0LnVybCk7XG5cdFx0fVxuXG5cdFx0bGV0IG1ldGhvZCA9IGluaXQubWV0aG9kIHx8IGlucHV0Lm1ldGhvZCB8fCAnR0VUJztcblx0XHRtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcblxuXHRcdGlmICgoaW5pdC5ib2R5ICE9IG51bGwgfHwgaXNSZXF1ZXN0KGlucHV0KSAmJiBpbnB1dC5ib2R5ICE9PSBudWxsKSAmJiAobWV0aG9kID09PSAnR0VUJyB8fCBtZXRob2QgPT09ICdIRUFEJykpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlcXVlc3Qgd2l0aCBHRVQvSEVBRCBtZXRob2QgY2Fubm90IGhhdmUgYm9keScpO1xuXHRcdH1cblxuXHRcdGxldCBpbnB1dEJvZHkgPSBpbml0LmJvZHkgIT0gbnVsbCA/IGluaXQuYm9keSA6IGlzUmVxdWVzdChpbnB1dCkgJiYgaW5wdXQuYm9keSAhPT0gbnVsbCA/IGNsb25lKGlucHV0KSA6IG51bGw7XG5cblx0XHRCb2R5LmNhbGwodGhpcywgaW5wdXRCb2R5LCB7XG5cdFx0XHR0aW1lb3V0OiBpbml0LnRpbWVvdXQgfHwgaW5wdXQudGltZW91dCB8fCAwLFxuXHRcdFx0c2l6ZTogaW5pdC5zaXplIHx8IGlucHV0LnNpemUgfHwgMFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGluaXQuaGVhZGVycyB8fCBpbnB1dC5oZWFkZXJzIHx8IHt9KTtcblxuXHRcdGlmIChpbnB1dEJvZHkgIT0gbnVsbCAmJiAhaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpKSB7XG5cdFx0XHRjb25zdCBjb250ZW50VHlwZSA9IGV4dHJhY3RDb250ZW50VHlwZShpbnB1dEJvZHkpO1xuXHRcdFx0aWYgKGNvbnRlbnRUeXBlKSB7XG5cdFx0XHRcdGhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCBjb250ZW50VHlwZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IHNpZ25hbCA9IGlzUmVxdWVzdChpbnB1dCkgPyBpbnB1dC5zaWduYWwgOiBudWxsO1xuXHRcdGlmICgnc2lnbmFsJyBpbiBpbml0KSBzaWduYWwgPSBpbml0LnNpZ25hbDtcblxuXHRcdGlmIChzaWduYWwgIT0gbnVsbCAmJiAhaXNBYm9ydFNpZ25hbChzaWduYWwpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBzaWduYWwgdG8gYmUgYW4gaW5zdGFuY2VvZiBBYm9ydFNpZ25hbCcpO1xuXHRcdH1cblxuXHRcdHRoaXNbSU5URVJOQUxTJDJdID0ge1xuXHRcdFx0bWV0aG9kLFxuXHRcdFx0cmVkaXJlY3Q6IGluaXQucmVkaXJlY3QgfHwgaW5wdXQucmVkaXJlY3QgfHwgJ2ZvbGxvdycsXG5cdFx0XHRoZWFkZXJzLFxuXHRcdFx0cGFyc2VkVVJMLFxuXHRcdFx0c2lnbmFsXG5cdFx0fTtcblxuXHRcdC8vIG5vZGUtZmV0Y2gtb25seSBvcHRpb25zXG5cdFx0dGhpcy5mb2xsb3cgPSBpbml0LmZvbGxvdyAhPT0gdW5kZWZpbmVkID8gaW5pdC5mb2xsb3cgOiBpbnB1dC5mb2xsb3cgIT09IHVuZGVmaW5lZCA/IGlucHV0LmZvbGxvdyA6IDIwO1xuXHRcdHRoaXMuY29tcHJlc3MgPSBpbml0LmNvbXByZXNzICE9PSB1bmRlZmluZWQgPyBpbml0LmNvbXByZXNzIDogaW5wdXQuY29tcHJlc3MgIT09IHVuZGVmaW5lZCA/IGlucHV0LmNvbXByZXNzIDogdHJ1ZTtcblx0XHR0aGlzLmNvdW50ZXIgPSBpbml0LmNvdW50ZXIgfHwgaW5wdXQuY291bnRlciB8fCAwO1xuXHRcdHRoaXMuYWdlbnQgPSBpbml0LmFnZW50IHx8IGlucHV0LmFnZW50O1xuXHR9XG5cblx0Z2V0IG1ldGhvZCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMl0ubWV0aG9kO1xuXHR9XG5cblx0Z2V0IHVybCgpIHtcblx0XHRyZXR1cm4gZm9ybWF0X3VybCh0aGlzW0lOVEVSTkFMUyQyXS5wYXJzZWRVUkwpO1xuXHR9XG5cblx0Z2V0IGhlYWRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDJdLmhlYWRlcnM7XG5cdH1cblxuXHRnZXQgcmVkaXJlY3QoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDJdLnJlZGlyZWN0O1xuXHR9XG5cblx0Z2V0IHNpZ25hbCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMl0uc2lnbmFsO1xuXHR9XG5cblx0LyoqXG4gICogQ2xvbmUgdGhpcyByZXF1ZXN0XG4gICpcbiAgKiBAcmV0dXJuICBSZXF1ZXN0XG4gICovXG5cdGNsb25lKCkge1xuXHRcdHJldHVybiBuZXcgUmVxdWVzdCh0aGlzKTtcblx0fVxufVxuXG5Cb2R5Lm1peEluKFJlcXVlc3QucHJvdG90eXBlKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3QucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdSZXF1ZXN0Jyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVxdWVzdC5wcm90b3R5cGUsIHtcblx0bWV0aG9kOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0dXJsOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0aGVhZGVyczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHJlZGlyZWN0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Y2xvbmU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRzaWduYWw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgUmVxdWVzdCB0byBOb2RlLmpzIGh0dHAgcmVxdWVzdCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAgIFJlcXVlc3QgIEEgUmVxdWVzdCBpbnN0YW5jZVxuICogQHJldHVybiAgT2JqZWN0ICAgVGhlIG9wdGlvbnMgb2JqZWN0IHRvIGJlIHBhc3NlZCB0byBodHRwLnJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZVJlcXVlc3RPcHRpb25zKHJlcXVlc3QpIHtcblx0Y29uc3QgcGFyc2VkVVJMID0gcmVxdWVzdFtJTlRFUk5BTFMkMl0ucGFyc2VkVVJMO1xuXHRjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVxdWVzdFtJTlRFUk5BTFMkMl0uaGVhZGVycyk7XG5cblx0Ly8gZmV0Y2ggc3RlcCAxLjNcblx0aWYgKCFoZWFkZXJzLmhhcygnQWNjZXB0JykpIHtcblx0XHRoZWFkZXJzLnNldCgnQWNjZXB0JywgJyovKicpO1xuXHR9XG5cblx0Ly8gQmFzaWMgZmV0Y2hcblx0aWYgKCFwYXJzZWRVUkwucHJvdG9jb2wgfHwgIXBhcnNlZFVSTC5ob3N0bmFtZSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09ubHkgYWJzb2x1dGUgVVJMcyBhcmUgc3VwcG9ydGVkJyk7XG5cdH1cblxuXHRpZiAoIS9eaHR0cHM/OiQvLnRlc3QocGFyc2VkVVJMLnByb3RvY29sKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09ubHkgSFRUUChTKSBwcm90b2NvbHMgYXJlIHN1cHBvcnRlZCcpO1xuXHR9XG5cblx0aWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3QuYm9keSBpbnN0YW5jZW9mIFN0cmVhbS5SZWFkYWJsZSAmJiAhc3RyZWFtRGVzdHJ1Y3Rpb25TdXBwb3J0ZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NhbmNlbGxhdGlvbiBvZiBzdHJlYW1lZCByZXF1ZXN0cyB3aXRoIEFib3J0U2lnbmFsIGlzIG5vdCBzdXBwb3J0ZWQgaW4gbm9kZSA8IDgnKTtcblx0fVxuXG5cdC8vIEhUVFAtbmV0d29yay1vci1jYWNoZSBmZXRjaCBzdGVwcyAyLjQtMi43XG5cdGxldCBjb250ZW50TGVuZ3RoVmFsdWUgPSBudWxsO1xuXHRpZiAocmVxdWVzdC5ib2R5ID09IG51bGwgJiYgL14oUE9TVHxQVVQpJC9pLnRlc3QocmVxdWVzdC5tZXRob2QpKSB7XG5cdFx0Y29udGVudExlbmd0aFZhbHVlID0gJzAnO1xuXHR9XG5cdGlmIChyZXF1ZXN0LmJvZHkgIT0gbnVsbCkge1xuXHRcdGNvbnN0IHRvdGFsQnl0ZXMgPSBnZXRUb3RhbEJ5dGVzKHJlcXVlc3QpO1xuXHRcdGlmICh0eXBlb2YgdG90YWxCeXRlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdGNvbnRlbnRMZW5ndGhWYWx1ZSA9IFN0cmluZyh0b3RhbEJ5dGVzKTtcblx0XHR9XG5cdH1cblx0aWYgKGNvbnRlbnRMZW5ndGhWYWx1ZSkge1xuXHRcdGhlYWRlcnMuc2V0KCdDb250ZW50LUxlbmd0aCcsIGNvbnRlbnRMZW5ndGhWYWx1ZSk7XG5cdH1cblxuXHQvLyBIVFRQLW5ldHdvcmstb3ItY2FjaGUgZmV0Y2ggc3RlcCAyLjExXG5cdGlmICghaGVhZGVycy5oYXMoJ1VzZXItQWdlbnQnKSkge1xuXHRcdGhlYWRlcnMuc2V0KCdVc2VyLUFnZW50JywgJ25vZGUtZmV0Y2gvMS4wICgraHR0cHM6Ly9naXRodWIuY29tL2JpdGlubi9ub2RlLWZldGNoKScpO1xuXHR9XG5cblx0Ly8gSFRUUC1uZXR3b3JrLW9yLWNhY2hlIGZldGNoIHN0ZXAgMi4xNVxuXHRpZiAocmVxdWVzdC5jb21wcmVzcyAmJiAhaGVhZGVycy5oYXMoJ0FjY2VwdC1FbmNvZGluZycpKSB7XG5cdFx0aGVhZGVycy5zZXQoJ0FjY2VwdC1FbmNvZGluZycsICdnemlwLGRlZmxhdGUnKTtcblx0fVxuXG5cdGxldCBhZ2VudCA9IHJlcXVlc3QuYWdlbnQ7XG5cdGlmICh0eXBlb2YgYWdlbnQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRhZ2VudCA9IGFnZW50KHBhcnNlZFVSTCk7XG5cdH1cblxuXHQvLyBIVFRQLW5ldHdvcmsgZmV0Y2ggc3RlcCA0LjJcblx0Ly8gY2h1bmtlZCBlbmNvZGluZyBpcyBoYW5kbGVkIGJ5IE5vZGUuanNcblxuXHRyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VkVVJMLCB7XG5cdFx0bWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcblx0XHRoZWFkZXJzOiBleHBvcnROb2RlQ29tcGF0aWJsZUhlYWRlcnMoaGVhZGVycyksXG5cdFx0YWdlbnRcblx0fSk7XG59XG5cbi8qKlxuICogYWJvcnQtZXJyb3IuanNcbiAqXG4gKiBBYm9ydEVycm9yIGludGVyZmFjZSBmb3IgY2FuY2VsbGVkIHJlcXVlc3RzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgQWJvcnRFcnJvciBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSAgIFN0cmluZyAgICAgIG1lc3NhZ2UgICAgICBFcnJvciBtZXNzYWdlIGZvciBodW1hblxuICogQHJldHVybiAgQWJvcnRFcnJvclxuICovXG5mdW5jdGlvbiBBYm9ydEVycm9yKG1lc3NhZ2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICB0aGlzLnR5cGUgPSAnYWJvcnRlZCc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cbiAgLy8gaGlkZSBjdXN0b20gZXJyb3IgaW1wbGVtZW50YXRpb24gZGV0YWlscyBmcm9tIGVuZC11c2Vyc1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbn1cblxuQWJvcnRFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5BYm9ydEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFib3J0RXJyb3I7XG5BYm9ydEVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0Fib3J0RXJyb3InO1xuXG5jb25zdCBVUkwkMSA9IFVybC5VUkwgfHwgd2hhdHdnVXJsLlVSTDtcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiUGFzc1Rocm91Z2hcIiwgXCJyZXNvbHZlXCIgYXJlbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgUGFzc1Rocm91Z2gkMSA9IFN0cmVhbS5QYXNzVGhyb3VnaDtcblxuY29uc3QgaXNEb21haW5PclN1YmRvbWFpbiA9IGZ1bmN0aW9uIGlzRG9tYWluT3JTdWJkb21haW4oZGVzdGluYXRpb24sIG9yaWdpbmFsKSB7XG5cdGNvbnN0IG9yaWcgPSBuZXcgVVJMJDEob3JpZ2luYWwpLmhvc3RuYW1lO1xuXHRjb25zdCBkZXN0ID0gbmV3IFVSTCQxKGRlc3RpbmF0aW9uKS5ob3N0bmFtZTtcblxuXHRyZXR1cm4gb3JpZyA9PT0gZGVzdCB8fCBvcmlnW29yaWcubGVuZ3RoIC0gZGVzdC5sZW5ndGggLSAxXSA9PT0gJy4nICYmIG9yaWcuZW5kc1dpdGgoZGVzdCk7XG59O1xuXG4vKipcbiAqIGlzU2FtZVByb3RvY29sIHJlcG9ydHMgd2hldGhlciB0aGUgdHdvIHByb3ZpZGVkIFVSTHMgdXNlIHRoZSBzYW1lIHByb3RvY29sLlxuICpcbiAqIEJvdGggZG9tYWlucyBtdXN0IGFscmVhZHkgYmUgaW4gY2Fub25pY2FsIGZvcm0uXG4gKiBAcGFyYW0ge3N0cmluZ3xVUkx9IG9yaWdpbmFsXG4gKiBAcGFyYW0ge3N0cmluZ3xVUkx9IGRlc3RpbmF0aW9uXG4gKi9cbmNvbnN0IGlzU2FtZVByb3RvY29sID0gZnVuY3Rpb24gaXNTYW1lUHJvdG9jb2woZGVzdGluYXRpb24sIG9yaWdpbmFsKSB7XG5cdGNvbnN0IG9yaWcgPSBuZXcgVVJMJDEob3JpZ2luYWwpLnByb3RvY29sO1xuXHRjb25zdCBkZXN0ID0gbmV3IFVSTCQxKGRlc3RpbmF0aW9uKS5wcm90b2NvbDtcblxuXHRyZXR1cm4gb3JpZyA9PT0gZGVzdDtcbn07XG5cbi8qKlxuICogRmV0Y2ggZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgICB1cmwgICBBYnNvbHV0ZSB1cmwgb3IgUmVxdWVzdCBpbnN0YW5jZVxuICogQHBhcmFtICAgT2JqZWN0ICAgb3B0cyAgRmV0Y2ggb3B0aW9uc1xuICogQHJldHVybiAgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBmZXRjaCh1cmwsIG9wdHMpIHtcblxuXHQvLyBhbGxvdyBjdXN0b20gcHJvbWlzZVxuXHRpZiAoIWZldGNoLlByb21pc2UpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ25hdGl2ZSBwcm9taXNlIG1pc3NpbmcsIHNldCBmZXRjaC5Qcm9taXNlIHRvIHlvdXIgZmF2b3JpdGUgYWx0ZXJuYXRpdmUnKTtcblx0fVxuXG5cdEJvZHkuUHJvbWlzZSA9IGZldGNoLlByb21pc2U7XG5cblx0Ly8gd3JhcCBodHRwLnJlcXVlc3QgaW50byBmZXRjaFxuXHRyZXR1cm4gbmV3IGZldGNoLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdC8vIGJ1aWxkIHJlcXVlc3Qgb2JqZWN0XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwgb3B0cyk7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGdldE5vZGVSZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0KTtcblxuXHRcdGNvbnN0IHNlbmQgPSAob3B0aW9ucy5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyBodHRwcyA6IGh0dHApLnJlcXVlc3Q7XG5cdFx0Y29uc3Qgc2lnbmFsID0gcmVxdWVzdC5zaWduYWw7XG5cblx0XHRsZXQgcmVzcG9uc2UgPSBudWxsO1xuXG5cdFx0Y29uc3QgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcblx0XHRcdGxldCBlcnJvciA9IG5ldyBBYm9ydEVycm9yKCdUaGUgdXNlciBhYm9ydGVkIGEgcmVxdWVzdC4nKTtcblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRpZiAocmVxdWVzdC5ib2R5ICYmIHJlcXVlc3QuYm9keSBpbnN0YW5jZW9mIFN0cmVhbS5SZWFkYWJsZSkge1xuXHRcdFx0XHRkZXN0cm95U3RyZWFtKHJlcXVlc3QuYm9keSwgZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2UuYm9keSkgcmV0dXJuO1xuXHRcdFx0cmVzcG9uc2UuYm9keS5lbWl0KCdlcnJvcicsIGVycm9yKTtcblx0XHR9O1xuXG5cdFx0aWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuXHRcdFx0YWJvcnQoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBhYm9ydEFuZEZpbmFsaXplID0gZnVuY3Rpb24gYWJvcnRBbmRGaW5hbGl6ZSgpIHtcblx0XHRcdGFib3J0KCk7XG5cdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdH07XG5cblx0XHQvLyBzZW5kIHJlcXVlc3Rcblx0XHRjb25zdCByZXEgPSBzZW5kKG9wdGlvbnMpO1xuXHRcdGxldCByZXFUaW1lb3V0O1xuXG5cdFx0aWYgKHNpZ25hbCkge1xuXHRcdFx0c2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRBbmRGaW5hbGl6ZSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZmluYWxpemUoKSB7XG5cdFx0XHRyZXEuYWJvcnQoKTtcblx0XHRcdGlmIChzaWduYWwpIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0QW5kRmluYWxpemUpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHJlcVRpbWVvdXQpO1xuXHRcdH1cblxuXHRcdGlmIChyZXF1ZXN0LnRpbWVvdXQpIHtcblx0XHRcdHJlcS5vbmNlKCdzb2NrZXQnLCBmdW5jdGlvbiAoc29ja2V0KSB7XG5cdFx0XHRcdHJlcVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYG5ldHdvcmsgdGltZW91dCBhdDogJHtyZXF1ZXN0LnVybH1gLCAncmVxdWVzdC10aW1lb3V0JykpO1xuXHRcdFx0XHRcdGZpbmFsaXplKCk7XG5cdFx0XHRcdH0sIHJlcXVlc3QudGltZW91dCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXEub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGByZXF1ZXN0IHRvICR7cmVxdWVzdC51cmx9IGZhaWxlZCwgcmVhc29uOiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpKTtcblxuXHRcdFx0aWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmJvZHkpIHtcblx0XHRcdFx0ZGVzdHJveVN0cmVhbShyZXNwb25zZS5ib2R5LCBlcnIpO1xuXHRcdFx0fVxuXG5cdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdH0pO1xuXG5cdFx0Zml4UmVzcG9uc2VDaHVua2VkVHJhbnNmZXJCYWRFbmRpbmcocmVxLCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmJvZHkpIHtcblx0XHRcdFx0ZGVzdHJveVN0cmVhbShyZXNwb25zZS5ib2R5LCBlcnIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0LyogYzggaWdub3JlIG5leHQgMTggKi9cblx0XHRpZiAocGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9uLnN1YnN0cmluZygxKSkgPCAxNCkge1xuXHRcdFx0Ly8gQmVmb3JlIE5vZGUuanMgMTQsIHBpcGVsaW5lKCkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCBhc3luYyBpdGVyYXRvcnMgYW5kIGRvZXMgbm90IGFsd2F5c1xuXHRcdFx0Ly8gcHJvcGVybHkgaGFuZGxlIHdoZW4gdGhlIHNvY2tldCBjbG9zZS9lbmQgZXZlbnRzIGFyZSBvdXQgb2Ygb3JkZXIuXG5cdFx0XHRyZXEub24oJ3NvY2tldCcsIGZ1bmN0aW9uIChzKSB7XG5cdFx0XHRcdHMuYWRkTGlzdGVuZXIoJ2Nsb3NlJywgZnVuY3Rpb24gKGhhZEVycm9yKSB7XG5cdFx0XHRcdFx0Ly8gaWYgYSBkYXRhIGxpc3RlbmVyIGlzIHN0aWxsIHByZXNlbnQgd2UgZGlkbid0IGVuZCBjbGVhbmx5XG5cdFx0XHRcdFx0Y29uc3QgaGFzRGF0YUxpc3RlbmVyID0gcy5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwO1xuXG5cdFx0XHRcdFx0Ly8gaWYgZW5kIGhhcHBlbmVkIGJlZm9yZSBjbG9zZSBidXQgdGhlIHNvY2tldCBkaWRuJ3QgZW1pdCBhbiBlcnJvciwgZG8gaXQgbm93XG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlICYmIGhhc0RhdGFMaXN0ZW5lciAmJiAhaGFkRXJyb3IgJiYgIShzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ1ByZW1hdHVyZSBjbG9zZScpO1xuXHRcdFx0XHRcdFx0ZXJyLmNvZGUgPSAnRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UnO1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UuYm9keS5lbWl0KCdlcnJvcicsIGVycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJlcS5vbigncmVzcG9uc2UnLCBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQocmVxVGltZW91dCk7XG5cblx0XHRcdGNvbnN0IGhlYWRlcnMgPSBjcmVhdGVIZWFkZXJzTGVuaWVudChyZXMuaGVhZGVycyk7XG5cblx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1XG5cdFx0XHRpZiAoZmV0Y2guaXNSZWRpcmVjdChyZXMuc3RhdHVzQ29kZSkpIHtcblx0XHRcdFx0Ly8gSFRUUCBmZXRjaCBzdGVwIDUuMlxuXHRcdFx0XHRjb25zdCBsb2NhdGlvbiA9IGhlYWRlcnMuZ2V0KCdMb2NhdGlvbicpO1xuXG5cdFx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1LjNcblx0XHRcdFx0bGV0IGxvY2F0aW9uVVJMID0gbnVsbDtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRsb2NhdGlvblVSTCA9IGxvY2F0aW9uID09PSBudWxsID8gbnVsbCA6IG5ldyBVUkwkMShsb2NhdGlvbiwgcmVxdWVzdC51cmwpLnRvU3RyaW5nKCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdC8vIGVycm9yIGhlcmUgY2FuIG9ubHkgYmUgaW52YWxpZCBVUkwgaW4gTG9jYXRpb246IGhlYWRlclxuXHRcdFx0XHRcdC8vIGRvIG5vdCB0aHJvdyB3aGVuIG9wdGlvbnMucmVkaXJlY3QgPT0gbWFudWFsXG5cdFx0XHRcdFx0Ly8gbGV0IHRoZSB1c2VyIGV4dHJhY3QgdGhlIGVycm9ybmVvdXMgcmVkaXJlY3QgVVJMXG5cdFx0XHRcdFx0aWYgKHJlcXVlc3QucmVkaXJlY3QgIT09ICdtYW51YWwnKSB7XG5cdFx0XHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYHVyaSByZXF1ZXN0ZWQgcmVzcG9uZHMgd2l0aCBhbiBpbnZhbGlkIHJlZGlyZWN0IFVSTDogJHtsb2NhdGlvbn1gLCAnaW52YWxpZC1yZWRpcmVjdCcpKTtcblx0XHRcdFx0XHRcdGZpbmFsaXplKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSFRUUCBmZXRjaCBzdGVwIDUuNVxuXHRcdFx0XHRzd2l0Y2ggKHJlcXVlc3QucmVkaXJlY3QpIHtcblx0XHRcdFx0XHRjYXNlICdlcnJvcic6XG5cdFx0XHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYHVyaSByZXF1ZXN0ZWQgcmVzcG9uZHMgd2l0aCBhIHJlZGlyZWN0LCByZWRpcmVjdCBtb2RlIGlzIHNldCB0byBlcnJvcjogJHtyZXF1ZXN0LnVybH1gLCAnbm8tcmVkaXJlY3QnKSk7XG5cdFx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdGNhc2UgJ21hbnVhbCc6XG5cdFx0XHRcdFx0XHQvLyBub2RlLWZldGNoLXNwZWNpZmljIHN0ZXA6IG1ha2UgbWFudWFsIHJlZGlyZWN0IGEgYml0IGVhc2llciB0byB1c2UgYnkgc2V0dGluZyB0aGUgTG9jYXRpb24gaGVhZGVyIHZhbHVlIHRvIHRoZSByZXNvbHZlZCBVUkwuXG5cdFx0XHRcdFx0XHRpZiAobG9jYXRpb25VUkwgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0Ly8gaGFuZGxlIGNvcnJ1cHRlZCBoZWFkZXJcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRoZWFkZXJzLnNldCgnTG9jYXRpb24nLCBsb2NhdGlvblVSTCk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub2RlanMgc2VydmVyIHByZXZlbnQgaW52YWxpZCByZXNwb25zZSBoZWFkZXJzLCB3ZSBjYW4ndCB0ZXN0IHRoaXMgdGhyb3VnaCBub3JtYWwgcmVxdWVzdFxuXHRcdFx0XHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdmb2xsb3cnOlxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDJcblx0XHRcdFx0XHRcdGlmIChsb2NhdGlvblVSTCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDVcblx0XHRcdFx0XHRcdGlmIChyZXF1ZXN0LmNvdW50ZXIgPj0gcmVxdWVzdC5mb2xsb3cpIHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGBtYXhpbXVtIHJlZGlyZWN0IHJlYWNoZWQgYXQ6ICR7cmVxdWVzdC51cmx9YCwgJ21heC1yZWRpcmVjdCcpKTtcblx0XHRcdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBIVFRQLXJlZGlyZWN0IGZldGNoIHN0ZXAgNiAoY291bnRlciBpbmNyZW1lbnQpXG5cdFx0XHRcdFx0XHQvLyBDcmVhdGUgYSBuZXcgUmVxdWVzdCBvYmplY3QuXG5cdFx0XHRcdFx0XHRjb25zdCByZXF1ZXN0T3B0cyA9IHtcblx0XHRcdFx0XHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKSxcblx0XHRcdFx0XHRcdFx0Zm9sbG93OiByZXF1ZXN0LmZvbGxvdyxcblx0XHRcdFx0XHRcdFx0Y291bnRlcjogcmVxdWVzdC5jb3VudGVyICsgMSxcblx0XHRcdFx0XHRcdFx0YWdlbnQ6IHJlcXVlc3QuYWdlbnQsXG5cdFx0XHRcdFx0XHRcdGNvbXByZXNzOiByZXF1ZXN0LmNvbXByZXNzLFxuXHRcdFx0XHRcdFx0XHRtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuXHRcdFx0XHRcdFx0XHRib2R5OiByZXF1ZXN0LmJvZHksXG5cdFx0XHRcdFx0XHRcdHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG5cdFx0XHRcdFx0XHRcdHRpbWVvdXQ6IHJlcXVlc3QudGltZW91dCxcblx0XHRcdFx0XHRcdFx0c2l6ZTogcmVxdWVzdC5zaXplXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRpZiAoIWlzRG9tYWluT3JTdWJkb21haW4ocmVxdWVzdC51cmwsIGxvY2F0aW9uVVJMKSB8fCAhaXNTYW1lUHJvdG9jb2wocmVxdWVzdC51cmwsIGxvY2F0aW9uVVJMKSkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgWydhdXRob3JpemF0aW9uJywgJ3d3dy1hdXRoZW50aWNhdGUnLCAnY29va2llJywgJ2Nvb2tpZTInXSkge1xuXHRcdFx0XHRcdFx0XHRcdHJlcXVlc3RPcHRzLmhlYWRlcnMuZGVsZXRlKG5hbWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEhUVFAtcmVkaXJlY3QgZmV0Y2ggc3RlcCA5XG5cdFx0XHRcdFx0XHRpZiAocmVzLnN0YXR1c0NvZGUgIT09IDMwMyAmJiByZXF1ZXN0LmJvZHkgJiYgZ2V0VG90YWxCeXRlcyhyZXF1ZXN0KSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoJ0Nhbm5vdCBmb2xsb3cgcmVkaXJlY3Qgd2l0aCBib2R5IGJlaW5nIGEgcmVhZGFibGUgc3RyZWFtJywgJ3Vuc3VwcG9ydGVkLXJlZGlyZWN0JykpO1xuXHRcdFx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEhUVFAtcmVkaXJlY3QgZmV0Y2ggc3RlcCAxMVxuXHRcdFx0XHRcdFx0aWYgKHJlcy5zdGF0dXNDb2RlID09PSAzMDMgfHwgKHJlcy5zdGF0dXNDb2RlID09PSAzMDEgfHwgcmVzLnN0YXR1c0NvZGUgPT09IDMwMikgJiYgcmVxdWVzdC5tZXRob2QgPT09ICdQT1NUJykge1xuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0T3B0cy5tZXRob2QgPSAnR0VUJztcblx0XHRcdFx0XHRcdFx0cmVxdWVzdE9wdHMuYm9keSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0cmVxdWVzdE9wdHMuaGVhZGVycy5kZWxldGUoJ2NvbnRlbnQtbGVuZ3RoJyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEhUVFAtcmVkaXJlY3QgZmV0Y2ggc3RlcCAxNVxuXHRcdFx0XHRcdFx0cmVzb2x2ZShmZXRjaChuZXcgUmVxdWVzdChsb2NhdGlvblVSTCwgcmVxdWVzdE9wdHMpKSk7XG5cdFx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHByZXBhcmUgcmVzcG9uc2Vcblx0XHRcdHJlcy5vbmNlKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmIChzaWduYWwpIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0QW5kRmluYWxpemUpO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgYm9keSA9IHJlcy5waXBlKG5ldyBQYXNzVGhyb3VnaCQxKCkpO1xuXG5cdFx0XHRjb25zdCByZXNwb25zZV9vcHRpb25zID0ge1xuXHRcdFx0XHR1cmw6IHJlcXVlc3QudXJsLFxuXHRcdFx0XHRzdGF0dXM6IHJlcy5zdGF0dXNDb2RlLFxuXHRcdFx0XHRzdGF0dXNUZXh0OiByZXMuc3RhdHVzTWVzc2FnZSxcblx0XHRcdFx0aGVhZGVyczogaGVhZGVycyxcblx0XHRcdFx0c2l6ZTogcmVxdWVzdC5zaXplLFxuXHRcdFx0XHR0aW1lb3V0OiByZXF1ZXN0LnRpbWVvdXQsXG5cdFx0XHRcdGNvdW50ZXI6IHJlcXVlc3QuY291bnRlclxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gSFRUUC1uZXR3b3JrIGZldGNoIHN0ZXAgMTIuMS4xLjNcblx0XHRcdGNvbnN0IGNvZGluZ3MgPSBoZWFkZXJzLmdldCgnQ29udGVudC1FbmNvZGluZycpO1xuXG5cdFx0XHQvLyBIVFRQLW5ldHdvcmsgZmV0Y2ggc3RlcCAxMi4xLjEuNDogaGFuZGxlIGNvbnRlbnQgY29kaW5nc1xuXG5cdFx0XHQvLyBpbiBmb2xsb3dpbmcgc2NlbmFyaW9zIHdlIGlnbm9yZSBjb21wcmVzc2lvbiBzdXBwb3J0XG5cdFx0XHQvLyAxLiBjb21wcmVzc2lvbiBzdXBwb3J0IGlzIGRpc2FibGVkXG5cdFx0XHQvLyAyLiBIRUFEIHJlcXVlc3Rcblx0XHRcdC8vIDMuIG5vIENvbnRlbnQtRW5jb2RpbmcgaGVhZGVyXG5cdFx0XHQvLyA0LiBubyBjb250ZW50IHJlc3BvbnNlICgyMDQpXG5cdFx0XHQvLyA1LiBjb250ZW50IG5vdCBtb2RpZmllZCByZXNwb25zZSAoMzA0KVxuXHRcdFx0aWYgKCFyZXF1ZXN0LmNvbXByZXNzIHx8IHJlcXVlc3QubWV0aG9kID09PSAnSEVBRCcgfHwgY29kaW5ncyA9PT0gbnVsbCB8fCByZXMuc3RhdHVzQ29kZSA9PT0gMjA0IHx8IHJlcy5zdGF0dXNDb2RlID09PSAzMDQpIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvciBOb2RlIHY2K1xuXHRcdFx0Ly8gQmUgbGVzcyBzdHJpY3Qgd2hlbiBkZWNvZGluZyBjb21wcmVzc2VkIHJlc3BvbnNlcywgc2luY2Ugc29tZXRpbWVzXG5cdFx0XHQvLyBzZXJ2ZXJzIHNlbmQgc2xpZ2h0bHkgaW52YWxpZCByZXNwb25zZXMgdGhhdCBhcmUgc3RpbGwgYWNjZXB0ZWRcblx0XHRcdC8vIGJ5IGNvbW1vbiBicm93c2Vycy5cblx0XHRcdC8vIEFsd2F5cyB1c2luZyBaX1NZTkNfRkxVU0ggaXMgd2hhdCBjVVJMIGRvZXMuXG5cdFx0XHRjb25zdCB6bGliT3B0aW9ucyA9IHtcblx0XHRcdFx0Zmx1c2g6IHpsaWIuWl9TWU5DX0ZMVVNILFxuXHRcdFx0XHRmaW5pc2hGbHVzaDogemxpYi5aX1NZTkNfRkxVU0hcblx0XHRcdH07XG5cblx0XHRcdC8vIGZvciBnemlwXG5cdFx0XHRpZiAoY29kaW5ncyA9PSAnZ3ppcCcgfHwgY29kaW5ncyA9PSAneC1nemlwJykge1xuXHRcdFx0XHRib2R5ID0gYm9keS5waXBlKHpsaWIuY3JlYXRlR3VuemlwKHpsaWJPcHRpb25zKSk7XG5cdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBmb3IgZGVmbGF0ZVxuXHRcdFx0aWYgKGNvZGluZ3MgPT0gJ2RlZmxhdGUnIHx8IGNvZGluZ3MgPT0gJ3gtZGVmbGF0ZScpIHtcblx0XHRcdFx0Ly8gaGFuZGxlIHRoZSBpbmZhbW91cyByYXcgZGVmbGF0ZSByZXNwb25zZSBmcm9tIG9sZCBzZXJ2ZXJzXG5cdFx0XHRcdC8vIGEgaGFjayBmb3Igb2xkIElJUyBhbmQgQXBhY2hlIHNlcnZlcnNcblx0XHRcdFx0Y29uc3QgcmF3ID0gcmVzLnBpcGUobmV3IFBhc3NUaHJvdWdoJDEoKSk7XG5cdFx0XHRcdHJhdy5vbmNlKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG5cdFx0XHRcdFx0Ly8gc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc1MTk4Mjhcblx0XHRcdFx0XHRpZiAoKGNodW5rWzBdICYgMHgwRikgPT09IDB4MDgpIHtcblx0XHRcdFx0XHRcdGJvZHkgPSBib2R5LnBpcGUoemxpYi5jcmVhdGVJbmZsYXRlKCkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRib2R5ID0gYm9keS5waXBlKHpsaWIuY3JlYXRlSW5mbGF0ZVJhdygpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyYXcub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyBzb21lIG9sZCBJSVMgc2VydmVycyByZXR1cm4gemVyby1sZW5ndGggT0sgZGVmbGF0ZSByZXNwb25zZXMsIHNvICdkYXRhJyBpcyBuZXZlciBlbWl0dGVkLlxuXHRcdFx0XHRcdGlmICghcmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBmb3IgYnJcblx0XHRcdGlmIChjb2RpbmdzID09ICdicicgJiYgdHlwZW9mIHpsaWIuY3JlYXRlQnJvdGxpRGVjb21wcmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRib2R5ID0gYm9keS5waXBlKHpsaWIuY3JlYXRlQnJvdGxpRGVjb21wcmVzcygpKTtcblx0XHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIG90aGVyd2lzZSwgdXNlIHJlc3BvbnNlIGFzLWlzXG5cdFx0XHRyZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCByZXNwb25zZV9vcHRpb25zKTtcblx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdH0pO1xuXG5cdFx0d3JpdGVUb1N0cmVhbShyZXEsIHJlcXVlc3QpO1xuXHR9KTtcbn1cbmZ1bmN0aW9uIGZpeFJlc3BvbnNlQ2h1bmtlZFRyYW5zZmVyQmFkRW5kaW5nKHJlcXVlc3QsIGVycm9yQ2FsbGJhY2spIHtcblx0bGV0IHNvY2tldDtcblxuXHRyZXF1ZXN0Lm9uKCdzb2NrZXQnLCBmdW5jdGlvbiAocykge1xuXHRcdHNvY2tldCA9IHM7XG5cdH0pO1xuXG5cdHJlcXVlc3Qub24oJ3Jlc3BvbnNlJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0Y29uc3QgaGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG5cblx0XHRpZiAoaGVhZGVyc1sndHJhbnNmZXItZW5jb2RpbmcnXSA9PT0gJ2NodW5rZWQnICYmICFoZWFkZXJzWydjb250ZW50LWxlbmd0aCddKSB7XG5cdFx0XHRyZXNwb25zZS5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uIChoYWRFcnJvcikge1xuXHRcdFx0XHQvLyB0ZXN0cyBmb3Igc29ja2V0IHByZXNlbmNlLCBhcyBpbiBzb21lIHNpdHVhdGlvbnMgdGhlXG5cdFx0XHRcdC8vIHRoZSAnc29ja2V0JyBldmVudCBpcyBub3QgdHJpZ2dlcmVkIGZvciB0aGUgcmVxdWVzdFxuXHRcdFx0XHQvLyAoaGFwcGVucyBpbiBkZW5vKSwgYXZvaWRzIGBUeXBlRXJyb3JgXG5cdFx0XHRcdC8vIGlmIGEgZGF0YSBsaXN0ZW5lciBpcyBzdGlsbCBwcmVzZW50IHdlIGRpZG4ndCBlbmQgY2xlYW5seVxuXHRcdFx0XHRjb25zdCBoYXNEYXRhTGlzdGVuZXIgPSBzb2NrZXQgJiYgc29ja2V0Lmxpc3RlbmVyQ291bnQoJ2RhdGEnKSA+IDA7XG5cblx0XHRcdFx0aWYgKGhhc0RhdGFMaXN0ZW5lciAmJiAhaGFkRXJyb3IpIHtcblx0XHRcdFx0XHRjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ1ByZW1hdHVyZSBjbG9zZScpO1xuXHRcdFx0XHRcdGVyci5jb2RlID0gJ0VSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFJztcblx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lTdHJlYW0oc3RyZWFtLCBlcnIpIHtcblx0aWYgKHN0cmVhbS5kZXN0cm95KSB7XG5cdFx0c3RyZWFtLmRlc3Ryb3koZXJyKTtcblx0fSBlbHNlIHtcblx0XHQvLyBub2RlIDwgOFxuXHRcdHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG5cdFx0c3RyZWFtLmVuZCgpO1xuXHR9XG59XG5cbi8qKlxuICogUmVkaXJlY3QgY29kZSBtYXRjaGluZ1xuICpcbiAqIEBwYXJhbSAgIE51bWJlciAgIGNvZGUgIFN0YXR1cyBjb2RlXG4gKiBAcmV0dXJuICBCb29sZWFuXG4gKi9cbmZldGNoLmlzUmVkaXJlY3QgPSBmdW5jdGlvbiAoY29kZSkge1xuXHRyZXR1cm4gY29kZSA9PT0gMzAxIHx8IGNvZGUgPT09IDMwMiB8fCBjb2RlID09PSAzMDMgfHwgY29kZSA9PT0gMzA3IHx8IGNvZGUgPT09IDMwODtcbn07XG5cbi8vIGV4cG9zZSBQcm9taXNlXG5mZXRjaC5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoO1xuZXhwb3J0IHsgSGVhZGVycywgUmVxdWVzdCwgUmVzcG9uc2UsIEZldGNoRXJyb3IsIEFib3J0RXJyb3IgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIHdlYi1zdHJlYW1zLXBvbHlmaWxsIHY0LjAuMC1iZXRhLjNcbiAqIENvcHlyaWdodCAyMDIxIE1hdHRpYXMgQnVlbGVucywgRGl3YW5rIFNpbmdoIFRvbWVyIGFuZCBvdGhlciBjb250cmlidXRvcnMuXG4gKiBUaGlzIGNvZGUgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuICovXG5jb25zdCBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9TeW1ib2w6ZT0+YFN5bWJvbCgke2V9KWA7ZnVuY3Rpb24gdCgpe31mdW5jdGlvbiByKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZX1jb25zdCBvPXQ7ZnVuY3Rpb24gbihlLHQpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIm5hbWVcIix7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KX1jYXRjaChlKXt9fWNvbnN0IGE9UHJvbWlzZSxpPVByb21pc2UucHJvdG90eXBlLnRoZW4sbD1Qcm9taXNlLnJlc29sdmUuYmluZChhKSxzPVByb21pc2UucmVqZWN0LmJpbmQoYSk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gbmV3IGEoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbChlKX1mdW5jdGlvbiBkKGUpe3JldHVybiBzKGUpfWZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiBpLmNhbGwoZSx0LHIpfWZ1bmN0aW9uIGIoZSx0LHIpe2YoZihlLHQsciksdm9pZCAwLG8pfWZ1bmN0aW9uIGgoZSx0KXtiKGUsdCl9ZnVuY3Rpb24gXyhlLHQpe2IoZSx2b2lkIDAsdCl9ZnVuY3Rpb24gcChlLHQscil7cmV0dXJuIGYoZSx0LHIpfWZ1bmN0aW9uIG0oZSl7ZihlLHZvaWQgMCxvKX1sZXQgeT1lPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcXVldWVNaWNyb3Rhc2speT1xdWV1ZU1pY3JvdGFzaztlbHNle2NvbnN0IGU9Yyh2b2lkIDApO3k9dD0+ZihlLHQpfXJldHVybiB5KGUpfTtmdW5jdGlvbiBnKGUsdCxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvblwiKTtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LHIpfWZ1bmN0aW9uIHcoZSx0LHIpe3RyeXtyZXR1cm4gYyhnKGUsdCxyKSl9Y2F0Y2goZSl7cmV0dXJuIGQoZSl9fWNsYXNzIFN7Y29uc3RydWN0b3IoKXt0aGlzLl9jdXJzb3I9MCx0aGlzLl9zaXplPTAsdGhpcy5fZnJvbnQ9e19lbGVtZW50czpbXSxfbmV4dDp2b2lkIDB9LHRoaXMuX2JhY2s9dGhpcy5fZnJvbnQsdGhpcy5fY3Vyc29yPTAsdGhpcy5fc2l6ZT0wfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fc2l6ZX1wdXNoKGUpe2NvbnN0IHQ9dGhpcy5fYmFjaztsZXQgcj10OzE2MzgzPT09dC5fZWxlbWVudHMubGVuZ3RoJiYocj17X2VsZW1lbnRzOltdLF9uZXh0OnZvaWQgMH0pLHQuX2VsZW1lbnRzLnB1c2goZSksciE9PXQmJih0aGlzLl9iYWNrPXIsdC5fbmV4dD1yKSwrK3RoaXMuX3NpemV9c2hpZnQoKXtjb25zdCBlPXRoaXMuX2Zyb250O2xldCB0PWU7Y29uc3Qgcj10aGlzLl9jdXJzb3I7bGV0IG89cisxO2NvbnN0IG49ZS5fZWxlbWVudHMsYT1uW3JdO3JldHVybiAxNjM4ND09PW8mJih0PWUuX25leHQsbz0wKSwtLXRoaXMuX3NpemUsdGhpcy5fY3Vyc29yPW8sZSE9PXQmJih0aGlzLl9mcm9udD10KSxuW3JdPXZvaWQgMCxhfWZvckVhY2goZSl7bGV0IHQ9dGhpcy5fY3Vyc29yLHI9dGhpcy5fZnJvbnQsbz1yLl9lbGVtZW50cztmb3IoOyEodD09PW8ubGVuZ3RoJiZ2b2lkIDA9PT1yLl9uZXh0fHx0PT09by5sZW5ndGgmJihyPXIuX25leHQsbz1yLl9lbGVtZW50cyx0PTAsMD09PW8ubGVuZ3RoKSk7KWUob1t0XSksKyt0fXBlZWsoKXtjb25zdCBlPXRoaXMuX2Zyb250LHQ9dGhpcy5fY3Vyc29yO3JldHVybiBlLl9lbGVtZW50c1t0XX19Y29uc3Qgdj1lKFwiW1tBYm9ydFN0ZXBzXV1cIiksUj1lKFwiW1tFcnJvclN0ZXBzXV1cIiksVD1lKFwiW1tDYW5jZWxTdGVwc11dXCIpLHE9ZShcIltbUHVsbFN0ZXBzXV1cIiksQz1lKFwiW1tSZWxlYXNlU3RlcHNdXVwiKTtmdW5jdGlvbiBFKGUsdCl7ZS5fb3duZXJSZWFkYWJsZVN0cmVhbT10LHQuX3JlYWRlcj1lLFwicmVhZGFibGVcIj09PXQuX3N0YXRlP08oZSk6XCJjbG9zZWRcIj09PXQuX3N0YXRlP2Z1bmN0aW9uKGUpe08oZSksaihlKX0oZSk6QihlLHQuX3N0b3JlZEVycm9yKX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuIEd0KGUuX293bmVyUmVhZGFibGVTdHJlYW0sdCl9ZnVuY3Rpb24gVyhlKXtjb25zdCB0PWUuX293bmVyUmVhZGFibGVTdHJlYW07XCJyZWFkYWJsZVwiPT09dC5fc3RhdGU/QShlLG5ldyBUeXBlRXJyb3IoXCJSZWFkZXIgd2FzIHJlbGVhc2VkIGFuZCBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgdG8gbW9uaXRvciB0aGUgc3RyZWFtJ3MgY2xvc2VkbmVzc1wiKSk6ZnVuY3Rpb24oZSx0KXtCKGUsdCl9KGUsbmV3IFR5cGVFcnJvcihcIlJlYWRlciB3YXMgcmVsZWFzZWQgYW5kIGNhbiBubyBsb25nZXIgYmUgdXNlZCB0byBtb25pdG9yIHRoZSBzdHJlYW0ncyBjbG9zZWRuZXNzXCIpKSx0Ll9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXJbQ10oKSx0Ll9yZWFkZXI9dm9pZCAwLGUuX293bmVyUmVhZGFibGVTdHJlYW09dm9pZCAwfWZ1bmN0aW9uIGsoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIrZStcIiBhIHN0cmVhbSB1c2luZyBhIHJlbGVhc2VkIHJlYWRlclwiKX1mdW5jdGlvbiBPKGUpe2UuX2Nsb3NlZFByb21pc2U9dSgoKHQscik9PntlLl9jbG9zZWRQcm9taXNlX3Jlc29sdmU9dCxlLl9jbG9zZWRQcm9taXNlX3JlamVjdD1yfSkpfWZ1bmN0aW9uIEIoZSx0KXtPKGUpLEEoZSx0KX1mdW5jdGlvbiBBKGUsdCl7dm9pZCAwIT09ZS5fY2xvc2VkUHJvbWlzZV9yZWplY3QmJihtKGUuX2Nsb3NlZFByb21pc2UpLGUuX2Nsb3NlZFByb21pc2VfcmVqZWN0KHQpLGUuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT12b2lkIDAsZS5fY2xvc2VkUHJvbWlzZV9yZWplY3Q9dm9pZCAwKX1mdW5jdGlvbiBqKGUpe3ZvaWQgMCE9PWUuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSYmKGUuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSh2b2lkIDApLGUuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT12b2lkIDAsZS5fY2xvc2VkUHJvbWlzZV9yZWplY3Q9dm9pZCAwKX1jb25zdCB6PU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpfSxMPU1hdGgudHJ1bmN8fGZ1bmN0aW9uKGUpe3JldHVybiBlPDA/TWF0aC5jZWlsKGUpOk1hdGguZmxvb3IoZSl9O2Z1bmN0aW9uIEYoZSx0KXtpZih2b2lkIDAhPT1lJiYoXCJvYmplY3RcIiE9dHlwZW9mKHI9ZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7dH0gaXMgbm90IGFuIG9iamVjdC5gKTt2YXIgcn1mdW5jdGlvbiBJKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIG5vdCBhIGZ1bmN0aW9uLmApfWZ1bmN0aW9uIEQoZSx0KXtpZighZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIG5vdCBhbiBvYmplY3QuYCl9ZnVuY3Rpb24gJChlLHQscil7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKGBQYXJhbWV0ZXIgJHt0fSBpcyByZXF1aXJlZCBpbiAnJHtyfScuYCl9ZnVuY3Rpb24gTShlLHQscil7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIHJlcXVpcmVkIGluICcke3J9Jy5gKX1mdW5jdGlvbiBZKGUpe3JldHVybiBOdW1iZXIoZSl9ZnVuY3Rpb24gUShlKXtyZXR1cm4gMD09PWU/MDplfWZ1bmN0aW9uIE4oZSx0KXtjb25zdCByPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSO2xldCBvPU51bWJlcihlKTtpZihvPVEobyksIXoobykpdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0fSBpcyBub3QgYSBmaW5pdGUgbnVtYmVyYCk7aWYobz1mdW5jdGlvbihlKXtyZXR1cm4gUShMKGUpKX0obyksbzwwfHxvPnIpdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0fSBpcyBvdXRzaWRlIHRoZSBhY2NlcHRlZCByYW5nZSBvZiAwIHRvICR7cn0sIGluY2x1c2l2ZWApO3JldHVybiB6KG8pJiYwIT09bz9vOjB9ZnVuY3Rpb24gSChlKXtpZighcihlKSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldFJlYWRlcilyZXR1cm4hMTt0cnl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlLmxvY2tlZH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24geChlKXtpZighcihlKSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldFdyaXRlcilyZXR1cm4hMTt0cnl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlLmxvY2tlZH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gVihlLHQpe2lmKCFWdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIG5vdCBhIFJlYWRhYmxlU3RyZWFtLmApfWZ1bmN0aW9uIFUoZSx0KXtlLl9yZWFkZXIuX3JlYWRSZXF1ZXN0cy5wdXNoKHQpfWZ1bmN0aW9uIEcoZSx0LHIpe2NvbnN0IG89ZS5fcmVhZGVyLl9yZWFkUmVxdWVzdHMuc2hpZnQoKTtyP28uX2Nsb3NlU3RlcHMoKTpvLl9jaHVua1N0ZXBzKHQpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIGUuX3JlYWRlci5fcmVhZFJlcXVlc3RzLmxlbmd0aH1mdW5jdGlvbiBKKGUpe2NvbnN0IHQ9ZS5fcmVhZGVyO3JldHVybiB2b2lkIDAhPT10JiYhIUsodCl9Y2xhc3MgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVye2NvbnN0cnVjdG9yKGUpe2lmKCQoZSwxLFwiUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyXCIpLFYoZSxcIkZpcnN0IHBhcmFtZXRlclwiKSxVdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhpcyBzdHJlYW0gaGFzIGFscmVhZHkgYmVlbiBsb2NrZWQgZm9yIGV4Y2x1c2l2ZSByZWFkaW5nIGJ5IGFub3RoZXIgcmVhZGVyXCIpO0UodGhpcyxlKSx0aGlzLl9yZWFkUmVxdWVzdHM9bmV3IFN9Z2V0IGNsb3NlZCgpe3JldHVybiBLKHRoaXMpP3RoaXMuX2Nsb3NlZFByb21pc2U6ZChlZShcImNsb3NlZFwiKSl9Y2FuY2VsKGUpe3JldHVybiBLKHRoaXMpP3ZvaWQgMD09PXRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0/ZChrKFwiY2FuY2VsXCIpKTpQKHRoaXMsZSk6ZChlZShcImNhbmNlbFwiKSl9cmVhZCgpe2lmKCFLKHRoaXMpKXJldHVybiBkKGVlKFwicmVhZFwiKSk7aWYodm9pZCAwPT09dGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSlyZXR1cm4gZChrKFwicmVhZCBmcm9tXCIpKTtsZXQgZSx0O2NvbnN0IHI9dSgoKHIsbyk9PntlPXIsdD1vfSkpO3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IHI9ZS5fb3duZXJSZWFkYWJsZVN0cmVhbTtyLl9kaXN0dXJiZWQ9ITAsXCJjbG9zZWRcIj09PXIuX3N0YXRlP3QuX2Nsb3NlU3RlcHMoKTpcImVycm9yZWRcIj09PXIuX3N0YXRlP3QuX2Vycm9yU3RlcHMoci5fc3RvcmVkRXJyb3IpOnIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcltxXSh0KX0odGhpcyx7X2NodW5rU3RlcHM6dD0+ZSh7dmFsdWU6dCxkb25lOiExfSksX2Nsb3NlU3RlcHM6KCk9PmUoe3ZhbHVlOnZvaWQgMCxkb25lOiEwfSksX2Vycm9yU3RlcHM6ZT0+dChlKX0pLHJ9cmVsZWFzZUxvY2soKXtpZighSyh0aGlzKSl0aHJvdyBlZShcInJlbGVhc2VMb2NrXCIpO3ZvaWQgMCE9PXRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0mJmZ1bmN0aW9uKGUpe1coZSk7Y29uc3QgdD1uZXcgVHlwZUVycm9yKFwiUmVhZGVyIHdhcyByZWxlYXNlZFwiKTtaKGUsdCl9KHRoaXMpfX1mdW5jdGlvbiBLKGUpe3JldHVybiEhcihlKSYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJfcmVhZFJlcXVlc3RzXCIpJiZlIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKX1mdW5jdGlvbiBaKGUsdCl7Y29uc3Qgcj1lLl9yZWFkUmVxdWVzdHM7ZS5fcmVhZFJlcXVlc3RzPW5ldyBTLHIuZm9yRWFjaCgoZT0+e2UuX2Vycm9yU3RlcHModCl9KSl9ZnVuY3Rpb24gZWUoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyYCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnByb3RvdHlwZSx7Y2FuY2VsOntlbnVtZXJhYmxlOiEwfSxyZWFkOntlbnVtZXJhYmxlOiEwfSxyZWxlYXNlTG9jazp7ZW51bWVyYWJsZTohMH0sY2xvc2VkOntlbnVtZXJhYmxlOiEwfX0pLG4oUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnByb3RvdHlwZS5jYW5jZWwsXCJjYW5jZWxcIiksbihSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIucHJvdG90eXBlLnJlYWQsXCJyZWFkXCIpLG4oUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnByb3RvdHlwZS5yZWxlYXNlTG9jayxcInJlbGVhc2VMb2NrXCIpLFwic3ltYm9sXCI9PXR5cGVvZiBlLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIlJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclwiLGNvbmZpZ3VyYWJsZTohMH0pO2NsYXNzIHRle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fb25nb2luZ1Byb21pc2U9dm9pZCAwLHRoaXMuX2lzRmluaXNoZWQ9ITEsdGhpcy5fcmVhZGVyPWUsdGhpcy5fcHJldmVudENhbmNlbD10fW5leHQoKXtjb25zdCBlPSgpPT50aGlzLl9uZXh0U3RlcHMoKTtyZXR1cm4gdGhpcy5fb25nb2luZ1Byb21pc2U9dGhpcy5fb25nb2luZ1Byb21pc2U/cCh0aGlzLl9vbmdvaW5nUHJvbWlzZSxlLGUpOmUoKSx0aGlzLl9vbmdvaW5nUHJvbWlzZX1yZXR1cm4oZSl7Y29uc3QgdD0oKT0+dGhpcy5fcmV0dXJuU3RlcHMoZSk7cmV0dXJuIHRoaXMuX29uZ29pbmdQcm9taXNlP3AodGhpcy5fb25nb2luZ1Byb21pc2UsdCx0KTp0KCl9X25leHRTdGVwcygpe2lmKHRoaXMuX2lzRmluaXNoZWQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KTtjb25zdCBlPXRoaXMuX3JlYWRlcjtyZXR1cm4gdm9pZCAwPT09ZT9kKGsoXCJpdGVyYXRlXCIpKTpmKGUucmVhZCgpLChlPT57dmFyIHQ7cmV0dXJuIHRoaXMuX29uZ29pbmdQcm9taXNlPXZvaWQgMCxlLmRvbmUmJih0aGlzLl9pc0ZpbmlzaGVkPSEwLG51bGw9PT0odD10aGlzLl9yZWFkZXIpfHx2b2lkIDA9PT10fHx0LnJlbGVhc2VMb2NrKCksdGhpcy5fcmVhZGVyPXZvaWQgMCksZX0pLChlPT57dmFyIHQ7dGhyb3cgdGhpcy5fb25nb2luZ1Byb21pc2U9dm9pZCAwLHRoaXMuX2lzRmluaXNoZWQ9ITAsbnVsbD09PSh0PXRoaXMuX3JlYWRlcil8fHZvaWQgMD09PXR8fHQucmVsZWFzZUxvY2soKSx0aGlzLl9yZWFkZXI9dm9pZCAwLGV9KSl9X3JldHVyblN0ZXBzKGUpe2lmKHRoaXMuX2lzRmluaXNoZWQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6ZSxkb25lOiEwfSk7dGhpcy5faXNGaW5pc2hlZD0hMDtjb25zdCB0PXRoaXMuX3JlYWRlcjtpZih2b2lkIDA9PT10KXJldHVybiBkKGsoXCJmaW5pc2ggaXRlcmF0aW5nXCIpKTtpZih0aGlzLl9yZWFkZXI9dm9pZCAwLCF0aGlzLl9wcmV2ZW50Q2FuY2VsKXtjb25zdCByPXQuY2FuY2VsKGUpO3JldHVybiB0LnJlbGVhc2VMb2NrKCkscChyLCgoKT0+KHt2YWx1ZTplLGRvbmU6ITB9KSkpfXJldHVybiB0LnJlbGVhc2VMb2NrKCksYyh7dmFsdWU6ZSxkb25lOiEwfSl9fWNvbnN0IHJlPXtuZXh0KCl7cmV0dXJuIG9lKHRoaXMpP3RoaXMuX2FzeW5jSXRlcmF0b3JJbXBsLm5leHQoKTpkKG5lKFwibmV4dFwiKSl9LHJldHVybihlKXtyZXR1cm4gb2UodGhpcyk/dGhpcy5fYXN5bmNJdGVyYXRvckltcGwucmV0dXJuKGUpOmQobmUoXCJyZXR1cm5cIikpfX07ZnVuY3Rpb24gb2UoZSl7aWYoIXIoZSkpcmV0dXJuITE7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiX2FzeW5jSXRlcmF0b3JJbXBsXCIpKXJldHVybiExO3RyeXtyZXR1cm4gZS5fYXN5bmNJdGVyYXRvckltcGwgaW5zdGFuY2VvZiB0ZX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gbmUoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvci4ke2V9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0ZWFtQXN5bmNJdGVyYXRvcmApfVwic3ltYm9sXCI9PXR5cGVvZiBlLmFzeW5jSXRlcmF0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZSxlLmFzeW5jSXRlcmF0b3Ise3ZhbHVlKCl7cmV0dXJuIHRoaXN9LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO2NvbnN0IGFlPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIGllKGUsdCxyLG8sbil7bmV3IFVpbnQ4QXJyYXkoZSkuc2V0KG5ldyBVaW50OEFycmF5KHIsbyxuKSx0KX1mdW5jdGlvbiBsZShlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCxyKXtpZihlLnNsaWNlKXJldHVybiBlLnNsaWNlKHQscik7Y29uc3Qgbz1yLXQsbj1uZXcgQXJyYXlCdWZmZXIobyk7cmV0dXJuIGllKG4sMCxlLHQsbyksbn0oZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZU9mZnNldCtlLmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZShlKXtjb25zdCB0PWUuX3F1ZXVlLnNoaWZ0KCk7cmV0dXJuIGUuX3F1ZXVlVG90YWxTaXplLT10LnNpemUsZS5fcXVldWVUb3RhbFNpemU8MCYmKGUuX3F1ZXVlVG90YWxTaXplPTApLHQudmFsdWV9ZnVuY3Rpb24gdWUoZSx0LHIpe2lmKFwibnVtYmVyXCIhPXR5cGVvZihvPXIpfHxhZShvKXx8bzwwfHxyPT09MS8wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiU2l6ZSBtdXN0IGJlIGEgZmluaXRlLCBub24tTmFOLCBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTt2YXIgbztlLl9xdWV1ZS5wdXNoKHt2YWx1ZTp0LHNpemU6cn0pLGUuX3F1ZXVlVG90YWxTaXplKz1yfWZ1bmN0aW9uIGNlKGUpe2UuX3F1ZXVlPW5ldyBTLGUuX3F1ZXVlVG90YWxTaXplPTB9Y2xhc3MgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdHtjb25zdHJ1Y3Rvcigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpfWdldCB2aWV3KCl7aWYoIWZlKHRoaXMpKXRocm93IEJlKFwidmlld1wiKTtyZXR1cm4gdGhpcy5fdmlld31yZXNwb25kKGUpe2lmKCFmZSh0aGlzKSl0aHJvdyBCZShcInJlc3BvbmRcIik7aWYoJChlLDEsXCJyZXNwb25kXCIpLGU9TihlLFwiRmlyc3QgcGFyYW1ldGVyXCIpLHZvaWQgMD09PXRoaXMuX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGlzIEJZT0IgcmVxdWVzdCBoYXMgYmVlbiBpbnZhbGlkYXRlZFwiKTt0aGlzLl92aWV3LmJ1ZmZlcixmdW5jdGlvbihlLHQpe2NvbnN0IHI9ZS5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7aWYoXCJjbG9zZWRcIj09PWUuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlKXtpZigwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYnl0ZXNXcml0dGVuIG11c3QgYmUgMCB3aGVuIGNhbGxpbmcgcmVzcG9uZCgpIG9uIGEgY2xvc2VkIHN0cmVhbVwiKX1lbHNle2lmKDA9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJieXRlc1dyaXR0ZW4gbXVzdCBiZSBncmVhdGVyIHRoYW4gMCB3aGVuIGNhbGxpbmcgcmVzcG9uZCgpIG9uIGEgcmVhZGFibGUgc3RyZWFtXCIpO2lmKHIuYnl0ZXNGaWxsZWQrdD5yLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJieXRlc1dyaXR0ZW4gb3V0IG9mIHJhbmdlXCIpfXIuYnVmZmVyPXIuYnVmZmVyLHFlKGUsdCl9KHRoaXMuX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLGUpfXJlc3BvbmRXaXRoTmV3VmlldyhlKXtpZighZmUodGhpcykpdGhyb3cgQmUoXCJyZXNwb25kV2l0aE5ld1ZpZXdcIik7aWYoJChlLDEsXCJyZXNwb25kV2l0aE5ld1ZpZXdcIiksIUFycmF5QnVmZmVyLmlzVmlldyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IGNhbiBvbmx5IHJlc3BvbmQgd2l0aCBhcnJheSBidWZmZXIgdmlld3NcIik7aWYodm9pZCAwPT09dGhpcy5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXMgQllPQiByZXF1ZXN0IGhhcyBiZWVuIGludmFsaWRhdGVkXCIpO2UuYnVmZmVyLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtpZihcImNsb3NlZFwiPT09ZS5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbS5fc3RhdGUpe2lmKDAhPT10LmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSB2aWV3J3MgbGVuZ3RoIG11c3QgYmUgMCB3aGVuIGNhbGxpbmcgcmVzcG9uZFdpdGhOZXdWaWV3KCkgb24gYSBjbG9zZWQgc3RyZWFtXCIpfWVsc2UgaWYoMD09PXQuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHZpZXcncyBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMCB3aGVuIGNhbGxpbmcgcmVzcG9uZFdpdGhOZXdWaWV3KCkgb24gYSByZWFkYWJsZSBzdHJlYW1cIik7aWYoci5ieXRlT2Zmc2V0K3IuYnl0ZXNGaWxsZWQhPT10LmJ5dGVPZmZzZXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcmVnaW9uIHNwZWNpZmllZCBieSB2aWV3IGRvZXMgbm90IG1hdGNoIGJ5b2JSZXF1ZXN0XCIpO2lmKHIuYnVmZmVyQnl0ZUxlbmd0aCE9PXQuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgYnVmZmVyIG9mIHZpZXcgaGFzIGRpZmZlcmVudCBjYXBhY2l0eSB0aGFuIGJ5b2JSZXF1ZXN0XCIpO2lmKHIuYnl0ZXNGaWxsZWQrdC5ieXRlTGVuZ3RoPnIuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSByZWdpb24gc3BlY2lmaWVkIGJ5IHZpZXcgaXMgbGFyZ2VyIHRoYW4gYnlvYlJlcXVlc3RcIik7Y29uc3Qgbz10LmJ5dGVMZW5ndGg7ci5idWZmZXI9dC5idWZmZXIscWUoZSxvKX0odGhpcy5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsZSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLHtyZXNwb25kOntlbnVtZXJhYmxlOiEwfSxyZXNwb25kV2l0aE5ld1ZpZXc6e2VudW1lcmFibGU6ITB9LHZpZXc6e2VudW1lcmFibGU6ITB9fSksbihSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnByb3RvdHlwZS5yZXNwb25kLFwicmVzcG9uZFwiKSxuKFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLnJlc3BvbmRXaXRoTmV3VmlldyxcInJlc3BvbmRXaXRoTmV3Vmlld1wiKSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLGUudG9TdHJpbmdUYWcse3ZhbHVlOlwiUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdFwiLGNvbmZpZ3VyYWJsZTohMH0pO2NsYXNzIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJ7Y29uc3RydWN0b3IoKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSWxsZWdhbCBjb25zdHJ1Y3RvclwiKX1nZXQgYnlvYlJlcXVlc3QoKXtpZighZGUodGhpcykpdGhyb3cgQWUoXCJieW9iUmVxdWVzdFwiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYobnVsbD09PWUuX2J5b2JSZXF1ZXN0JiZlLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aD4wKXtjb25zdCB0PWUuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpLHI9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K3QuYnl0ZXNGaWxsZWQsdC5ieXRlTGVuZ3RoLXQuYnl0ZXNGaWxsZWQpLG89T2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnByb3RvdHlwZSk7IWZ1bmN0aW9uKGUsdCxyKXtlLl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcj10LGUuX3ZpZXc9cn0obyxlLHIpLGUuX2J5b2JSZXF1ZXN0PW99cmV0dXJuIGUuX2J5b2JSZXF1ZXN0fSh0aGlzKX1nZXQgZGVzaXJlZFNpemUoKXtpZighZGUodGhpcykpdGhyb3cgQWUoXCJkZXNpcmVkU2l6ZVwiKTtyZXR1cm4ga2UodGhpcyl9Y2xvc2UoKXtpZighZGUodGhpcykpdGhyb3cgQWUoXCJjbG9zZVwiKTtpZih0aGlzLl9jbG9zZVJlcXVlc3RlZCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZDsgZG8gbm90IGNsb3NlIGl0IGFnYWluIVwiKTtjb25zdCBlPXRoaXMuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlO2lmKFwicmVhZGFibGVcIiE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIHN0cmVhbSAoaW4gJHtlfSBzdGF0ZSkgaXMgbm90IGluIHRoZSByZWFkYWJsZSBzdGF0ZSBhbmQgY2Fubm90IGJlIGNsb3NlZGApOyFmdW5jdGlvbihlKXtjb25zdCB0PWUuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07aWYoZS5fY2xvc2VSZXF1ZXN0ZWR8fFwicmVhZGFibGVcIiE9PXQuX3N0YXRlKXJldHVybjtpZihlLl9xdWV1ZVRvdGFsU2l6ZT4wKXJldHVybiB2b2lkKGUuX2Nsb3NlUmVxdWVzdGVkPSEwKTtpZihlLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aD4wKXtpZihlLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKS5ieXRlc0ZpbGxlZD4wKXtjb25zdCB0PW5ldyBUeXBlRXJyb3IoXCJJbnN1ZmZpY2llbnQgYnl0ZXMgdG8gZmlsbCBlbGVtZW50cyBpbiB0aGUgZ2l2ZW4gYnVmZmVyXCIpO3Rocm93IFBlKGUsdCksdH19RWUoZSksWHQodCl9KHRoaXMpfWVucXVldWUoZSl7aWYoIWRlKHRoaXMpKXRocm93IEFlKFwiZW5xdWV1ZVwiKTtpZigkKGUsMSxcImVucXVldWVcIiksIUFycmF5QnVmZmVyLmlzVmlldyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2h1bmsgbXVzdCBiZSBhbiBhcnJheSBidWZmZXIgdmlld1wiKTtpZigwPT09ZS5ieXRlTGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjaHVuayBtdXN0IGhhdmUgbm9uLXplcm8gYnl0ZUxlbmd0aFwiKTtpZigwPT09ZS5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2h1bmsncyBidWZmZXIgbXVzdCBoYXZlIG5vbi16ZXJvIGJ5dGVMZW5ndGhcIik7aWYodGhpcy5fY2xvc2VSZXF1ZXN0ZWQpdGhyb3cgbmV3IFR5cGVFcnJvcihcInN0cmVhbSBpcyBjbG9zZWQgb3IgZHJhaW5pbmdcIik7Y29uc3QgdD10aGlzLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtpZihcInJlYWRhYmxlXCIhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBzdHJlYW0gKGluICR7dH0gc3RhdGUpIGlzIG5vdCBpbiB0aGUgcmVhZGFibGUgc3RhdGUgYW5kIGNhbm5vdCBiZSBlbnF1ZXVlZCB0b2ApOyFmdW5jdGlvbihlLHQpe2NvbnN0IHI9ZS5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbTtpZihlLl9jbG9zZVJlcXVlc3RlZHx8XCJyZWFkYWJsZVwiIT09ci5fc3RhdGUpcmV0dXJuO2NvbnN0IG89dC5idWZmZXIsbj10LmJ5dGVPZmZzZXQsYT10LmJ5dGVMZW5ndGgsaT1vO2lmKGUuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoPjApe2NvbnN0IHQ9ZS5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7dC5idWZmZXIsMCxSZShlKSx0LmJ1ZmZlcj10LmJ1ZmZlcixcIm5vbmVcIj09PXQucmVhZGVyVHlwZSYmZ2UoZSx0KX1pZihKKHIpKWlmKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbS5fcmVhZGVyO2Zvcig7dC5fcmVhZFJlcXVlc3RzLmxlbmd0aD4wOyl7aWYoMD09PWUuX3F1ZXVlVG90YWxTaXplKXJldHVybjtXZShlLHQuX3JlYWRSZXF1ZXN0cy5zaGlmdCgpKX19KGUpLDA9PT1YKHIpKW1lKGUsaSxuLGEpO2Vsc2V7ZS5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGg+MCYmQ2UoZSk7RyhyLG5ldyBVaW50OEFycmF5KGksbixhKSwhMSl9ZWxzZSBMZShyKT8obWUoZSxpLG4sYSksVGUoZSkpOm1lKGUsaSxuLGEpO2JlKGUpfSh0aGlzLGUpfWVycm9yKGUpe2lmKCFkZSh0aGlzKSl0aHJvdyBBZShcImVycm9yXCIpO1BlKHRoaXMsZSl9W1RdKGUpe2hlKHRoaXMpLGNlKHRoaXMpO2NvbnN0IHQ9dGhpcy5fY2FuY2VsQWxnb3JpdGhtKGUpO3JldHVybiBFZSh0aGlzKSx0fVtxXShlKXtjb25zdCB0PXRoaXMuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07aWYodGhpcy5fcXVldWVUb3RhbFNpemU+MClyZXR1cm4gdm9pZCBXZSh0aGlzLGUpO2NvbnN0IHI9dGhpcy5fYXV0b0FsbG9jYXRlQ2h1bmtTaXplO2lmKHZvaWQgMCE9PXIpe2xldCB0O3RyeXt0PW5ldyBBcnJheUJ1ZmZlcihyKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBlLl9lcnJvclN0ZXBzKHQpfWNvbnN0IG89e2J1ZmZlcjp0LGJ1ZmZlckJ5dGVMZW5ndGg6cixieXRlT2Zmc2V0OjAsYnl0ZUxlbmd0aDpyLGJ5dGVzRmlsbGVkOjAsZWxlbWVudFNpemU6MSx2aWV3Q29uc3RydWN0b3I6VWludDhBcnJheSxyZWFkZXJUeXBlOlwiZGVmYXVsdFwifTt0aGlzLl9wZW5kaW5nUHVsbEludG9zLnB1c2gobyl9VSh0LGUpLGJlKHRoaXMpfVtDXSgpe2lmKHRoaXMuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7ZS5yZWFkZXJUeXBlPVwibm9uZVwiLHRoaXMuX3BlbmRpbmdQdWxsSW50b3M9bmV3IFMsdGhpcy5fcGVuZGluZ1B1bGxJbnRvcy5wdXNoKGUpfX19ZnVuY3Rpb24gZGUoZSl7cmV0dXJuISFyKGUpJiYoISFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcIl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtXCIpJiZlIGluc3RhbmNlb2YgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcil9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuISFyKGUpJiYoISFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcIl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclwiKSYmZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QpfWZ1bmN0aW9uIGJlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO2lmKFwicmVhZGFibGVcIiE9PXQuX3N0YXRlKXJldHVybiExO2lmKGUuX2Nsb3NlUmVxdWVzdGVkKXJldHVybiExO2lmKCFlLl9zdGFydGVkKXJldHVybiExO2lmKEoodCkmJlgodCk+MClyZXR1cm4hMDtpZihMZSh0KSYmemUodCk+MClyZXR1cm4hMDtpZihrZShlKT4wKXJldHVybiEwO3JldHVybiExfShlKTtpZighdClyZXR1cm47aWYoZS5fcHVsbGluZylyZXR1cm4gdm9pZChlLl9wdWxsQWdhaW49ITApO2UuX3B1bGxpbmc9ITA7YihlLl9wdWxsQWxnb3JpdGhtKCksKCgpPT4oZS5fcHVsbGluZz0hMSxlLl9wdWxsQWdhaW4mJihlLl9wdWxsQWdhaW49ITEsYmUoZSkpLG51bGwpKSwodD0+KFBlKGUsdCksbnVsbCkpKX1mdW5jdGlvbiBoZShlKXtSZShlKSxlLl9wZW5kaW5nUHVsbEludG9zPW5ldyBTfWZ1bmN0aW9uIF9lKGUsdCl7bGV0IHI9ITE7XCJjbG9zZWRcIj09PWUuX3N0YXRlJiYocj0hMCk7Y29uc3Qgbz1wZSh0KTtcImRlZmF1bHRcIj09PXQucmVhZGVyVHlwZT9HKGUsbyxyKTpmdW5jdGlvbihlLHQscil7Y29uc3Qgbz1lLl9yZWFkZXIuX3JlYWRJbnRvUmVxdWVzdHMuc2hpZnQoKTtyP28uX2Nsb3NlU3RlcHModCk6by5fY2h1bmtTdGVwcyh0KX0oZSxvLHIpfWZ1bmN0aW9uIHBlKGUpe2NvbnN0IHQ9ZS5ieXRlc0ZpbGxlZCxyPWUuZWxlbWVudFNpemU7cmV0dXJuIG5ldyBlLnZpZXdDb25zdHJ1Y3RvcihlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsdC9yKX1mdW5jdGlvbiBtZShlLHQscixvKXtlLl9xdWV1ZS5wdXNoKHtidWZmZXI6dCxieXRlT2Zmc2V0OnIsYnl0ZUxlbmd0aDpvfSksZS5fcXVldWVUb3RhbFNpemUrPW99ZnVuY3Rpb24geWUoZSx0LHIsbyl7bGV0IG47dHJ5e249dC5zbGljZShyLHIrbyl9Y2F0Y2godCl7dGhyb3cgUGUoZSx0KSx0fW1lKGUsbiwwLG8pfWZ1bmN0aW9uIGdlKGUsdCl7dC5ieXRlc0ZpbGxlZD4wJiZ5ZShlLHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVzRmlsbGVkKSxDZShlKX1mdW5jdGlvbiB3ZShlLHQpe2NvbnN0IHI9dC5lbGVtZW50U2l6ZSxvPXQuYnl0ZXNGaWxsZWQtdC5ieXRlc0ZpbGxlZCVyLG49TWF0aC5taW4oZS5fcXVldWVUb3RhbFNpemUsdC5ieXRlTGVuZ3RoLXQuYnl0ZXNGaWxsZWQpLGE9dC5ieXRlc0ZpbGxlZCtuLGk9YS1hJXI7bGV0IGw9bixzPSExO2k+byYmKGw9aS10LmJ5dGVzRmlsbGVkLHM9ITApO2NvbnN0IHU9ZS5fcXVldWU7Zm9yKDtsPjA7KXtjb25zdCByPXUucGVlaygpLG89TWF0aC5taW4obCxyLmJ5dGVMZW5ndGgpLG49dC5ieXRlT2Zmc2V0K3QuYnl0ZXNGaWxsZWQ7aWUodC5idWZmZXIsbixyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsbyksci5ieXRlTGVuZ3RoPT09bz91LnNoaWZ0KCk6KHIuYnl0ZU9mZnNldCs9byxyLmJ5dGVMZW5ndGgtPW8pLGUuX3F1ZXVlVG90YWxTaXplLT1vLFNlKGUsbyx0KSxsLT1vfXJldHVybiBzfWZ1bmN0aW9uIFNlKGUsdCxyKXtyLmJ5dGVzRmlsbGVkKz10fWZ1bmN0aW9uIHZlKGUpezA9PT1lLl9xdWV1ZVRvdGFsU2l6ZSYmZS5fY2xvc2VSZXF1ZXN0ZWQ/KEVlKGUpLFh0KGUuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0pKTpiZShlKX1mdW5jdGlvbiBSZShlKXtudWxsIT09ZS5fYnlvYlJlcXVlc3QmJihlLl9ieW9iUmVxdWVzdC5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXI9dm9pZCAwLGUuX2J5b2JSZXF1ZXN0Ll92aWV3PW51bGwsZS5fYnlvYlJlcXVlc3Q9bnVsbCl9ZnVuY3Rpb24gVGUoZSl7Zm9yKDtlLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aD4wOyl7aWYoMD09PWUuX3F1ZXVlVG90YWxTaXplKXJldHVybjtjb25zdCB0PWUuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO3dlKGUsdCkmJihDZShlKSxfZShlLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLHQpKX19ZnVuY3Rpb24gcWUoZSx0KXtjb25zdCByPWUuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1JlKGUpO1wiY2xvc2VkXCI9PT1lLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZT9mdW5jdGlvbihlLHQpe1wibm9uZVwiPT09dC5yZWFkZXJUeXBlJiZDZShlKTtjb25zdCByPWUuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07aWYoTGUocikpZm9yKDt6ZShyKT4wOylfZShyLENlKGUpKX0oZSxyKTpmdW5jdGlvbihlLHQscil7aWYoU2UoMCx0LHIpLFwibm9uZVwiPT09ci5yZWFkZXJUeXBlKXJldHVybiBnZShlLHIpLHZvaWQgVGUoZSk7aWYoci5ieXRlc0ZpbGxlZDxyLmVsZW1lbnRTaXplKXJldHVybjtDZShlKTtjb25zdCBvPXIuYnl0ZXNGaWxsZWQlci5lbGVtZW50U2l6ZTtpZihvPjApe2NvbnN0IHQ9ci5ieXRlT2Zmc2V0K3IuYnl0ZXNGaWxsZWQ7eWUoZSxyLmJ1ZmZlcix0LW8sbyl9ci5ieXRlc0ZpbGxlZC09byxfZShlLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLHIpLFRlKGUpfShlLHQsciksYmUoZSl9ZnVuY3Rpb24gQ2UoZSl7cmV0dXJuIGUuX3BlbmRpbmdQdWxsSW50b3Muc2hpZnQoKX1mdW5jdGlvbiBFZShlKXtlLl9wdWxsQWxnb3JpdGhtPXZvaWQgMCxlLl9jYW5jZWxBbGdvcml0aG09dm9pZCAwfWZ1bmN0aW9uIFBlKGUsdCl7Y29uc3Qgcj1lLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1wicmVhZGFibGVcIj09PXIuX3N0YXRlJiYoaGUoZSksY2UoZSksRWUoZSksSnQocix0KSl9ZnVuY3Rpb24gV2UoZSx0KXtjb25zdCByPWUuX3F1ZXVlLnNoaWZ0KCk7ZS5fcXVldWVUb3RhbFNpemUtPXIuYnl0ZUxlbmd0aCx2ZShlKTtjb25zdCBvPW5ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3QuX2NodW5rU3RlcHMobyl9ZnVuY3Rpb24ga2UoZSl7Y29uc3QgdD1lLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtyZXR1cm5cImVycm9yZWRcIj09PXQ/bnVsbDpcImNsb3NlZFwiPT09dD8wOmUuX3N0cmF0ZWd5SFdNLWUuX3F1ZXVlVG90YWxTaXplfWZ1bmN0aW9uIE9lKGUsdCxyKXtjb25zdCBvPU9iamVjdC5jcmVhdGUoUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUpO2xldCBuLGEsaTtuPXZvaWQgMCE9PXQuc3RhcnQ/KCk9PnQuc3RhcnQobyk6KCk9Pnt9LGE9dm9pZCAwIT09dC5wdWxsPygpPT50LnB1bGwobyk6KCk9PmModm9pZCAwKSxpPXZvaWQgMCE9PXQuY2FuY2VsP2U9PnQuY2FuY2VsKGUpOigpPT5jKHZvaWQgMCk7Y29uc3QgbD10LmF1dG9BbGxvY2F0ZUNodW5rU2l6ZTtpZigwPT09bCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXV0b0FsbG9jYXRlQ2h1bmtTaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIDBcIik7IWZ1bmN0aW9uKGUsdCxyLG8sbixhLGkpe3QuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW09ZSx0Ll9wdWxsQWdhaW49ITEsdC5fcHVsbGluZz0hMSx0Ll9ieW9iUmVxdWVzdD1udWxsLHQuX3F1ZXVlPXQuX3F1ZXVlVG90YWxTaXplPXZvaWQgMCxjZSh0KSx0Ll9jbG9zZVJlcXVlc3RlZD0hMSx0Ll9zdGFydGVkPSExLHQuX3N0cmF0ZWd5SFdNPWEsdC5fcHVsbEFsZ29yaXRobT1vLHQuX2NhbmNlbEFsZ29yaXRobT1uLHQuX2F1dG9BbGxvY2F0ZUNodW5rU2l6ZT1pLHQuX3BlbmRpbmdQdWxsSW50b3M9bmV3IFMsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyPXQsYihjKHIoKSksKCgpPT4odC5fc3RhcnRlZD0hMCxiZSh0KSxudWxsKSksKGU9PihQZSh0LGUpLG51bGwpKSl9KGUsbyxuLGEsaSxyLGwpfWZ1bmN0aW9uIEJlKGUpe3JldHVybiBuZXcgVHlwZUVycm9yKGBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnByb3RvdHlwZS4ke2V9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0YCl9ZnVuY3Rpb24gQWUoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLiR7ZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJgKX1mdW5jdGlvbiBqZShlLHQpe2UuX3JlYWRlci5fcmVhZEludG9SZXF1ZXN0cy5wdXNoKHQpfWZ1bmN0aW9uIHplKGUpe3JldHVybiBlLl9yZWFkZXIuX3JlYWRJbnRvUmVxdWVzdHMubGVuZ3RofWZ1bmN0aW9uIExlKGUpe2NvbnN0IHQ9ZS5fcmVhZGVyO3JldHVybiB2b2lkIDAhPT10JiYhIUZlKHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLHtjbG9zZTp7ZW51bWVyYWJsZTohMH0sZW5xdWV1ZTp7ZW51bWVyYWJsZTohMH0sZXJyb3I6e2VudW1lcmFibGU6ITB9LGJ5b2JSZXF1ZXN0OntlbnVtZXJhYmxlOiEwfSxkZXNpcmVkU2l6ZTp7ZW51bWVyYWJsZTohMH19KSxuKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmNsb3NlLFwiY2xvc2VcIiksbihSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5lbnF1ZXVlLFwiZW5xdWV1ZVwiKSxuKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmVycm9yLFwiZXJyb3JcIiksXCJzeW1ib2xcIj09dHlwZW9mIGUudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIlJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJcIixjb25maWd1cmFibGU6ITB9KTtjbGFzcyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJ7Y29uc3RydWN0b3IoZSl7aWYoJChlLDEsXCJSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJcIiksVihlLFwiRmlyc3QgcGFyYW1ldGVyXCIpLFV0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGlzIHN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGxvY2tlZCBmb3IgZXhjbHVzaXZlIHJlYWRpbmcgYnkgYW5vdGhlciByZWFkZXJcIik7aWYoIWRlKGUuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb25zdHJ1Y3QgYSBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIgZm9yIGEgc3RyZWFtIG5vdCBjb25zdHJ1Y3RlZCB3aXRoIGEgYnl0ZSBzb3VyY2VcIik7RSh0aGlzLGUpLHRoaXMuX3JlYWRJbnRvUmVxdWVzdHM9bmV3IFN9Z2V0IGNsb3NlZCgpe3JldHVybiBGZSh0aGlzKT90aGlzLl9jbG9zZWRQcm9taXNlOmQoRGUoXCJjbG9zZWRcIikpfWNhbmNlbChlKXtyZXR1cm4gRmUodGhpcyk/dm9pZCAwPT09dGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbT9kKGsoXCJjYW5jZWxcIikpOlAodGhpcyxlKTpkKERlKFwiY2FuY2VsXCIpKX1yZWFkKGUpe2lmKCFGZSh0aGlzKSlyZXR1cm4gZChEZShcInJlYWRcIikpO2lmKCFBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuIGQobmV3IFR5cGVFcnJvcihcInZpZXcgbXVzdCBiZSBhbiBhcnJheSBidWZmZXIgdmlld1wiKSk7aWYoMD09PWUuYnl0ZUxlbmd0aClyZXR1cm4gZChuZXcgVHlwZUVycm9yKFwidmlldyBtdXN0IGhhdmUgbm9uLXplcm8gYnl0ZUxlbmd0aFwiKSk7aWYoMD09PWUuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIGQobmV3IFR5cGVFcnJvcihcInZpZXcncyBidWZmZXIgbXVzdCBoYXZlIG5vbi16ZXJvIGJ5dGVMZW5ndGhcIikpO2lmKGUuYnVmZmVyLHZvaWQgMD09PXRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0pcmV0dXJuIGQoayhcInJlYWQgZnJvbVwiKSk7bGV0IHQscjtjb25zdCBvPXUoKChlLG8pPT57dD1lLHI9b30pKTtyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG89ZS5fb3duZXJSZWFkYWJsZVN0cmVhbTtvLl9kaXN0dXJiZWQ9ITAsXCJlcnJvcmVkXCI9PT1vLl9zdGF0ZT9yLl9lcnJvclN0ZXBzKG8uX3N0b3JlZEVycm9yKTpmdW5jdGlvbihlLHQscil7Y29uc3Qgbz1lLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO2xldCBuPTE7dC5jb25zdHJ1Y3RvciE9PURhdGFWaWV3JiYobj10LmNvbnN0cnVjdG9yLkJZVEVTX1BFUl9FTEVNRU5UKTtjb25zdCBhPXQuY29uc3RydWN0b3IsaT10LmJ1ZmZlcixsPXtidWZmZXI6aSxidWZmZXJCeXRlTGVuZ3RoOmkuYnl0ZUxlbmd0aCxieXRlT2Zmc2V0OnQuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOnQuYnl0ZUxlbmd0aCxieXRlc0ZpbGxlZDowLGVsZW1lbnRTaXplOm4sdmlld0NvbnN0cnVjdG9yOmEscmVhZGVyVHlwZTpcImJ5b2JcIn07aWYoZS5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGg+MClyZXR1cm4gZS5fcGVuZGluZ1B1bGxJbnRvcy5wdXNoKGwpLHZvaWQgamUobyxyKTtpZihcImNsb3NlZFwiIT09by5fc3RhdGUpe2lmKGUuX3F1ZXVlVG90YWxTaXplPjApe2lmKHdlKGUsbCkpe2NvbnN0IHQ9cGUobCk7cmV0dXJuIHZlKGUpLHZvaWQgci5fY2h1bmtTdGVwcyh0KX1pZihlLl9jbG9zZVJlcXVlc3RlZCl7Y29uc3QgdD1uZXcgVHlwZUVycm9yKFwiSW5zdWZmaWNpZW50IGJ5dGVzIHRvIGZpbGwgZWxlbWVudHMgaW4gdGhlIGdpdmVuIGJ1ZmZlclwiKTtyZXR1cm4gUGUoZSx0KSx2b2lkIHIuX2Vycm9yU3RlcHModCl9fWUuX3BlbmRpbmdQdWxsSW50b3MucHVzaChsKSxqZShvLHIpLGJlKGUpfWVsc2V7Y29uc3QgZT1uZXcgYShsLmJ1ZmZlcixsLmJ5dGVPZmZzZXQsMCk7ci5fY2xvc2VTdGVwcyhlKX19KG8uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcix0LHIpfSh0aGlzLGUse19jaHVua1N0ZXBzOmU9PnQoe3ZhbHVlOmUsZG9uZTohMX0pLF9jbG9zZVN0ZXBzOmU9PnQoe3ZhbHVlOmUsZG9uZTohMH0pLF9lcnJvclN0ZXBzOmU9PnIoZSl9KSxvfXJlbGVhc2VMb2NrKCl7aWYoIUZlKHRoaXMpKXRocm93IERlKFwicmVsZWFzZUxvY2tcIik7dm9pZCAwIT09dGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSYmZnVuY3Rpb24oZSl7VyhlKTtjb25zdCB0PW5ldyBUeXBlRXJyb3IoXCJSZWFkZXIgd2FzIHJlbGVhc2VkXCIpO0llKGUsdCl9KHRoaXMpfX1mdW5jdGlvbiBGZShlKXtyZXR1cm4hIXIoZSkmJighIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiX3JlYWRJbnRvUmVxdWVzdHNcIikmJmUgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIpfWZ1bmN0aW9uIEllKGUsdCl7Y29uc3Qgcj1lLl9yZWFkSW50b1JlcXVlc3RzO2UuX3JlYWRJbnRvUmVxdWVzdHM9bmV3IFMsci5mb3JFYWNoKChlPT57ZS5fZXJyb3JTdGVwcyh0KX0pKX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnByb3RvdHlwZS4ke2V9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJgKX1mdW5jdGlvbiAkZShlLHQpe2NvbnN0e2hpZ2hXYXRlck1hcms6cn09ZTtpZih2b2lkIDA9PT1yKXJldHVybiB0O2lmKGFlKHIpfHxyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGhpZ2hXYXRlck1hcmtcIik7cmV0dXJuIHJ9ZnVuY3Rpb24gTWUoZSl7Y29uc3R7c2l6ZTp0fT1lO3JldHVybiB0fHwoKCk9PjEpfWZ1bmN0aW9uIFllKGUsdCl7RihlLHQpO2NvbnN0IHI9bnVsbD09ZT92b2lkIDA6ZS5oaWdoV2F0ZXJNYXJrLG89bnVsbD09ZT92b2lkIDA6ZS5zaXplO3JldHVybntoaWdoV2F0ZXJNYXJrOnZvaWQgMD09PXI/dm9pZCAwOlkociksc2l6ZTp2b2lkIDA9PT1vP3ZvaWQgMDpRZShvLGAke3R9IGhhcyBtZW1iZXIgJ3NpemUnIHRoYXRgKX19ZnVuY3Rpb24gUWUoZSx0KXtyZXR1cm4gSShlLHQpLHQ9PlkoZSh0KSl9ZnVuY3Rpb24gTmUoZSx0LHIpe3JldHVybiBJKGUscikscj0+dyhlLHQsW3JdKX1mdW5jdGlvbiBIZShlLHQscil7cmV0dXJuIEkoZSxyKSwoKT0+dyhlLHQsW10pfWZ1bmN0aW9uIHhlKGUsdCxyKXtyZXR1cm4gSShlLHIpLHI9PmcoZSx0LFtyXSl9ZnVuY3Rpb24gVmUoZSx0LHIpe3JldHVybiBJKGUsciksKHIsbyk9PncoZSx0LFtyLG9dKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucHJvdG90eXBlLHtjYW5jZWw6e2VudW1lcmFibGU6ITB9LHJlYWQ6e2VudW1lcmFibGU6ITB9LHJlbGVhc2VMb2NrOntlbnVtZXJhYmxlOiEwfSxjbG9zZWQ6e2VudW1lcmFibGU6ITB9fSksbihSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucHJvdG90eXBlLmNhbmNlbCxcImNhbmNlbFwiKSxuKFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5wcm90b3R5cGUucmVhZCxcInJlYWRcIiksbihSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucHJvdG90eXBlLnJlbGVhc2VMb2NrLFwicmVsZWFzZUxvY2tcIiksXCJzeW1ib2xcIj09dHlwZW9mIGUudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucHJvdG90eXBlLGUudG9TdHJpbmdUYWcse3ZhbHVlOlwiUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyXCIsY29uZmlndXJhYmxlOiEwfSk7Y29uc3QgVWU9XCJmdW5jdGlvblwiPT10eXBlb2YgQWJvcnRDb250cm9sbGVyO2NsYXNzIFdyaXRhYmxlU3RyZWFte2NvbnN0cnVjdG9yKGU9e30sdD17fSl7dm9pZCAwPT09ZT9lPW51bGw6RChlLFwiRmlyc3QgcGFyYW1ldGVyXCIpO2NvbnN0IHI9WWUodCxcIlNlY29uZCBwYXJhbWV0ZXJcIiksbz1mdW5jdGlvbihlLHQpe0YoZSx0KTtjb25zdCByPW51bGw9PWU/dm9pZCAwOmUuYWJvcnQsbz1udWxsPT1lP3ZvaWQgMDplLmNsb3NlLG49bnVsbD09ZT92b2lkIDA6ZS5zdGFydCxhPW51bGw9PWU/dm9pZCAwOmUudHlwZSxpPW51bGw9PWU/dm9pZCAwOmUud3JpdGU7cmV0dXJue2Fib3J0OnZvaWQgMD09PXI/dm9pZCAwOk5lKHIsZSxgJHt0fSBoYXMgbWVtYmVyICdhYm9ydCcgdGhhdGApLGNsb3NlOnZvaWQgMD09PW8/dm9pZCAwOkhlKG8sZSxgJHt0fSBoYXMgbWVtYmVyICdjbG9zZScgdGhhdGApLHN0YXJ0OnZvaWQgMD09PW4/dm9pZCAwOnhlKG4sZSxgJHt0fSBoYXMgbWVtYmVyICdzdGFydCcgdGhhdGApLHdyaXRlOnZvaWQgMD09PWk/dm9pZCAwOlZlKGksZSxgJHt0fSBoYXMgbWVtYmVyICd3cml0ZScgdGhhdGApLHR5cGU6YX19KGUsXCJGaXJzdCBwYXJhbWV0ZXJcIik7dmFyIG47KG49dGhpcykuX3N0YXRlPVwid3JpdGFibGVcIixuLl9zdG9yZWRFcnJvcj12b2lkIDAsbi5fd3JpdGVyPXZvaWQgMCxuLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXI9dm9pZCAwLG4uX3dyaXRlUmVxdWVzdHM9bmV3IFMsbi5faW5GbGlnaHRXcml0ZVJlcXVlc3Q9dm9pZCAwLG4uX2Nsb3NlUmVxdWVzdD12b2lkIDAsbi5faW5GbGlnaHRDbG9zZVJlcXVlc3Q9dm9pZCAwLG4uX3BlbmRpbmdBYm9ydFJlcXVlc3Q9dm9pZCAwLG4uX2JhY2twcmVzc3VyZT0hMTtpZih2b2lkIDAhPT1vLnR5cGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHR5cGUgaXMgc3BlY2lmaWVkXCIpO2NvbnN0IGE9TWUocik7IWZ1bmN0aW9uKGUsdCxyLG8pe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7bGV0IGEsaSxsLHM7YT12b2lkIDAhPT10LnN0YXJ0PygpPT50LnN0YXJ0KG4pOigpPT57fTtpPXZvaWQgMCE9PXQud3JpdGU/ZT0+dC53cml0ZShlLG4pOigpPT5jKHZvaWQgMCk7bD12b2lkIDAhPT10LmNsb3NlPygpPT50LmNsb3NlKCk6KCk9PmModm9pZCAwKTtzPXZvaWQgMCE9PXQuYWJvcnQ/ZT0+dC5hYm9ydChlKTooKT0+Yyh2b2lkIDApOyFmdW5jdGlvbihlLHQscixvLG4sYSxpLGwpe3QuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbT1lLGUuX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcj10LHQuX3F1ZXVlPXZvaWQgMCx0Ll9xdWV1ZVRvdGFsU2l6ZT12b2lkIDAsY2UodCksdC5fYWJvcnRSZWFzb249dm9pZCAwLHQuX2Fib3J0Q29udHJvbGxlcj1mdW5jdGlvbigpe2lmKFVlKXJldHVybiBuZXcgQWJvcnRDb250cm9sbGVyfSgpLHQuX3N0YXJ0ZWQ9ITEsdC5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtPWwsdC5fc3RyYXRlZ3lIV009aSx0Ll93cml0ZUFsZ29yaXRobT1vLHQuX2Nsb3NlQWxnb3JpdGhtPW4sdC5fYWJvcnRBbGdvcml0aG09YTtjb25zdCBzPWJ0KHQpO250KGUscyk7Y29uc3QgdT1yKCk7YihjKHUpLCgoKT0+KHQuX3N0YXJ0ZWQ9ITAsZHQodCksbnVsbCkpLChyPT4odC5fc3RhcnRlZD0hMCxaZShlLHIpLG51bGwpKSl9KGUsbixhLGksbCxzLHIsbyl9KHRoaXMsbywkZShyLDEpLGEpfWdldCBsb2NrZWQoKXtpZighR2UodGhpcykpdGhyb3cgX3QoXCJsb2NrZWRcIik7cmV0dXJuIFhlKHRoaXMpfWFib3J0KGUpe3JldHVybiBHZSh0aGlzKT9YZSh0aGlzKT9kKG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWJvcnQgYSBzdHJlYW0gdGhhdCBhbHJlYWR5IGhhcyBhIHdyaXRlclwiKSk6SmUodGhpcyxlKTpkKF90KFwiYWJvcnRcIikpfWNsb3NlKCl7cmV0dXJuIEdlKHRoaXMpP1hlKHRoaXMpP2QobmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjbG9zZSBhIHN0cmVhbSB0aGF0IGFscmVhZHkgaGFzIGEgd3JpdGVyXCIpKTpydCh0aGlzKT9kKG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2xvc2UgYW4gYWxyZWFkeS1jbG9zaW5nIHN0cmVhbVwiKSk6S2UodGhpcyk6ZChfdChcImNsb3NlXCIpKX1nZXRXcml0ZXIoKXtpZighR2UodGhpcykpdGhyb3cgX3QoXCJnZXRXcml0ZXJcIik7cmV0dXJuIG5ldyBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIodGhpcyl9fWZ1bmN0aW9uIEdlKGUpe3JldHVybiEhcihlKSYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJfd3JpdGFibGVTdHJlYW1Db250cm9sbGVyXCIpJiZlIGluc3RhbmNlb2YgV3JpdGFibGVTdHJlYW0pfWZ1bmN0aW9uIFhlKGUpe3JldHVybiB2b2lkIDAhPT1lLl93cml0ZXJ9ZnVuY3Rpb24gSmUoZSx0KXt2YXIgcjtpZihcImNsb3NlZFwiPT09ZS5fc3RhdGV8fFwiZXJyb3JlZFwiPT09ZS5fc3RhdGUpcmV0dXJuIGModm9pZCAwKTtlLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIuX2Fib3J0UmVhc29uPXQsbnVsbD09PShyPWUuX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlci5fYWJvcnRDb250cm9sbGVyKXx8dm9pZCAwPT09cnx8ci5hYm9ydCh0KTtjb25zdCBvPWUuX3N0YXRlO2lmKFwiY2xvc2VkXCI9PT1vfHxcImVycm9yZWRcIj09PW8pcmV0dXJuIGModm9pZCAwKTtpZih2b2lkIDAhPT1lLl9wZW5kaW5nQWJvcnRSZXF1ZXN0KXJldHVybiBlLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9wcm9taXNlO2xldCBuPSExO1wiZXJyb3JpbmdcIj09PW8mJihuPSEwLHQ9dm9pZCAwKTtjb25zdCBhPXUoKChyLG8pPT57ZS5fcGVuZGluZ0Fib3J0UmVxdWVzdD17X3Byb21pc2U6dm9pZCAwLF9yZXNvbHZlOnIsX3JlamVjdDpvLF9yZWFzb246dCxfd2FzQWxyZWFkeUVycm9yaW5nOm59fSkpO3JldHVybiBlLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9wcm9taXNlPWEsbnx8ZXQoZSx0KSxhfWZ1bmN0aW9uIEtlKGUpe2NvbnN0IHQ9ZS5fc3RhdGU7aWYoXCJjbG9zZWRcIj09PXR8fFwiZXJyb3JlZFwiPT09dClyZXR1cm4gZChuZXcgVHlwZUVycm9yKGBUaGUgc3RyZWFtIChpbiAke3R9IHN0YXRlKSBpcyBub3QgaW4gdGhlIHdyaXRhYmxlIHN0YXRlIGFuZCBjYW5ub3QgYmUgY2xvc2VkYCkpO2NvbnN0IHI9dSgoKHQscik9Pntjb25zdCBvPXtfcmVzb2x2ZTp0LF9yZWplY3Q6cn07ZS5fY2xvc2VSZXF1ZXN0PW99KSksbz1lLl93cml0ZXI7dmFyIG47cmV0dXJuIHZvaWQgMCE9PW8mJmUuX2JhY2twcmVzc3VyZSYmXCJ3cml0YWJsZVwiPT09dCYmRXQobyksdWUobj1lLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIsbHQsMCksZHQobikscn1mdW5jdGlvbiBaZShlLHQpe1wid3JpdGFibGVcIiE9PWUuX3N0YXRlP3R0KGUpOmV0KGUsdCl9ZnVuY3Rpb24gZXQoZSx0KXtjb25zdCByPWUuX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcjtlLl9zdGF0ZT1cImVycm9yaW5nXCIsZS5fc3RvcmVkRXJyb3I9dDtjb25zdCBvPWUuX3dyaXRlcjt2b2lkIDAhPT1vJiZpdChvLHQpLCFmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLl9pbkZsaWdodFdyaXRlUmVxdWVzdCYmdm9pZCAwPT09ZS5faW5GbGlnaHRDbG9zZVJlcXVlc3QpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZyLl9zdGFydGVkJiZ0dChlKX1mdW5jdGlvbiB0dChlKXtlLl9zdGF0ZT1cImVycm9yZWRcIixlLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXJbUl0oKTtjb25zdCB0PWUuX3N0b3JlZEVycm9yO2lmKGUuX3dyaXRlUmVxdWVzdHMuZm9yRWFjaCgoZT0+e2UuX3JlamVjdCh0KX0pKSxlLl93cml0ZVJlcXVlc3RzPW5ldyBTLHZvaWQgMD09PWUuX3BlbmRpbmdBYm9ydFJlcXVlc3QpcmV0dXJuIHZvaWQgb3QoZSk7Y29uc3Qgcj1lLl9wZW5kaW5nQWJvcnRSZXF1ZXN0O2lmKGUuX3BlbmRpbmdBYm9ydFJlcXVlc3Q9dm9pZCAwLHIuX3dhc0FscmVhZHlFcnJvcmluZylyZXR1cm4gci5fcmVqZWN0KHQpLHZvaWQgb3QoZSk7YihlLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXJbdl0oci5fcmVhc29uKSwoKCk9PihyLl9yZXNvbHZlKCksb3QoZSksbnVsbCkpLCh0PT4oci5fcmVqZWN0KHQpLG90KGUpLG51bGwpKSl9ZnVuY3Rpb24gcnQoZSl7cmV0dXJuIHZvaWQgMCE9PWUuX2Nsb3NlUmVxdWVzdHx8dm9pZCAwIT09ZS5faW5GbGlnaHRDbG9zZVJlcXVlc3R9ZnVuY3Rpb24gb3QoZSl7dm9pZCAwIT09ZS5fY2xvc2VSZXF1ZXN0JiYoZS5fY2xvc2VSZXF1ZXN0Ll9yZWplY3QoZS5fc3RvcmVkRXJyb3IpLGUuX2Nsb3NlUmVxdWVzdD12b2lkIDApO2NvbnN0IHQ9ZS5fd3JpdGVyO3ZvaWQgMCE9PXQmJlN0KHQsZS5fc3RvcmVkRXJyb3IpfWZ1bmN0aW9uIG50KGUsdCl7Y29uc3Qgcj1lLl93cml0ZXI7dm9pZCAwIT09ciYmdCE9PWUuX2JhY2twcmVzc3VyZSYmKHQ/ZnVuY3Rpb24oZSl7UnQoZSl9KHIpOkV0KHIpKSxlLl9iYWNrcHJlc3N1cmU9dH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUse2Fib3J0OntlbnVtZXJhYmxlOiEwfSxjbG9zZTp7ZW51bWVyYWJsZTohMH0sZ2V0V3JpdGVyOntlbnVtZXJhYmxlOiEwfSxsb2NrZWQ6e2VudW1lcmFibGU6ITB9fSksbihXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuYWJvcnQsXCJhYm9ydFwiKSxuKFdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5jbG9zZSxcImNsb3NlXCIpLG4oV3JpdGFibGVTdHJlYW0ucHJvdG90eXBlLmdldFdyaXRlcixcImdldFdyaXRlclwiKSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIldyaXRhYmxlU3RyZWFtXCIsY29uZmlndXJhYmxlOiEwfSk7Y2xhc3MgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVye2NvbnN0cnVjdG9yKGUpe2lmKCQoZSwxLFwiV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyXCIpLGZ1bmN0aW9uKGUsdCl7aWYoIUdlKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7dH0gaXMgbm90IGEgV3JpdGFibGVTdHJlYW0uYCl9KGUsXCJGaXJzdCBwYXJhbWV0ZXJcIiksWGUoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXMgc3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gbG9ja2VkIGZvciBleGNsdXNpdmUgd3JpdGluZyBieSBhbm90aGVyIHdyaXRlclwiKTt0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtPWUsZS5fd3JpdGVyPXRoaXM7Y29uc3QgdD1lLl9zdGF0ZTtpZihcIndyaXRhYmxlXCI9PT10KSFydChlKSYmZS5fYmFja3ByZXNzdXJlP1J0KHRoaXMpOnF0KHRoaXMpLGd0KHRoaXMpO2Vsc2UgaWYoXCJlcnJvcmluZ1wiPT09dClUdCh0aGlzLGUuX3N0b3JlZEVycm9yKSxndCh0aGlzKTtlbHNlIGlmKFwiY2xvc2VkXCI9PT10KXF0KHRoaXMpLGd0KHI9dGhpcyksdnQocik7ZWxzZXtjb25zdCB0PWUuX3N0b3JlZEVycm9yO1R0KHRoaXMsdCksd3QodGhpcyx0KX12YXIgcn1nZXQgY2xvc2VkKCl7cmV0dXJuIGF0KHRoaXMpP3RoaXMuX2Nsb3NlZFByb21pc2U6ZChtdChcImNsb3NlZFwiKSl9Z2V0IGRlc2lyZWRTaXplKCl7aWYoIWF0KHRoaXMpKXRocm93IG10KFwiZGVzaXJlZFNpemVcIik7aWYodm9pZCAwPT09dGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbSl0aHJvdyB5dChcImRlc2lyZWRTaXplXCIpO3JldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PWUuX293bmVyV3JpdGFibGVTdHJlYW0scj10Ll9zdGF0ZTtpZihcImVycm9yZWRcIj09PXJ8fFwiZXJyb3JpbmdcIj09PXIpcmV0dXJuIG51bGw7aWYoXCJjbG9zZWRcIj09PXIpcmV0dXJuIDA7cmV0dXJuIGN0KHQuX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcil9KHRoaXMpfWdldCByZWFkeSgpe3JldHVybiBhdCh0aGlzKT90aGlzLl9yZWFkeVByb21pc2U6ZChtdChcInJlYWR5XCIpKX1hYm9ydChlKXtyZXR1cm4gYXQodGhpcyk/dm9pZCAwPT09dGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbT9kKHl0KFwiYWJvcnRcIikpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEplKGUuX293bmVyV3JpdGFibGVTdHJlYW0sdCl9KHRoaXMsZSk6ZChtdChcImFib3J0XCIpKX1jbG9zZSgpe2lmKCFhdCh0aGlzKSlyZXR1cm4gZChtdChcImNsb3NlXCIpKTtjb25zdCBlPXRoaXMuX293bmVyV3JpdGFibGVTdHJlYW07cmV0dXJuIHZvaWQgMD09PWU/ZCh5dChcImNsb3NlXCIpKTpydChlKT9kKG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2xvc2UgYW4gYWxyZWFkeS1jbG9zaW5nIHN0cmVhbVwiKSk6S2UodGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbSl9cmVsZWFzZUxvY2soKXtpZighYXQodGhpcykpdGhyb3cgbXQoXCJyZWxlYXNlTG9ja1wiKTt2b2lkIDAhPT10aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtJiZmdW5jdGlvbihlKXtjb25zdCB0PWUuX293bmVyV3JpdGFibGVTdHJlYW0scj1uZXcgVHlwZUVycm9yKFwiV3JpdGVyIHdhcyByZWxlYXNlZCBhbmQgY2FuIG5vIGxvbmdlciBiZSB1c2VkIHRvIG1vbml0b3IgdGhlIHN0cmVhbSdzIGNsb3NlZG5lc3NcIik7aXQoZSxyKSxmdW5jdGlvbihlLHQpe1wicGVuZGluZ1wiPT09ZS5fY2xvc2VkUHJvbWlzZVN0YXRlP1N0KGUsdCk6ZnVuY3Rpb24oZSx0KXt3dChlLHQpfShlLHQpfShlLHIpLHQuX3dyaXRlcj12b2lkIDAsZS5fb3duZXJXcml0YWJsZVN0cmVhbT12b2lkIDB9KHRoaXMpfXdyaXRlKGUpe3JldHVybiBhdCh0aGlzKT92b2lkIDA9PT10aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtP2QoeXQoXCJ3cml0ZSB0b1wiKSk6ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUuX293bmVyV3JpdGFibGVTdHJlYW0sbz1yLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIsbj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZS5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtKHQpfWNhdGNoKHQpe3JldHVybiBmdChlLHQpLDF9fShvLHQpO2lmKHIhPT1lLl9vd25lcldyaXRhYmxlU3RyZWFtKXJldHVybiBkKHl0KFwid3JpdGUgdG9cIikpO2NvbnN0IGE9ci5fc3RhdGU7aWYoXCJlcnJvcmVkXCI9PT1hKXJldHVybiBkKHIuX3N0b3JlZEVycm9yKTtpZihydChyKXx8XCJjbG9zZWRcIj09PWEpcmV0dXJuIGQobmV3IFR5cGVFcnJvcihcIlRoZSBzdHJlYW0gaXMgY2xvc2luZyBvciBjbG9zZWQgYW5kIGNhbm5vdCBiZSB3cml0dGVuIHRvXCIpKTtpZihcImVycm9yaW5nXCI9PT1hKXJldHVybiBkKHIuX3N0b3JlZEVycm9yKTtjb25zdCBpPWZ1bmN0aW9uKGUpe3JldHVybiB1KCgodCxyKT0+e2NvbnN0IG89e19yZXNvbHZlOnQsX3JlamVjdDpyfTtlLl93cml0ZVJlcXVlc3RzLnB1c2gobyl9KSl9KHIpO3JldHVybiBmdW5jdGlvbihlLHQscil7dHJ5e3VlKGUsdCxyKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBmdChlLHQpfWNvbnN0IG89ZS5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtO2lmKCFydChvKSYmXCJ3cml0YWJsZVwiPT09by5fc3RhdGUpe250KG8sYnQoZSkpfWR0KGUpfShvLHQsbiksaX0odGhpcyxlKTpkKG10KFwid3JpdGVcIikpfX1mdW5jdGlvbiBhdChlKXtyZXR1cm4hIXIoZSkmJighIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiX293bmVyV3JpdGFibGVTdHJlYW1cIikmJmUgaW5zdGFuY2VvZiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpfWZ1bmN0aW9uIGl0KGUsdCl7XCJwZW5kaW5nXCI9PT1lLl9yZWFkeVByb21pc2VTdGF0ZT9DdChlLHQpOmZ1bmN0aW9uKGUsdCl7VHQoZSx0KX0oZSx0KX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLHthYm9ydDp7ZW51bWVyYWJsZTohMH0sY2xvc2U6e2VudW1lcmFibGU6ITB9LHJlbGVhc2VMb2NrOntlbnVtZXJhYmxlOiEwfSx3cml0ZTp7ZW51bWVyYWJsZTohMH0sY2xvc2VkOntlbnVtZXJhYmxlOiEwfSxkZXNpcmVkU2l6ZTp7ZW51bWVyYWJsZTohMH0scmVhZHk6e2VudW1lcmFibGU6ITB9fSksbihXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLmFib3J0LFwiYWJvcnRcIiksbihXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLmNsb3NlLFwiY2xvc2VcIiksbihXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLnJlbGVhc2VMb2NrLFwicmVsZWFzZUxvY2tcIiksbihXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLndyaXRlLFwid3JpdGVcIiksXCJzeW1ib2xcIj09dHlwZW9mIGUudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLGUudG9TdHJpbmdUYWcse3ZhbHVlOlwiV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyXCIsY29uZmlndXJhYmxlOiEwfSk7Y29uc3QgbHQ9e307Y2xhc3MgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcntjb25zdHJ1Y3Rvcigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpfWdldCBhYm9ydFJlYXNvbigpe2lmKCFzdCh0aGlzKSl0aHJvdyBwdChcImFib3J0UmVhc29uXCIpO3JldHVybiB0aGlzLl9hYm9ydFJlYXNvbn1nZXQgc2lnbmFsKCl7aWYoIXN0KHRoaXMpKXRocm93IHB0KFwic2lnbmFsXCIpO2lmKHZvaWQgMD09PXRoaXMuX2Fib3J0Q29udHJvbGxlcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuc2lnbmFsIGlzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9ZXJyb3IoZSl7aWYoIXN0KHRoaXMpKXRocm93IHB0KFwiZXJyb3JcIik7XCJ3cml0YWJsZVwiPT09dGhpcy5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtLl9zdGF0ZSYmaHQodGhpcyxlKX1bdl0oZSl7Y29uc3QgdD10aGlzLl9hYm9ydEFsZ29yaXRobShlKTtyZXR1cm4gdXQodGhpcyksdH1bUl0oKXtjZSh0aGlzKX19ZnVuY3Rpb24gc3QoZSl7cmV0dXJuISFyKGUpJiYoISFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcIl9jb250cm9sbGVkV3JpdGFibGVTdHJlYW1cIikmJmUgaW5zdGFuY2VvZiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKX1mdW5jdGlvbiB1dChlKXtlLl93cml0ZUFsZ29yaXRobT12b2lkIDAsZS5fY2xvc2VBbGdvcml0aG09dm9pZCAwLGUuX2Fib3J0QWxnb3JpdGhtPXZvaWQgMCxlLl9zdHJhdGVneVNpemVBbGdvcml0aG09dm9pZCAwfWZ1bmN0aW9uIGN0KGUpe3JldHVybiBlLl9zdHJhdGVneUhXTS1lLl9xdWV1ZVRvdGFsU2l6ZX1mdW5jdGlvbiBkdChlKXtjb25zdCB0PWUuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtpZighZS5fc3RhcnRlZClyZXR1cm47aWYodm9pZCAwIT09dC5faW5GbGlnaHRXcml0ZVJlcXVlc3QpcmV0dXJuO2lmKFwiZXJyb3JpbmdcIj09PXQuX3N0YXRlKXJldHVybiB2b2lkIHR0KHQpO2lmKDA9PT1lLl9xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHI9ZS5fcXVldWUucGVlaygpLnZhbHVlO3I9PT1sdD9mdW5jdGlvbihlKXtjb25zdCB0PWUuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTsoZnVuY3Rpb24oZSl7ZS5faW5GbGlnaHRDbG9zZVJlcXVlc3Q9ZS5fY2xvc2VSZXF1ZXN0LGUuX2Nsb3NlUmVxdWVzdD12b2lkIDB9KSh0KSxzZShlKTtjb25zdCByPWUuX2Nsb3NlQWxnb3JpdGhtKCk7dXQoZSksYihyLCgoKT0+KGZ1bmN0aW9uKGUpe2UuX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0Ll9yZXNvbHZlKHZvaWQgMCksZS5faW5GbGlnaHRDbG9zZVJlcXVlc3Q9dm9pZCAwLFwiZXJyb3JpbmdcIj09PWUuX3N0YXRlJiYoZS5fc3RvcmVkRXJyb3I9dm9pZCAwLHZvaWQgMCE9PWUuX3BlbmRpbmdBYm9ydFJlcXVlc3QmJihlLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9yZXNvbHZlKCksZS5fcGVuZGluZ0Fib3J0UmVxdWVzdD12b2lkIDApKSxlLl9zdGF0ZT1cImNsb3NlZFwiO2NvbnN0IHQ9ZS5fd3JpdGVyO3ZvaWQgMCE9PXQmJnZ0KHQpfSh0KSxudWxsKSksKGU9PihmdW5jdGlvbihlLHQpe2UuX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0Ll9yZWplY3QodCksZS5faW5GbGlnaHRDbG9zZVJlcXVlc3Q9dm9pZCAwLHZvaWQgMCE9PWUuX3BlbmRpbmdBYm9ydFJlcXVlc3QmJihlLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9yZWplY3QodCksZS5fcGVuZGluZ0Fib3J0UmVxdWVzdD12b2lkIDApLFplKGUsdCl9KHQsZSksbnVsbCkpKX0oZSk6ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTshZnVuY3Rpb24oZSl7ZS5faW5GbGlnaHRXcml0ZVJlcXVlc3Q9ZS5fd3JpdGVSZXF1ZXN0cy5zaGlmdCgpfShyKTtiKGUuX3dyaXRlQWxnb3JpdGhtKHQpLCgoKT0+eyFmdW5jdGlvbihlKXtlLl9pbkZsaWdodFdyaXRlUmVxdWVzdC5fcmVzb2x2ZSh2b2lkIDApLGUuX2luRmxpZ2h0V3JpdGVSZXF1ZXN0PXZvaWQgMH0ocik7Y29uc3QgdD1yLl9zdGF0ZTtpZihzZShlKSwhcnQocikmJlwid3JpdGFibGVcIj09PXQpe2NvbnN0IHQ9YnQoZSk7bnQocix0KX1yZXR1cm4gZHQoZSksbnVsbH0pLCh0PT4oXCJ3cml0YWJsZVwiPT09ci5fc3RhdGUmJnV0KGUpLGZ1bmN0aW9uKGUsdCl7ZS5faW5GbGlnaHRXcml0ZVJlcXVlc3QuX3JlamVjdCh0KSxlLl9pbkZsaWdodFdyaXRlUmVxdWVzdD12b2lkIDAsWmUoZSx0KX0ocix0KSxudWxsKSkpfShlLHIpfWZ1bmN0aW9uIGZ0KGUsdCl7XCJ3cml0YWJsZVwiPT09ZS5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtLl9zdGF0ZSYmaHQoZSx0KX1mdW5jdGlvbiBidChlKXtyZXR1cm4gY3QoZSk8PTB9ZnVuY3Rpb24gaHQoZSx0KXtjb25zdCByPWUuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTt1dChlKSxldChyLHQpfWZ1bmN0aW9uIF90KGUpe3JldHVybiBuZXcgVHlwZUVycm9yKGBXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgV3JpdGFibGVTdHJlYW1gKX1mdW5jdGlvbiBwdChlKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcmApfWZ1bmN0aW9uIG10KGUpe3JldHVybiBuZXcgVHlwZUVycm9yKGBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIucHJvdG90eXBlLiR7ZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcmApfWZ1bmN0aW9uIHl0KGUpe3JldHVybiBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IFwiK2UrXCIgYSBzdHJlYW0gdXNpbmcgYSByZWxlYXNlZCB3cml0ZXJcIil9ZnVuY3Rpb24gZ3QoZSl7ZS5fY2xvc2VkUHJvbWlzZT11KCgodCxyKT0+e2UuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT10LGUuX2Nsb3NlZFByb21pc2VfcmVqZWN0PXIsZS5fY2xvc2VkUHJvbWlzZVN0YXRlPVwicGVuZGluZ1wifSkpfWZ1bmN0aW9uIHd0KGUsdCl7Z3QoZSksU3QoZSx0KX1mdW5jdGlvbiBTdChlLHQpe3ZvaWQgMCE9PWUuX2Nsb3NlZFByb21pc2VfcmVqZWN0JiYobShlLl9jbG9zZWRQcm9taXNlKSxlLl9jbG9zZWRQcm9taXNlX3JlamVjdCh0KSxlLl9jbG9zZWRQcm9taXNlX3Jlc29sdmU9dm9pZCAwLGUuX2Nsb3NlZFByb21pc2VfcmVqZWN0PXZvaWQgMCxlLl9jbG9zZWRQcm9taXNlU3RhdGU9XCJyZWplY3RlZFwiKX1mdW5jdGlvbiB2dChlKXt2b2lkIDAhPT1lLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUmJihlLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUodm9pZCAwKSxlLl9jbG9zZWRQcm9taXNlX3Jlc29sdmU9dm9pZCAwLGUuX2Nsb3NlZFByb21pc2VfcmVqZWN0PXZvaWQgMCxlLl9jbG9zZWRQcm9taXNlU3RhdGU9XCJyZXNvbHZlZFwiKX1mdW5jdGlvbiBSdChlKXtlLl9yZWFkeVByb21pc2U9dSgoKHQscik9PntlLl9yZWFkeVByb21pc2VfcmVzb2x2ZT10LGUuX3JlYWR5UHJvbWlzZV9yZWplY3Q9cn0pKSxlLl9yZWFkeVByb21pc2VTdGF0ZT1cInBlbmRpbmdcIn1mdW5jdGlvbiBUdChlLHQpe1J0KGUpLEN0KGUsdCl9ZnVuY3Rpb24gcXQoZSl7UnQoZSksRXQoZSl9ZnVuY3Rpb24gQ3QoZSx0KXt2b2lkIDAhPT1lLl9yZWFkeVByb21pc2VfcmVqZWN0JiYobShlLl9yZWFkeVByb21pc2UpLGUuX3JlYWR5UHJvbWlzZV9yZWplY3QodCksZS5fcmVhZHlQcm9taXNlX3Jlc29sdmU9dm9pZCAwLGUuX3JlYWR5UHJvbWlzZV9yZWplY3Q9dm9pZCAwLGUuX3JlYWR5UHJvbWlzZVN0YXRlPVwicmVqZWN0ZWRcIil9ZnVuY3Rpb24gRXQoZSl7dm9pZCAwIT09ZS5fcmVhZHlQcm9taXNlX3Jlc29sdmUmJihlLl9yZWFkeVByb21pc2VfcmVzb2x2ZSh2b2lkIDApLGUuX3JlYWR5UHJvbWlzZV9yZXNvbHZlPXZvaWQgMCxlLl9yZWFkeVByb21pc2VfcmVqZWN0PXZvaWQgMCxlLl9yZWFkeVByb21pc2VTdGF0ZT1cImZ1bGZpbGxlZFwiKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSx7YWJvcnRSZWFzb246e2VudW1lcmFibGU6ITB9LHNpZ25hbDp7ZW51bWVyYWJsZTohMH0sZXJyb3I6e2VudW1lcmFibGU6ITB9fSksXCJzeW1ib2xcIj09dHlwZW9mIGUudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIldyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJcIixjb25maWd1cmFibGU6ITB9KTtjb25zdCBQdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgRE9NRXhjZXB0aW9uP0RPTUV4Y2VwdGlvbjp2b2lkIDA7Y29uc3QgV3Q9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgZSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KFB0KT9QdDpmdW5jdGlvbigpe2NvbnN0IGU9ZnVuY3Rpb24oZSx0KXt0aGlzLm1lc3NhZ2U9ZXx8XCJcIix0aGlzLm5hbWU9dHx8XCJFcnJvclwiLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpfTtyZXR1cm4gZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0oKTtmdW5jdGlvbiBrdChlLHQscixvLG4sYSl7Y29uc3QgaT1lLmdldFJlYWRlcigpLGw9dC5nZXRXcml0ZXIoKTtWdChlKSYmKGUuX2Rpc3R1cmJlZD0hMCk7bGV0IHMsXyxnLHc9ITEsUz0hMSx2PVwicmVhZGFibGVcIixSPVwid3JpdGFibGVcIixUPSExLHE9ITE7Y29uc3QgQz11KChlPT57Zz1lfSkpO2xldCBFPVByb21pc2UucmVzb2x2ZSh2b2lkIDApO3JldHVybiB1KCgoUCxXKT0+e2xldCBrO2Z1bmN0aW9uIE8oKXtpZih3KXJldHVybjtjb25zdCBlPXUoKChlLHQpPT57IWZ1bmN0aW9uIHIobyl7bz9lKCk6ZihmdW5jdGlvbigpe2lmKHcpcmV0dXJuIGMoITApO3JldHVybiBmKGwucmVhZHksKCgpPT5mKGkucmVhZCgpLChlPT4hIWUuZG9uZXx8KEU9bC53cml0ZShlLnZhbHVlKSxtKEUpLCExKSkpKSl9KCkscix0KX0oITEpfSkpO20oZSl9ZnVuY3Rpb24gQigpe3JldHVybiB2PVwiY2xvc2VkXCIscj9MKCk6eigoKCk9PihHZSh0KSYmKFQ9cnQodCksUj10Ll9zdGF0ZSksVHx8XCJjbG9zZWRcIj09PVI/Yyh2b2lkIDApOlwiZXJyb3JpbmdcIj09PVJ8fFwiZXJyb3JlZFwiPT09Uj9kKF8pOihUPSEwLGwuY2xvc2UoKSkpKSwhMSx2b2lkIDApLG51bGx9ZnVuY3Rpb24gQShlKXtyZXR1cm4gd3x8KHY9XCJlcnJvcmVkXCIscz1lLG8/TCghMCxlKTp6KCgoKT0+bC5hYm9ydChlKSksITAsZSkpLG51bGx9ZnVuY3Rpb24gaihlKXtyZXR1cm4gU3x8KFI9XCJlcnJvcmVkXCIsXz1lLG4/TCghMCxlKTp6KCgoKT0+aS5jYW5jZWwoZSkpLCEwLGUpKSxudWxsfWlmKHZvaWQgMCE9PWEmJihrPSgpPT57Y29uc3QgZT12b2lkIDAhPT1hLnJlYXNvbj9hLnJlYXNvbjpuZXcgV3QoXCJBYm9ydGVkXCIsXCJBYm9ydEVycm9yXCIpLHQ9W107b3x8dC5wdXNoKCgoKT0+XCJ3cml0YWJsZVwiPT09Uj9sLmFib3J0KGUpOmModm9pZCAwKSkpLG58fHQucHVzaCgoKCk9PlwicmVhZGFibGVcIj09PXY/aS5jYW5jZWwoZSk6Yyh2b2lkIDApKSkseigoKCk9PlByb21pc2UuYWxsKHQubWFwKChlPT5lKCkpKSkpLCEwLGUpfSxhLmFib3J0ZWQ/aygpOmEuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsaykpLFZ0KGUpJiYodj1lLl9zdGF0ZSxzPWUuX3N0b3JlZEVycm9yKSxHZSh0KSYmKFI9dC5fc3RhdGUsXz10Ll9zdG9yZWRFcnJvcixUPXJ0KHQpKSxWdChlKSYmR2UodCkmJihxPSEwLGcoKSksXCJlcnJvcmVkXCI9PT12KUEocyk7ZWxzZSBpZihcImVycm9yaW5nXCI9PT1SfHxcImVycm9yZWRcIj09PVIpaihfKTtlbHNlIGlmKFwiY2xvc2VkXCI9PT12KUIoKTtlbHNlIGlmKFR8fFwiY2xvc2VkXCI9PT1SKXtjb25zdCBlPW5ldyBUeXBlRXJyb3IoXCJ0aGUgZGVzdGluYXRpb24gd3JpdGFibGUgc3RyZWFtIGNsb3NlZCBiZWZvcmUgYWxsIGRhdGEgY291bGQgYmUgcGlwZWQgdG8gaXRcIik7bj9MKCEwLGUpOnooKCgpPT5pLmNhbmNlbChlKSksITAsZSl9ZnVuY3Rpb24geihlLHQscil7ZnVuY3Rpb24gbygpe3JldHVyblwid3JpdGFibGVcIiE9PVJ8fFQ/bigpOmgoZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gYyhmdW5jdGlvbiB0KCl7aWYoZSE9PUUpcmV0dXJuIGU9RSxwKEUsdCx0KX0oKSl9KCksbiksbnVsbH1mdW5jdGlvbiBuKCl7cmV0dXJuIGU/YihlKCksKCgpPT5GKHQscikpLChlPT5GKCEwLGUpKSk6Rih0LHIpLG51bGx9d3x8KHc9ITAscT9vKCk6aChDLG8pKX1mdW5jdGlvbiBMKGUsdCl7eih2b2lkIDAsZSx0KX1mdW5jdGlvbiBGKGUsdCl7cmV0dXJuIFM9ITAsbC5yZWxlYXNlTG9jaygpLGkucmVsZWFzZUxvY2soKSx2b2lkIDAhPT1hJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGspLGU/Vyh0KTpQKHZvaWQgMCksbnVsbH13fHwoYihpLmNsb3NlZCxCLEEpLGIobC5jbG9zZWQsKGZ1bmN0aW9uKCl7cmV0dXJuIFN8fChSPVwiY2xvc2VkXCIpLG51bGx9KSxqKSkscT9PKCk6eSgoKCk9PntxPSEwLGcoKSxPKCl9KSl9KSl9ZnVuY3Rpb24gT3QoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLmdldFJlYWRlcih7bW9kZTpcImJ5b2JcIn0pLnJlbGVhc2VMb2NrKCksITB9Y2F0Y2goZSl7cmV0dXJuITF9fShlKT9mdW5jdGlvbihlKXtsZXQgdCxyLG8sbixhLGk9ZS5nZXRSZWFkZXIoKSxsPSExLHM9ITEsZD0hMSxmPSExLGg9ITEscD0hMTtjb25zdCBtPXUoKGU9PnthPWV9KSk7ZnVuY3Rpb24geShlKXtfKGUuY2xvc2VkLCh0PT4oZSE9PWl8fChvLmVycm9yKHQpLG4uZXJyb3IodCksaCYmcHx8YSh2b2lkIDApKSxudWxsKSkpfWZ1bmN0aW9uIGcoKXtsJiYoaS5yZWxlYXNlTG9jaygpLGk9ZS5nZXRSZWFkZXIoKSx5KGkpLGw9ITEpLGIoaS5yZWFkKCksKGU9Pnt2YXIgdCxyO2lmKGQ9ITEsZj0hMSxlLmRvbmUpcmV0dXJuIGh8fG8uY2xvc2UoKSxwfHxuLmNsb3NlKCksbnVsbD09PSh0PW8uYnlvYlJlcXVlc3QpfHx2b2lkIDA9PT10fHx0LnJlc3BvbmQoMCksbnVsbD09PShyPW4uYnlvYlJlcXVlc3QpfHx2b2lkIDA9PT1yfHxyLnJlc3BvbmQoMCksaCYmcHx8YSh2b2lkIDApLG51bGw7Y29uc3QgbD1lLnZhbHVlLHU9bDtsZXQgYz1sO2lmKCFoJiYhcCl0cnl7Yz1sZShsKX1jYXRjaChlKXtyZXR1cm4gby5lcnJvcihlKSxuLmVycm9yKGUpLGEoaS5jYW5jZWwoZSkpLG51bGx9cmV0dXJuIGh8fG8uZW5xdWV1ZSh1KSxwfHxuLmVucXVldWUoYykscz0hMSxkP1MoKTpmJiZ2KCksbnVsbH0pLCgoKT0+KHM9ITEsbnVsbCkpKX1mdW5jdGlvbiB3KHQscil7bHx8KGkucmVsZWFzZUxvY2soKSxpPWUuZ2V0UmVhZGVyKHttb2RlOlwiYnlvYlwifSkseShpKSxsPSEwKTtjb25zdCB1PXI/bjpvLGM9cj9vOm47YihpLnJlYWQodCksKGU9Pnt2YXIgdDtkPSExLGY9ITE7Y29uc3Qgbz1yP3A6aCxuPXI/aDpwO2lmKGUuZG9uZSl7b3x8dS5jbG9zZSgpLG58fGMuY2xvc2UoKTtjb25zdCByPWUudmFsdWU7cmV0dXJuIHZvaWQgMCE9PXImJihvfHx1LmJ5b2JSZXF1ZXN0LnJlc3BvbmRXaXRoTmV3VmlldyhyKSxufHxudWxsPT09KHQ9Yy5ieW9iUmVxdWVzdCl8fHZvaWQgMD09PXR8fHQucmVzcG9uZCgwKSksbyYmbnx8YSh2b2lkIDApLG51bGx9Y29uc3QgbD1lLnZhbHVlO2lmKG4pb3x8dS5ieW9iUmVxdWVzdC5yZXNwb25kV2l0aE5ld1ZpZXcobCk7ZWxzZXtsZXQgZTt0cnl7ZT1sZShsKX1jYXRjaChlKXtyZXR1cm4gdS5lcnJvcihlKSxjLmVycm9yKGUpLGEoaS5jYW5jZWwoZSkpLG51bGx9b3x8dS5ieW9iUmVxdWVzdC5yZXNwb25kV2l0aE5ld1ZpZXcobCksYy5lbnF1ZXVlKGUpfXJldHVybiBzPSExLGQ/UygpOmYmJnYoKSxudWxsfSksKCgpPT4ocz0hMSxudWxsKSkpfWZ1bmN0aW9uIFMoKXtpZihzKXJldHVybiBkPSEwLGModm9pZCAwKTtzPSEwO2NvbnN0IGU9by5ieW9iUmVxdWVzdDtyZXR1cm4gbnVsbD09PWU/ZygpOncoZS52aWV3LCExKSxjKHZvaWQgMCl9ZnVuY3Rpb24gdigpe2lmKHMpcmV0dXJuIGY9ITAsYyh2b2lkIDApO3M9ITA7Y29uc3QgZT1uLmJ5b2JSZXF1ZXN0O3JldHVybiBudWxsPT09ZT9nKCk6dyhlLnZpZXcsITApLGModm9pZCAwKX1mdW5jdGlvbiBSKGUpe2lmKGg9ITAsdD1lLHApe2NvbnN0IGU9W3Qscl0sbz1pLmNhbmNlbChlKTthKG8pfXJldHVybiBtfWZ1bmN0aW9uIFQoZSl7aWYocD0hMCxyPWUsaCl7Y29uc3QgZT1bdCxyXSxvPWkuY2FuY2VsKGUpO2Eobyl9cmV0dXJuIG19Y29uc3QgcT1uZXcgUmVhZGFibGVTdHJlYW0oe3R5cGU6XCJieXRlc1wiLHN0YXJ0KGUpe289ZX0scHVsbDpTLGNhbmNlbDpSfSksQz1uZXcgUmVhZGFibGVTdHJlYW0oe3R5cGU6XCJieXRlc1wiLHN0YXJ0KGUpe249ZX0scHVsbDp2LGNhbmNlbDpUfSk7cmV0dXJuIHkoaSksW3EsQ119KGUpOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLmdldFJlYWRlcigpO2xldCBvLG4sYSxpLGwscz0hMSxkPSExLGY9ITEsaD0hMTtjb25zdCBwPXUoKGU9PntsPWV9KSk7ZnVuY3Rpb24gbSgpe3JldHVybiBzPyhkPSEwLGModm9pZCAwKSk6KHM9ITAsYihyLnJlYWQoKSwoZT0+e2lmKGQ9ITEsZS5kb25lKXJldHVybiBmfHxhLmNsb3NlKCksaHx8aS5jbG9zZSgpLGYmJmh8fGwodm9pZCAwKSxudWxsO2NvbnN0IHQ9ZS52YWx1ZSxyPXQsbz10O3JldHVybiBmfHxhLmVucXVldWUociksaHx8aS5lbnF1ZXVlKG8pLHM9ITEsZCYmbSgpLG51bGx9KSwoKCk9PihzPSExLG51bGwpKSksYyh2b2lkIDApKX1mdW5jdGlvbiB5KGUpe2lmKGY9ITAsbz1lLGgpe2NvbnN0IGU9W28sbl0sdD1yLmNhbmNlbChlKTtsKHQpfXJldHVybiBwfWZ1bmN0aW9uIGcoZSl7aWYoaD0hMCxuPWUsZil7Y29uc3QgZT1bbyxuXSx0PXIuY2FuY2VsKGUpO2wodCl9cmV0dXJuIHB9Y29uc3Qgdz1uZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGUpe2E9ZX0scHVsbDptLGNhbmNlbDp5fSksUz1uZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGUpe2k9ZX0scHVsbDptLGNhbmNlbDpnfSk7cmV0dXJuIF8oci5jbG9zZWQsKGU9PihhLmVycm9yKGUpLGkuZXJyb3IoZSksZiYmaHx8bCh2b2lkIDApLG51bGwpKSksW3csU119KGUpfWNsYXNzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJ7Y29uc3RydWN0b3IoKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSWxsZWdhbCBjb25zdHJ1Y3RvclwiKX1nZXQgZGVzaXJlZFNpemUoKXtpZighQnQodGhpcykpdGhyb3cgRHQoXCJkZXNpcmVkU2l6ZVwiKTtyZXR1cm4gTHQodGhpcyl9Y2xvc2UoKXtpZighQnQodGhpcykpdGhyb3cgRHQoXCJjbG9zZVwiKTtpZighRnQodGhpcykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBzdHJlYW0gaXMgbm90IGluIGEgc3RhdGUgdGhhdCBwZXJtaXRzIGNsb3NlXCIpOyFmdW5jdGlvbihlKXtpZighRnQoZSkpcmV0dXJuO2NvbnN0IHQ9ZS5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtO2UuX2Nsb3NlUmVxdWVzdGVkPSEwLDA9PT1lLl9xdWV1ZS5sZW5ndGgmJihqdChlKSxYdCh0KSl9KHRoaXMpfWVucXVldWUoZSl7aWYoIUJ0KHRoaXMpKXRocm93IER0KFwiZW5xdWV1ZVwiKTtpZighRnQodGhpcykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBzdHJlYW0gaXMgbm90IGluIGEgc3RhdGUgdGhhdCBwZXJtaXRzIGVucXVldWVcIik7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIUZ0KGUpKXJldHVybjtjb25zdCByPWUuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbTtpZihVdChyKSYmWChyKT4wKUcocix0LCExKTtlbHNle2xldCByO3RyeXtyPWUuX3N0cmF0ZWd5U2l6ZUFsZ29yaXRobSh0KX1jYXRjaCh0KXt0aHJvdyB6dChlLHQpLHR9dHJ5e3VlKGUsdCxyKX1jYXRjaCh0KXt0aHJvdyB6dChlLHQpLHR9fUF0KGUpfSh0aGlzLGUpfWVycm9yKGUpe2lmKCFCdCh0aGlzKSl0aHJvdyBEdChcImVycm9yXCIpO3p0KHRoaXMsZSl9W1RdKGUpe2NlKHRoaXMpO2NvbnN0IHQ9dGhpcy5fY2FuY2VsQWxnb3JpdGhtKGUpO3JldHVybiBqdCh0aGlzKSx0fVtxXShlKXtjb25zdCB0PXRoaXMuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbTtpZih0aGlzLl9xdWV1ZS5sZW5ndGg+MCl7Y29uc3Qgcj1zZSh0aGlzKTt0aGlzLl9jbG9zZVJlcXVlc3RlZCYmMD09PXRoaXMuX3F1ZXVlLmxlbmd0aD8oanQodGhpcyksWHQodCkpOkF0KHRoaXMpLGUuX2NodW5rU3RlcHMocil9ZWxzZSBVKHQsZSksQXQodGhpcyl9W0NdKCl7fX1mdW5jdGlvbiBCdChlKXtyZXR1cm4hIXIoZSkmJighIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbVwiKSYmZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIpfWZ1bmN0aW9uIEF0KGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW07aWYoIUZ0KGUpKXJldHVybiExO2lmKCFlLl9zdGFydGVkKXJldHVybiExO2lmKFV0KHQpJiZYKHQpPjApcmV0dXJuITA7aWYoTHQoZSk+MClyZXR1cm4hMDtyZXR1cm4hMX0oZSk7aWYoIXQpcmV0dXJuO2lmKGUuX3B1bGxpbmcpcmV0dXJuIHZvaWQoZS5fcHVsbEFnYWluPSEwKTtlLl9wdWxsaW5nPSEwO2IoZS5fcHVsbEFsZ29yaXRobSgpLCgoKT0+KGUuX3B1bGxpbmc9ITEsZS5fcHVsbEFnYWluJiYoZS5fcHVsbEFnYWluPSExLEF0KGUpKSxudWxsKSksKHQ9Pih6dChlLHQpLG51bGwpKSl9ZnVuY3Rpb24ganQoZSl7ZS5fcHVsbEFsZ29yaXRobT12b2lkIDAsZS5fY2FuY2VsQWxnb3JpdGhtPXZvaWQgMCxlLl9zdHJhdGVneVNpemVBbGdvcml0aG09dm9pZCAwfWZ1bmN0aW9uIHp0KGUsdCl7Y29uc3Qgcj1lLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW07XCJyZWFkYWJsZVwiPT09ci5fc3RhdGUmJihjZShlKSxqdChlKSxKdChyLHQpKX1mdW5jdGlvbiBMdChlKXtjb25zdCB0PWUuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbS5fc3RhdGU7cmV0dXJuXCJlcnJvcmVkXCI9PT10P251bGw6XCJjbG9zZWRcIj09PXQ/MDplLl9zdHJhdGVneUhXTS1lLl9xdWV1ZVRvdGFsU2l6ZX1mdW5jdGlvbiBGdChlKXtyZXR1cm4hZS5fY2xvc2VSZXF1ZXN0ZWQmJlwicmVhZGFibGVcIj09PWUuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbS5fc3RhdGV9ZnVuY3Rpb24gSXQoZSx0LHIsbyl7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtsZXQgYSxpLGw7YT12b2lkIDAhPT10LnN0YXJ0PygpPT50LnN0YXJ0KG4pOigpPT57fSxpPXZvaWQgMCE9PXQucHVsbD8oKT0+dC5wdWxsKG4pOigpPT5jKHZvaWQgMCksbD12b2lkIDAhPT10LmNhbmNlbD9lPT50LmNhbmNlbChlKTooKT0+Yyh2b2lkIDApLGZ1bmN0aW9uKGUsdCxyLG8sbixhLGkpe3QuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbT1lLHQuX3F1ZXVlPXZvaWQgMCx0Ll9xdWV1ZVRvdGFsU2l6ZT12b2lkIDAsY2UodCksdC5fc3RhcnRlZD0hMSx0Ll9jbG9zZVJlcXVlc3RlZD0hMSx0Ll9wdWxsQWdhaW49ITEsdC5fcHVsbGluZz0hMSx0Ll9zdHJhdGVneVNpemVBbGdvcml0aG09aSx0Ll9zdHJhdGVneUhXTT1hLHQuX3B1bGxBbGdvcml0aG09byx0Ll9jYW5jZWxBbGdvcml0aG09bixlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI9dCxiKGMocigpKSwoKCk9Pih0Ll9zdGFydGVkPSEwLEF0KHQpLG51bGwpKSwoZT0+KHp0KHQsZSksbnVsbCkpKX0oZSxuLGEsaSxsLHIsbyl9ZnVuY3Rpb24gRHQoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLiR7ZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJgKX1mdW5jdGlvbiAkdChlLHQscil7cmV0dXJuIEkoZSxyKSxyPT53KGUsdCxbcl0pfWZ1bmN0aW9uIE10KGUsdCxyKXtyZXR1cm4gSShlLHIpLHI9PncoZSx0LFtyXSl9ZnVuY3Rpb24gWXQoZSx0LHIpe3JldHVybiBJKGUscikscj0+ZyhlLHQsW3JdKX1mdW5jdGlvbiBRdChlLHQpe2lmKFwiYnl0ZXNcIiE9PShlPWAke2V9YCkpdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0fSAnJHtlfScgaXMgbm90IGEgdmFsaWQgZW51bWVyYXRpb24gdmFsdWUgZm9yIFJlYWRhYmxlU3RyZWFtVHlwZWApO3JldHVybiBlfWZ1bmN0aW9uIE50KGUsdCl7aWYoXCJieW9iXCIhPT0oZT1gJHtlfWApKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7dH0gJyR7ZX0nIGlzIG5vdCBhIHZhbGlkIGVudW1lcmF0aW9uIHZhbHVlIGZvciBSZWFkYWJsZVN0cmVhbVJlYWRlck1vZGVgKTtyZXR1cm4gZX1mdW5jdGlvbiBIdChlLHQpe0YoZSx0KTtjb25zdCByPW51bGw9PWU/dm9pZCAwOmUucHJldmVudEFib3J0LG89bnVsbD09ZT92b2lkIDA6ZS5wcmV2ZW50Q2FuY2VsLG49bnVsbD09ZT92b2lkIDA6ZS5wcmV2ZW50Q2xvc2UsYT1udWxsPT1lP3ZvaWQgMDplLnNpZ25hbDtyZXR1cm4gdm9pZCAwIT09YSYmZnVuY3Rpb24oZSx0KXtpZighZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiExO3RyeXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGUuYWJvcnRlZH1jYXRjaChlKXtyZXR1cm4hMX19KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoYCR7dH0gaXMgbm90IGFuIEFib3J0U2lnbmFsLmApfShhLGAke3R9IGhhcyBtZW1iZXIgJ3NpZ25hbCcgdGhhdGApLHtwcmV2ZW50QWJvcnQ6Qm9vbGVhbihyKSxwcmV2ZW50Q2FuY2VsOkJvb2xlYW4obykscHJldmVudENsb3NlOkJvb2xlYW4obiksc2lnbmFsOmF9fWZ1bmN0aW9uIHh0KGUsdCl7RihlLHQpO2NvbnN0IHI9bnVsbD09ZT92b2lkIDA6ZS5yZWFkYWJsZTtNKHIsXCJyZWFkYWJsZVwiLFwiUmVhZGFibGVXcml0YWJsZVBhaXJcIiksZnVuY3Rpb24oZSx0KXtpZighSChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIG5vdCBhIFJlYWRhYmxlU3RyZWFtLmApfShyLGAke3R9IGhhcyBtZW1iZXIgJ3JlYWRhYmxlJyB0aGF0YCk7Y29uc3Qgbz1udWxsPT1lP3ZvaWQgMDplLndyaXRhYmxlO3JldHVybiBNKG8sXCJ3cml0YWJsZVwiLFwiUmVhZGFibGVXcml0YWJsZVBhaXJcIiksZnVuY3Rpb24oZSx0KXtpZigheChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R9IGlzIG5vdCBhIFdyaXRhYmxlU3RyZWFtLmApfShvLGAke3R9IGhhcyBtZW1iZXIgJ3dyaXRhYmxlJyB0aGF0YCkse3JlYWRhYmxlOnIsd3JpdGFibGU6b319T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUse2Nsb3NlOntlbnVtZXJhYmxlOiEwfSxlbnF1ZXVlOntlbnVtZXJhYmxlOiEwfSxlcnJvcjp7ZW51bWVyYWJsZTohMH0sZGVzaXJlZFNpemU6e2VudW1lcmFibGU6ITB9fSksbihSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS5jbG9zZSxcImNsb3NlXCIpLG4oUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuZW5xdWV1ZSxcImVucXVldWVcIiksbihSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS5lcnJvcixcImVycm9yXCIpLFwic3ltYm9sXCI9PXR5cGVvZiBlLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsZS50b1N0cmluZ1RhZyx7dmFsdWU6XCJSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyXCIsY29uZmlndXJhYmxlOiEwfSk7Y2xhc3MgUmVhZGFibGVTdHJlYW17Y29uc3RydWN0b3IoZT17fSx0PXt9KXt2b2lkIDA9PT1lP2U9bnVsbDpEKGUsXCJGaXJzdCBwYXJhbWV0ZXJcIik7Y29uc3Qgcj1ZZSh0LFwiU2Vjb25kIHBhcmFtZXRlclwiKSxvPWZ1bmN0aW9uKGUsdCl7RihlLHQpO2NvbnN0IHI9ZSxvPW51bGw9PXI/dm9pZCAwOnIuYXV0b0FsbG9jYXRlQ2h1bmtTaXplLG49bnVsbD09cj92b2lkIDA6ci5jYW5jZWwsYT1udWxsPT1yP3ZvaWQgMDpyLnB1bGwsaT1udWxsPT1yP3ZvaWQgMDpyLnN0YXJ0LGw9bnVsbD09cj92b2lkIDA6ci50eXBlO3JldHVybnthdXRvQWxsb2NhdGVDaHVua1NpemU6dm9pZCAwPT09bz92b2lkIDA6TihvLGAke3R9IGhhcyBtZW1iZXIgJ2F1dG9BbGxvY2F0ZUNodW5rU2l6ZScgdGhhdGApLGNhbmNlbDp2b2lkIDA9PT1uP3ZvaWQgMDokdChuLHIsYCR7dH0gaGFzIG1lbWJlciAnY2FuY2VsJyB0aGF0YCkscHVsbDp2b2lkIDA9PT1hP3ZvaWQgMDpNdChhLHIsYCR7dH0gaGFzIG1lbWJlciAncHVsbCcgdGhhdGApLHN0YXJ0OnZvaWQgMD09PWk/dm9pZCAwOll0KGkscixgJHt0fSBoYXMgbWVtYmVyICdzdGFydCcgdGhhdGApLHR5cGU6dm9pZCAwPT09bD92b2lkIDA6UXQobCxgJHt0fSBoYXMgbWVtYmVyICd0eXBlJyB0aGF0YCl9fShlLFwiRmlyc3QgcGFyYW1ldGVyXCIpO3ZhciBuO2lmKChuPXRoaXMpLl9zdGF0ZT1cInJlYWRhYmxlXCIsbi5fcmVhZGVyPXZvaWQgMCxuLl9zdG9yZWRFcnJvcj12b2lkIDAsbi5fZGlzdHVyYmVkPSExLFwiYnl0ZXNcIj09PW8udHlwZSl7aWYodm9pZCAwIT09ci5zaXplKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHN0cmF0ZWd5IGZvciBhIGJ5dGUgc3RyZWFtIGNhbm5vdCBoYXZlIGEgc2l6ZSBmdW5jdGlvblwiKTtPZSh0aGlzLG8sJGUociwwKSl9ZWxzZXtjb25zdCBlPU1lKHIpO0l0KHRoaXMsbywkZShyLDEpLGUpfX1nZXQgbG9ja2VkKCl7aWYoIVZ0KHRoaXMpKXRocm93IEt0KFwibG9ja2VkXCIpO3JldHVybiBVdCh0aGlzKX1jYW5jZWwoZSl7cmV0dXJuIFZ0KHRoaXMpP1V0KHRoaXMpP2QobmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYW5jZWwgYSBzdHJlYW0gdGhhdCBhbHJlYWR5IGhhcyBhIHJlYWRlclwiKSk6R3QodGhpcyxlKTpkKEt0KFwiY2FuY2VsXCIpKX1nZXRSZWFkZXIoZSl7aWYoIVZ0KHRoaXMpKXRocm93IEt0KFwiZ2V0UmVhZGVyXCIpO3JldHVybiB2b2lkIDA9PT1mdW5jdGlvbihlLHQpe0YoZSx0KTtjb25zdCByPW51bGw9PWU/dm9pZCAwOmUubW9kZTtyZXR1cm57bW9kZTp2b2lkIDA9PT1yP3ZvaWQgMDpOdChyLGAke3R9IGhhcyBtZW1iZXIgJ21vZGUnIHRoYXRgKX19KGUsXCJGaXJzdCBwYXJhbWV0ZXJcIikubW9kZT9uZXcgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHRoaXMpOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKGUpfSh0aGlzKX1waXBlVGhyb3VnaChlLHQ9e30pe2lmKCFIKHRoaXMpKXRocm93IEt0KFwicGlwZVRocm91Z2hcIik7JChlLDEsXCJwaXBlVGhyb3VnaFwiKTtjb25zdCByPXh0KGUsXCJGaXJzdCBwYXJhbWV0ZXJcIiksbz1IdCh0LFwiU2Vjb25kIHBhcmFtZXRlclwiKTtpZih0aGlzLmxvY2tlZCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnBpcGVUaHJvdWdoIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFJlYWRhYmxlU3RyZWFtXCIpO2lmKHIud3JpdGFibGUubG9ja2VkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRocm91Z2ggY2Fubm90IGJlIHVzZWQgb24gYSBsb2NrZWQgV3JpdGFibGVTdHJlYW1cIik7cmV0dXJuIG0oa3QodGhpcyxyLndyaXRhYmxlLG8ucHJldmVudENsb3NlLG8ucHJldmVudEFib3J0LG8ucHJldmVudENhbmNlbCxvLnNpZ25hbCkpLHIucmVhZGFibGV9cGlwZVRvKGUsdD17fSl7aWYoIUgodGhpcykpcmV0dXJuIGQoS3QoXCJwaXBlVG9cIikpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGQoXCJQYXJhbWV0ZXIgMSBpcyByZXF1aXJlZCBpbiAncGlwZVRvJy5cIik7aWYoIXgoZSkpcmV0dXJuIGQobmV3IFR5cGVFcnJvcihcIlJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVG8ncyBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgV3JpdGFibGVTdHJlYW1cIikpO2xldCByO3RyeXtyPUh0KHQsXCJTZWNvbmQgcGFyYW1ldGVyXCIpfWNhdGNoKGUpe3JldHVybiBkKGUpfXJldHVybiB0aGlzLmxvY2tlZD9kKG5ldyBUeXBlRXJyb3IoXCJSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRvIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFJlYWRhYmxlU3RyZWFtXCIpKTplLmxvY2tlZD9kKG5ldyBUeXBlRXJyb3IoXCJSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRvIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFdyaXRhYmxlU3RyZWFtXCIpKTprdCh0aGlzLGUsci5wcmV2ZW50Q2xvc2Usci5wcmV2ZW50QWJvcnQsci5wcmV2ZW50Q2FuY2VsLHIuc2lnbmFsKX10ZWUoKXtpZighSCh0aGlzKSl0aHJvdyBLdChcInRlZVwiKTtpZih0aGlzLmxvY2tlZCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHRlZSBhIHN0cmVhbSB0aGF0IGFscmVhZHkgaGFzIGEgcmVhZGVyXCIpO3JldHVybiBPdCh0aGlzKX12YWx1ZXMoZSl7aWYoIUgodGhpcykpdGhyb3cgS3QoXCJ2YWx1ZXNcIik7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLmdldFJlYWRlcigpLG89bmV3IHRlKHIsdCksbj1PYmplY3QuY3JlYXRlKHJlKTtyZXR1cm4gbi5fYXN5bmNJdGVyYXRvckltcGw9byxufSh0aGlzLGZ1bmN0aW9uKGUsdCl7RihlLHQpO2NvbnN0IHI9bnVsbD09ZT92b2lkIDA6ZS5wcmV2ZW50Q2FuY2VsO3JldHVybntwcmV2ZW50Q2FuY2VsOkJvb2xlYW4ocil9fShlLFwiRmlyc3QgcGFyYW1ldGVyXCIpLnByZXZlbnRDYW5jZWwpfX1mdW5jdGlvbiBWdChlKXtyZXR1cm4hIXIoZSkmJighIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlclwiKSYmZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKX1mdW5jdGlvbiBVdChlKXtyZXR1cm4gdm9pZCAwIT09ZS5fcmVhZGVyfWZ1bmN0aW9uIEd0KGUscil7aWYoZS5fZGlzdHVyYmVkPSEwLFwiY2xvc2VkXCI9PT1lLl9zdGF0ZSlyZXR1cm4gYyh2b2lkIDApO2lmKFwiZXJyb3JlZFwiPT09ZS5fc3RhdGUpcmV0dXJuIGQoZS5fc3RvcmVkRXJyb3IpO1h0KGUpO2NvbnN0IG89ZS5fcmVhZGVyO2lmKHZvaWQgMCE9PW8mJkZlKG8pKXtjb25zdCBlPW8uX3JlYWRJbnRvUmVxdWVzdHM7by5fcmVhZEludG9SZXF1ZXN0cz1uZXcgUyxlLmZvckVhY2goKGU9PntlLl9jbG9zZVN0ZXBzKHZvaWQgMCl9KSl9cmV0dXJuIHAoZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyW1RdKHIpLHQpfWZ1bmN0aW9uIFh0KGUpe2UuX3N0YXRlPVwiY2xvc2VkXCI7Y29uc3QgdD1lLl9yZWFkZXI7aWYodm9pZCAwIT09dCYmKGoodCksSyh0KSkpe2NvbnN0IGU9dC5fcmVhZFJlcXVlc3RzO3QuX3JlYWRSZXF1ZXN0cz1uZXcgUyxlLmZvckVhY2goKGU9PntlLl9jbG9zZVN0ZXBzKCl9KSl9fWZ1bmN0aW9uIEp0KGUsdCl7ZS5fc3RhdGU9XCJlcnJvcmVkXCIsZS5fc3RvcmVkRXJyb3I9dDtjb25zdCByPWUuX3JlYWRlcjt2b2lkIDAhPT1yJiYoQShyLHQpLEsocik/WihyLHQpOkllKHIsdCkpfWZ1bmN0aW9uIEt0KGUpe3JldHVybiBuZXcgVHlwZUVycm9yKGBSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdHJlYW1gKX1mdW5jdGlvbiBadChlLHQpe0YoZSx0KTtjb25zdCByPW51bGw9PWU/dm9pZCAwOmUuaGlnaFdhdGVyTWFyaztyZXR1cm4gTShyLFwiaGlnaFdhdGVyTWFya1wiLFwiUXVldWluZ1N0cmF0ZWd5SW5pdFwiKSx7aGlnaFdhdGVyTWFyazpZKHIpfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUse2NhbmNlbDp7ZW51bWVyYWJsZTohMH0sZ2V0UmVhZGVyOntlbnVtZXJhYmxlOiEwfSxwaXBlVGhyb3VnaDp7ZW51bWVyYWJsZTohMH0scGlwZVRvOntlbnVtZXJhYmxlOiEwfSx0ZWU6e2VudW1lcmFibGU6ITB9LHZhbHVlczp7ZW51bWVyYWJsZTohMH0sbG9ja2VkOntlbnVtZXJhYmxlOiEwfX0pLG4oUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLmNhbmNlbCxcImNhbmNlbFwiKSxuKFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5nZXRSZWFkZXIsXCJnZXRSZWFkZXJcIiksbihSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRocm91Z2gsXCJwaXBlVGhyb3VnaFwiKSxuKFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVG8sXCJwaXBlVG9cIiksbihSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUudGVlLFwidGVlXCIpLG4oUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnZhbHVlcyxcInZhbHVlc1wiKSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIlJlYWRhYmxlU3RyZWFtXCIsY29uZmlndXJhYmxlOiEwfSksXCJzeW1ib2xcIj09dHlwZW9mIGUuYXN5bmNJdGVyYXRvciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSxlLmFzeW5jSXRlcmF0b3Ise3ZhbHVlOlJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS52YWx1ZXMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7Y29uc3QgZXI9ZT0+ZS5ieXRlTGVuZ3RoO24oZXIsXCJzaXplXCIpO2NsYXNzIEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3l7Y29uc3RydWN0b3IoZSl7JChlLDEsXCJCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5XCIpLGU9WnQoZSxcIkZpcnN0IHBhcmFtZXRlclwiKSx0aGlzLl9ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyaz1lLmhpZ2hXYXRlck1hcmt9Z2V0IGhpZ2hXYXRlck1hcmsoKXtpZighcnIodGhpcykpdGhyb3cgdHIoXCJoaWdoV2F0ZXJNYXJrXCIpO3JldHVybiB0aGlzLl9ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFya31nZXQgc2l6ZSgpe2lmKCFycih0aGlzKSl0aHJvdyB0cihcInNpemVcIik7cmV0dXJuIGVyfX1mdW5jdGlvbiB0cihlKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneS5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneWApfWZ1bmN0aW9uIHJyKGUpe3JldHVybiEhcihlKSYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJfYnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmtcIikmJmUgaW5zdGFuY2VvZiBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5KX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSx7aGlnaFdhdGVyTWFyazp7ZW51bWVyYWJsZTohMH0sc2l6ZTp7ZW51bWVyYWJsZTohMH19KSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLGUudG9TdHJpbmdUYWcse3ZhbHVlOlwiQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneVwiLGNvbmZpZ3VyYWJsZTohMH0pO2NvbnN0IG9yPSgpPT4xO24ob3IsXCJzaXplXCIpO2NsYXNzIENvdW50UXVldWluZ1N0cmF0ZWd5e2NvbnN0cnVjdG9yKGUpeyQoZSwxLFwiQ291bnRRdWV1aW5nU3RyYXRlZ3lcIiksZT1adChlLFwiRmlyc3QgcGFyYW1ldGVyXCIpLHRoaXMuX2NvdW50UXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyaz1lLmhpZ2hXYXRlck1hcmt9Z2V0IGhpZ2hXYXRlck1hcmsoKXtpZighYXIodGhpcykpdGhyb3cgbnIoXCJoaWdoV2F0ZXJNYXJrXCIpO3JldHVybiB0aGlzLl9jb3VudFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmt9Z2V0IHNpemUoKXtpZighYXIodGhpcykpdGhyb3cgbnIoXCJzaXplXCIpO3JldHVybiBvcn19ZnVuY3Rpb24gbnIoZSl7cmV0dXJuIG5ldyBUeXBlRXJyb3IoYENvdW50UXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZS4ke2V9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBDb3VudFF1ZXVpbmdTdHJhdGVneWApfWZ1bmN0aW9uIGFyKGUpe3JldHVybiEhcihlKSYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJfY291bnRRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrXCIpJiZlIGluc3RhbmNlb2YgQ291bnRRdWV1aW5nU3RyYXRlZ3kpfWZ1bmN0aW9uIGlyKGUsdCxyKXtyZXR1cm4gSShlLHIpLHI9PncoZSx0LFtyXSl9ZnVuY3Rpb24gbHIoZSx0LHIpe3JldHVybiBJKGUscikscj0+ZyhlLHQsW3JdKX1mdW5jdGlvbiBzcihlLHQscil7cmV0dXJuIEkoZSxyKSwocixvKT0+dyhlLHQsW3Isb10pfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENvdW50UXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSx7aGlnaFdhdGVyTWFyazp7ZW51bWVyYWJsZTohMH0sc2l6ZTp7ZW51bWVyYWJsZTohMH19KSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KENvdW50UXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSxlLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIkNvdW50UXVldWluZ1N0cmF0ZWd5XCIsY29uZmlndXJhYmxlOiEwfSk7Y2xhc3MgVHJhbnNmb3JtU3RyZWFte2NvbnN0cnVjdG9yKGU9e30sdD17fSxyPXt9KXt2b2lkIDA9PT1lJiYoZT1udWxsKTtjb25zdCBvPVllKHQsXCJTZWNvbmQgcGFyYW1ldGVyXCIpLG49WWUocixcIlRoaXJkIHBhcmFtZXRlclwiKSxhPWZ1bmN0aW9uKGUsdCl7RihlLHQpO2NvbnN0IHI9bnVsbD09ZT92b2lkIDA6ZS5mbHVzaCxvPW51bGw9PWU/dm9pZCAwOmUucmVhZGFibGVUeXBlLG49bnVsbD09ZT92b2lkIDA6ZS5zdGFydCxhPW51bGw9PWU/dm9pZCAwOmUudHJhbnNmb3JtLGk9bnVsbD09ZT92b2lkIDA6ZS53cml0YWJsZVR5cGU7cmV0dXJue2ZsdXNoOnZvaWQgMD09PXI/dm9pZCAwOmlyKHIsZSxgJHt0fSBoYXMgbWVtYmVyICdmbHVzaCcgdGhhdGApLHJlYWRhYmxlVHlwZTpvLHN0YXJ0OnZvaWQgMD09PW4/dm9pZCAwOmxyKG4sZSxgJHt0fSBoYXMgbWVtYmVyICdzdGFydCcgdGhhdGApLHRyYW5zZm9ybTp2b2lkIDA9PT1hP3ZvaWQgMDpzcihhLGUsYCR7dH0gaGFzIG1lbWJlciAndHJhbnNmb3JtJyB0aGF0YCksd3JpdGFibGVUeXBlOml9fShlLFwiRmlyc3QgcGFyYW1ldGVyXCIpO2lmKHZvaWQgMCE9PWEucmVhZGFibGVUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCByZWFkYWJsZVR5cGUgc3BlY2lmaWVkXCIpO2lmKHZvaWQgMCE9PWEud3JpdGFibGVUeXBlKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB3cml0YWJsZVR5cGUgc3BlY2lmaWVkXCIpO2NvbnN0IGk9JGUobiwwKSxsPU1lKG4pLHM9JGUobywxKSxmPU1lKG8pO2xldCBiOyFmdW5jdGlvbihlLHQscixvLG4sYSl7ZnVuY3Rpb24gaSgpe3JldHVybiB0fWZ1bmN0aW9uIGwodCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyO2lmKGUuX2JhY2twcmVzc3VyZSl7cmV0dXJuIHAoZS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSwoKCk9PntpZihcImVycm9yaW5nXCI9PT0oR2UoZS5fd3JpdGFibGUpP2UuX3dyaXRhYmxlLl9zdGF0ZTplLl93cml0YWJsZVN0YXRlKSl0aHJvdyBHZShlLl93cml0YWJsZSk/ZS5fd3JpdGFibGUuX3N0b3JlZEVycm9yOmUuX3dyaXRhYmxlU3RvcmVkRXJyb3I7cmV0dXJuIHByKHIsdCl9KSl9cmV0dXJuIHByKHIsdCl9KGUsdCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gY3IoZSx0KSxjKHZvaWQgMCl9KGUsdCl9ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PWUuX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIscj10Ll9mbHVzaEFsZ29yaXRobSgpO3JldHVybiBocih0KSxwKHIsKCgpPT57aWYoXCJlcnJvcmVkXCI9PT1lLl9yZWFkYWJsZVN0YXRlKXRocm93IGUuX3JlYWRhYmxlU3RvcmVkRXJyb3I7Z3IoZSkmJndyKGUpfSksKHQ9Pnt0aHJvdyBjcihlLHQpLGUuX3JlYWRhYmxlU3RvcmVkRXJyb3J9KSl9KGUpfWZ1bmN0aW9uIGQoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZyKGUsITEpLGUuX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2V9KGUpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIGRyKGUsdCksYyh2b2lkIDApfWUuX3dyaXRhYmxlU3RhdGU9XCJ3cml0YWJsZVwiLGUuX3dyaXRhYmxlU3RvcmVkRXJyb3I9dm9pZCAwLGUuX3dyaXRhYmxlSGFzSW5GbGlnaHRPcGVyYXRpb249ITEsZS5fd3JpdGFibGVTdGFydGVkPSExLGUuX3dyaXRhYmxlPWZ1bmN0aW9uKGUsdCxyLG8sbixhLGkpe3JldHVybiBuZXcgV3JpdGFibGVTdHJlYW0oe3N0YXJ0KHIpe2UuX3dyaXRhYmxlQ29udHJvbGxlcj1yO3RyeXtjb25zdCB0PXIuc2lnbmFsO3ZvaWQgMCE9PXQmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCgpPT57XCJ3cml0YWJsZVwiPT09ZS5fd3JpdGFibGVTdGF0ZSYmKGUuX3dyaXRhYmxlU3RhdGU9XCJlcnJvcmluZ1wiLHQucmVhc29uJiYoZS5fd3JpdGFibGVTdG9yZWRFcnJvcj10LnJlYXNvbikpfSkpfWNhdGNoKGUpe31yZXR1cm4gcCh0KCksKCgpPT4oZS5fd3JpdGFibGVTdGFydGVkPSEwLENyKGUpLG51bGwpKSwodD0+e3Rocm93IGUuX3dyaXRhYmxlU3RhcnRlZD0hMCxScihlLHQpLHR9KSl9LHdyaXRlOnQ9PihmdW5jdGlvbihlKXtlLl93cml0YWJsZUhhc0luRmxpZ2h0T3BlcmF0aW9uPSEwfShlKSxwKHIodCksKCgpPT4oZnVuY3Rpb24oZSl7ZS5fd3JpdGFibGVIYXNJbkZsaWdodE9wZXJhdGlvbj0hMX0oZSksQ3IoZSksbnVsbCkpLCh0PT57dGhyb3cgZnVuY3Rpb24oZSx0KXtlLl93cml0YWJsZUhhc0luRmxpZ2h0T3BlcmF0aW9uPSExLFJyKGUsdCl9KGUsdCksdH0pKSksY2xvc2U6KCk9PihmdW5jdGlvbihlKXtlLl93cml0YWJsZUhhc0luRmxpZ2h0T3BlcmF0aW9uPSEwfShlKSxwKG8oKSwoKCk9PihmdW5jdGlvbihlKXtlLl93cml0YWJsZUhhc0luRmxpZ2h0T3BlcmF0aW9uPSExO1wiZXJyb3JpbmdcIj09PWUuX3dyaXRhYmxlU3RhdGUmJihlLl93cml0YWJsZVN0b3JlZEVycm9yPXZvaWQgMCk7ZS5fd3JpdGFibGVTdGF0ZT1cImNsb3NlZFwifShlKSxudWxsKSksKHQ9Pnt0aHJvdyBmdW5jdGlvbihlLHQpe2UuX3dyaXRhYmxlSGFzSW5GbGlnaHRPcGVyYXRpb249ITEsZS5fd3JpdGFibGVTdGF0ZSxScihlLHQpfShlLHQpLHR9KSkpLGFib3J0OnQ9PihlLl93cml0YWJsZVN0YXRlPVwiZXJyb3JlZFwiLGUuX3dyaXRhYmxlU3RvcmVkRXJyb3I9dCxuKHQpKX0se2hpZ2hXYXRlck1hcms6YSxzaXplOml9KX0oZSxpLGwsdSxzLHIsbyksZS5fcmVhZGFibGVTdGF0ZT1cInJlYWRhYmxlXCIsZS5fcmVhZGFibGVTdG9yZWRFcnJvcj12b2lkIDAsZS5fcmVhZGFibGVDbG9zZVJlcXVlc3RlZD0hMSxlLl9yZWFkYWJsZVB1bGxpbmc9ITEsZS5fcmVhZGFibGU9ZnVuY3Rpb24oZSx0LHIsbyxuLGEpe3JldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0OnI9PihlLl9yZWFkYWJsZUNvbnRyb2xsZXI9cix0KCkuY2F0Y2goKHQ9PntTcihlLHQpfSkpKSxwdWxsOigpPT4oZS5fcmVhZGFibGVQdWxsaW5nPSEwLHIoKS5jYXRjaCgodD0+e1NyKGUsdCl9KSkpLGNhbmNlbDp0PT4oZS5fcmVhZGFibGVTdGF0ZT1cImNsb3NlZFwiLG8odCkpfSx7aGlnaFdhdGVyTWFyazpuLHNpemU6YX0pfShlLGksZCxmLG4sYSksZS5fYmFja3ByZXNzdXJlPXZvaWQgMCxlLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlPXZvaWQgMCxlLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlX3Jlc29sdmU9dm9pZCAwLGZyKGUsITApLGUuX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXI9dm9pZCAwfSh0aGlzLHUoKGU9PntiPWV9KSkscyxmLGksbCksZnVuY3Rpb24oZSx0KXtjb25zdCByPU9iamVjdC5jcmVhdGUoVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtsZXQgbyxuO289dm9pZCAwIT09dC50cmFuc2Zvcm0/ZT0+dC50cmFuc2Zvcm0oZSxyKTplPT57dHJ5e3JldHVybiBfcihyLGUpLGModm9pZCAwKX1jYXRjaChlKXtyZXR1cm4gZChlKX19O249dm9pZCAwIT09dC5mbHVzaD8oKT0+dC5mbHVzaChyKTooKT0+Yyh2b2lkIDApOyFmdW5jdGlvbihlLHQscixvKXt0Ll9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtPWUsZS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcj10LHQuX3RyYW5zZm9ybUFsZ29yaXRobT1yLHQuX2ZsdXNoQWxnb3JpdGhtPW99KGUscixvLG4pfSh0aGlzLGEpLHZvaWQgMCE9PWEuc3RhcnQ/YihhLnN0YXJ0KHRoaXMuX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIpKTpiKHZvaWQgMCl9Z2V0IHJlYWRhYmxlKCl7aWYoIXVyKHRoaXMpKXRocm93IHlyKFwicmVhZGFibGVcIik7cmV0dXJuIHRoaXMuX3JlYWRhYmxlfWdldCB3cml0YWJsZSgpe2lmKCF1cih0aGlzKSl0aHJvdyB5cihcIndyaXRhYmxlXCIpO3JldHVybiB0aGlzLl93cml0YWJsZX19ZnVuY3Rpb24gdXIoZSl7cmV0dXJuISFyKGUpJiYoISFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcIl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyXCIpJiZlIGluc3RhbmNlb2YgVHJhbnNmb3JtU3RyZWFtKX1mdW5jdGlvbiBjcihlLHQpe1NyKGUsdCksZHIoZSx0KX1mdW5jdGlvbiBkcihlLHQpe2hyKGUuX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIpLGZ1bmN0aW9uKGUsdCl7ZS5fd3JpdGFibGVDb250cm9sbGVyLmVycm9yKHQpO1wid3JpdGFibGVcIj09PWUuX3dyaXRhYmxlU3RhdGUmJlRyKGUsdCl9KGUsdCksZS5fYmFja3ByZXNzdXJlJiZmcihlLCExKX1mdW5jdGlvbiBmcihlLHQpe3ZvaWQgMCE9PWUuX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2UmJmUuX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZSgpLGUuX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2U9dSgodD0+e2UuX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZT10fSkpLGUuX2JhY2twcmVzc3VyZT10fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRyYW5zZm9ybVN0cmVhbS5wcm90b3R5cGUse3JlYWRhYmxlOntlbnVtZXJhYmxlOiEwfSx3cml0YWJsZTp7ZW51bWVyYWJsZTohMH19KSxcInN5bWJvbFwiPT10eXBlb2YgZS50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybVN0cmVhbS5wcm90b3R5cGUsZS50b1N0cmluZ1RhZyx7dmFsdWU6XCJUcmFuc2Zvcm1TdHJlYW1cIixjb25maWd1cmFibGU6ITB9KTtjbGFzcyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcntjb25zdHJ1Y3Rvcigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpfWdldCBkZXNpcmVkU2l6ZSgpe2lmKCFicih0aGlzKSl0aHJvdyBtcihcImRlc2lyZWRTaXplXCIpO3JldHVybiB2cih0aGlzLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtKX1lbnF1ZXVlKGUpe2lmKCFicih0aGlzKSl0aHJvdyBtcihcImVucXVldWVcIik7X3IodGhpcyxlKX1lcnJvcihlKXtpZighYnIodGhpcykpdGhyb3cgbXIoXCJlcnJvclwiKTt2YXIgdDt0PWUsY3IodGhpcy5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbSx0KX10ZXJtaW5hdGUoKXtpZighYnIodGhpcykpdGhyb3cgbXIoXCJ0ZXJtaW5hdGVcIik7IWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbTtncih0KSYmd3IodCk7Y29uc3Qgcj1uZXcgVHlwZUVycm9yKFwiVHJhbnNmb3JtU3RyZWFtIHRlcm1pbmF0ZWRcIik7ZHIodCxyKX0odGhpcyl9fWZ1bmN0aW9uIGJyKGUpe3JldHVybiEhcihlKSYmKCEhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJfY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbVwiKSYmZSBpbnN0YW5jZW9mIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyKX1mdW5jdGlvbiBocihlKXtlLl90cmFuc2Zvcm1BbGdvcml0aG09dm9pZCAwLGUuX2ZsdXNoQWxnb3JpdGhtPXZvaWQgMH1mdW5jdGlvbiBfcihlLHQpe2NvbnN0IHI9ZS5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbTtpZighZ3IocikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlYWRhYmxlIHNpZGUgaXMgbm90IGluIGEgc3RhdGUgdGhhdCBwZXJtaXRzIGVucXVldWVcIik7dHJ5eyFmdW5jdGlvbihlLHQpe2UuX3JlYWRhYmxlUHVsbGluZz0hMTt0cnl7ZS5fcmVhZGFibGVDb250cm9sbGVyLmVucXVldWUodCl9Y2F0Y2godCl7dGhyb3cgU3IoZSx0KSx0fX0ocix0KX1jYXRjaChlKXt0aHJvdyBkcihyLGUpLHIuX3JlYWRhYmxlU3RvcmVkRXJyb3J9Y29uc3Qgbz1mdW5jdGlvbihlKXtyZXR1cm4hZnVuY3Rpb24oZSl7aWYoIWdyKGUpKXJldHVybiExO2lmKGUuX3JlYWRhYmxlUHVsbGluZylyZXR1cm4hMDtpZih2cihlKT4wKXJldHVybiEwO3JldHVybiExfShlKX0ocik7byE9PXIuX2JhY2twcmVzc3VyZSYmZnIociwhMCl9ZnVuY3Rpb24gcHIoZSx0KXtyZXR1cm4gcChlLl90cmFuc2Zvcm1BbGdvcml0aG0odCksdm9pZCAwLCh0PT57dGhyb3cgY3IoZS5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbSx0KSx0fSkpfWZ1bmN0aW9uIG1yKGUpe3JldHVybiBuZXcgVHlwZUVycm9yKGBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuJHtlfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJgKX1mdW5jdGlvbiB5cihlKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihgVHJhbnNmb3JtU3RyZWFtLnByb3RvdHlwZS4ke2V9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBUcmFuc2Zvcm1TdHJlYW1gKX1mdW5jdGlvbiBncihlKXtyZXR1cm4hZS5fcmVhZGFibGVDbG9zZVJlcXVlc3RlZCYmXCJyZWFkYWJsZVwiPT09ZS5fcmVhZGFibGVTdGF0ZX1mdW5jdGlvbiB3cihlKXtlLl9yZWFkYWJsZVN0YXRlPVwiY2xvc2VkXCIsZS5fcmVhZGFibGVDbG9zZVJlcXVlc3RlZD0hMCxlLl9yZWFkYWJsZUNvbnRyb2xsZXIuY2xvc2UoKX1mdW5jdGlvbiBTcihlLHQpe1wicmVhZGFibGVcIj09PWUuX3JlYWRhYmxlU3RhdGUmJihlLl9yZWFkYWJsZVN0YXRlPVwiZXJyb3JlZFwiLGUuX3JlYWRhYmxlU3RvcmVkRXJyb3I9dCksZS5fcmVhZGFibGVDb250cm9sbGVyLmVycm9yKHQpfWZ1bmN0aW9uIHZyKGUpe3JldHVybiBlLl9yZWFkYWJsZUNvbnRyb2xsZXIuZGVzaXJlZFNpemV9ZnVuY3Rpb24gUnIoZSx0KXtcIndyaXRhYmxlXCIhPT1lLl93cml0YWJsZVN0YXRlP3FyKGUpOlRyKGUsdCl9ZnVuY3Rpb24gVHIoZSx0KXtlLl93cml0YWJsZVN0YXRlPVwiZXJyb3JpbmdcIixlLl93cml0YWJsZVN0b3JlZEVycm9yPXQsIWZ1bmN0aW9uKGUpe3JldHVybiBlLl93cml0YWJsZUhhc0luRmxpZ2h0T3BlcmF0aW9ufShlKSYmZS5fd3JpdGFibGVTdGFydGVkJiZxcihlKX1mdW5jdGlvbiBxcihlKXtlLl93cml0YWJsZVN0YXRlPVwiZXJyb3JlZFwifWZ1bmN0aW9uIENyKGUpe1wiZXJyb3JpbmdcIj09PWUuX3dyaXRhYmxlU3RhdGUmJnFyKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSx7ZW5xdWV1ZTp7ZW51bWVyYWJsZTohMH0sZXJyb3I6e2VudW1lcmFibGU6ITB9LHRlcm1pbmF0ZTp7ZW51bWVyYWJsZTohMH0sZGVzaXJlZFNpemU6e2VudW1lcmFibGU6ITB9fSksbihUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuZW5xdWV1ZSxcImVucXVldWVcIiksbihUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuZXJyb3IsXCJlcnJvclwiKSxuKFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS50ZXJtaW5hdGUsXCJ0ZXJtaW5hdGVcIiksXCJzeW1ib2xcIj09dHlwZW9mIGUudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsZS50b1N0cmluZ1RhZyx7dmFsdWU6XCJUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclwiLGNvbmZpZ3VyYWJsZTohMH0pO2V4cG9ydHtCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LENvdW50UXVldWluZ1N0cmF0ZWd5LFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsUmVhZGFibGVTdHJlYW0sUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcixSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsVHJhbnNmb3JtU3RyZWFtLFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFdyaXRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyfTtcbiIsImV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gKHZhbHVlKSA9PiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpO1xuIiwiLyohIEJhc2VkIG9uIGZldGNoLWJsb2IuIE1JVCBMaWNlbnNlLiBKaW1teSBXw6RydGluZyA8aHR0cHM6Ly9qaW1teS53YXJ0aW5nLnNlL29wZW5zb3VyY2U+ICYgRGF2aWQgRnJhbmsgKi9cbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uLmpzXCI7XG5jb25zdCBDSFVOS19TSVpFID0gNjU1MzY7XG5hc3luYyBmdW5jdGlvbiogY2xvbmVQYXJ0KHBhcnQpIHtcbiAgICBjb25zdCBlbmQgPSBwYXJ0LmJ5dGVPZmZzZXQgKyBwYXJ0LmJ5dGVMZW5ndGg7XG4gICAgbGV0IHBvc2l0aW9uID0gcGFydC5ieXRlT2Zmc2V0O1xuICAgIHdoaWxlIChwb3NpdGlvbiAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLm1pbihlbmQgLSBwb3NpdGlvbiwgQ0hVTktfU0laRSk7XG4gICAgICAgIGNvbnN0IGNodW5rID0gcGFydC5idWZmZXIuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgc2l6ZSk7XG4gICAgICAgIHBvc2l0aW9uICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgIHlpZWxkIG5ldyBVaW50OEFycmF5KGNodW5rKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiogY29uc3VtZU5vZGVCbG9iKGJsb2IpIHtcbiAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgIHdoaWxlIChwb3NpdGlvbiAhPT0gYmxvYi5zaXplKSB7XG4gICAgICAgIGNvbnN0IGNodW5rID0gYmxvYi5zbGljZShwb3NpdGlvbiwgTWF0aC5taW4oYmxvYi5zaXplLCBwb3NpdGlvbiArIENIVU5LX1NJWkUpKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgY2h1bmsuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgcG9zaXRpb24gKz0gYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgICAgIHlpZWxkIG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBjb25zdW1lQmxvYlBhcnRzKHBhcnRzLCBjbG9uZSA9IGZhbHNlKSB7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocGFydCkpIHtcbiAgICAgICAgICAgIGlmIChjbG9uZSkge1xuICAgICAgICAgICAgICAgIHlpZWxkKiBjbG9uZVBhcnQocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGFydC5zdHJlYW0pKSB7XG4gICAgICAgICAgICB5aWVsZCogcGFydC5zdHJlYW0oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkKiBjb25zdW1lTm9kZUJsb2IocGFydCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24qIHNsaWNlQmxvYihibG9iUGFydHMsIGJsb2JTaXplLCBzdGFydCA9IDAsIGVuZCkge1xuICAgIGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHZvaWQgMCA/IGVuZCA6IChlbmQgPSBibG9iU2l6ZSk7XG4gICAgbGV0IHJlbGF0aXZlU3RhcnQgPSBzdGFydCA8IDBcbiAgICAgICAgPyBNYXRoLm1heChibG9iU2l6ZSArIHN0YXJ0LCAwKVxuICAgICAgICA6IE1hdGgubWluKHN0YXJ0LCBibG9iU2l6ZSk7XG4gICAgbGV0IHJlbGF0aXZlRW5kID0gZW5kIDwgMFxuICAgICAgICA/IE1hdGgubWF4KGJsb2JTaXplICsgZW5kLCAwKVxuICAgICAgICA6IE1hdGgubWluKGVuZCwgYmxvYlNpemUpO1xuICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChyZWxhdGl2ZUVuZCAtIHJlbGF0aXZlU3RhcnQsIDApO1xuICAgIGxldCBhZGRlZCA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIGJsb2JQYXJ0cykge1xuICAgICAgICBpZiAoYWRkZWQgPj0gc3Bhbikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFydFNpemUgPSBBcnJheUJ1ZmZlci5pc1ZpZXcocGFydCkgPyBwYXJ0LmJ5dGVMZW5ndGggOiBwYXJ0LnNpemU7XG4gICAgICAgIGlmIChyZWxhdGl2ZVN0YXJ0ICYmIHBhcnRTaXplIDw9IHJlbGF0aXZlU3RhcnQpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlU3RhcnQgLT0gcGFydFNpemU7XG4gICAgICAgICAgICByZWxhdGl2ZUVuZCAtPSBwYXJ0U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjaHVuaztcbiAgICAgICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjaHVuayA9IHBhcnQuc3ViYXJyYXkocmVsYXRpdmVTdGFydCwgTWF0aC5taW4ocGFydFNpemUsIHJlbGF0aXZlRW5kKSk7XG4gICAgICAgICAgICAgICAgYWRkZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNodW5rID0gcGFydC5zbGljZShyZWxhdGl2ZVN0YXJ0LCBNYXRoLm1pbihwYXJ0U2l6ZSwgcmVsYXRpdmVFbmQpKTtcbiAgICAgICAgICAgICAgICBhZGRlZCArPSBjaHVuay5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVsYXRpdmVFbmQgLT0gcGFydFNpemU7XG4gICAgICAgICAgICByZWxhdGl2ZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgIHlpZWxkIGNodW5rO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohIEJhc2VkIG9uIGZldGNoLWJsb2IuIE1JVCBMaWNlbnNlLiBKaW1teSBXw6RydGluZyA8aHR0cHM6Ly9qaW1teS53YXJ0aW5nLnNlL29wZW5zb3VyY2U+ICYgRGF2aWQgRnJhbmsgKi9cbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfQmxvYl9wYXJ0cywgX0Jsb2JfdHlwZSwgX0Jsb2Jfc2l6ZTtcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIndlYi1zdHJlYW1zLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvbi5qc1wiO1xuaW1wb3J0IHsgY29uc3VtZUJsb2JQYXJ0cywgc2xpY2VCbG9iIH0gZnJvbSBcIi4vYmxvYkhlbHBlcnMuanNcIjtcbmV4cG9ydCBjbGFzcyBCbG9iIHtcbiAgICBjb25zdHJ1Y3RvcihibG9iUGFydHMgPSBbXSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIF9CbG9iX3BhcnRzLnNldCh0aGlzLCBbXSk7XG4gICAgICAgIF9CbG9iX3R5cGUuc2V0KHRoaXMsIFwiXCIpO1xuICAgICAgICBfQmxvYl9zaXplLnNldCh0aGlzLCAwKTtcbiAgICAgICAgb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDogKG9wdGlvbnMgPSB7fSk7XG4gICAgICAgIGlmICh0eXBlb2YgYmxvYlBhcnRzICE9PSBcIm9iamVjdFwiIHx8IGJsb2JQYXJ0cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ0Jsb2InOiBcIlxuICAgICAgICAgICAgICAgICsgXCJUaGUgcHJvdmlkZWQgdmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhIHNlcXVlbmNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oYmxvYlBhcnRzW1N5bWJvbC5pdGVyYXRvcl0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnQmxvYic6IFwiXG4gICAgICAgICAgICAgICAgKyBcIlRoZSBvYmplY3QgbXVzdCBoYXZlIGEgY2FsbGFibGUgQEBpdGVyYXRvciBwcm9wZXJ0eS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiICYmICFpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnQmxvYic6IHBhcmFtZXRlciAyIGNhbm5vdCBjb252ZXJ0IHRvIGRpY3Rpb25hcnkuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCByYXcgb2YgYmxvYlBhcnRzKSB7XG4gICAgICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocmF3KSkge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgVWludDhBcnJheShyYXcuYnVmZmVyLnNsaWNlKHJhdy5ieXRlT2Zmc2V0LCByYXcuYnl0ZU9mZnNldCArIHJhdy5ieXRlTGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyYXcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgVWludDhBcnJheShyYXcuc2xpY2UoMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmF3IGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgIHBhcnQgPSByYXc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gZW5jb2Rlci5lbmNvZGUoU3RyaW5nKHJhdykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmxvYl9zaXplLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CbG9iX3NpemUsIFwiZlwiKSArIChBcnJheUJ1ZmZlci5pc1ZpZXcocGFydCkgPyBwYXJ0LmJ5dGVMZW5ndGggOiBwYXJ0LnNpemUpLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CbG9iX3BhcnRzLCBcImZcIikucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlID09PSB1bmRlZmluZWQgPyBcIlwiIDogU3RyaW5nKG9wdGlvbnMudHlwZSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jsb2JfdHlwZSwgL15bXFx4MjAtXFx4N0VdKiQvLnRlc3QodHlwZSkgPyB0eXBlIDogXCJcIiwgXCJmXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgWyhfQmxvYl9wYXJ0cyA9IG5ldyBXZWFrTWFwKCksIF9CbG9iX3R5cGUgPSBuZXcgV2Vha01hcCgpLCBfQmxvYl9zaXplID0gbmV3IFdlYWtNYXAoKSwgU3ltYm9sLmhhc0luc3RhbmNlKV0odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odmFsdWVcbiAgICAgICAgICAgICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICYmIChpc0Z1bmN0aW9uKHZhbHVlLnN0cmVhbSlcbiAgICAgICAgICAgICAgICB8fCBpc0Z1bmN0aW9uKHZhbHVlLmFycmF5QnVmZmVyKSlcbiAgICAgICAgICAgICYmIC9eKEJsb2J8RmlsZSkkLy50ZXN0KHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pKTtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CbG9iX3R5cGUsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CbG9iX3NpemUsIFwiZlwiKTtcbiAgICB9XG4gICAgc2xpY2Uoc3RhcnQsIGVuZCwgY29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHNsaWNlQmxvYihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CbG9iX3BhcnRzLCBcImZcIiksIHRoaXMuc2l6ZSwgc3RhcnQsIGVuZCksIHtcbiAgICAgICAgICAgIHR5cGU6IGNvbnRlbnRUeXBlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyB0ZXh0KCkge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGNvbnN1bWVCbG9iUGFydHMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmxvYl9wYXJ0cywgXCJmXCIpKSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGRlY29kZXIuZGVjb2RlKGNodW5rLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gZGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgYXJyYXlCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheSh0aGlzLnNpemUpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBjb25zdW1lQmxvYlBhcnRzKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jsb2JfcGFydHMsIFwiZlwiKSkpIHtcbiAgICAgICAgICAgIHZpZXcuc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldy5idWZmZXI7XG4gICAgfVxuICAgIHN0cmVhbSgpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb25zdW1lQmxvYlBhcnRzKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jsb2JfcGFydHMsIFwiZlwiKSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZU1pY3JvdGFzaygoKSA9PiBjb250cm9sbGVyLmNsb3NlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIGNhbmNlbCgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQmxvYlwiO1xuICAgIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJsb2IucHJvdG90eXBlLCB7XG4gICAgdHlwZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgc2l6ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgc2xpY2U6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICAgIHN0cmVhbTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgdGV4dDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgYXJyYXlCdWZmZXI6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbiIsInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRmlsZV9uYW1lLCBfRmlsZV9sYXN0TW9kaWZpZWQ7XG5pbXBvcnQgeyBCbG9iIH0gZnJvbSBcIi4vQmxvYi5qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGUgZXh0ZW5kcyBCbG9iIHtcbiAgICBjb25zdHJ1Y3RvcihmaWxlQml0cywgbmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKGZpbGVCaXRzLCBvcHRpb25zKTtcbiAgICAgICAgX0ZpbGVfbmFtZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0ZpbGVfbGFzdE1vZGlmaWVkLnNldCh0aGlzLCAwKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnRmlsZSc6IDIgYXJndW1lbnRzIHJlcXVpcmVkLCBcIlxuICAgICAgICAgICAgICAgICsgYGJ1dCBvbmx5ICR7YXJndW1lbnRzLmxlbmd0aH0gcHJlc2VudC5gKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9GaWxlX25hbWUsIFN0cmluZyhuYW1lKSwgXCJmXCIpO1xuICAgICAgICBjb25zdCBsYXN0TW9kaWZpZWQgPSBvcHRpb25zLmxhc3RNb2RpZmllZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IERhdGUubm93KClcbiAgICAgICAgICAgIDogTnVtYmVyKG9wdGlvbnMubGFzdE1vZGlmaWVkKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obGFzdE1vZGlmaWVkKSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRmlsZV9sYXN0TW9kaWZpZWQsIGxhc3RNb2RpZmllZCwgXCJmXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBbKF9GaWxlX25hbWUgPSBuZXcgV2Vha01hcCgpLCBfRmlsZV9sYXN0TW9kaWZpZWQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuaGFzSW5zdGFuY2UpXSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBCbG9iXG4gICAgICAgICAgICAmJiB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIkZpbGVcIlxuICAgICAgICAgICAgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT09IFwic3RyaW5nXCI7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRmlsZV9uYW1lLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBsYXN0TW9kaWZpZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9GaWxlX2xhc3RNb2RpZmllZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgd2Via2l0UmVsYXRpdmVQYXRoKCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgICByZXR1cm4gXCJGaWxlXCI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsZSB9IGZyb20gXCIuL0ZpbGUuanNcIjtcbmV4cG9ydCBjb25zdCBpc0ZpbGUgPSAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgRmlsZTtcbiIsImltcG9ydCB7IEJsb2IgfSBmcm9tIFwiLi9CbG9iLmpzXCI7XG5leHBvcnQgY29uc3QgaXNCbG9iID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2I7XG4iLCJpbXBvcnQgeyBkZXByZWNhdGUgfSBmcm9tIFwidXRpbFwiO1xuZXhwb3J0IGNvbnN0IGRlcHJlY2F0ZUNvbnN0cnVjdG9yRW50cmllcyA9IGRlcHJlY2F0ZSgoKSA9PiB7IH0sIFwiQ29uc3RydWN0b3IgXFxcImVudHJpZXNcXFwiIGFyZ3VtZW50IGlzIG5vdCBzcGVjLWNvbXBsaWFudCBcIlxuICAgICsgXCJhbmQgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cIik7XG4iLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRm9ybURhdGFfaW5zdGFuY2VzLCBfRm9ybURhdGFfZW50cmllcywgX0Zvcm1EYXRhX3NldEVudHJ5O1xuaW1wb3J0IHsgaW5zcGVjdCB9IGZyb20gXCJ1dGlsXCI7XG5pbXBvcnQgeyBGaWxlIH0gZnJvbSBcIi4vRmlsZS5qc1wiO1xuaW1wb3J0IHsgaXNGaWxlIH0gZnJvbSBcIi4vaXNGaWxlLmpzXCI7XG5pbXBvcnQgeyBpc0Jsb2IgfSBmcm9tIFwiLi9pc0Jsb2IuanNcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uLmpzXCI7XG5pbXBvcnQgeyBkZXByZWNhdGVDb25zdHJ1Y3RvckVudHJpZXMgfSBmcm9tIFwiLi9kZXByZWNhdGVDb25zdHJ1Y3RvckVudHJpZXMuanNcIjtcbmV4cG9ydCBjbGFzcyBGb3JtRGF0YSB7XG4gICAgY29uc3RydWN0b3IoZW50cmllcykge1xuICAgICAgICBfRm9ybURhdGFfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0Zvcm1EYXRhX2VudHJpZXMuc2V0KHRoaXMsIG5ldyBNYXAoKSk7XG4gICAgICAgIGlmIChlbnRyaWVzKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVDb25zdHJ1Y3RvckVudHJpZXMoKTtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgZmlsZU5hbWUgfSkgPT4gdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUsIGZpbGVOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIFsoX0Zvcm1EYXRhX2VudHJpZXMgPSBuZXcgV2Vha01hcCgpLCBfRm9ybURhdGFfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgU3ltYm9sLmhhc0luc3RhbmNlKV0odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odmFsdWVcbiAgICAgICAgICAgICYmIGlzRnVuY3Rpb24odmFsdWUuY29uc3RydWN0b3IpXG4gICAgICAgICAgICAmJiB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIkZvcm1EYXRhXCJcbiAgICAgICAgICAgICYmIGlzRnVuY3Rpb24odmFsdWUuYXBwZW5kKVxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5zZXQpXG4gICAgICAgICAgICAmJiBpc0Z1bmN0aW9uKHZhbHVlLmdldClcbiAgICAgICAgICAgICYmIGlzRnVuY3Rpb24odmFsdWUuZ2V0QWxsKVxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5oYXMpXG4gICAgICAgICAgICAmJiBpc0Z1bmN0aW9uKHZhbHVlLmRlbGV0ZSlcbiAgICAgICAgICAgICYmIGlzRnVuY3Rpb24odmFsdWUuZW50cmllcylcbiAgICAgICAgICAgICYmIGlzRnVuY3Rpb24odmFsdWUudmFsdWVzKVxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5rZXlzKVxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdKVxuICAgICAgICAgICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5mb3JFYWNoKSk7XG4gICAgfVxuICAgIGFwcGVuZChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfaW5zdGFuY2VzLCBcIm1cIiwgX0Zvcm1EYXRhX3NldEVudHJ5KS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgIGFwcGVuZDogdHJ1ZSxcbiAgICAgICAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGg6IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfaW5zdGFuY2VzLCBcIm1cIiwgX0Zvcm1EYXRhX3NldEVudHJ5KS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgIGFwcGVuZDogZmFsc2UsXG4gICAgICAgICAgICByYXdWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoOiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCBmaWVsZCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5nZXQoU3RyaW5nKG5hbWUpKTtcbiAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkWzBdO1xuICAgIH1cbiAgICBnZXRBbGwobmFtZSkge1xuICAgICAgICBjb25zdCBmaWVsZCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5nZXQoU3RyaW5nKG5hbWUpKTtcbiAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZC5zbGljZSgpO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmhhcyhTdHJpbmcobmFtZSkpO1xuICAgIH1cbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikuZGVsZXRlKFN0cmluZyhuYW1lKSk7XG4gICAgfVxuICAgICprZXlzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikua2V5cygpKSB7XG4gICAgICAgICAgICB5aWVsZCBrZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLmtleXMoKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5nZXRBbGwobmFtZSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtuYW1lLCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCB2YWx1ZV0gb2YgdGhpcykge1xuICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgWyhfRm9ybURhdGFfc2V0RW50cnkgPSBmdW5jdGlvbiBfRm9ybURhdGFfc2V0RW50cnkoeyBuYW1lLCByYXdWYWx1ZSwgYXBwZW5kLCBmaWxlTmFtZSwgYXJnc0xlbmd0aCB9KSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBhcHBlbmQgPyBcImFwcGVuZFwiIDogXCJzZXRcIjtcbiAgICAgICAgaWYgKGFyZ3NMZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBGYWlsZWQgdG8gZXhlY3V0ZSAnJHttZXRob2ROYW1lfScgb24gJ0Zvcm1EYXRhJzogYFxuICAgICAgICAgICAgICAgICsgYDIgYXJndW1lbnRzIHJlcXVpcmVkLCBidXQgb25seSAke2FyZ3NMZW5ndGh9IHByZXNlbnQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBpZiAoaXNGaWxlKHJhd1ZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBmaWxlTmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyByYXdWYWx1ZVxuICAgICAgICAgICAgICAgIDogbmV3IEZpbGUoW3Jhd1ZhbHVlXSwgZmlsZU5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcmF3VmFsdWUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiByYXdWYWx1ZS5sYXN0TW9kaWZpZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jsb2IocmF3VmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBGaWxlKFtyYXdWYWx1ZV0sIGZpbGVOYW1lID09PSB1bmRlZmluZWQgPyBcImJsb2JcIiA6IGZpbGVOYW1lLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmF3VmFsdWUudHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEZhaWxlZCB0byBleGVjdXRlICcke21ldGhvZE5hbWV9JyBvbiAnRm9ybURhdGEnOiBgXG4gICAgICAgICAgICAgICAgKyBcInBhcmFtZXRlciAyIGlzIG5vdCBvZiB0eXBlICdCbG9iJy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyhyYXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmdldChuYW1lKTtcbiAgICAgICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5zZXQobmFtZSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcHBlbmQpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5zZXQobmFtZSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH0sIFN5bWJvbC5pdGVyYXRvcildKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIHRoaXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRm9ybURhdGFcIjtcbiAgICB9XG4gICAgW2luc3BlY3QuY3VzdG9tXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCIvKiFcbiAqIGh1bWFuaXplLW1zIC0gaW5kZXguanNcbiAqIENvcHlyaWdodChjKSAyMDE0IGRlYWRfaG9yc2UgPGRlYWRfaG9yc2VAcXEuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgbXMgPSByZXF1aXJlKCdtcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0KSB7XG4gIGlmICh0eXBlb2YgdCA9PT0gJ251bWJlcicpIHJldHVybiB0O1xuICB2YXIgciA9IG1zKHQpO1xuICBpZiAociA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcih1dGlsLmZvcm1hdCgnaHVtYW5pemUtbXMoJWopIHJlc3VsdCB1bmRlZmluZWQnLCB0KSk7XG4gICAgY29uc29sZS53YXJuKGVyci5zdGFjayk7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYWdlbnRcbiAgQ1VSUkVOVF9JRDogU3ltYm9sKCdhZ2VudGtlZXBhbGl2ZSNjdXJyZW50SWQnKSxcbiAgQ1JFQVRFX0lEOiBTeW1ib2woJ2FnZW50a2VlcGFsaXZlI2NyZWF0ZUlkJyksXG4gIElOSVRfU09DS0VUOiBTeW1ib2woJ2FnZW50a2VlcGFsaXZlI2luaXRTb2NrZXQnKSxcbiAgQ1JFQVRFX0hUVFBTX0NPTk5FQ1RJT046IFN5bWJvbCgnYWdlbnRrZWVwYWxpdmUjY3JlYXRlSHR0cHNDb25uZWN0aW9uJyksXG4gIC8vIHNvY2tldFxuICBTT0NLRVRfQ1JFQVRFRF9USU1FOiBTeW1ib2woJ2FnZW50a2VlcGFsaXZlI3NvY2tldENyZWF0ZWRUaW1lJyksXG4gIFNPQ0tFVF9OQU1FOiBTeW1ib2woJ2FnZW50a2VlcGFsaXZlI3NvY2tldE5hbWUnKSxcbiAgU09DS0VUX1JFUVVFU1RfQ09VTlQ6IFN5bWJvbCgnYWdlbnRrZWVwYWxpdmUjc29ja2V0UmVxdWVzdENvdW50JyksXG4gIFNPQ0tFVF9SRVFVRVNUX0ZJTklTSEVEX0NPVU5UOiBTeW1ib2woJ2FnZW50a2VlcGFsaXZlI3NvY2tldFJlcXVlc3RGaW5pc2hlZENvdW50JyksXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBPcmlnaW5hbEFnZW50ID0gcmVxdWlyZSgnaHR0cCcpLkFnZW50O1xuY29uc3QgbXMgPSByZXF1aXJlKCdodW1hbml6ZS1tcycpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCd1dGlsJykuZGVidWdsb2coJ2FnZW50a2VlcGFsaXZlJyk7XG5jb25zdCB7XG4gIElOSVRfU09DS0VULFxuICBDVVJSRU5UX0lELFxuICBDUkVBVEVfSUQsXG4gIFNPQ0tFVF9DUkVBVEVEX1RJTUUsXG4gIFNPQ0tFVF9OQU1FLFxuICBTT0NLRVRfUkVRVUVTVF9DT1VOVCxcbiAgU09DS0VUX1JFUVVFU1RfRklOSVNIRURfQ09VTlQsXG59ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxuLy8gT3JpZ2luYWxBZ2VudCBjb21lIGZyb21cbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjguMTIuMC9saWIvX2h0dHBfYWdlbnQuanNcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEwLjEyLjAvbGliL19odHRwX2FnZW50LmpzXG5cbi8vIG5vZGUgPD0gMTBcbmxldCBkZWZhdWx0VGltZW91dExpc3RlbmVyQ291bnQgPSAxO1xuY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9uLnNwbGl0KCcuJywgMSlbMF0uc3Vic3RyaW5nKDEpKTtcbmlmIChtYWpvclZlcnNpb24gPj0gMTEgJiYgbWFqb3JWZXJzaW9uIDw9IDEyKSB7XG4gIGRlZmF1bHRUaW1lb3V0TGlzdGVuZXJDb3VudCA9IDI7XG59IGVsc2UgaWYgKG1ham9yVmVyc2lvbiA+PSAxMykge1xuICBkZWZhdWx0VGltZW91dExpc3RlbmVyQ291bnQgPSAzO1xufVxuXG5mdW5jdGlvbiBkZXByZWNhdGUobWVzc2FnZSkge1xuICBjb25zb2xlLmxvZygnW2FnZW50a2VlcGFsaXZlOmRlcHJlY2F0ZWRdICVzJywgbWVzc2FnZSk7XG59XG5cbmNsYXNzIEFnZW50IGV4dGVuZHMgT3JpZ2luYWxBZ2VudCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmtlZXBBbGl2ZSA9IG9wdGlvbnMua2VlcEFsaXZlICE9PSBmYWxzZTtcbiAgICAvLyBkZWZhdWx0IGlzIGtlZXAtYWxpdmUgYW5kIDRzIGZyZWUgc29ja2V0IHRpbWVvdXRcbiAgICAvLyBzZWUgaHR0cHM6Ly9tZWRpdW0uY29tL3NzZW5zZS10ZWNoL3JlZHVjZS1uZXR3b3JraW5nLWVycm9ycy1pbi1ub2RlanMtMjNiNGViOWYyZDgzXG4gICAgaWYgKG9wdGlvbnMuZnJlZVNvY2tldFRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5mcmVlU29ja2V0VGltZW91dCA9IDQwMDA7XG4gICAgfVxuICAgIC8vIExlZ2FjeSBBUEk6IGtlZXBBbGl2ZVRpbWVvdXQgc2hvdWxkIGJlIHJlbmFtZSB0byBgZnJlZVNvY2tldFRpbWVvdXRgXG4gICAgaWYgKG9wdGlvbnMua2VlcEFsaXZlVGltZW91dCkge1xuICAgICAgZGVwcmVjYXRlKCdvcHRpb25zLmtlZXBBbGl2ZVRpbWVvdXQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBvcHRpb25zLmZyZWVTb2NrZXRUaW1lb3V0IGluc3RlYWQnKTtcbiAgICAgIG9wdGlvbnMuZnJlZVNvY2tldFRpbWVvdXQgPSBvcHRpb25zLmtlZXBBbGl2ZVRpbWVvdXQ7XG4gICAgICBkZWxldGUgb3B0aW9ucy5rZWVwQWxpdmVUaW1lb3V0O1xuICAgIH1cbiAgICAvLyBMZWdhY3kgQVBJOiBmcmVlU29ja2V0S2VlcEFsaXZlVGltZW91dCBzaG91bGQgYmUgcmVuYW1lIHRvIGBmcmVlU29ja2V0VGltZW91dGBcbiAgICBpZiAob3B0aW9ucy5mcmVlU29ja2V0S2VlcEFsaXZlVGltZW91dCkge1xuICAgICAgZGVwcmVjYXRlKCdvcHRpb25zLmZyZWVTb2NrZXRLZWVwQWxpdmVUaW1lb3V0IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2Ugb3B0aW9ucy5mcmVlU29ja2V0VGltZW91dCBpbnN0ZWFkJyk7XG4gICAgICBvcHRpb25zLmZyZWVTb2NrZXRUaW1lb3V0ID0gb3B0aW9ucy5mcmVlU29ja2V0S2VlcEFsaXZlVGltZW91dDtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmZyZWVTb2NrZXRLZWVwQWxpdmVUaW1lb3V0O1xuICAgIH1cblxuICAgIC8vIFNldHMgdGhlIHNvY2tldCB0byB0aW1lb3V0IGFmdGVyIHRpbWVvdXQgbWlsbGlzZWNvbmRzIG9mIGluYWN0aXZpdHkgb24gdGhlIHNvY2tldC5cbiAgICAvLyBCeSBkZWZhdWx0IGlzIGRvdWJsZSBmcmVlIHNvY2tldCB0aW1lb3V0LlxuICAgIGlmIChvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gbWFrZSBzdXJlIHNvY2tldCBkZWZhdWx0IGluYWN0aXZpdHkgdGltZW91dCA+PSA4c1xuICAgICAgb3B0aW9ucy50aW1lb3V0ID0gTWF0aC5tYXgob3B0aW9ucy5mcmVlU29ja2V0VGltZW91dCAqIDIsIDgwMDApO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgaHVtYW5pemUgZm9ybWF0XG4gICAgb3B0aW9ucy50aW1lb3V0ID0gbXMob3B0aW9ucy50aW1lb3V0KTtcbiAgICBvcHRpb25zLmZyZWVTb2NrZXRUaW1lb3V0ID0gbXMob3B0aW9ucy5mcmVlU29ja2V0VGltZW91dCk7XG4gICAgb3B0aW9ucy5zb2NrZXRBY3RpdmVUVEwgPSBvcHRpb25zLnNvY2tldEFjdGl2ZVRUTCA/IG1zKG9wdGlvbnMuc29ja2V0QWN0aXZlVFRMKSA6IDA7XG5cbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIHRoaXNbQ1VSUkVOVF9JRF0gPSAwO1xuXG4gICAgLy8gY3JlYXRlIHNvY2tldCBzdWNjZXNzIGNvdW50ZXJcbiAgICB0aGlzLmNyZWF0ZVNvY2tldENvdW50ID0gMDtcbiAgICB0aGlzLmNyZWF0ZVNvY2tldENvdW50TGFzdENoZWNrID0gMDtcblxuICAgIHRoaXMuY3JlYXRlU29ja2V0RXJyb3JDb3VudCA9IDA7XG4gICAgdGhpcy5jcmVhdGVTb2NrZXRFcnJvckNvdW50TGFzdENoZWNrID0gMDtcblxuICAgIHRoaXMuY2xvc2VTb2NrZXRDb3VudCA9IDA7XG4gICAgdGhpcy5jbG9zZVNvY2tldENvdW50TGFzdENoZWNrID0gMDtcblxuICAgIC8vIHNvY2tldCBlcnJvciBldmVudCBjb3VudFxuICAgIHRoaXMuZXJyb3JTb2NrZXRDb3VudCA9IDA7XG4gICAgdGhpcy5lcnJvclNvY2tldENvdW50TGFzdENoZWNrID0gMDtcblxuICAgIC8vIHJlcXVlc3QgZmluaXNoZWQgY291bnRlclxuICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcbiAgICB0aGlzLnJlcXVlc3RDb3VudExhc3RDaGVjayA9IDA7XG5cbiAgICAvLyBpbmNsdWRpbmcgZnJlZSBzb2NrZXQgdGltZW91dCBjb3VudGVyXG4gICAgdGhpcy50aW1lb3V0U29ja2V0Q291bnQgPSAwO1xuICAgIHRoaXMudGltZW91dFNvY2tldENvdW50TGFzdENoZWNrID0gMDtcblxuICAgIHRoaXMub24oJ2ZyZWUnLCBzb2NrZXQgPT4ge1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL3B1bGwvMzIwMDBcbiAgICAgIC8vIE5vZGUuanMgbmF0aXZlIGFnZW50IHdpbGwgY2hlY2sgc29ja2V0IHRpbWVvdXQgZXFzIGFnZW50Lm9wdGlvbnMudGltZW91dC5cbiAgICAgIC8vIFVzZSB0aGUgdHRsIG9yIGZyZWVTb2NrZXRUaW1lb3V0IHRvIG92ZXJ3cml0ZS5cbiAgICAgIGNvbnN0IHRpbWVvdXQgPSB0aGlzLmNhbGNTb2NrZXRUaW1lb3V0KHNvY2tldCk7XG4gICAgICBpZiAodGltZW91dCA+IDAgJiYgc29ja2V0LnRpbWVvdXQgIT09IHRpbWVvdXQpIHtcbiAgICAgICAgc29ja2V0LnNldFRpbWVvdXQodGltZW91dCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZnJlZVNvY2tldEtlZXBBbGl2ZVRpbWVvdXQoKSB7XG4gICAgZGVwcmVjYXRlKCdhZ2VudC5mcmVlU29ja2V0S2VlcEFsaXZlVGltZW91dCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGFnZW50Lm9wdGlvbnMuZnJlZVNvY2tldFRpbWVvdXQgaW5zdGVhZCcpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZnJlZVNvY2tldFRpbWVvdXQ7XG4gIH1cblxuICBnZXQgdGltZW91dCgpIHtcbiAgICBkZXByZWNhdGUoJ2FnZW50LnRpbWVvdXQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBhZ2VudC5vcHRpb25zLnRpbWVvdXQgaW5zdGVhZCcpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGltZW91dDtcbiAgfVxuXG4gIGdldCBzb2NrZXRBY3RpdmVUVEwoKSB7XG4gICAgZGVwcmVjYXRlKCdhZ2VudC5zb2NrZXRBY3RpdmVUVEwgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBhZ2VudC5vcHRpb25zLnNvY2tldEFjdGl2ZVRUTCBpbnN0ZWFkJyk7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zb2NrZXRBY3RpdmVUVEw7XG4gIH1cblxuICBjYWxjU29ja2V0VGltZW91dChzb2NrZXQpIHtcbiAgICAvKipcbiAgICAgKiByZXR1cm4gPD0gMDogc2hvdWxkIGZyZWUgc29ja2V0XG4gICAgICogcmV0dXJuID4gMDogc2hvdWxkIHVwZGF0ZSBzb2NrZXQgdGltZW91dFxuICAgICAqIHJldHVybiB1bmRlZmluZWQ6IG5vdCBmaW5kIGN1c3RvbSB0aW1lb3V0XG4gICAgICovXG4gICAgbGV0IGZyZWVTb2NrZXRUaW1lb3V0ID0gdGhpcy5vcHRpb25zLmZyZWVTb2NrZXRUaW1lb3V0O1xuICAgIGNvbnN0IHNvY2tldEFjdGl2ZVRUTCA9IHRoaXMub3B0aW9ucy5zb2NrZXRBY3RpdmVUVEw7XG4gICAgaWYgKHNvY2tldEFjdGl2ZVRUTCkge1xuICAgICAgLy8gY2hlY2sgc29ja2V0QWN0aXZlVFRMXG4gICAgICBjb25zdCBhbGl2ZVRpbWUgPSBEYXRlLm5vdygpIC0gc29ja2V0W1NPQ0tFVF9DUkVBVEVEX1RJTUVdO1xuICAgICAgY29uc3QgZGlmZiA9IHNvY2tldEFjdGl2ZVRUTCAtIGFsaXZlVGltZTtcbiAgICAgIGlmIChkaWZmIDw9IDApIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9XG4gICAgICBpZiAoZnJlZVNvY2tldFRpbWVvdXQgJiYgZGlmZiA8IGZyZWVTb2NrZXRUaW1lb3V0KSB7XG4gICAgICAgIGZyZWVTb2NrZXRUaW1lb3V0ID0gZGlmZjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gc2V0IGZyZWVTb2NrZXRUaW1lb3V0XG4gICAgaWYgKGZyZWVTb2NrZXRUaW1lb3V0KSB7XG4gICAgICAvLyBzZXQgZnJlZSBrZWVwYWxpdmUgdGltZXJcbiAgICAgIC8vIHRyeSB0byB1c2Ugc29ja2V0IGN1c3RvbSBmcmVlU29ja2V0VGltZW91dCBmaXJzdCwgc3VwcG9ydCBoZWFkZXJzWydrZWVwLWFsaXZlJ11cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlLW1vZHVsZXMvdXJsbGliL2Jsb2IvYjc2MDUzMDIwOTIzZjRkOTlhMWM5M2NmMmUxNmUwYzViYTEwYmFjZi9saWIvdXJsbGliLmpzI0w0OThcbiAgICAgIGNvbnN0IGN1c3RvbUZyZWVTb2NrZXRUaW1lb3V0ID0gc29ja2V0LmZyZWVTb2NrZXRUaW1lb3V0IHx8IHNvY2tldC5mcmVlU29ja2V0S2VlcEFsaXZlVGltZW91dDtcbiAgICAgIHJldHVybiBjdXN0b21GcmVlU29ja2V0VGltZW91dCB8fCBmcmVlU29ja2V0VGltZW91dDtcbiAgICB9XG4gIH1cblxuICBrZWVwU29ja2V0QWxpdmUoc29ja2V0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gc3VwZXIua2VlcFNvY2tldEFsaXZlKHNvY2tldCk7XG4gICAgLy8gc2hvdWxkIG5vdCBrZWVwQWxpdmUsIGRvIG5vdGhpbmdcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNvbnN0IGN1c3RvbVRpbWVvdXQgPSB0aGlzLmNhbGNTb2NrZXRUaW1lb3V0KHNvY2tldCk7XG4gICAgaWYgKHR5cGVvZiBjdXN0b21UaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjdXN0b21UaW1lb3V0IDw9IDApIHtcbiAgICAgIGRlYnVnKCclcyhyZXF1ZXN0czogJXMsIGZpbmlzaGVkOiAlcykgZnJlZSBidXQgbmVlZCB0byBkZXN0cm95IGJ5IFRUTCwgcmVxdWVzdCBjb3VudCAlcywgZGlmZiBpcyAlcycsXG4gICAgICAgIHNvY2tldFtTT0NLRVRfTkFNRV0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9DT1VOVF0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9GSU5JU0hFRF9DT1VOVF0sIGN1c3RvbVRpbWVvdXQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc29ja2V0LnRpbWVvdXQgIT09IGN1c3RvbVRpbWVvdXQpIHtcbiAgICAgIHNvY2tldC5zZXRUaW1lb3V0KGN1c3RvbVRpbWVvdXQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIG9ubHkgY2FsbCBvbiBhZGRSZXF1ZXN0XG4gIHJldXNlU29ja2V0KC4uLmFyZ3MpIHtcbiAgICAvLyByZXVzZVNvY2tldChzb2NrZXQsIHJlcSlcbiAgICBzdXBlci5yZXVzZVNvY2tldCguLi5hcmdzKTtcbiAgICBjb25zdCBzb2NrZXQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHJlcSA9IGFyZ3NbMV07XG4gICAgcmVxLnJldXNlZFNvY2tldCA9IHRydWU7XG4gICAgY29uc3QgYWdlbnRUaW1lb3V0ID0gdGhpcy5vcHRpb25zLnRpbWVvdXQ7XG4gICAgaWYgKGdldFNvY2tldFRpbWVvdXQoc29ja2V0KSAhPT0gYWdlbnRUaW1lb3V0KSB7XG4gICAgICAvLyByZXNldCB0aW1lb3V0IGJlZm9yZSB1c2VcbiAgICAgIHNvY2tldC5zZXRUaW1lb3V0KGFnZW50VGltZW91dCk7XG4gICAgICBkZWJ1ZygnJXMgcmVzZXQgdGltZW91dCB0byAlc21zJywgc29ja2V0W1NPQ0tFVF9OQU1FXSwgYWdlbnRUaW1lb3V0KTtcbiAgICB9XG4gICAgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0NPVU5UXSsrO1xuICAgIGRlYnVnKCclcyhyZXF1ZXN0czogJXMsIGZpbmlzaGVkOiAlcykgcmV1c2Ugb24gYWRkUmVxdWVzdCwgdGltZW91dCAlc21zJyxcbiAgICAgIHNvY2tldFtTT0NLRVRfTkFNRV0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9DT1VOVF0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9GSU5JU0hFRF9DT1VOVF0sXG4gICAgICBnZXRTb2NrZXRUaW1lb3V0KHNvY2tldCkpO1xuICB9XG5cbiAgW0NSRUFURV9JRF0oKSB7XG4gICAgY29uc3QgaWQgPSB0aGlzW0NVUlJFTlRfSURdKys7XG4gICAgaWYgKHRoaXNbQ1VSUkVOVF9JRF0gPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB0aGlzW0NVUlJFTlRfSURdID0gMDtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICBbSU5JVF9TT0NLRVRdKHNvY2tldCwgb3B0aW9ucykge1xuICAgIC8vIGJ1Z2ZpeCBoZXJlLlxuICAgIC8vIGh0dHBzIG9uIG5vZGUgOCwgMTAgd29uJ3Qgc2V0IGFnZW50Lm9wdGlvbnMudGltZW91dCBieSBkZWZhdWx0XG4gICAgLy8gVE9ETzogbmVlZCB0byBmaXggb24gbm9kZSBpdHNlbGZcbiAgICBpZiAob3B0aW9ucy50aW1lb3V0KSB7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gZ2V0U29ja2V0VGltZW91dChzb2NrZXQpO1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KG9wdGlvbnMudGltZW91dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZWVwQWxpdmUpIHtcbiAgICAgIC8vIERpc2FibGUgTmFnbGUncyBhbGdvcml0aG06IGh0dHA6Ly9ibG9nLmNhdXN0aWsuY29tLzIwMTIvMDQvMDgvc2NhbGluZy1ub2RlLWpzLXRvLTEwMGstY29uY3VycmVudC1jb25uZWN0aW9ucy9cbiAgICAgIC8vIGh0dHBzOi8vZmVuZ21rMi5jb20vYmVuY2htYXJrL25hZ2xlLWFsZ29yaXRobS1kZWxheWVkLWFjay1tb2NrLmh0bWxcbiAgICAgIHNvY2tldC5zZXROb0RlbGF5KHRydWUpO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZVNvY2tldENvdW50Kys7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zb2NrZXRBY3RpdmVUVEwpIHtcbiAgICAgIHNvY2tldFtTT0NLRVRfQ1JFQVRFRF9USU1FXSA9IERhdGUubm93KCk7XG4gICAgfVxuICAgIC8vIGRvbid0IHNob3cgdGhlIGhvbGUgJy0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tJyBrZXkgc3RyaW5nXG4gICAgc29ja2V0W1NPQ0tFVF9OQU1FXSA9IGBzb2NrWyR7dGhpc1tDUkVBVEVfSURdKCl9IyR7b3B0aW9ucy5fYWdlbnRLZXl9XWAuc3BsaXQoJy0tLS0tQkVHSU4nLCAxKVswXTtcbiAgICBzb2NrZXRbU09DS0VUX1JFUVVFU1RfQ09VTlRdID0gMTtcbiAgICBzb2NrZXRbU09DS0VUX1JFUVVFU1RfRklOSVNIRURfQ09VTlRdID0gMDtcbiAgICBpbnN0YWxsTGlzdGVuZXJzKHRoaXMsIHNvY2tldCwgb3B0aW9ucyk7XG4gIH1cblxuICBjcmVhdGVDb25uZWN0aW9uKG9wdGlvbnMsIG9uY3JlYXRlKSB7XG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IG9uTmV3Q3JlYXRlID0gKGVyciwgc29ja2V0KSA9PiB7XG4gICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU29ja2V0RXJyb3JDb3VudCsrO1xuICAgICAgICByZXR1cm4gb25jcmVhdGUoZXJyKTtcbiAgICAgIH1cbiAgICAgIHRoaXNbSU5JVF9TT0NLRVRdKHNvY2tldCwgb3B0aW9ucyk7XG4gICAgICBvbmNyZWF0ZShlcnIsIHNvY2tldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG5ld1NvY2tldCA9IHN1cGVyLmNyZWF0ZUNvbm5lY3Rpb24ob3B0aW9ucywgb25OZXdDcmVhdGUpO1xuICAgIGlmIChuZXdTb2NrZXQpIG9uTmV3Q3JlYXRlKG51bGwsIG5ld1NvY2tldCk7XG4gICAgcmV0dXJuIG5ld1NvY2tldDtcbiAgfVxuXG4gIGdldCBzdGF0dXNDaGFuZ2VkKCkge1xuICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLmNyZWF0ZVNvY2tldENvdW50ICE9PSB0aGlzLmNyZWF0ZVNvY2tldENvdW50TGFzdENoZWNrIHx8XG4gICAgICB0aGlzLmNyZWF0ZVNvY2tldEVycm9yQ291bnQgIT09IHRoaXMuY3JlYXRlU29ja2V0RXJyb3JDb3VudExhc3RDaGVjayB8fFxuICAgICAgdGhpcy5jbG9zZVNvY2tldENvdW50ICE9PSB0aGlzLmNsb3NlU29ja2V0Q291bnRMYXN0Q2hlY2sgfHxcbiAgICAgIHRoaXMuZXJyb3JTb2NrZXRDb3VudCAhPT0gdGhpcy5lcnJvclNvY2tldENvdW50TGFzdENoZWNrIHx8XG4gICAgICB0aGlzLnRpbWVvdXRTb2NrZXRDb3VudCAhPT0gdGhpcy50aW1lb3V0U29ja2V0Q291bnRMYXN0Q2hlY2sgfHxcbiAgICAgIHRoaXMucmVxdWVzdENvdW50ICE9PSB0aGlzLnJlcXVlc3RDb3VudExhc3RDaGVjaztcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5jcmVhdGVTb2NrZXRDb3VudExhc3RDaGVjayA9IHRoaXMuY3JlYXRlU29ja2V0Q291bnQ7XG4gICAgICB0aGlzLmNyZWF0ZVNvY2tldEVycm9yQ291bnRMYXN0Q2hlY2sgPSB0aGlzLmNyZWF0ZVNvY2tldEVycm9yQ291bnQ7XG4gICAgICB0aGlzLmNsb3NlU29ja2V0Q291bnRMYXN0Q2hlY2sgPSB0aGlzLmNsb3NlU29ja2V0Q291bnQ7XG4gICAgICB0aGlzLmVycm9yU29ja2V0Q291bnRMYXN0Q2hlY2sgPSB0aGlzLmVycm9yU29ja2V0Q291bnQ7XG4gICAgICB0aGlzLnRpbWVvdXRTb2NrZXRDb3VudExhc3RDaGVjayA9IHRoaXMudGltZW91dFNvY2tldENvdW50O1xuICAgICAgdGhpcy5yZXF1ZXN0Q291bnRMYXN0Q2hlY2sgPSB0aGlzLnJlcXVlc3RDb3VudDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH1cblxuICBnZXRDdXJyZW50U3RhdHVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVTb2NrZXRDb3VudDogdGhpcy5jcmVhdGVTb2NrZXRDb3VudCxcbiAgICAgIGNyZWF0ZVNvY2tldEVycm9yQ291bnQ6IHRoaXMuY3JlYXRlU29ja2V0RXJyb3JDb3VudCxcbiAgICAgIGNsb3NlU29ja2V0Q291bnQ6IHRoaXMuY2xvc2VTb2NrZXRDb3VudCxcbiAgICAgIGVycm9yU29ja2V0Q291bnQ6IHRoaXMuZXJyb3JTb2NrZXRDb3VudCxcbiAgICAgIHRpbWVvdXRTb2NrZXRDb3VudDogdGhpcy50aW1lb3V0U29ja2V0Q291bnQsXG4gICAgICByZXF1ZXN0Q291bnQ6IHRoaXMucmVxdWVzdENvdW50LFxuICAgICAgZnJlZVNvY2tldHM6IGluc3BlY3QodGhpcy5mcmVlU29ja2V0cyksXG4gICAgICBzb2NrZXRzOiBpbnNwZWN0KHRoaXMuc29ja2V0cyksXG4gICAgICByZXF1ZXN0czogaW5zcGVjdCh0aGlzLnJlcXVlc3RzKSxcbiAgICB9O1xuICB9XG59XG5cbi8vIG5vZGUgOCBkb24ndCBoYXMgdGltZW91dCBhdHRyaWJ1dGUgb24gc29ja2V0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvcHVsbC8yMTIwNC9maWxlcyNkaWZmLWU2ZWYwMjRjMzc3NWQ3ODdjMzg0ODdhNjMwOWU0OTFkUjQwOFxuZnVuY3Rpb24gZ2V0U29ja2V0VGltZW91dChzb2NrZXQpIHtcbiAgcmV0dXJuIHNvY2tldC50aW1lb3V0IHx8IHNvY2tldC5faWRsZVRpbWVvdXQ7XG59XG5cbmZ1bmN0aW9uIGluc3RhbGxMaXN0ZW5lcnMoYWdlbnQsIHNvY2tldCwgb3B0aW9ucykge1xuICBkZWJ1ZygnJXMgY3JlYXRlLCB0aW1lb3V0ICVzbXMnLCBzb2NrZXRbU09DS0VUX05BTUVdLCBnZXRTb2NrZXRUaW1lb3V0KHNvY2tldCkpO1xuXG4gIC8vIGxpc3RlbmVyIHNvY2tldCBldmVudHM6IGNsb3NlLCB0aW1lb3V0LCBlcnJvciwgZnJlZVxuICBmdW5jdGlvbiBvbkZyZWUoKSB7XG4gICAgLy8gY3JlYXRlIGFuZCBzb2NrZXQuZW1pdCgnZnJlZScpIGxvZ2ljXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvbWFzdGVyL2xpYi9faHR0cF9hZ2VudC5qcyNMMzExXG4gICAgLy8gbm8gcmVxIG9uIHRoZSBzb2NrZXQsIGl0IHNob3VsZCBiZSB0aGUgbmV3IHNvY2tldFxuICAgIGlmICghc29ja2V0Ll9odHRwTWVzc2FnZSAmJiBzb2NrZXRbU09DS0VUX1JFUVVFU1RfQ09VTlRdID09PSAxKSByZXR1cm47XG5cbiAgICBzb2NrZXRbU09DS0VUX1JFUVVFU1RfRklOSVNIRURfQ09VTlRdKys7XG4gICAgYWdlbnQucmVxdWVzdENvdW50Kys7XG4gICAgZGVidWcoJyVzKHJlcXVlc3RzOiAlcywgZmluaXNoZWQ6ICVzKSBmcmVlJyxcbiAgICAgIHNvY2tldFtTT0NLRVRfTkFNRV0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9DT1VOVF0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9GSU5JU0hFRF9DT1VOVF0pO1xuXG4gICAgLy8gc2hvdWxkIHJldXNlIG9uIHBlZGRpbmcgcmVxdWVzdHM/XG4gICAgY29uc3QgbmFtZSA9IGFnZW50LmdldE5hbWUob3B0aW9ucyk7XG4gICAgaWYgKHNvY2tldC53cml0YWJsZSAmJiBhZ2VudC5yZXF1ZXN0c1tuYW1lXSAmJiBhZ2VudC5yZXF1ZXN0c1tuYW1lXS5sZW5ndGgpIHtcbiAgICAgIC8vIHdpbGwgYmUgcmV1c2Ugb24gYWdlbnQgZnJlZSBsaXN0ZW5lclxuICAgICAgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0NPVU5UXSsrO1xuICAgICAgZGVidWcoJyVzKHJlcXVlc3RzOiAlcywgZmluaXNoZWQ6ICVzKSB3aWxsIGJlIHJldXNlIG9uIGFnZW50IGZyZWUgZXZlbnQnLFxuICAgICAgICBzb2NrZXRbU09DS0VUX05BTUVdLCBzb2NrZXRbU09DS0VUX1JFUVVFU1RfQ09VTlRdLCBzb2NrZXRbU09DS0VUX1JFUVVFU1RfRklOSVNIRURfQ09VTlRdKTtcbiAgICB9XG4gIH1cbiAgc29ja2V0Lm9uKCdmcmVlJywgb25GcmVlKTtcblxuICBmdW5jdGlvbiBvbkNsb3NlKGlzRXJyb3IpIHtcbiAgICBkZWJ1ZygnJXMocmVxdWVzdHM6ICVzLCBmaW5pc2hlZDogJXMpIGNsb3NlLCBpc0Vycm9yOiAlcycsXG4gICAgICBzb2NrZXRbU09DS0VUX05BTUVdLCBzb2NrZXRbU09DS0VUX1JFUVVFU1RfQ09VTlRdLCBzb2NrZXRbU09DS0VUX1JFUVVFU1RfRklOSVNIRURfQ09VTlRdLCBpc0Vycm9yKTtcbiAgICBhZ2VudC5jbG9zZVNvY2tldENvdW50Kys7XG4gIH1cbiAgc29ja2V0Lm9uKCdjbG9zZScsIG9uQ2xvc2UpO1xuXG4gIC8vIHN0YXJ0IHNvY2tldCB0aW1lb3V0IGhhbmRsZXJcbiAgZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgIC8vIG9uVGltZW91dCBhbmQgZW1pdFJlcXVlc3RUaW1lb3V0KF9odHRwX2NsaWVudC5qcylcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi92MTIueC9saWIvX2h0dHBfY2xpZW50LmpzI0w3MTFcbiAgICBjb25zdCBsaXN0ZW5lckNvdW50ID0gc29ja2V0Lmxpc3RlbmVycygndGltZW91dCcpLmxlbmd0aDtcbiAgICAvLyBub2RlIDw9IDEwLCBkZWZhdWx0IGxpc3RlbmVyQ291bnQgaXMgMSwgb25UaW1lb3V0XG4gICAgLy8gMTEgPCBub2RlIDw9IDEyLCBkZWZhdWx0IGxpc3RlbmVyQ291bnQgaXMgMiwgb25UaW1lb3V0IGFuZCBlbWl0UmVxdWVzdFRpbWVvdXRcbiAgICAvLyBub2RlID49IDEzLCBkZWZhdWx0IGxpc3RlbmVyQ291bnQgaXMgMywgb25UaW1lb3V0LFxuICAgIC8vICAgb25UaW1lb3V0KGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9wdWxsLzMyMDAwL2ZpbGVzI2RpZmYtNWY3ZmIwODUwNDEyYzZiZTE4OWZhZWRkZWE2YzUzNTlSMzMzKVxuICAgIC8vICAgYW5kIGVtaXRSZXF1ZXN0VGltZW91dFxuICAgIGNvbnN0IHRpbWVvdXQgPSBnZXRTb2NrZXRUaW1lb3V0KHNvY2tldCk7XG4gICAgY29uc3QgcmVxID0gc29ja2V0Ll9odHRwTWVzc2FnZTtcbiAgICBjb25zdCByZXFUaW1lb3V0TGlzdGVuZXJDb3VudCA9IHJlcSAmJiByZXEubGlzdGVuZXJzKCd0aW1lb3V0JykubGVuZ3RoIHx8IDA7XG4gICAgZGVidWcoJyVzKHJlcXVlc3RzOiAlcywgZmluaXNoZWQ6ICVzKSB0aW1lb3V0IGFmdGVyICVzbXMsIGxpc3RlbmVycyAlcywgZGVmYXVsdFRpbWVvdXRMaXN0ZW5lckNvdW50ICVzLCBoYXNIdHRwUmVxdWVzdCAlcywgSHR0cFJlcXVlc3QgdGltZW91dExpc3RlbmVyQ291bnQgJXMnLFxuICAgICAgc29ja2V0W1NPQ0tFVF9OQU1FXSwgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0NPVU5UXSwgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0ZJTklTSEVEX0NPVU5UXSxcbiAgICAgIHRpbWVvdXQsIGxpc3RlbmVyQ291bnQsIGRlZmF1bHRUaW1lb3V0TGlzdGVuZXJDb3VudCwgISFyZXEsIHJlcVRpbWVvdXRMaXN0ZW5lckNvdW50KTtcbiAgICBpZiAoZGVidWcuZW5hYmxlZCkge1xuICAgICAgZGVidWcoJ3RpbWVvdXQgbGlzdGVuZXJzOiAlcycsIHNvY2tldC5saXN0ZW5lcnMoJ3RpbWVvdXQnKS5tYXAoZiA9PiBmLm5hbWUpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBhZ2VudC50aW1lb3V0U29ja2V0Q291bnQrKztcbiAgICBjb25zdCBuYW1lID0gYWdlbnQuZ2V0TmFtZShvcHRpb25zKTtcbiAgICBpZiAoYWdlbnQuZnJlZVNvY2tldHNbbmFtZV0gJiYgYWdlbnQuZnJlZVNvY2tldHNbbmFtZV0uaW5kZXhPZihzb2NrZXQpICE9PSAtMSkge1xuICAgICAgLy8gZnJlZSBzb2NrZXQgdGltZW91dCwgZGVzdHJveSBxdWlldGx5XG4gICAgICBzb2NrZXQuZGVzdHJveSgpO1xuICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gZnJlZVNvY2tldHMgbGlzdCBpbW1lZGlhdGVseSB0byBwcmV2ZW50IG5ldyByZXF1ZXN0c1xuICAgICAgLy8gZnJvbSBiZWluZyBzZW50IHRocm91Z2ggdGhpcyBzb2NrZXQuXG4gICAgICBhZ2VudC5yZW1vdmVTb2NrZXQoc29ja2V0LCBvcHRpb25zKTtcbiAgICAgIGRlYnVnKCclcyBpcyBmcmVlLCBkZXN0cm95IHF1aWV0bHknLCBzb2NrZXRbU09DS0VUX05BTUVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gYW55IHJlcXVlc3Qgc29ja2V0IHRpbWVvdXQgaGFuZGxlcixcbiAgICAgIC8vIGFnZW50IG5lZWQgdG8gaGFuZGxlIHNvY2tldCB0aW1lb3V0IGl0c2VsZi5cbiAgICAgIC8vXG4gICAgICAvLyBjdXN0b20gcmVxdWVzdCBzb2NrZXQgdGltZW91dCBoYW5kbGUgbG9naWMgbXVzdCBmb2xsb3cgdGhlc2UgcnVsZXM6XG4gICAgICAvLyAgMS4gRGVzdHJveSBzb2NrZXQgZmlyc3RcbiAgICAgIC8vICAyLiBNdXN0IGVtaXQgc29ja2V0ICdhZ2VudFJlbW92ZScgZXZlbnQgdGVsbCBhZ2VudCByZW1vdmUgc29ja2V0XG4gICAgICAvLyAgICAgZnJvbSBmcmVlU29ja2V0cyBsaXN0IGltbWVkaWF0ZWx5LlxuICAgICAgLy8gICAgIE90aGVyaXNlIHlvdSBtYXkgYmUgZ2V0ICdzb2NrZXQgaGFuZyB1cCcgZXJyb3Igd2hlbiByZXVzZVxuICAgICAgLy8gICAgIGZyZWUgc29ja2V0IGFuZCB0aW1lb3V0IGhhcHBlbiBpbiB0aGUgc2FtZSB0aW1lLlxuICAgICAgaWYgKHJlcVRpbWVvdXRMaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdTb2NrZXQgdGltZW91dCcpO1xuICAgICAgICBlcnJvci5jb2RlID0gJ0VSUl9TT0NLRVRfVElNRU9VVCc7XG4gICAgICAgIGVycm9yLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICAvLyBtdXN0IG1hbnVhbGx5IGNhbGwgc29ja2V0LmVuZCgpIG9yIHNvY2tldC5kZXN0cm95KCkgdG8gZW5kIHRoZSBjb25uZWN0aW9uLlxuICAgICAgICAvLyBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QtdjEwLngvZG9jcy9hcGkvbmV0Lmh0bWwjbmV0X3NvY2tldF9zZXR0aW1lb3V0X3RpbWVvdXRfY2FsbGJhY2tcbiAgICAgICAgc29ja2V0LmRlc3Ryb3koZXJyb3IpO1xuICAgICAgICBhZ2VudC5yZW1vdmVTb2NrZXQoc29ja2V0LCBvcHRpb25zKTtcbiAgICAgICAgZGVidWcoJyVzIGRlc3Ryb3kgd2l0aCB0aW1lb3V0IGVycm9yJywgc29ja2V0W1NPQ0tFVF9OQU1FXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNvY2tldC5vbigndGltZW91dCcsIG9uVGltZW91dCk7XG5cbiAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtcbiAgICBjb25zdCBsaXN0ZW5lckNvdW50ID0gc29ja2V0Lmxpc3RlbmVycygnZXJyb3InKS5sZW5ndGg7XG4gICAgZGVidWcoJyVzKHJlcXVlc3RzOiAlcywgZmluaXNoZWQ6ICVzKSBlcnJvcjogJXMsIGxpc3RlbmVyQ291bnQ6ICVzJyxcbiAgICAgIHNvY2tldFtTT0NLRVRfTkFNRV0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9DT1VOVF0sIHNvY2tldFtTT0NLRVRfUkVRVUVTVF9GSU5JU0hFRF9DT1VOVF0sXG4gICAgICBlcnIsIGxpc3RlbmVyQ291bnQpO1xuICAgIGFnZW50LmVycm9yU29ja2V0Q291bnQrKztcbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgLy8gaWYgc29ja2V0IGRvbid0IGNvbnRhaW4gZXJyb3IgZXZlbnQgaGFuZGxlciwgZG9uJ3QgY2F0Y2ggaXQsIGVtaXQgaXQgYWdhaW5cbiAgICAgIGRlYnVnKCclcyBlbWl0IHVuY2F1Z2h0IGVycm9yIGV2ZW50Jywgc29ja2V0W1NPQ0tFVF9OQU1FXSk7XG4gICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgfVxuICBzb2NrZXQub24oJ2Vycm9yJywgb25FcnJvcik7XG5cbiAgZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgZGVidWcoJyVzKHJlcXVlc3RzOiAlcywgZmluaXNoZWQ6ICVzKSBhZ2VudFJlbW92ZScsXG4gICAgICBzb2NrZXRbU09DS0VUX05BTUVdLFxuICAgICAgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0NPVU5UXSwgc29ja2V0W1NPQ0tFVF9SRVFVRVNUX0ZJTklTSEVEX0NPVU5UXSk7XG4gICAgLy8gV2UgbmVlZCB0aGlzIGZ1bmN0aW9uIGZvciBjYXNlcyBsaWtlIEhUVFAgJ3VwZ3JhZGUnXG4gICAgLy8gKGRlZmluZWQgYnkgV2ViU29ja2V0cykgd2hlcmUgd2UgbmVlZCB0byByZW1vdmUgYSBzb2NrZXQgZnJvbSB0aGVcbiAgICAvLyBwb29sIGJlY2F1c2UgaXQnbGwgYmUgbG9ja2VkIHVwIGluZGVmaW5pdGVseVxuICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbkNsb3NlKTtcbiAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdmcmVlJywgb25GcmVlKTtcbiAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ3RpbWVvdXQnLCBvblRpbWVvdXQpO1xuICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignYWdlbnRSZW1vdmUnLCBvblJlbW92ZSk7XG4gIH1cbiAgc29ja2V0Lm9uKCdhZ2VudFJlbW92ZScsIG9uUmVtb3ZlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBZ2VudDtcblxuZnVuY3Rpb24gaW5zcGVjdChvYmopIHtcbiAgY29uc3QgcmVzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJlc1trZXldID0gb2JqW2tleV0ubGVuZ3RoO1xuICB9XG4gIHJldHVybiByZXM7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IE9yaWdpbmFsSHR0cHNBZ2VudCA9IHJlcXVpcmUoJ2h0dHBzJykuQWdlbnQ7XG5jb25zdCBIdHRwQWdlbnQgPSByZXF1aXJlKCcuL2FnZW50Jyk7XG5jb25zdCB7XG4gIElOSVRfU09DS0VULFxuICBDUkVBVEVfSFRUUFNfQ09OTkVDVElPTixcbn0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG5jbGFzcyBIdHRwc0FnZW50IGV4dGVuZHMgSHR0cEFnZW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kZWZhdWx0UG9ydCA9IDQ0MztcbiAgICB0aGlzLnByb3RvY29sID0gJ2h0dHBzOic7XG4gICAgdGhpcy5tYXhDYWNoZWRTZXNzaW9ucyA9IHRoaXMub3B0aW9ucy5tYXhDYWNoZWRTZXNzaW9ucztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0aGlzLm1heENhY2hlZFNlc3Npb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubWF4Q2FjaGVkU2Vzc2lvbnMgPSAxMDA7XG4gICAgfVxuXG4gICAgdGhpcy5fc2Vzc2lvbkNhY2hlID0ge1xuICAgICAgbWFwOiB7fSxcbiAgICAgIGxpc3Q6IFtdLFxuICAgIH07XG4gIH1cblxuICBjcmVhdGVDb25uZWN0aW9uKG9wdGlvbnMsIG9uY3JlYXRlKSB7XG4gICAgY29uc3Qgc29ja2V0ID0gdGhpc1tDUkVBVEVfSFRUUFNfQ09OTkVDVElPTl0ob3B0aW9ucywgb25jcmVhdGUpO1xuICAgIHRoaXNbSU5JVF9TT0NLRVRdKHNvY2tldCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHNvY2tldDtcbiAgfVxufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2h0dHBzLmpzI0w4OVxuSHR0cHNBZ2VudC5wcm90b3R5cGVbQ1JFQVRFX0hUVFBTX0NPTk5FQ1RJT05dID0gT3JpZ2luYWxIdHRwc0FnZW50LnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uO1xuXG5bXG4gICdnZXROYW1lJyxcbiAgJ19nZXRTZXNzaW9uJyxcbiAgJ19jYWNoZVNlc3Npb24nLFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvcHVsbC80OTgyXG4gICdfZXZpY3RTZXNzaW9uJyxcbl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBPcmlnaW5hbEh0dHBzQWdlbnQucHJvdG90eXBlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBIdHRwc0FnZW50LnByb3RvdHlwZVttZXRob2RdID0gT3JpZ2luYWxIdHRwc0FnZW50LnByb3RvdHlwZVttZXRob2RdO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBIdHRwc0FnZW50O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBIdHRwQWdlbnQgPSByZXF1aXJlKCcuL2xpYi9hZ2VudCcpO1xubW9kdWxlLmV4cG9ydHMgPSBIdHRwQWdlbnQ7XG5tb2R1bGUuZXhwb3J0cy5IdHRwQWdlbnQgPSBIdHRwQWdlbnQ7XG5tb2R1bGUuZXhwb3J0cy5IdHRwc0FnZW50ID0gcmVxdWlyZSgnLi9saWIvaHR0cHNfYWdlbnQnKTtcbm1vZHVsZS5leHBvcnRzLmNvbnN0YW50cyA9IHJlcXVpcmUoJy4vbGliL2NvbnN0YW50cycpO1xuIiwiLyoqXG4gKiBAYXV0aG9yIFRvcnUgTmFnYXNoaW1hIDxodHRwczovL2dpdGh1Yi5jb20vbXlzdGljYXRlYT5cbiAqIEBjb3B5cmlnaHQgMjAxNSBUb3J1IE5hZ2FzaGltYS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBkaXJlY3RvcnkgZm9yIGZ1bGwgbGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQcml2YXRlRGF0YVxuICogQHByb3BlcnR5IHtFdmVudFRhcmdldH0gZXZlbnRUYXJnZXQgVGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7e3R5cGU6c3RyaW5nfX0gZXZlbnQgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBldmVudFBoYXNlIFRoZSBjdXJyZW50IGV2ZW50IHBoYXNlLlxuICogQHByb3BlcnR5IHtFdmVudFRhcmdldHxudWxsfSBjdXJyZW50VGFyZ2V0IFRoZSBjdXJyZW50IGV2ZW50IHRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2FuY2VsZWQgVGhlIGZsYWcgdG8gcHJldmVudCBkZWZhdWx0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBzdG9wcGVkIFRoZSBmbGFnIHRvIHN0b3AgcHJvcGFnYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGltbWVkaWF0ZVN0b3BwZWQgVGhlIGZsYWcgdG8gc3RvcCBwcm9wYWdhdGlvbiBpbW1lZGlhdGVseS5cbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb258bnVsbH0gcGFzc2l2ZUxpc3RlbmVyIFRoZSBsaXN0ZW5lciBpZiB0aGUgY3VycmVudCBsaXN0ZW5lciBpcyBwYXNzaXZlLiBPdGhlcndpc2UgdGhpcyBpcyBudWxsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVTdGFtcCBUaGUgdW5peCB0aW1lLlxuICogQHByaXZhdGVcbiAqL1xuXG4vKipcbiAqIFByaXZhdGUgZGF0YSBmb3IgZXZlbnQgd3JhcHBlcnMuXG4gKiBAdHlwZSB7V2Vha01hcDxFdmVudCwgUHJpdmF0ZURhdGE+fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgcHJpdmF0ZURhdGEgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIENhY2hlIGZvciB3cmFwcGVyIGNsYXNzZXMuXG4gKiBAdHlwZSB7V2Vha01hcDxPYmplY3QsIEZ1bmN0aW9uPn1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdyYXBwZXJzID0gbmV3IFdlYWtNYXAoKTtcblxuLyoqXG4gKiBHZXQgcHJpdmF0ZSBkYXRhLlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IG9iamVjdCB0byBnZXQgcHJpdmF0ZSBkYXRhLlxuICogQHJldHVybnMge1ByaXZhdGVEYXRhfSBUaGUgcHJpdmF0ZSBkYXRhIG9mIHRoZSBldmVudC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBkKGV2ZW50KSB7XG4gICAgY29uc3QgcmV0diA9IHByaXZhdGVEYXRhLmdldChldmVudCk7XG4gICAgY29uc29sZS5hc3NlcnQoXG4gICAgICAgIHJldHYgIT0gbnVsbCxcbiAgICAgICAgXCIndGhpcycgaXMgZXhwZWN0ZWQgYW4gRXZlbnQgb2JqZWN0LCBidXQgZ290XCIsXG4gICAgICAgIGV2ZW50XG4gICAgKTtcbiAgICByZXR1cm4gcmV0dlxufVxuXG4vKipcbiAqIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jc2V0LXRoZS1jYW5jZWxlZC1mbGFnXG4gKiBAcGFyYW0gZGF0YSB7UHJpdmF0ZURhdGF9IHByaXZhdGUgZGF0YS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FuY2VsRmxhZyhkYXRhKSB7XG4gICAgaWYgKGRhdGEucGFzc2l2ZUxpc3RlbmVyICE9IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5hYmxlIHRvIHByZXZlbnREZWZhdWx0IGluc2lkZSBwYXNzaXZlIGV2ZW50IGxpc3RlbmVyIGludm9jYXRpb24uXCIsXG4gICAgICAgICAgICAgICAgZGF0YS5wYXNzaXZlTGlzdGVuZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghZGF0YS5ldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGRhdGEuY2FuY2VsZWQgPSB0cnVlO1xuICAgIGlmICh0eXBlb2YgZGF0YS5ldmVudC5wcmV2ZW50RGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGRhdGEuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHNlZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2ludGVyZmFjZS1ldmVudFxuICogQHByaXZhdGVcbiAqL1xuLyoqXG4gKiBUaGUgZXZlbnQgd3JhcHBlci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZXZlbnRUYXJnZXQgVGhlIGV2ZW50IHRhcmdldCBvZiB0aGlzIGRpc3BhdGNoaW5nLlxuICogQHBhcmFtIHtFdmVudHx7dHlwZTpzdHJpbmd9fSBldmVudCBUaGUgb3JpZ2luYWwgZXZlbnQgdG8gd3JhcC5cbiAqL1xuZnVuY3Rpb24gRXZlbnQoZXZlbnRUYXJnZXQsIGV2ZW50KSB7XG4gICAgcHJpdmF0ZURhdGEuc2V0KHRoaXMsIHtcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBldmVudFBoYXNlOiAyLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBldmVudFRhcmdldCxcbiAgICAgICAgY2FuY2VsZWQ6IGZhbHNlLFxuICAgICAgICBzdG9wcGVkOiBmYWxzZSxcbiAgICAgICAgaW1tZWRpYXRlU3RvcHBlZDogZmFsc2UsXG4gICAgICAgIHBhc3NpdmVMaXN0ZW5lcjogbnVsbCxcbiAgICAgICAgdGltZVN0YW1wOiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKSxcbiAgICB9KTtcblxuICAgIC8vIGh0dHBzOi8vaGV5Y2FtLmdpdGh1Yi5pby93ZWJpZGwvI1VuZm9yZ2VhYmxlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNUcnVzdGVkXCIsIHsgdmFsdWU6IGZhbHNlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgLy8gRGVmaW5lIGFjY2Vzc29yc1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhldmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmICghKGtleSBpbiB0aGlzKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGtleSwgZGVmaW5lUmVkaXJlY3REZXNjcmlwdG9yKGtleSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBTaG91bGQgYmUgZW51bWVyYWJsZSwgYnV0IGNsYXNzIG1ldGhvZHMgYXJlIG5vdCBlbnVtZXJhYmxlLlxuRXZlbnQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgZXZlbnQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmV2ZW50LnR5cGVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBvZiB0aGlzIGV2ZW50LlxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH1cbiAgICAgKi9cbiAgICBnZXQgdGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gcGQodGhpcykuZXZlbnRUYXJnZXRcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBvZiB0aGlzIGV2ZW50LlxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH1cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmN1cnJlbnRUYXJnZXRcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0V2ZW50VGFyZ2V0W119IFRoZSBjb21wb3NlZCBwYXRoIG9mIHRoaXMgZXZlbnQuXG4gICAgICovXG4gICAgY29tcG9zZWRQYXRoKCkge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFyZ2V0ID0gcGQodGhpcykuY3VycmVudFRhcmdldDtcbiAgICAgICAgaWYgKGN1cnJlbnRUYXJnZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjdXJyZW50VGFyZ2V0XVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdGFudCBvZiBOT05FLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IE5PTkUoKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0YW50IG9mIENBUFRVUklOR19QSEFTRS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBDQVBUVVJJTkdfUEhBU0UoKSB7XG4gICAgICAgIHJldHVybiAxXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0YW50IG9mIEFUX1RBUkdFVC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBBVF9UQVJHRVQoKSB7XG4gICAgICAgIHJldHVybiAyXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0YW50IG9mIEJVQkJMSU5HX1BIQVNFLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IEJVQkJMSU5HX1BIQVNFKCkge1xuICAgICAgICByZXR1cm4gM1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IG9mIHRoaXMgZXZlbnQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZXZlbnRQaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmV2ZW50UGhhc2VcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcCBldmVudCBidWJibGluZy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwZCh0aGlzKTtcblxuICAgICAgICBkYXRhLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEuZXZlbnQuc3RvcFByb3BhZ2F0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGRhdGEuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcCBldmVudCBidWJibGluZy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwZCh0aGlzKTtcblxuICAgICAgICBkYXRhLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICBkYXRhLmltbWVkaWF0ZVN0b3BwZWQgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEuZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGRhdGEuZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGZsYWcgdG8gYmUgYnViYmxpbmcuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGJ1YmJsZXMoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHBkKHRoaXMpLmV2ZW50LmJ1YmJsZXMpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBmbGFnIHRvIGJlIGNhbmNlbGFibGUuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGNhbmNlbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHBkKHRoaXMpLmV2ZW50LmNhbmNlbGFibGUpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbmNlbCB0aGlzIGV2ZW50LlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICBzZXRDYW5jZWxGbGFnKHBkKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGZsYWcgdG8gaW5kaWNhdGUgY2FuY2VsbGF0aW9uIHN0YXRlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCkge1xuICAgICAgICByZXR1cm4gcGQodGhpcykuY2FuY2VsZWRcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGZsYWcgdG8gYmUgY29tcG9zZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGNvbXBvc2VkKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihwZCh0aGlzKS5ldmVudC5jb21wb3NlZClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXggdGltZSBvZiB0aGlzIGV2ZW50LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRpbWVTdGFtcCgpIHtcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLnRpbWVTdGFtcFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IG9mIHRoaXMgZXZlbnQuXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZ2V0IHNyY0VsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBwZCh0aGlzKS5ldmVudFRhcmdldFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmxhZyB0byBzdG9wIGV2ZW50IGJ1YmJsaW5nLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZ2V0IGNhbmNlbEJ1YmJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLnN0b3BwZWRcbiAgICB9LFxuICAgIHNldCBjYW5jZWxCdWJibGUodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHBkKHRoaXMpO1xuXG4gICAgICAgIGRhdGEuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YS5ldmVudC5jYW5jZWxCdWJibGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICBkYXRhLmV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGZsYWcgdG8gaW5kaWNhdGUgY2FuY2VsbGF0aW9uIHN0YXRlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZ2V0IHJldHVyblZhbHVlKCkge1xuICAgICAgICByZXR1cm4gIXBkKHRoaXMpLmNhbmNlbGVkXG4gICAgfSxcbiAgICBzZXQgcmV0dXJuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgc2V0Q2FuY2VsRmxhZyhwZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGlzIGV2ZW50IG9iamVjdC4gQnV0IGRvIG5vdGhpbmcgdW5kZXIgZXZlbnQgZGlzcGF0Y2hpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYnViYmxlcz1mYWxzZV0gVGhlIGZsYWcgdG8gYmUgcG9zc2libGUgdG8gYnViYmxlIHVwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NhbmNlbGFibGU9ZmFsc2VdIFRoZSBmbGFnIHRvIGJlIHBvc3NpYmxlIHRvIGNhbmNlbC5cbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGluaXRFdmVudCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICB9LFxufTtcblxuLy8gYGNvbnN0cnVjdG9yYCBpcyBub3QgZW51bWVyYWJsZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudC5wcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwge1xuICAgIHZhbHVlOiBFdmVudCxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gRW5zdXJlIGBldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudGAgaXMgYHRydWVgLlxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5FdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihFdmVudC5wcm90b3R5cGUsIHdpbmRvdy5FdmVudC5wcm90b3R5cGUpO1xuXG4gICAgLy8gTWFrZSBhc3NvY2lhdGlvbiBmb3Igd3JhcHBlcnMuXG4gICAgd3JhcHBlcnMuc2V0KHdpbmRvdy5FdmVudC5wcm90b3R5cGUsIEV2ZW50KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gcmVkaXJlY3QgYSBnaXZlbiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgUHJvcGVydHkgbmFtZSB0byBkZWZpbmUgcHJvcGVydHkgZGVzY3JpcHRvci5cbiAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIHJlZGlyZWN0IHRoZSBwcm9wZXJ0eS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVJlZGlyZWN0RGVzY3JpcHRvcihrZXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGQodGhpcykuZXZlbnRba2V5XVxuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgIHBkKHRoaXMpLmV2ZW50W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gY2FsbCBhIGdpdmVuIG1ldGhvZCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgUHJvcGVydHkgbmFtZSB0byBkZWZpbmUgcHJvcGVydHkgZGVzY3JpcHRvci5cbiAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGNhbGwgdGhlIG1ldGhvZCBwcm9wZXJ0eS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUNhbGxEZXNjcmlwdG9yKGtleSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBwZCh0aGlzKS5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBldmVudFtrZXldLmFwcGx5KGV2ZW50LCBhcmd1bWVudHMpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB9XG59XG5cbi8qKlxuICogRGVmaW5lIG5ldyB3cmFwcGVyIGNsYXNzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gQmFzZUV2ZW50IFRoZSBiYXNlIHdyYXBwZXIgY2xhc3MuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIHByb3RvdHlwZSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFRoZSBkZWZpbmVkIHdyYXBwZXIgY2xhc3MuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZpbmVXcmFwcGVyKEJhc2VFdmVudCwgcHJvdG8pIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvdG8pO1xuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQmFzZUV2ZW50XG4gICAgfVxuXG4gICAgLyoqIEN1c3RvbUV2ZW50ICovXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnRUYXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIEJhc2VFdmVudC5jYWxsKHRoaXMsIGV2ZW50VGFyZ2V0LCBldmVudCk7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlRXZlbnQucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBDdXN0b21FdmVudCwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIH0pO1xuXG4gICAgLy8gRGVmaW5lIGFjY2Vzc29ycy5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCEoa2V5IGluIEJhc2VFdmVudC5wcm90b3R5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywga2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGlzRnVuYyA9IHR5cGVvZiBkZXNjcmlwdG9yLnZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBpc0Z1bmNcbiAgICAgICAgICAgICAgICAgICAgPyBkZWZpbmVDYWxsRGVzY3JpcHRvcihrZXkpXG4gICAgICAgICAgICAgICAgICAgIDogZGVmaW5lUmVkaXJlY3REZXNjcmlwdG9yKGtleSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gQ3VzdG9tRXZlbnRcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHdyYXBwZXIgY2xhc3Mgb2YgYSBnaXZlbiBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIHByb3RvdHlwZSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQgdG8gZ2V0IGl0cyB3cmFwcGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgd3JhcHBlciBjbGFzcy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldFdyYXBwZXIocHJvdG8pIHtcbiAgICBpZiAocHJvdG8gPT0gbnVsbCB8fCBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgICByZXR1cm4gRXZlbnRcbiAgICB9XG5cbiAgICBsZXQgd3JhcHBlciA9IHdyYXBwZXJzLmdldChwcm90byk7XG4gICAgaWYgKHdyYXBwZXIgPT0gbnVsbCkge1xuICAgICAgICB3cmFwcGVyID0gZGVmaW5lV3JhcHBlcihnZXRXcmFwcGVyKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykpLCBwcm90byk7XG4gICAgICAgIHdyYXBwZXJzLnNldChwcm90bywgd3JhcHBlcik7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVyXG59XG5cbi8qKlxuICogV3JhcCBhIGdpdmVuIGV2ZW50IHRvIG1hbmFnZW1lbnQgYSBkaXNwYXRjaGluZy5cbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGV2ZW50VGFyZ2V0IFRoZSBldmVudCB0YXJnZXQgb2YgdGhpcyBkaXNwYXRjaGluZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgZXZlbnQgdG8gd3JhcC5cbiAqIEByZXR1cm5zIHtFdmVudH0gVGhlIHdyYXBwZXIgaW5zdGFuY2UuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB3cmFwRXZlbnQoZXZlbnRUYXJnZXQsIGV2ZW50KSB7XG4gICAgY29uc3QgV3JhcHBlciA9IGdldFdyYXBwZXIoT2JqZWN0LmdldFByb3RvdHlwZU9mKGV2ZW50KSk7XG4gICAgcmV0dXJuIG5ldyBXcmFwcGVyKGV2ZW50VGFyZ2V0LCBldmVudClcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGltbWVkaWF0ZVN0b3BwZWQgZmxhZyBvZiBhIGdpdmVuIGV2ZW50LlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGdldC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUaGUgZmxhZyB0byBzdG9wIHByb3BhZ2F0aW9uIGltbWVkaWF0ZWx5LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNTdG9wcGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHBkKGV2ZW50KS5pbW1lZGlhdGVTdG9wcGVkXG59XG5cbi8qKlxuICogU2V0IHRoZSBjdXJyZW50IGV2ZW50IHBoYXNlIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gc2V0IGN1cnJlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50UGhhc2UgTmV3IGV2ZW50IHBoYXNlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXRFdmVudFBoYXNlKGV2ZW50LCBldmVudFBoYXNlKSB7XG4gICAgcGQoZXZlbnQpLmV2ZW50UGhhc2UgPSBldmVudFBoYXNlO1xufVxuXG4vKipcbiAqIFNldCB0aGUgY3VycmVudCB0YXJnZXQgb2YgYSBnaXZlbiBldmVudC5cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBzZXQgY3VycmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fG51bGx9IGN1cnJlbnRUYXJnZXQgTmV3IGN1cnJlbnQgdGFyZ2V0LlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXRDdXJyZW50VGFyZ2V0KGV2ZW50LCBjdXJyZW50VGFyZ2V0KSB7XG4gICAgcGQoZXZlbnQpLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xufVxuXG4vKipcbiAqIFNldCBhIHBhc3NpdmUgbGlzdGVuZXIgb2YgYSBnaXZlbiBldmVudC5cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBzZXQgY3VycmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufG51bGx9IHBhc3NpdmVMaXN0ZW5lciBOZXcgcGFzc2l2ZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0UGFzc2l2ZUxpc3RlbmVyKGV2ZW50LCBwYXNzaXZlTGlzdGVuZXIpIHtcbiAgICBwZChldmVudCkucGFzc2l2ZUxpc3RlbmVyID0gcGFzc2l2ZUxpc3RlbmVyO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IExpc3RlbmVyTm9kZVxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAqIEBwcm9wZXJ0eSB7MXwyfDN9IGxpc3RlbmVyVHlwZVxuICogQHByb3BlcnR5IHtib29sZWFufSBwYXNzaXZlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9uY2VcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJOb2RlfG51bGx9IG5leHRcbiAqIEBwcml2YXRlXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7V2Vha01hcDxvYmplY3QsIE1hcDxzdHJpbmcsIExpc3RlbmVyTm9kZT4+fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgbGlzdGVuZXJzTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuLy8gTGlzdGVuZXIgdHlwZXNcbmNvbnN0IENBUFRVUkUgPSAxO1xuY29uc3QgQlVCQkxFID0gMjtcbmNvbnN0IEFUVFJJQlVURSA9IDM7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIGdpdmVuIHZhbHVlIGlzIGFuIG9iamVjdCBvciBub3QuXG4gKiBAcGFyYW0ge2FueX0geCBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbn1cblxuLyoqXG4gKiBHZXQgbGlzdGVuZXJzLlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZXZlbnRUYXJnZXQgVGhlIGV2ZW50IHRhcmdldCB0byBnZXQuXG4gKiBAcmV0dXJucyB7TWFwPHN0cmluZywgTGlzdGVuZXJOb2RlPn0gVGhlIGxpc3RlbmVycy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldExpc3RlbmVycyhldmVudFRhcmdldCkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGxpc3RlbmVyc01hcC5nZXQoZXZlbnRUYXJnZXQpO1xuICAgIGlmIChsaXN0ZW5lcnMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgXCIndGhpcycgaXMgZXhwZWN0ZWQgYW4gRXZlbnRUYXJnZXQgb2JqZWN0LCBidXQgZ290IGFub3RoZXIgdmFsdWUuXCJcbiAgICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gbGlzdGVuZXJzXG59XG5cbi8qKlxuICogR2V0IHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgZXZlbnQgYXR0cmlidXRlIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIHRvIGdldCBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxuICogQHJldHVybnMge1Byb3BlcnR5RGVzY3JpcHRvcn0gVGhlIHByb3BlcnR5IGRlc2NyaXB0b3IuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZpbmVFdmVudEF0dHJpYnV0ZURlc2NyaXB0b3IoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gZ2V0TGlzdGVuZXJzKHRoaXMpO1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBsaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubGlzdGVuZXJUeXBlID09PSBBVFRSSUJVVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubGlzdGVuZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0KGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIgJiYgIWlzT2JqZWN0KGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gZ2V0TGlzdGVuZXJzKHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBUcmF2ZXJzZSB0byB0aGUgdGFpbCB3aGlsZSByZW1vdmluZyBvbGQgdmFsdWUuXG4gICAgICAgICAgICBsZXQgcHJldiA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IGxpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5saXN0ZW5lclR5cGUgPT09IEFUVFJJQlVURSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgb2xkIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbm9kZS5uZXh0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUubmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5vZGUubmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgbmV3IHZhbHVlLlxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyVHlwZTogQVRUUklCVVRFLFxuICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb25jZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc2V0KGV2ZW50TmFtZSwgbmV3Tm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB9XG59XG5cbi8qKlxuICogRGVmaW5lIGFuIGV2ZW50IGF0dHJpYnV0ZSAoZS5nLiBgZXZlbnRUYXJnZXQub25jbGlja2ApLlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50VGFyZ2V0UHJvdG90eXBlIFRoZSBldmVudCB0YXJnZXQgcHJvdG90eXBlIHRvIGRlZmluZSBhbiBldmVudCBhdHRyYml0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgdG8gZGVmaW5lLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRlZmluZUV2ZW50QXR0cmlidXRlKGV2ZW50VGFyZ2V0UHJvdG90eXBlLCBldmVudE5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgIGV2ZW50VGFyZ2V0UHJvdG90eXBlLFxuICAgICAgICBgb24ke2V2ZW50TmFtZX1gLFxuICAgICAgICBkZWZpbmVFdmVudEF0dHJpYnV0ZURlc2NyaXB0b3IoZXZlbnROYW1lKVxuICAgICk7XG59XG5cbi8qKlxuICogRGVmaW5lIGEgY3VzdG9tIEV2ZW50VGFyZ2V0IHdpdGggZXZlbnQgYXR0cmlidXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGV2ZW50TmFtZXMgRXZlbnQgbmFtZXMgZm9yIGV2ZW50IGF0dHJpYnV0ZXMuXG4gKiBAcmV0dXJucyB7RXZlbnRUYXJnZXR9IFRoZSBjdXN0b20gRXZlbnRUYXJnZXQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FdmVudFRhcmdldChldmVudE5hbWVzKSB7XG4gICAgLyoqIEN1c3RvbUV2ZW50VGFyZ2V0ICovXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnRUYXJnZXQoKSB7XG4gICAgICAgIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXZlbnRUYXJnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudFRhcmdldC5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBDdXN0b21FdmVudFRhcmdldCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudE5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGRlZmluZUV2ZW50QXR0cmlidXRlKEN1c3RvbUV2ZW50VGFyZ2V0LnByb3RvdHlwZSwgZXZlbnROYW1lc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEN1c3RvbUV2ZW50VGFyZ2V0XG59XG5cbi8qKlxuICogRXZlbnRUYXJnZXQuXG4gKlxuICogLSBUaGlzIGlzIGNvbnN0cnVjdG9yIGlmIG5vIGFyZ3VtZW50cy5cbiAqIC0gVGhpcyBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSBDdXN0b21FdmVudFRhcmdldCBjb25zdHJ1Y3RvciBpZiB0aGVyZSBhcmUgYXJndW1lbnRzLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqICAgICBjbGFzcyBBIGV4dGVuZHMgRXZlbnRUYXJnZXQge31cbiAqICAgICBjbGFzcyBCIGV4dGVuZHMgRXZlbnRUYXJnZXQoXCJtZXNzYWdlXCIpIHt9XG4gKiAgICAgY2xhc3MgQyBleHRlbmRzIEV2ZW50VGFyZ2V0KFwibWVzc2FnZVwiLCBcImVycm9yXCIpIHt9XG4gKiAgICAgY2xhc3MgRCBleHRlbmRzIEV2ZW50VGFyZ2V0KFtcIm1lc3NhZ2VcIiwgXCJlcnJvclwiXSkge31cbiAqL1xuZnVuY3Rpb24gRXZlbnRUYXJnZXQoKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRXZlbnRUYXJnZXQpIHtcbiAgICAgICAgbGlzdGVuZXJzTWFwLnNldCh0aGlzLCBuZXcgTWFwKCkpO1xuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVDdXN0b21FdmVudFRhcmdldChhcmd1bWVudHNbMF0pXG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB0eXBlcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHR5cGVzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZpbmVDdXN0b21FdmVudFRhcmdldCh0eXBlcylcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKVxuICAgIC8qZXNsaW50LWVuYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xufVxuXG4vLyBTaG91bGQgYmUgZW51bWVyYWJsZSwgYnV0IGNsYXNzIG1ldGhvZHMgYXJlIG5vdCBlbnVtZXJhYmxlLlxuRXZlbnRUYXJnZXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGdpdmVuIGxpc3RlbmVyIHRvIHRoaXMgZXZlbnQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byBhZGQuXG4gICAgICogQHBhcmFtIHtib29sZWFufHtjYXB0dXJlPzpib29sZWFuLHBhc3NpdmU/OmJvb2xlYW4sb25jZT86Ym9vbGVhbn19IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBmb3IgdGhpcyBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09IFwiZnVuY3Rpb25cIiAmJiAhaXNPYmplY3QobGlzdGVuZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ2xpc3RlbmVyJyBzaG91bGQgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXCIpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnNJc09iaiA9IGlzT2JqZWN0KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBjYXB0dXJlID0gb3B0aW9uc0lzT2JqXG4gICAgICAgICAgICA/IEJvb2xlYW4ob3B0aW9ucy5jYXB0dXJlKVxuICAgICAgICAgICAgOiBCb29sZWFuKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lclR5cGUgPSBjYXB0dXJlID8gQ0FQVFVSRSA6IEJVQkJMRTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHtcbiAgICAgICAgICAgIGxpc3RlbmVyLFxuICAgICAgICAgICAgbGlzdGVuZXJUeXBlLFxuICAgICAgICAgICAgcGFzc2l2ZTogb3B0aW9uc0lzT2JqICYmIEJvb2xlYW4ob3B0aW9ucy5wYXNzaXZlKSxcbiAgICAgICAgICAgIG9uY2U6IG9wdGlvbnNJc09iaiAmJiBCb29sZWFuKG9wdGlvbnMub25jZSksXG4gICAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBpdCBhcyB0aGUgZmlyc3Qgbm9kZSBpZiB0aGUgZmlyc3Qgbm9kZSBpcyBudWxsLlxuICAgICAgICBsZXQgbm9kZSA9IGxpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5ld05vZGUpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmF2ZXJzZSB0byB0aGUgdGFpbCB3aGlsZSBjaGVja2luZyBkdXBsaWNhdGlvbi4uXG4gICAgICAgIGxldCBwcmV2ID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUubGlzdGVuZXIgPT09IGxpc3RlbmVyICYmXG4gICAgICAgICAgICAgICAgbm9kZS5saXN0ZW5lclR5cGUgPT09IGxpc3RlbmVyVHlwZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdWxkIGlnbm9yZSBkdXBsaWNhdGlvbi5cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBpdC5cbiAgICAgICAgcHJldi5uZXh0ID0gbmV3Tm9kZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgZ2l2ZW4gbGlzdGVuZXIgZnJvbSB0aGlzIGV2ZW50IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnx7Y2FwdHVyZT86Ym9vbGVhbixwYXNzaXZlPzpib29sZWFuLG9uY2U/OmJvb2xlYW59fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGdldExpc3RlbmVycyh0aGlzKTtcbiAgICAgICAgY29uc3QgY2FwdHVyZSA9IGlzT2JqZWN0KG9wdGlvbnMpXG4gICAgICAgICAgICA/IEJvb2xlYW4ob3B0aW9ucy5jYXB0dXJlKVxuICAgICAgICAgICAgOiBCb29sZWFuKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lclR5cGUgPSBjYXB0dXJlID8gQ0FQVFVSRSA6IEJVQkJMRTtcblxuICAgICAgICBsZXQgcHJldiA9IG51bGw7XG4gICAgICAgIGxldCBub2RlID0gbGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5saXN0ZW5lciA9PT0gbGlzdGVuZXIgJiZcbiAgICAgICAgICAgICAgICBub2RlLmxpc3RlbmVyVHlwZSA9PT0gbGlzdGVuZXJUeXBlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLm5leHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5vZGUubmV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLmRlbGV0ZShldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJldiA9IG5vZGU7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICogQHBhcmFtIHtFdmVudHx7dHlwZTpzdHJpbmd9fSBldmVudCBUaGUgZXZlbnQgdG8gZGlzcGF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGBmYWxzZWAgaWYgY2FuY2VsZWQuXG4gICAgICovXG4gICAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgPT0gbnVsbCB8fCB0eXBlb2YgZXZlbnQudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJldmVudC50eXBlXCIgc2hvdWxkIGJlIGEgc3RyaW5nLicpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBsaXN0ZW5lcnMgYXJlbid0IHJlZ2lzdGVyZWQsIHRlcm1pbmF0ZS5cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gZ2V0TGlzdGVuZXJzKHRoaXMpO1xuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBldmVudC50eXBlO1xuICAgICAgICBsZXQgbm9kZSA9IGxpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmNlIHdlIGNhbm5vdCByZXdyaXRlIHNldmVyYWwgcHJvcGVydGllcywgc28gd3JhcCBvYmplY3QuXG4gICAgICAgIGNvbnN0IHdyYXBwZWRFdmVudCA9IHdyYXBFdmVudCh0aGlzLCBldmVudCk7XG5cbiAgICAgICAgLy8gVGhpcyBkb2Vzbid0IHByb2Nlc3MgY2FwdHVyaW5nIHBoYXNlIGFuZCBidWJibGluZyBwaGFzZS5cbiAgICAgICAgLy8gVGhpcyBpc24ndCBwYXJ0aWNpcGF0aW5nIGluIGEgdHJlZS5cbiAgICAgICAgbGV0IHByZXYgPSBudWxsO1xuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBsaXN0ZW5lciBpZiBpdCdzIG9uY2VcbiAgICAgICAgICAgIGlmIChub2RlLm9uY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLm5leHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5vZGUubmV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLmRlbGV0ZShldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IG5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGwgdGhpcyBsaXN0ZW5lclxuICAgICAgICAgICAgc2V0UGFzc2l2ZUxpc3RlbmVyKFxuICAgICAgICAgICAgICAgIHdyYXBwZWRFdmVudCxcbiAgICAgICAgICAgICAgICBub2RlLnBhc3NpdmUgPyBub2RlLmxpc3RlbmVyIDogbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5saXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5saXN0ZW5lci5jYWxsKHRoaXMsIHdyYXBwZWRFdmVudCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBub2RlLmxpc3RlbmVyVHlwZSAhPT0gQVRUUklCVVRFICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG5vZGUubGlzdGVuZXIuaGFuZGxlRXZlbnQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5saXN0ZW5lci5oYW5kbGVFdmVudCh3cmFwcGVkRXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBCcmVhayBpZiBgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uYCB3YXMgY2FsbGVkLlxuICAgICAgICAgICAgaWYgKGlzU3RvcHBlZCh3cmFwcGVkRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYXNzaXZlTGlzdGVuZXIod3JhcHBlZEV2ZW50LCBudWxsKTtcbiAgICAgICAgc2V0RXZlbnRQaGFzZSh3cmFwcGVkRXZlbnQsIDApO1xuICAgICAgICBzZXRDdXJyZW50VGFyZ2V0KHdyYXBwZWRFdmVudCwgbnVsbCk7XG5cbiAgICAgICAgcmV0dXJuICF3cmFwcGVkRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgIH0sXG59O1xuXG4vLyBgY29uc3RydWN0b3JgIGlzIG5vdCBlbnVtZXJhYmxlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50VGFyZ2V0LnByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7XG4gICAgdmFsdWU6IEV2ZW50VGFyZ2V0LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBFbnN1cmUgYGV2ZW50VGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkV2ZW50VGFyZ2V0YCBpcyBgdHJ1ZWAuXG5pZiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiB3aW5kb3cuRXZlbnRUYXJnZXQgIT09IFwidW5kZWZpbmVkXCJcbikge1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihFdmVudFRhcmdldC5wcm90b3R5cGUsIHdpbmRvdy5FdmVudFRhcmdldC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudFRhcmdldDtcbmV4cG9ydCB7IGRlZmluZUV2ZW50QXR0cmlidXRlLCBFdmVudFRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQtdGFyZ2V0LXNoaW0ubWpzLm1hcFxuIiwiLyoqXG4gKiBAYXV0aG9yIFRvcnUgTmFnYXNoaW1hIDxodHRwczovL2dpdGh1Yi5jb20vbXlzdGljYXRlYT5cbiAqIFNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBkaXJlY3RvcnkgZm9yIGZ1bGwgbGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgRXZlbnRUYXJnZXQsIGRlZmluZUV2ZW50QXR0cmlidXRlIH0gZnJvbSAnZXZlbnQtdGFyZ2V0LXNoaW0nO1xuXG4vKipcbiAqIFRoZSBzaWduYWwgY2xhc3MuXG4gKiBAc2VlIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jYWJvcnRzaWduYWxcbiAqL1xuY2xhc3MgQWJvcnRTaWduYWwgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gICAgLyoqXG4gICAgICogQWJvcnRTaWduYWwgY2Fubm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWJvcnRTaWduYWwgY2Fubm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIGBBYm9ydFNpZ25hbGAncyBgQWJvcnRDb250cm9sbGVyYCBoYXMgc2lnbmFsZWQgdG8gYWJvcnQsIGFuZCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXQgYWJvcnRlZCgpIHtcbiAgICAgICAgY29uc3QgYWJvcnRlZCA9IGFib3J0ZWRGbGFncy5nZXQodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YgYWJvcnRlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkICd0aGlzJyB0byBiZSBhbiAnQWJvcnRTaWduYWwnIG9iamVjdCwgYnV0IGdvdCAke3RoaXMgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiB0aGlzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhYm9ydGVkO1xuICAgIH1cbn1cbmRlZmluZUV2ZW50QXR0cmlidXRlKEFib3J0U2lnbmFsLnByb3RvdHlwZSwgXCJhYm9ydFwiKTtcbi8qKlxuICogQ3JlYXRlIGFuIEFib3J0U2lnbmFsIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWJvcnRTaWduYWwoKSB7XG4gICAgY29uc3Qgc2lnbmFsID0gT2JqZWN0LmNyZWF0ZShBYm9ydFNpZ25hbC5wcm90b3R5cGUpO1xuICAgIEV2ZW50VGFyZ2V0LmNhbGwoc2lnbmFsKTtcbiAgICBhYm9ydGVkRmxhZ3Muc2V0KHNpZ25hbCwgZmFsc2UpO1xuICAgIHJldHVybiBzaWduYWw7XG59XG4vKipcbiAqIEFib3J0IGEgZ2l2ZW4gc2lnbmFsLlxuICovXG5mdW5jdGlvbiBhYm9ydFNpZ25hbChzaWduYWwpIHtcbiAgICBpZiAoYWJvcnRlZEZsYWdzLmdldChzaWduYWwpICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFib3J0ZWRGbGFncy5zZXQoc2lnbmFsLCB0cnVlKTtcbiAgICBzaWduYWwuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IFwiYWJvcnRcIiB9KTtcbn1cbi8qKlxuICogQWJvcnRlZCBmbGFnIGZvciBlYWNoIGluc3RhbmNlcy5cbiAqL1xuY29uc3QgYWJvcnRlZEZsYWdzID0gbmV3IFdlYWtNYXAoKTtcbi8vIFByb3BlcnRpZXMgc2hvdWxkIGJlIGVudW1lcmFibGUuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBYm9ydFNpZ25hbC5wcm90b3R5cGUsIHtcbiAgICBhYm9ydGVkOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbn0pO1xuLy8gYHRvU3RyaW5nKClgIHNob3VsZCByZXR1cm4gYFwiW29iamVjdCBBYm9ydFNpZ25hbF1cImBcbmlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gXCJzeW1ib2xcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYm9ydFNpZ25hbC5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBcIkFib3J0U2lnbmFsXCIsXG4gICAgfSk7XG59XG5cbi8qKlxuICogVGhlIEFib3J0Q29udHJvbGxlci5cbiAqIEBzZWUgaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNhYm9ydGNvbnRyb2xsZXJcbiAqL1xuY2xhc3MgQWJvcnRDb250cm9sbGVyIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoaXMgY29udHJvbGxlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc2lnbmFscy5zZXQodGhpcywgY3JlYXRlQWJvcnRTaWduYWwoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGBBYm9ydFNpZ25hbGAgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgc2lnbmFsKCkge1xuICAgICAgICByZXR1cm4gZ2V0U2lnbmFsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydCBhbmQgc2lnbmFsIHRvIGFueSBvYnNlcnZlcnMgdGhhdCB0aGUgYXNzb2NpYXRlZCBhY3Rpdml0eSBpcyB0byBiZSBhYm9ydGVkLlxuICAgICAqL1xuICAgIGFib3J0KCkge1xuICAgICAgICBhYm9ydFNpZ25hbChnZXRTaWduYWwodGhpcykpO1xuICAgIH1cbn1cbi8qKlxuICogQXNzb2NpYXRlZCBzaWduYWxzLlxuICovXG5jb25zdCBzaWduYWxzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogR2V0IHRoZSBhc3NvY2lhdGVkIHNpZ25hbCBvZiBhIGdpdmVuIGNvbnRyb2xsZXIuXG4gKi9cbmZ1bmN0aW9uIGdldFNpZ25hbChjb250cm9sbGVyKSB7XG4gICAgY29uc3Qgc2lnbmFsID0gc2lnbmFscy5nZXQoY29udHJvbGxlcik7XG4gICAgaWYgKHNpZ25hbCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkICd0aGlzJyB0byBiZSBhbiAnQWJvcnRDb250cm9sbGVyJyBvYmplY3QsIGJ1dCBnb3QgJHtjb250cm9sbGVyID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2YgY29udHJvbGxlcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpZ25hbDtcbn1cbi8vIFByb3BlcnRpZXMgc2hvdWxkIGJlIGVudW1lcmFibGUuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBYm9ydENvbnRyb2xsZXIucHJvdG90eXBlLCB7XG4gICAgc2lnbmFsOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgICBhYm9ydDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG59KTtcbmlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gXCJzeW1ib2xcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYm9ydENvbnRyb2xsZXIucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogXCJBYm9ydENvbnRyb2xsZXJcIixcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWJvcnRDb250cm9sbGVyO1xuZXhwb3J0IHsgQWJvcnRDb250cm9sbGVyLCBBYm9ydFNpZ25hbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJvcnQtY29udHJvbGxlci5tanMubWFwXG4iLCJjb25zdCBhbHBoYWJldCA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5mdW5jdGlvbiBjcmVhdGVCb3VuZGFyeSgpIHtcbiAgICBsZXQgc2l6ZSA9IDE2O1xuICAgIGxldCByZXMgPSBcIlwiO1xuICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgcmVzICs9IGFscGhhYmV0WyhNYXRoLnJhbmRvbSgpICogYWxwaGFiZXQubGVuZ3RoKSA8PCAwXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJvdW5kYXJ5O1xuIiwiY29uc3QgZ2V0VHlwZSA9ICh2YWx1ZSkgPT4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgIGlmIChnZXRUeXBlKHZhbHVlKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBwID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgICBpZiAocHAgPT09IG51bGwgfHwgcHAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgQ3RvciA9IHBwLmNvbnN0cnVjdG9yICYmIHBwLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIEN0b3IgPT09IE9iamVjdC50b1N0cmluZygpO1xufVxuZXhwb3J0IGRlZmF1bHQgaXNQbGFpbk9iamVjdDtcbiIsImNvbnN0IG5vcm1hbGl6ZVZhbHVlID0gKHZhbHVlKSA9PiBTdHJpbmcodmFsdWUpXG4gICAgLnJlcGxhY2UoL1xccnxcXG4vZywgKG1hdGNoLCBpLCBzdHIpID0+IHtcbiAgICBpZiAoKG1hdGNoID09PSBcIlxcclwiICYmIHN0cltpICsgMV0gIT09IFwiXFxuXCIpXG4gICAgICAgIHx8IChtYXRjaCA9PT0gXCJcXG5cIiAmJiBzdHJbaSAtIDFdICE9PSBcIlxcclwiKSkge1xuICAgICAgICByZXR1cm4gXCJcXHJcXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoO1xufSk7XG5leHBvcnQgZGVmYXVsdCBub3JtYWxpemVWYWx1ZTtcbiIsImNvbnN0IGVzY2FwZU5hbWUgPSAobmFtZSkgPT4gU3RyaW5nKG5hbWUpXG4gICAgLnJlcGxhY2UoL1xcci9nLCBcIiUwRFwiKVxuICAgIC5yZXBsYWNlKC9cXG4vZywgXCIlMEFcIilcbiAgICAucmVwbGFjZSgvXCIvZywgXCIlMjJcIik7XG5leHBvcnQgZGVmYXVsdCBlc2NhcGVOYW1lO1xuIiwiY29uc3QgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKTtcbmV4cG9ydCBkZWZhdWx0IGlzRnVuY3Rpb247XG4iLCJpbXBvcnQgaXNGdW5jdGlvbiBmcm9tIFwiLi9pc0Z1bmN0aW9uLmpzXCI7XG5leHBvcnQgY29uc3QgaXNGaWxlTGlrZSA9ICh2YWx1ZSkgPT4gQm9vbGVhbih2YWx1ZVxuICAgICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICYmIGlzRnVuY3Rpb24odmFsdWUuY29uc3RydWN0b3IpXG4gICAgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJGaWxlXCJcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbHVlLnN0cmVhbSlcbiAgICAmJiB2YWx1ZS5uYW1lICE9IG51bGxcbiAgICAmJiB2YWx1ZS5zaXplICE9IG51bGxcbiAgICAmJiB2YWx1ZS5sYXN0TW9kaWZpZWQgIT0gbnVsbCk7XG4iLCJpbXBvcnQgaXNGdW5jdGlvbiBmcm9tIFwiLi9pc0Z1bmN0aW9uLmpzXCI7XG5leHBvcnQgY29uc3QgaXNGb3JtRGF0YSA9ICh2YWx1ZSkgPT4gQm9vbGVhbih2YWx1ZVxuICAgICYmIGlzRnVuY3Rpb24odmFsdWUuY29uc3RydWN0b3IpXG4gICAgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJGb3JtRGF0YVwiXG4gICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5hcHBlbmQpXG4gICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5nZXRBbGwpXG4gICAgJiYgaXNGdW5jdGlvbih2YWx1ZS5lbnRyaWVzKVxuICAgICYmIGlzRnVuY3Rpb24odmFsdWVbU3ltYm9sLml0ZXJhdG9yXSkpO1xuZXhwb3J0IGNvbnN0IGlzRm9ybURhdGFMaWtlID0gaXNGb3JtRGF0YTtcbiIsInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRm9ybURhdGFFbmNvZGVyX2luc3RhbmNlcywgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGLCBfRm9ybURhdGFFbmNvZGVyX0NSTEZfQllURVMsIF9Gb3JtRGF0YUVuY29kZXJfQ1JMRl9CWVRFU19MRU5HVEgsIF9Gb3JtRGF0YUVuY29kZXJfREFTSEVTLCBfRm9ybURhdGFFbmNvZGVyX2VuY29kZXIsIF9Gb3JtRGF0YUVuY29kZXJfZm9vdGVyLCBfRm9ybURhdGFFbmNvZGVyX2Zvcm0sIF9Gb3JtRGF0YUVuY29kZXJfb3B0aW9ucywgX0Zvcm1EYXRhRW5jb2Rlcl9nZXRGaWVsZEhlYWRlcjtcbmltcG9ydCBjcmVhdGVCb3VuZGFyeSBmcm9tIFwiLi91dGlsL2NyZWF0ZUJvdW5kYXJ5LmpzXCI7XG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tIFwiLi91dGlsL2lzUGxhaW5PYmplY3QuanNcIjtcbmltcG9ydCBub3JtYWxpemUgZnJvbSBcIi4vdXRpbC9ub3JtYWxpemVWYWx1ZS5qc1wiO1xuaW1wb3J0IGVzY2FwZSBmcm9tIFwiLi91dGlsL2VzY2FwZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzRmlsZUxpa2UgfSBmcm9tIFwiLi91dGlsL2lzRmlsZUxpa2UuanNcIjtcbmltcG9ydCB7IGlzRm9ybURhdGEgfSBmcm9tIFwiLi91dGlsL2lzRm9ybURhdGEuanNcIjtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGVuYWJsZUFkZGl0aW9uYWxIZWFkZXJzOiBmYWxzZVxufTtcbmV4cG9ydCBjbGFzcyBGb3JtRGF0YUVuY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKGZvcm0sIGJvdW5kYXJ5T3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgIF9Gb3JtRGF0YUVuY29kZXJfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGLnNldCh0aGlzLCBcIlxcclxcblwiKTtcbiAgICAgICAgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGX0JZVEVTLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRm9ybURhdGFFbmNvZGVyX0NSTEZfQllURVNfTEVOR1RILnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRm9ybURhdGFFbmNvZGVyX0RBU0hFUy5zZXQodGhpcywgXCItXCIucmVwZWF0KDIpKTtcbiAgICAgICAgX0Zvcm1EYXRhRW5jb2Rlcl9lbmNvZGVyLnNldCh0aGlzLCBuZXcgVGV4dEVuY29kZXIoKSk7XG4gICAgICAgIF9Gb3JtRGF0YUVuY29kZXJfZm9vdGVyLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRm9ybURhdGFFbmNvZGVyX2Zvcm0uc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Gb3JtRGF0YUVuY29kZXJfb3B0aW9ucy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgaWYgKCFpc0Zvcm1EYXRhKGZvcm0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgYSBGb3JtRGF0YSBpbnN0YW5jZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJvdW5kYXJ5O1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChib3VuZGFyeU9yT3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBib3VuZGFyeU9yT3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJvdW5kYXJ5ID0gYm91bmRhcnlPck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib3VuZGFyeSkge1xuICAgICAgICAgICAgYm91bmRhcnkgPSBjcmVhdGVCb3VuZGFyeSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYm91bmRhcnkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBib3VuZGFyeSBhcmd1bWVudCB0byBiZSBhIHN0cmluZy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgIWlzUGxhaW5PYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBvcHRpb25zIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2Zvcm0sIGZvcm0sIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX29wdGlvbnMsIHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfQ1JMRl9CWVRFUywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2VuY29kZXIsIFwiZlwiKS5lbmNvZGUoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0NSTEYsIFwiZlwiKSksIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0NSTEZfQllURVNfTEVOR1RILCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfQ1JMRl9CWVRFUywgXCJmXCIpLmJ5dGVMZW5ndGgsIFwiZlwiKTtcbiAgICAgICAgdGhpcy5ib3VuZGFyeSA9IGBmb3JtLWRhdGEtYm91bmRhcnktJHtib3VuZGFyeX1gO1xuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlID0gYG11bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PSR7dGhpcy5ib3VuZGFyeX1gO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfZm9vdGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfZW5jb2RlciwgXCJmXCIpLmVuY29kZShgJHtfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfREFTSEVTLCBcImZcIil9JHt0aGlzLmJvdW5kYXJ5fSR7X19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0RBU0hFUywgXCJmXCIpfSR7X19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0NSTEYsIFwiZlwiKS5yZXBlYXQoMil9YCksIFwiZlwiKTtcbiAgICAgICAgdGhpcy5jb250ZW50TGVuZ3RoID0gU3RyaW5nKHRoaXMuZ2V0Q29udGVudExlbmd0aCgpKTtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgXCJDb250ZW50LUxlbmd0aFwiOiB0aGlzLmNvbnRlbnRMZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIGJvdW5kYXJ5OiB7IHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9LFxuICAgICAgICAgICAgY29udGVudFR5cGU6IHsgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiB7IHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9LFxuICAgICAgICAgICAgaGVhZGVyczogeyB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0Q29udGVudExlbmd0aCgpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHJhd10gb2YgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2Zvcm0sIFwiZlwiKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpc0ZpbGVMaWtlKHJhdykgPyByYXcgOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfZW5jb2RlciwgXCJmXCIpLmVuY29kZShub3JtYWxpemUocmF3KSk7XG4gICAgICAgICAgICBsZW5ndGggKz0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2luc3RhbmNlcywgXCJtXCIsIF9Gb3JtRGF0YUVuY29kZXJfZ2V0RmllbGRIZWFkZXIpLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBsZW5ndGggKz0gaXNGaWxlTGlrZSh2YWx1ZSkgPyB2YWx1ZS5zaXplIDogdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIGxlbmd0aCArPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfQ1JMRl9CWVRFU19MRU5HVEgsIFwiZlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoICsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2Zvb3RlciwgXCJmXCIpLmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgICp2YWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHJhd10gb2YgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2Zvcm0sIFwiZlwiKS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaXNGaWxlTGlrZShyYXcpID8gcmF3IDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2VuY29kZXIsIFwiZlwiKS5lbmNvZGUobm9ybWFsaXplKHJhdykpO1xuICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX2luc3RhbmNlcywgXCJtXCIsIF9Gb3JtRGF0YUVuY29kZXJfZ2V0RmllbGRIZWFkZXIpLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfQ1JMRl9CWVRFUywgXCJmXCIpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhRW5jb2Rlcl9mb290ZXIsIFwiZlwiKTtcbiAgICB9XG4gICAgYXN5bmMgKmVuY29kZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpc0ZpbGVMaWtlKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQqIHBhcnQuc3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFsoX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGID0gbmV3IFdlYWtNYXAoKSwgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGX0JZVEVTID0gbmV3IFdlYWtNYXAoKSwgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGX0JZVEVTX0xFTkdUSCA9IG5ldyBXZWFrTWFwKCksIF9Gb3JtRGF0YUVuY29kZXJfREFTSEVTID0gbmV3IFdlYWtNYXAoKSwgX0Zvcm1EYXRhRW5jb2Rlcl9lbmNvZGVyID0gbmV3IFdlYWtNYXAoKSwgX0Zvcm1EYXRhRW5jb2Rlcl9mb290ZXIgPSBuZXcgV2Vha01hcCgpLCBfRm9ybURhdGFFbmNvZGVyX2Zvcm0gPSBuZXcgV2Vha01hcCgpLCBfRm9ybURhdGFFbmNvZGVyX29wdGlvbnMgPSBuZXcgV2Vha01hcCgpLCBfRm9ybURhdGFFbmNvZGVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9Gb3JtRGF0YUVuY29kZXJfZ2V0RmllbGRIZWFkZXIgPSBmdW5jdGlvbiBfRm9ybURhdGFFbmNvZGVyX2dldEZpZWxkSGVhZGVyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxldCBoZWFkZXIgPSBcIlwiO1xuICAgICAgICBoZWFkZXIgKz0gYCR7X19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0RBU0hFUywgXCJmXCIpfSR7dGhpcy5ib3VuZGFyeX0ke19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGLCBcImZcIil9YDtcbiAgICAgICAgaGVhZGVyICs9IGBDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCIke2VzY2FwZShuYW1lKX1cImA7XG4gICAgICAgIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgICAgICAgICAgaGVhZGVyICs9IGA7IGZpbGVuYW1lPVwiJHtlc2NhcGUodmFsdWUubmFtZSl9XCIke19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGLCBcImZcIil9YDtcbiAgICAgICAgICAgIGhlYWRlciArPSBgQ29udGVudC1UeXBlOiAke3ZhbHVlLnR5cGUgfHwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YUVuY29kZXJfb3B0aW9ucywgXCJmXCIpLmVuYWJsZUFkZGl0aW9uYWxIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICBoZWFkZXIgKz0gYCR7X19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFFbmNvZGVyX0NSTEYsIFwiZlwiKX1Db250ZW50LUxlbmd0aDogJHtpc0ZpbGVMaWtlKHZhbHVlKSA/IHZhbHVlLnNpemUgOiB2YWx1ZS5ieXRlTGVuZ3RofWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhRW5jb2Rlcl9lbmNvZGVyLCBcImZcIikuZW5jb2RlKGAke2hlYWRlcn0ke19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhRW5jb2Rlcl9DUkxGLCBcImZcIikucmVwZWF0KDIpfWApO1xuICAgIH0sIFN5bWJvbC5pdGVyYXRvcildKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEVuY29kZXIgPSBGb3JtRGF0YUVuY29kZXI7XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aXBhcnRCb2R5IHtcbiAgICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgcmV0dXJuICdNdWx0aXBhcnRCb2R5JztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdWx0aXBhcnRCb2R5Lm1qcy5tYXAiLCJpbXBvcnQgKiBhcyBuZiBmcm9tICdub2RlLWZldGNoJztcbmltcG9ydCAqIGFzIGZkIGZyb20gJ2Zvcm1kYXRhLW5vZGUnO1xuaW1wb3J0IEtlZXBBbGl2ZUFnZW50IGZyb20gJ2FnZW50a2VlcGFsaXZlJztcbmltcG9ydCB7IEFib3J0Q29udHJvbGxlciBhcyBBYm9ydENvbnRyb2xsZXJQb2x5ZmlsbCB9IGZyb20gJ2Fib3J0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgUmVhZFN0cmVhbSBhcyBGc1JlYWRTdHJlYW0gfSBmcm9tICdub2RlOmZzJztcbmltcG9ydCB7IEZvcm1EYXRhRW5jb2RlciB9IGZyb20gJ2Zvcm0tZGF0YS1lbmNvZGVyJztcbmltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSAnbm9kZTpzdHJlYW0nO1xuaW1wb3J0IHsgTXVsdGlwYXJ0Qm9keSB9IGZyb20gXCIuL011bHRpcGFydEJvZHkubWpzXCI7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJ25vZGU6c3RyZWFtL3dlYic7XG5sZXQgZmlsZUZyb21QYXRoV2FybmVkID0gZmFsc2U7XG5hc3luYyBmdW5jdGlvbiBmaWxlRnJvbVBhdGgocGF0aCwgLi4uYXJncykge1xuICAgIC8vIHRoaXMgaW1wb3J0IGZhaWxzIGluIGVudmlyb25tZW50cyB0aGF0IGRvbid0IGhhbmRsZSBleHBvcnQgbWFwcyBjb3JyZWN0bHksIGxpa2Ugb2xkIHZlcnNpb25zIG9mIEplc3RcbiAgICBjb25zdCB7IGZpbGVGcm9tUGF0aDogX2ZpbGVGcm9tUGF0aCB9ID0gYXdhaXQgaW1wb3J0KCdmb3JtZGF0YS1ub2RlL2ZpbGUtZnJvbS1wYXRoJyk7XG4gICAgaWYgKCFmaWxlRnJvbVBhdGhXYXJuZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBmaWxlRnJvbVBhdGggaXMgZGVwcmVjYXRlZDsgdXNlIGZzLmNyZWF0ZVJlYWRTdHJlYW0oJHtKU09OLnN0cmluZ2lmeShwYXRoKX0pIGluc3RlYWRgKTtcbiAgICAgICAgZmlsZUZyb21QYXRoV2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBhd2FpdCBfZmlsZUZyb21QYXRoKHBhdGgsIC4uLmFyZ3MpO1xufVxuY29uc3QgZGVmYXVsdEh0dHBBZ2VudCA9IG5ldyBLZWVwQWxpdmVBZ2VudCh7IGtlZXBBbGl2ZTogdHJ1ZSwgdGltZW91dDogNSAqIDYwICogMTAwMCB9KTtcbmNvbnN0IGRlZmF1bHRIdHRwc0FnZW50ID0gbmV3IEtlZXBBbGl2ZUFnZW50Lkh0dHBzQWdlbnQoeyBrZWVwQWxpdmU6IHRydWUsIHRpbWVvdXQ6IDUgKiA2MCAqIDEwMDAgfSk7XG5hc3luYyBmdW5jdGlvbiBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyhmb3JtLCBvcHRzKSB7XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBGb3JtRGF0YUVuY29kZXIoZm9ybSk7XG4gICAgY29uc3QgcmVhZGFibGUgPSBSZWFkYWJsZS5mcm9tKGVuY29kZXIpO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgTXVsdGlwYXJ0Qm9keShyZWFkYWJsZSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgLi4ub3B0cy5oZWFkZXJzLFxuICAgICAgICAuLi5lbmNvZGVyLmhlYWRlcnMsXG4gICAgICAgICdDb250ZW50LUxlbmd0aCc6IGVuY29kZXIuY29udGVudExlbmd0aCxcbiAgICB9O1xuICAgIHJldHVybiB7IC4uLm9wdHMsIGJvZHk6IGJvZHksIGhlYWRlcnMgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lKCkge1xuICAgIC8vIFBvbHlmaWxsIGdsb2JhbCBvYmplY3QgaWYgbmVlZGVkLlxuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yICh0aGUgdHlwZXMgYXJlIHN1YnRseSBkaWZmZXJlbnQsIGJ1dCBjb21wYXRpYmxlIGluIHByYWN0aWNlKVxuICAgICAgICBnbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlciA9IEFib3J0Q29udHJvbGxlclBvbHlmaWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnbm9kZScsXG4gICAgICAgIGZldGNoOiBuZi5kZWZhdWx0LFxuICAgICAgICBSZXF1ZXN0OiBuZi5SZXF1ZXN0LFxuICAgICAgICBSZXNwb25zZTogbmYuUmVzcG9uc2UsXG4gICAgICAgIEhlYWRlcnM6IG5mLkhlYWRlcnMsXG4gICAgICAgIEZvcm1EYXRhOiBmZC5Gb3JtRGF0YSxcbiAgICAgICAgQmxvYjogZmQuQmxvYixcbiAgICAgICAgRmlsZTogZmQuRmlsZSxcbiAgICAgICAgUmVhZGFibGVTdHJlYW0sXG4gICAgICAgIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLFxuICAgICAgICBnZXREZWZhdWx0QWdlbnQ6ICh1cmwpID0+ICh1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGRlZmF1bHRIdHRwc0FnZW50IDogZGVmYXVsdEh0dHBBZ2VudCksXG4gICAgICAgIGZpbGVGcm9tUGF0aCxcbiAgICAgICAgaXNGc1JlYWRTdHJlYW06ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBGc1JlYWRTdHJlYW0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vZGUtcnVudGltZS5tanMubWFwIiwiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgKiBhcyBzaGltcyBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG5pbXBvcnQgKiBhcyBhdXRvIGZyb20gJ29wZW5haS9fc2hpbXMvYXV0by9ydW50aW1lJztcbmV4cG9ydCBjb25zdCBpbml0ID0gKCkgPT4ge1xuICBpZiAoIXNoaW1zLmtpbmQpIHNoaW1zLnNldFNoaW1zKGF1dG8uZ2V0UnVudGltZSgpLCB7IGF1dG86IHRydWUgfSk7XG59O1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuXG5pbml0KCk7XG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE9wZW5BSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEFQSUVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICAgICAgc3VwZXIoYCR7QVBJRXJyb3IubWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSl9YCk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3RfaWQgPSBoZWFkZXJzPy5bJ3gtcmVxdWVzdC1pZCddO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5jb2RlID0gZGF0YT8uWydjb2RlJ107XG4gICAgICAgIHRoaXMucGFyYW0gPSBkYXRhPy5bJ3BhcmFtJ107XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGE/LlsndHlwZSddO1xuICAgIH1cbiAgICBzdGF0aWMgbWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJvcj8ubWVzc2FnZSA/XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICA6IGVycm9yID8gSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG4gICAgICAgICAgICAgICAgOiBtZXNzYWdlO1xuICAgICAgICBpZiAoc3RhdHVzICYmIG1zZykge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0YXR1c30gJHttc2d9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RhdHVzfSBzdGF0dXMgY29kZSAobm8gYm9keSlgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcobm8gc3RhdHVzIGNvZGUgb3IgYm9keSknO1xuICAgIH1cbiAgICBzdGF0aWMgZ2VuZXJhdGUoc3RhdHVzLCBlcnJvclJlc3BvbnNlLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIGlmICghc3RhdHVzIHx8ICFoZWFkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IG1lc3NhZ2UsIGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IGVycm9yUmVzcG9uc2U/LlsnZXJyb3InXTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRpb25FcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGVybWlzc2lvbkRlbmllZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25mbGljdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQyMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPj0gNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVybmFsU2VydmVyRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBUElFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlLCBjYXVzZSB9KSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlIHx8ICdDb25uZWN0aW9uIGVycm9yLicsIHVuZGVmaW5lZCk7XG4gICAgICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIHRoZSAnY2F1c2UnIHByb3BlcnR5IGlzIGFscmVhZHkgZGVjbGFyZWRcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoY2F1c2UpXG4gICAgICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IgZXh0ZW5kcyBBUElDb25uZWN0aW9uRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBtZXNzYWdlOiBtZXNzYWdlID8/ICdSZXF1ZXN0IHRpbWVkIG91dC4nIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgTm90Rm91bmRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIExlbmd0aEZpbmlzaFJlYXNvbkVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIGNvbnRlbnQgYXMgdGhlIGxlbmd0aCBsaW1pdCB3YXMgcmVhY2hlZGApO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IgZXh0ZW5kcyBPcGVuQUlFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGBDb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgY29udGVudCBhcyB0aGUgcmVxdWVzdCB3YXMgcmVqZWN0ZWQgYnkgdGhlIGNvbnRlbnQgZmlsdGVyYCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IubWpzLm1hcCIsInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleDtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uLy4uL2Vycm9yLm1qc1wiO1xuLyoqXG4gKiBBIHJlLWltcGxlbWVudGF0aW9uIG9mIGh0dHB4J3MgYExpbmVEZWNvZGVyYCBpbiBQeXRob24gdGhhdCBoYW5kbGVzIGluY3JlbWVudGFsbHlcbiAqIHJlYWRpbmcgbGluZXMgZnJvbSB0ZXh0LlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmNvZGUvaHR0cHgvYmxvYi85MjAzMzNlYTk4MTE4ZTljZjYxN2YyNDY5MDVkN2IyMDI1MTA5NDFjL2h0dHB4L19kZWNvZGVycy5weSNMMjU4XG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5lRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICB9XG4gICAgZGVjb2RlKGNodW5rKSB7XG4gICAgICAgIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmluYXJ5Q2h1bmsgPSBjaHVuayBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoY2h1bmspXG4gICAgICAgICAgICA6IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2h1bmspXG4gICAgICAgICAgICAgICAgOiBjaHVuaztcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIG5ld0RhdGEuc2V0KGJpbmFyeUNodW5rLCB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ld0RhdGE7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZE5ld2xpbmVJbmRleCh0aGlzLmJ1ZmZlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHBhdHRlcm5JbmRleC5jYXJyaWFnZSAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgdW50aWwgd2UgZWl0aGVyIGdldCBhIGNvcnJlc3BvbmRpbmcgYFxcbmAsIGEgbmV3IGBcXHJgIG9yIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBwYXR0ZXJuSW5kZXguaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGdvdCBkb3VibGUgXFxyIG9yIFxccnRleHRcXG5cbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChwYXR0ZXJuSW5kZXguaW5kZXggIT09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSArIDEgfHwgcGF0dGVybkluZGV4LmNhcnJpYWdlKSkge1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2godGhpcy5kZWNvZGVUZXh0KHRoaXMuYnVmZmVyLnNsaWNlKDAsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSAtIDEpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpICE9PSBudWxsID8gcGF0dGVybkluZGV4LnByZWNlZGluZyAtIDEgOiBwYXR0ZXJuSW5kZXgucHJlY2VkaW5nO1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuZGVjb2RlVGV4dCh0aGlzLmJ1ZmZlci5zbGljZSgwLCBlbmRJbmRleCkpO1xuICAgICAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UocGF0dGVybkluZGV4LmluZGV4KTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuICAgIGRlY29kZVRleHQoYnl0ZXMpIHtcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgICAgICAvLyBOb2RlOlxuICAgICAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIHN0cmVhbSBjaHVuayBpbiBhbiBlbnZpcm9ubWVudCB3aXRoIGEgZ2xvYmFsIFwiQnVmZmVyXCIgZGVmaW5lZCwgd2hpY2ggdGhpcyBsaWJyYXJ5IGFzc3VtZXMgdG8gYmUgTm9kZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJyb3dzZXJcbiAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgYnl0ZXMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dERlY29kZXIgPz8gKHRoaXMudGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCk7XG4gICAgfVxuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZSgnXFxuJyk7XG4gICAgfVxufVxuX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXggPSBuZXcgV2Vha01hcCgpO1xuLy8gcHJldHRpZXItaWdub3JlXG5MaW5lRGVjb2Rlci5ORVdMSU5FX0NIQVJTID0gbmV3IFNldChbJ1xcbicsICdcXHInXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxccl0vZztcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZWFyY2hlcyB0aGUgYnVmZmVyIGZvciB0aGUgZW5kIHBhdHRlcm5zLCAoXFxyIG9yIFxcbilcbiAqIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBpbmRleCBwcmVjZWRpbmcgdGhlIG1hdGNoZWQgbmV3bGluZSBhbmQgdGhlXG4gKiBpbmRleCBhZnRlciB0aGUgbmV3bGluZSBjaGFyLiBgbnVsbGAgaXMgcmV0dXJuZWQgaWYgbm8gbmV3IGxpbmUgaXMgZm91bmQuXG4gKlxuICogYGBgdHNcbiAqIGZpbmROZXdMaW5lSW5kZXgoJ2FiY1xcbmRlZicpIC0+IHsgcHJlY2VkaW5nOiAyLCBpbmRleDogMyB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gZmluZE5ld2xpbmVJbmRleChidWZmZXIsIHN0YXJ0SW5kZXgpIHtcbiAgICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gICAgY29uc3QgY2FycmlhZ2UgPSAweDBkOyAvLyBcXHJcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCA/PyAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcHJlY2VkaW5nOiBpLCBpbmRleDogaSArIDEsIGNhcnJpYWdlOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZERvdWJsZU5ld2xpbmVJbmRleChidWZmZXIpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIHRoZSBidWZmZXIgZm9yIHRoZSBlbmQgcGF0dGVybnMgKFxcclxcciwgXFxuXFxuLCBcXHJcXG5cXHJcXG4pXG4gICAgLy8gYW5kIHJldHVybnMgdGhlIGluZGV4IHJpZ2h0IGFmdGVyIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFueSBwYXR0ZXJuLFxuICAgIC8vIG9yIC0xIGlmIG5vbmUgb2YgdGhlIHBhdHRlcm5zIGFyZSBmb3VuZC5cbiAgICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gICAgY29uc3QgY2FycmlhZ2UgPSAweDBkOyAvLyBcXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gbmV3bGluZSAmJiBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lKSB7XG4gICAgICAgICAgICAvLyBcXG5cXG5cbiAgICAgICAgICAgIHJldHVybiBpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSAmJiBidWZmZXJbaSArIDFdID09PSBjYXJyaWFnZSkge1xuICAgICAgICAgICAgLy8gXFxyXFxyXG4gICAgICAgICAgICByZXR1cm4gaSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgICAgICAgIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUgJiZcbiAgICAgICAgICAgIGkgKyAzIDwgYnVmZmVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAyXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgICAgICAgIGJ1ZmZlcltpICsgM10gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIC8vIFxcclxcblxcclxcblxuICAgICAgICAgICAgcmV0dXJuIGkgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmUubWpzLm1hcCIsIi8qKlxuICogTW9zdCBicm93c2VycyBkb24ndCB5ZXQgaGF2ZSBhc3luYyBpdGVyYWJsZSBzdXBwb3J0IGZvciBSZWFkYWJsZVN0cmVhbSxcbiAqIGFuZCBOb2RlIGhhcyBhIHZlcnkgZGlmZmVyZW50IHdheSBvZiByZWFkaW5nIGJ5dGVzIGZyb20gaXRzIFwiUmVhZGFibGVTdHJlYW1cIi5cbiAqXG4gKiBUaGlzIHBvbHlmaWxsIHdhcyBwdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWF0dGlhc0J1ZWxlbnMvd2ViLXN0cmVhbXMtcG9seWZpbGwvcHVsbC8xMjIjaXNzdWVjb21tZW50LTE2MjczNTQ0OTBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHN0cmVhbSkge1xuICAgIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKVxuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3luYyBuZXh0KCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQ/LmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgZXJyb3JlZFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICAgIH0sXG4gICAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLXV0aWxzLm1qcy5tYXAiLCJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuL19zaGltcy9pbmRleC5tanNcIjtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBmaW5kRG91YmxlTmV3bGluZUluZGV4LCBMaW5lRGVjb2RlciB9IGZyb20gXCIuL2ludGVybmFsL2RlY29kZXJzL2xpbmUubWpzXCI7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZSB9IGZyb20gXCIuL2ludGVybmFsL3N0cmVhbS11dGlscy5tanNcIjtcbmltcG9ydCB7IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyB9IGZyb20gXCIuL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBBUElFcnJvciB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoaXRlcmF0b3IsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiogaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBzc2Ugb2YgX2l0ZXJTU0VNZXNzYWdlcyhyZXNwb25zZSwgY29udHJvbGxlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5kYXRhLnN0YXJ0c1dpdGgoJ1tET05FXScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzZS5ldmVudC5zdGFydHNXaXRoKCdyZXNwb25zZS4nKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3NlLmV2ZW50LnN0YXJ0c1dpdGgoJ3RyYW5zY3JpcHQuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRnJvbSBjaHVuazpgLCBzc2UucmF3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBUElFcnJvcih1bmRlZmluZWQsIGRhdGEuZXJyb3IsIHVuZGVmaW5lZCwgY3JlYXRlUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgd2hlcmUgdGhlIGVycm9yIHNob3VsZCBiZSB0aHJvd24/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3NlLmV2ZW50ID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJRXJyb3IodW5kZWZpbmVkLCBkYXRhLmVycm9yLCBkYXRhLm1lc3NhZ2UsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB7IGV2ZW50OiBzc2UuZXZlbnQsIGRhdGE6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBTdHJlYW0gZnJvbSBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtXG4gICAgICogd2hlcmUgZWFjaCBpdGVtIGlzIGEgSlNPTiB2YWx1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiogaXRlckxpbmVzKCkge1xuICAgICAgICAgICAgY29uc3QgbGluZURlY29kZXIgPSBuZXcgTGluZURlY29kZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbSk7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZGVjb2RlKGNodW5rKSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3luYyBmdW5jdGlvbiogaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBsaW5lIG9mIGl0ZXJMaW5lcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lKVxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BsaXRzIHRoZSBzdHJlYW0gaW50byB0d28gc3RyZWFtcyB3aGljaCBjYW4gYmVcbiAgICAgKiBpbmRlcGVuZGVudGx5IHJlYWQgZnJvbSBhdCBkaWZmZXJlbnQgc3BlZWRzLlxuICAgICAqL1xuICAgIHRlZSgpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IFtdO1xuICAgICAgICBjb25zdCByaWdodCA9IFtdO1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgdGVlSXRlcmF0b3IgPSAocXVldWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IobGVmdCksIHRoaXMuY29udHJvbGxlciksXG4gICAgICAgICAgICBuZXcgU3RyZWFtKCgpID0+IHRlZUl0ZXJhdG9yKHJpZ2h0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBzdHJlYW0gdG8gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbSBvZlxuICAgICAqIEpTT04gc3RyaW5naWZpZWQgdmFsdWVzIGluIHRoZSBzdHJlYW1cbiAgICAgKiB3aGljaCBjYW4gYmUgdHVybmVkIGJhY2sgaW50byBhIFN0cmVhbSB3aXRoIGBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKClgLlxuICAgICAqL1xuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgaXRlcjtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICAgICAgICAgIGl0ZXIgPSBzZWxmW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHB1bGwoY3RybCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmVucXVldWUoYnl0ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZXIucmV0dXJuPy4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogX2l0ZXJTU0VNZXNzYWdlcyhyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgIH1cbiAgICBjb25zdCBzc2VEZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShyZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZUNodW5rIG9mIGl0ZXJTU0VDaHVua3MoaXRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShzc2VDaHVuaykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNzZSA9IHNzZURlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHNzZSlcbiAgICAgICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpXG4gICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbiBhc3luYyBpdGVyYWJsZSBpdGVyYXRvciwgaXRlcmF0ZXMgb3ZlciBpdCBhbmQgeWllbGRzIGZ1bGxcbiAqIFNTRSBjaHVua3MsIGkuZS4geWllbGRzIHdoZW4gYSBkb3VibGUgbmV3LWxpbmUgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBpdGVyU1NFQ2h1bmtzKGl0ZXJhdG9yKSB7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgaWYgKGNodW5rID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJpbmFyeUNodW5rID0gY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgICAgICAgICAgIDogY2h1bms7XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldChkYXRhKTtcbiAgICAgICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZERvdWJsZU5ld2xpbmVJbmRleChkYXRhKSkgIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhLnNsaWNlKDAsIHBhdHRlcm5JbmRleCk7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZShwYXR0ZXJuSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeWllbGQgZGF0YTtcbiAgICB9XG59XG5jbGFzcyBTU0VEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgIH1cbiAgICBkZWNvZGUobGluZSkge1xuICAgICAgICBpZiAobGluZS5lbmRzV2l0aCgnXFxyJykpIHtcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZSBhbmQgd2UgZGlkbid0IHByZXZpb3VzbHkgZW5jb3VudGVyIGFueSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50ICYmICF0aGlzLmRhdGEubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHNzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGxpbmUpO1xuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbZmllbGRuYW1lLCBfLCB2YWx1ZV0gPSBwYXJ0aXRpb24obGluZSwgJzonKTtcbiAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkbmFtZSA9PT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgdGhpcy5ldmVudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihkZWxpbWl0ZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSwgZGVsaW1pdGVyLCBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZGVsaW1pdGVyLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwIiwiaW1wb3J0IHsgRm9ybURhdGEsIEZpbGUsIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLCBpc0ZzUmVhZFN0cmVhbSwgfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG5leHBvcnQgeyBmaWxlRnJvbVBhdGggfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLnVybCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5uYW1lID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gICAgaXNCbG9iTGlrZSh2YWx1ZSk7XG4vKipcbiAqIFRoZSBCbG9iTGlrZSB0eXBlIG9taXRzIGFycmF5QnVmZmVyKCkgYmVjYXVzZSBAdHlwZXMvbm9kZS1mZXRjaEBeMi42LjQgbGFja3MgaXQ7IGJ1dCB0aGlzIGNoZWNrXG4gKiBhZGRzIHRoZSBhcnJheUJ1ZmZlcigpIG1ldGhvZCB0eXBlIGJlY2F1c2UgaXQgaXMgYXZhaWxhYmxlIGFuZCB1c2VkIGF0IHJ1bnRpbWVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQmxvYkxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gICAgdHlwZW9mIHZhbHVlLnR5cGUgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmFsdWUuYXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaXNVcGxvYWRhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIGlzRmlsZUxpa2UodmFsdWUpIHx8IGlzUmVzcG9uc2VMaWtlKHZhbHVlKSB8fCBpc0ZzUmVhZFN0cmVhbSh2YWx1ZSk7XG59O1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNyZWF0aW5nIGEge0BsaW5rIEZpbGV9IHRvIHBhc3MgdG8gYW4gU0RLIHVwbG9hZCBtZXRob2QgZnJvbSBhIHZhcmlldHkgb2YgZGlmZmVyZW50IGRhdGEgZm9ybWF0c1xuICogQHBhcmFtIHZhbHVlIHRoZSByYXcgY29udGVudCBvZiB0aGUgZmlsZS4gIENhbiBiZSBhbiB7QGxpbmsgVXBsb2FkYWJsZX0sIHtAbGluayBCbG9iTGlrZVBhcnR9LCBvciB7QGxpbmsgQXN5bmNJdGVyYWJsZX0gb2Yge0BsaW5rIEJsb2JMaWtlUGFydH1zXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgdGhlIG5hbWUgb2YgdGhlIGZpbGUuIElmIG9taXR0ZWQsIHRvRmlsZSB3aWxsIHRyeSB0byBkZXRlcm1pbmUgYSBmaWxlIG5hbWUgZnJvbSBiaXRzIGlmIHBvc3NpYmxlXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdGlvbnMudHlwZSB0aGUgTUlNRSB0eXBlIG9mIHRoZSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcj19IG9wdGlvbnMubGFzdE1vZGlmaWVkIHRoZSBsYXN0IG1vZGlmaWVkIHRpbWVzdGFtcFxuICogQHJldHVybnMgYSB7QGxpbmsgRmlsZX0gd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydGllc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9GaWxlKHZhbHVlLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gICAgdmFsdWUgPSBhd2FpdCB2YWx1ZTtcbiAgICAvLyBJZiB3ZSd2ZSBiZWVuIGdpdmVuIGEgYEZpbGVgIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICBpZiAoaXNGaWxlTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNSZXNwb25zZUxpa2UodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB2YWx1ZS5ibG9iKCk7XG4gICAgICAgIG5hbWUgfHwgKG5hbWUgPSBuZXcgVVJMKHZhbHVlLnVybCkucGF0aG5hbWUuc3BsaXQoL1tcXFxcL10vKS5wb3AoKSA/PyAndW5rbm93bl9maWxlJyk7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gY29udmVydCB0aGUgYEJsb2JgIGludG8gYW4gYXJyYXkgYnVmZmVyIGJlY2F1c2UgdGhlIGBCbG9iYCBjbGFzc1xuICAgICAgICAvLyB0aGF0IGBub2RlLWZldGNoYCBkZWZpbmVzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSB3ZWIgc3RhbmRhcmQgd2hpY2ggcmVzdWx0c1xuICAgICAgICAvLyBpbiBgbmV3IEZpbGVgIGludGVycHJldGluZyBpdCBhcyBhIHN0cmluZyBpbnN0ZWFkIG9mIGJpbmFyeSBkYXRhLlxuICAgICAgICBjb25zdCBkYXRhID0gaXNCbG9iTGlrZShibG9iKSA/IFsoYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKV0gOiBbYmxvYl07XG4gICAgICAgIHJldHVybiBuZXcgRmlsZShkYXRhLCBuYW1lLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgYml0cyA9IGF3YWl0IGdldEJ5dGVzKHZhbHVlKTtcbiAgICBuYW1lIHx8IChuYW1lID0gZ2V0TmFtZSh2YWx1ZSkgPz8gJ3Vua25vd25fZmlsZScpO1xuICAgIGlmICghb3B0aW9ucz8udHlwZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gYml0c1swXT8udHlwZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgdHlwZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmlsZShiaXRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gICAgbGV0IHBhcnRzID0gW107XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBwYXJ0cy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCbG9iTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IodmFsdWUpIC8vIGluY2x1ZGVzIFJlYWRhYmxlLCBSZWFkYWJsZVN0cmVhbSwgZXRjLlxuICAgICkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGNodW5rKTsgLy8gVE9ETywgY29uc2lkZXIgdmFsaWRhdGluZz9cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGRhdGEgdHlwZTogJHt0eXBlb2YgdmFsdWV9OyBjb25zdHJ1Y3RvcjogJHt2YWx1ZT8uY29uc3RydWN0b3JcbiAgICAgICAgICAgID8ubmFtZX07IHByb3BzOiAke3Byb3BzRm9yRXJyb3IodmFsdWUpfWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG59XG5mdW5jdGlvbiBwcm9wc0ZvckVycm9yKHZhbHVlKSB7XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgcmV0dXJuIGBbJHtwcm9wcy5tYXAoKHApID0+IGBcIiR7cH1cImApLmpvaW4oJywgJyl9XWA7XG59XG5mdW5jdGlvbiBnZXROYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuIChnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUubmFtZSkgfHxcbiAgICAgICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLmZpbGVuYW1lKSB8fFxuICAgICAgICAvLyBGb3IgZnMuUmVhZFN0cmVhbVxuICAgICAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUucGF0aCk/LnNwbGl0KC9bXFxcXC9dLykucG9wKCkpO1xufVxuY29uc3QgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyID0gKHgpID0+IHtcbiAgICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4geDtcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEJ1ZmZlcilcbiAgICAgICAgcmV0dXJuIFN0cmluZyh4KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IGlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc011bHRpcGFydEJvZHkgPSAoYm9keSkgPT4gYm9keSAmJiB0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcgJiYgYm9keS5ib2R5ICYmIGJvZHlbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ011bHRpcGFydEJvZHknO1xuLyoqXG4gKiBSZXR1cm5zIGEgbXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1ZXN0IGlmIGFueSBwYXJ0IG9mIHRoZSBnaXZlbiByZXF1ZXN0IGJvZHkgY29udGFpbnMgYSBGaWxlIC8gQmxvYiB2YWx1ZS5cbiAqIE90aGVyd2lzZSByZXR1cm5zIHRoZSByZXF1ZXN0IGFzIGlzLlxuICovXG5leHBvcnQgY29uc3QgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyAob3B0cykgPT4ge1xuICAgIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpXG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gICAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcbmV4cG9ydCBjb25zdCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyAob3B0cykgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gICAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVGb3JtID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICAgIHJldHVybiBmb3JtO1xufTtcbmNvbnN0IGhhc1VwbG9hZGFibGVWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKHZhbHVlW2tdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgYWRkRm9ybVZhbHVlID0gYXN5bmMgKGZvcm0sIGtleSwgdmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFJlY2VpdmVkIG51bGwgZm9yIFwiJHtrZXl9XCI7IHRvIHBhc3MgbnVsbCBpbiBGb3JtRGF0YSwgeW91IG11c3QgdXNlIHRoZSBzdHJpbmcgJ251bGwnYCk7XG4gICAgfVxuICAgIC8vIFRPRE86IG1ha2UgbmVzdGVkIGZvcm1hdHMgY29uZmlndXJhYmxlXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICBmb3JtLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0b0ZpbGUodmFsdWUpO1xuICAgICAgICBmb3JtLmFwcGVuZChrZXksIGZpbGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHZhbHVlIGdpdmVuIHRvIGZvcm0sIGV4cGVjdGVkIGEgc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG9iamVjdCwgQXJyYXksIEZpbGUgb3IgQmxvYiBidXQgZ290ICR7dmFsdWV9IGluc3RlYWRgKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIiwidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9BYnN0cmFjdFBhZ2VfY2xpZW50O1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL3ZlcnNpb24ubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciwgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IsIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBraW5kIGFzIHNoaW1zS2luZCwgZ2V0RGVmYXVsdEFnZW50LCBmZXRjaCwgaW5pdCwgfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG4vLyB0cnkgcnVubmluZyBzaWRlIGVmZmVjdHMgb3V0c2lkZSBvZiBfc2hpbXMvaW5kZXggdG8gd29ya2Fyb3VuZCBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanMvaXNzdWVzLzc2ODgxXG5pbml0KCk7XG5pbXBvcnQgeyBpc0Jsb2JMaWtlLCBpc011bHRpcGFydEJvZHkgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSwgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBwcm9wcztcbiAgICBpZiAocHJvcHMub3B0aW9ucy5zdHJlYW0pIHtcbiAgICAgICAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAvLyBOb3RlOiB0aGVyZSBpcyBhbiBpbnZhcmlhbnQgaGVyZSB0aGF0IGlzbid0IHJlcHJlc2VudGVkIGluIHRoZSB0eXBlIHN5c3RlbVxuICAgICAgICAvLyB0aGF0IGlmIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAgdGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBhbHNvIGJlIGBTdHJlYW08VD5gXG4gICAgICAgIGlmIChwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MuZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyZWFtLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcik7XG4gICAgfVxuICAgIC8vIGZldGNoIHJlZnVzZXMgdG8gcmVhZCB0aGUgYm9keSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpcyAyMDQuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gY29udGVudFR5cGU/LnNwbGl0KCc7JylbMF0/LnRyaW0oKTtcbiAgICBjb25zdCBpc0pTT04gPSBtZWRpYVR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykgfHwgbWVkaWFUeXBlPy5lbmRzV2l0aCgnK2pzb24nKTtcbiAgICBpZiAoaXNKU09OKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCBqc29uKTtcbiAgICAgICAgcmV0dXJuIF9hZGRSZXF1ZXN0SUQoanNvbiwgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCB0ZXh0KTtcbiAgICAvLyBUT0RPIGhhbmRsZSBibG9iLCBhcnJheWJ1ZmZlciwgb3RoZXIgY29udGVudCB0eXBlcywgZXRjLlxuICAgIHJldHVybiB0ZXh0O1xufVxuZnVuY3Rpb24gX2FkZFJlcXVlc3RJRCh2YWx1ZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbHVlLCAnX3JlcXVlc3RfaWQnLCB7XG4gICAgICAgIHZhbHVlOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJyksXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xufVxuLyoqXG4gKiBBIHN1YmNsYXNzIG9mIGBQcm9taXNlYCBwcm92aWRpbmcgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kc1xuICogZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIFNESy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFQSVByb21pc2UgZXh0ZW5kcyBQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihyZXNwb25zZVByb21pc2UsIHBhcnNlUmVzcG9uc2UgPSBkZWZhdWx0UGFyc2VSZXNwb25zZSkge1xuICAgICAgICBzdXBlcigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYXliZSBhIGJpdCB3ZWlyZCBidXQgdGhpcyBoYXMgdG8gYmUgYSBuby1vcCB0byBub3QgaW1wbGljaXRseVxuICAgICAgICAgICAgLy8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHk7IGluc3RlYWQgLnRoZW4sIC5jYXRjaCwgLmZpbmFsbHkgYXJlIG92ZXJyaWRkZW5cbiAgICAgICAgICAgIC8vIHRvIHBhcnNlIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzcG9uc2VQcm9taXNlID0gcmVzcG9uc2VQcm9taXNlO1xuICAgICAgICB0aGlzLnBhcnNlUmVzcG9uc2UgPSBwYXJzZVJlc3BvbnNlO1xuICAgIH1cbiAgICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMucmVzcG9uc2VQcm9taXNlLCBhc3luYyAocHJvcHMpID0+IF9hZGRSZXF1ZXN0SUQodHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzKSwgcHJvcHMucmVzcG9uc2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgICAqIGRhdGEuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAgICogaW5zdGFuY2UsIHlvdSBjYW4gdXNlIHtAbGluayB3aXRoUmVzcG9uc2UoKX0uXG4gICAgICpcbiAgICAgKiDwn5GLIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICAgKiBUcnkgc2V0dGluZyBgXCJtb2R1bGVSZXNvbHV0aW9uXCI6IFwiTm9kZU5leHRcImAgaWYgeW91IGNhbixcbiAgICAgKiBvciBhZGQgb25lIG9mIHRoZXNlIGltcG9ydHMgYmVmb3JlIHlvdXIgZmlyc3QgYGltcG9ydCDigKYgZnJvbSAnb3BlbmFpJ2A6XG4gICAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL3dlYidgIChvdGhlcndpc2UpXG4gICAgICovXG4gICAgYXNSZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKHApID0+IHAucmVzcG9uc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJzZWQgcmVzcG9uc2UgZGF0YSwgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGFuZCB0aGUgSUQgb2YgdGhlIHJlcXVlc3QsXG4gICAgICogcmV0dXJuZWQgdmlhIHRoZSBYLVJlcXVlc3QtSUQgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXBvcnRpbmdcbiAgICAgKiBpc3N1ZXMgdG8gT3BlbkFJLlxuICAgICAqXG4gICAgICogSWYgeW91IGp1c3Qgd2FudCB0byBnZXQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIHdpdGhvdXQgcGFyc2luZyBpdCxcbiAgICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICAgKlxuICAgICAqXG4gICAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQg4oCmIGZyb20gJ29wZW5haSdgOlxuICAgICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL25vZGUnYCAoaWYgeW91J3JlIHJ1bm5pbmcgb24gTm9kZSlcbiAgICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgICAqL1xuICAgIGFzeW5jIHdpdGhSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgW2RhdGEsIHJlc3BvbnNlXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnBhcnNlKCksIHRoaXMuYXNSZXNwb25zZSgpXSk7XG4gICAgICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlLCByZXF1ZXN0X2lkOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJykgfTtcbiAgICB9XG4gICAgcGFyc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJzZWRQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFByb21pc2UgPSB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKHRoaXMucGFyc2VSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgICB9XG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICAgIH1cbiAgICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlKCkuY2F0Y2gob25yZWplY3RlZCk7XG4gICAgfVxuICAgIGZpbmFsbHkob25maW5hbGx5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgbWF4UmV0cmllcyA9IDIsIHRpbWVvdXQgPSA2MDAwMDAsIC8vIDEwIG1pbnV0ZXNcbiAgICBodHRwQWdlbnQsIGZldGNoOiBvdmVycmlkZGVuRmV0Y2gsIH0pIHtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ21heFJldHJpZXMnLCBtYXhSZXRyaWVzKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSBvdmVycmlkZGVuRmV0Y2ggPz8gZmV0Y2g7XG4gICAgfVxuICAgIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIHRvIGFkZCB5b3VyIG93biBkZWZhdWx0IGhlYWRlcnMsIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogIHtcbiAgICAgKiAgICAuLi5zdXBlci5kZWZhdWx0SGVhZGVycygpLFxuICAgICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICAgKiAgfVxuICAgICAqL1xuICAgIGRlZmF1bHRIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdVc2VyLUFnZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgICAgICAgIC4uLmdldFBsYXRmb3JtSGVhZGVycygpLFxuICAgICAgICAgICAgLi4udGhpcy5hdXRoSGVhZGVycyhvcHRzKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhpcyB0byBhZGQgeW91ciBvd24gaGVhZGVycyB2YWxpZGF0aW9uOlxuICAgICAqL1xuICAgIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzLCBjdXN0b21IZWFkZXJzKSB7IH1cbiAgICBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKSB7XG4gICAgICAgIHJldHVybiBgc3RhaW5sZXNzLW5vZGUtcmV0cnktJHt1dWlkNCgpfWA7XG4gICAgfVxuICAgIGdldChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBwb3N0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncG9zdCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBwYXRjaChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3BhdGNoJywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHB1dChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBkZWxldGUocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdkZWxldGUnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgbWV0aG9kUmVxdWVzdChtZXRob2QsIHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChQcm9taXNlLnJlc29sdmUob3B0cykudGhlbihhc3luYyAob3B0cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG9wdHMgJiYgaXNCbG9iTGlrZShvcHRzPy5ib2R5KSA/IG5ldyBEYXRhVmlldyhhd2FpdCBvcHRzLmJvZHkuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICAgICAgICA6IG9wdHM/LmJvZHkgaW5zdGFuY2VvZiBEYXRhVmlldyA/IG9wdHMuYm9keVxuICAgICAgICAgICAgICAgICAgICA6IG9wdHM/LmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBEYXRhVmlldyhvcHRzLmJvZHkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9wdHMgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KG9wdHM/LmJvZHkpID8gbmV3IERhdGFWaWV3KG9wdHMuYm9keS5idWZmZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRzPy5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHsgbWV0aG9kLCBwYXRoLCAuLi5vcHRzLCBib2R5IH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0QVBJTGlzdChwYXRoLCBQYWdlLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUElMaXN0KFBhZ2UsIHsgbWV0aG9kOiAnZ2V0JywgcGF0aCwgLi4ub3B0cyB9KTtcbiAgICB9XG4gICAgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2Rlci5lbmNvZGUoYm9keSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGJ1aWxkUmVxdWVzdChpbnB1dE9wdGlvbnMsIHsgcmV0cnlDb3VudCA9IDAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLmlucHV0T3B0aW9ucyB9O1xuICAgICAgICBjb25zdCB7IG1ldGhvZCwgcGF0aCwgcXVlcnksIGhlYWRlcnM6IGhlYWRlcnMgPSB7fSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9keSA9IEFycmF5QnVmZmVyLmlzVmlldyhvcHRpb25zLmJvZHkpIHx8IChvcHRpb25zLl9fYmluYXJ5UmVxdWVzdCAmJiB0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAnc3RyaW5nJykgP1xuICAgICAgICAgICAgb3B0aW9ucy5ib2R5XG4gICAgICAgICAgICA6IGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpID8gb3B0aW9ucy5ib2R5LmJvZHlcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KTtcbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRpb25zKVxuICAgICAgICAgICAgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICBvcHRpb25zLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgICAgICBjb25zdCBodHRwQWdlbnQgPSBvcHRpb25zLmh0dHBBZ2VudCA/PyB0aGlzLmh0dHBBZ2VudCA/PyBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICAgICAgY29uc3QgbWluQWdlbnRUaW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0ICsgMTAwMDtcbiAgICAgICAgaWYgKHR5cGVvZiBodHRwQWdlbnQ/Lm9wdGlvbnM/LnRpbWVvdXQgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoaHR0cEFnZW50Lm9wdGlvbnMudGltZW91dCA/PyAwKSkge1xuICAgICAgICAgICAgLy8gQWxsb3cgYW55IGdpdmVuIHJlcXVlc3QgdG8gYnVtcCBvdXIgYWdlbnQgYWN0aXZlIHNvY2tldCB0aW1lb3V0LlxuICAgICAgICAgICAgLy8gVGhpcyBtYXkgc2VlbSBzdHJhbmdlLCBidXQgbGVha2luZyBhY3RpdmUgc29ja2V0cyBzaG91bGQgYmUgcmFyZSBhbmQgbm90IHBhcnRpY3VsYXJseSBwcm9ibGVtYXRpYyxcbiAgICAgICAgICAgIC8vIGFuZCB3aXRob3V0IG11dGF0aW5nIGFnZW50IHdlIHdvdWxkIG5lZWQgdG8gY3JlYXRlIG1vcmUgb2YgdGhlbS5cbiAgICAgICAgICAgIC8vIFRoaXMgdHJhZGVvZmYgb3B0aW1pemVzIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgICAgICAgIGh0dHBBZ2VudC5vcHRpb25zLnRpbWVvdXQgPSBtaW5BZ2VudFRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbXBvdGVuY3lIZWFkZXIgJiYgbWV0aG9kICE9PSAnZ2V0Jykge1xuICAgICAgICAgICAgaWYgKCFpbnB1dE9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpXG4gICAgICAgICAgICAgICAgaW5wdXRPcHRpb25zLmlkZW1wb3RlbmN5S2V5ID0gdGhpcy5kZWZhdWx0SWRlbXBvdGVuY3lLZXkoKTtcbiAgICAgICAgICAgIGhlYWRlcnNbdGhpcy5pZGVtcG90ZW5jeUhlYWRlcl0gPSBpbnB1dE9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxSGVhZGVycyA9IHRoaXMuYnVpbGRIZWFkZXJzKHsgb3B0aW9ucywgaGVhZGVycywgY29udGVudExlbmd0aCwgcmV0cnlDb3VudCB9KTtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IH0pLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgICAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAgICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCA/PyBudWxsLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyByZXEsIHVybCwgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IH07XG4gICAgfVxuICAgIGJ1aWxkSGVhZGVycyh7IG9wdGlvbnMsIGhlYWRlcnMsIGNvbnRlbnRMZW5ndGgsIHJldHJ5Q291bnQsIH0pIHtcbiAgICAgICAgY29uc3QgcmVxSGVhZGVycyA9IHt9O1xuICAgICAgICBpZiAoY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IGNvbnRlbnRMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpO1xuICAgICAgICBhcHBseUhlYWRlcnNNdXQocmVxSGVhZGVycywgZGVmYXVsdEhlYWRlcnMpO1xuICAgICAgICBhcHBseUhlYWRlcnNNdXQocmVxSGVhZGVycywgaGVhZGVycyk7XG4gICAgICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgICAgIGlmIChpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSAmJiBzaGltc0tpbmQgIT09ICdub2RlJykge1xuICAgICAgICAgICAgZGVsZXRlIHJlcUhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHNldCB0aGVzZXMgaGVhZGVycyBpZiB0aGV5IHdlcmUgYWxyZWFkeSBzZXQgb3IgcmVtb3ZlZCB0aHJvdWdoIGRlZmF1bHQgaGVhZGVycyBvciBieSB0aGUgY2FsbGVyLlxuICAgICAgICAvLyBXZSBjaGVjayBgZGVmYXVsdEhlYWRlcnNgIGFuZCBgaGVhZGVyc2AsIHdoaWNoIGNhbiBjb250YWluIG51bGxzLCBpbnN0ZWFkIG9mIGByZXFIZWFkZXJzYCB0byBhY2NvdW50XG4gICAgICAgIC8vIGZvciB0aGUgcmVtb3ZhbCBjYXNlLlxuICAgICAgICBpZiAoZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtcmV0cnktY291bnQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBnZXRIZWFkZXIoaGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtcmV0cnktY291bnQnXSA9IFN0cmluZyhyZXRyeUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGdldEhlYWRlcihoZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIG9wdGlvbnMudGltZW91dCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtdGltZW91dCddID0gU3RyaW5nKE1hdGgudHJ1bmMob3B0aW9ucy50aW1lb3V0IC8gMTAwMCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gcmVxSGVhZGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGNhbGxiYWNrIGZvciBtdXRhdGluZyB0aGUgZ2l2ZW4gYEZpbmFsUmVxdWVzdE9wdGlvbnNgIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRpb25zKSB7IH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgUmVxdWVzdEluaXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3Ugd2FudCB0byBhZGQgY2VydGFpbiBoZWFkZXJzIGJhc2VkIG9mZiBvZlxuICAgICAqIHRoZSByZXF1ZXN0IHByb3BlcnRpZXMsIGUuZy4gYG1ldGhvZGAgb3IgYHVybGAuXG4gICAgICovXG4gICAgYXN5bmMgcHJlcGFyZVJlcXVlc3QocmVxdWVzdCwgeyB1cmwsIG9wdGlvbnMgfSkgeyB9XG4gICAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuICghaGVhZGVycyA/IHt9XG4gICAgICAgICAgICA6IFN5bWJvbC5pdGVyYXRvciBpbiBoZWFkZXJzID9cbiAgICAgICAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgICAgICAgICAgIDogeyAuLi5oZWFkZXJzIH0pO1xuICAgIH1cbiAgICBtYWtlU3RhdHVzRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIHJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcykpO1xuICAgIH1cbiAgICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IG9wdGlvbnNJbnB1dDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHJpZXNSZW1haW5pbmcgPSBtYXhSZXRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgcmVxLCB1cmwsIHRpbWVvdXQgfSA9IHRoaXMuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHsgcmV0cnlDb3VudDogbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmcgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZVJlcXVlc3QocmVxLCB7IHVybCwgb3B0aW9ucyB9KTtcbiAgICAgICAgZGVidWcoJ3JlcXVlc3QnLCB1cmwsIG9wdGlvbnMsIHJlcS5oZWFkZXJzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoVGltZW91dCh1cmwsIHJlcSwgdGltZW91dCwgY29udHJvbGxlcikuY2F0Y2goY2FzdFRvRXJyb3IpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0cmllc1JlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiByZXNwb25zZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBjcmVhdGVSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nICYmIHRoaXMuc2hvdWxkUmV0cnkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlNZXNzYWdlID0gYHJldHJ5aW5nLCAke3JldHJpZXNSZW1haW5pbmd9IGF0dGVtcHRzIHJlbWFpbmluZ2A7XG4gICAgICAgICAgICAgICAgZGVidWcoYHJlc3BvbnNlIChlcnJvcjsgJHtyZXRyeU1lc3NhZ2V9KWAsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoZSkgPT4gY2FzdFRvRXJyb3IoZSkubWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zdCBlcnJKU09OID0gc2FmZUpTT04oZXJyVGV4dCk7XG4gICAgICAgICAgICBjb25zdCBlcnJNZXNzYWdlID0gZXJySlNPTiA/IHVuZGVmaW5lZCA6IGVyclRleHQ7XG4gICAgICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSByZXRyaWVzUmVtYWluaW5nID8gYChlcnJvcjsgbm8gbW9yZSByZXRyaWVzIGxlZnQpYCA6IGAoZXJyb3I7IG5vdCByZXRyeWFibGUpYDtcbiAgICAgICAgICAgIGRlYnVnKGByZXNwb25zZSAoZXJyb3I7ICR7cmV0cnlNZXNzYWdlfSlgLCByZXNwb25zZS5zdGF0dXMsIHVybCwgcmVzcG9uc2VIZWFkZXJzLCBlcnJNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IHRoaXMubWFrZVN0YXR1c0Vycm9yKHJlc3BvbnNlLnN0YXR1cywgZXJySlNPTiwgZXJyTWVzc2FnZSwgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICAgIH1cbiAgICByZXF1ZXN0QVBJTGlzdChQYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICAgIH1cbiAgICBidWlsZFVSTChwYXRoLCBxdWVyeSkge1xuICAgICAgICBjb25zdCB1cmwgPSBpc0Fic29sdXRlVVJMKHBhdGgpID9cbiAgICAgICAgICAgIG5ldyBVUkwocGF0aClcbiAgICAgICAgICAgIDogbmV3IFVSTCh0aGlzLmJhc2VVUkwgKyAodGhpcy5iYXNlVVJMLmVuZHNXaXRoKCcvJykgJiYgcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aCkpO1xuICAgICAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgICAgICBpZiAoIWlzRW1wdHlPYmooZGVmYXVsdFF1ZXJ5KSkge1xuICAgICAgICAgICAgcXVlcnkgPSB7IC4uLmRlZmF1bHRRdWVyeSwgLi4ucXVlcnkgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiBxdWVyeSAmJiAhQXJyYXkuaXNBcnJheShxdWVyeSkpIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcmJyk7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoV2l0aFRpbWVvdXQodXJsLCBpbml0LCBtcywgY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3B0aW9ucyB9ID0gaW5pdCB8fCB7fTtcbiAgICAgICAgaWYgKHNpZ25hbClcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuICAgICAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QpIHtcbiAgICAgICAgICAgIC8vIEN1c3RvbSBtZXRob2RzIGxpa2UgJ3BhdGNoJyBuZWVkIHRvIGJlIHVwcGVyY2FzZWRcbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3VuZGljaS9pc3N1ZXMvMjI5NFxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9IGZldGNoT3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyB1c2UgdW5kZWZpbmVkIHRoaXMgYmluZGluZzsgZmV0Y2ggZXJyb3JzIGlmIGJvdW5kIHRvIHNvbWV0aGluZyBlbHNlIGluIGJyb3dzZXIvY2xvdWRmbGFyZVxuICAgICAgICB0aGlzLmZldGNoLmNhbGwodW5kZWZpbmVkLCB1cmwsIGZldGNoT3B0aW9ucykuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBhIHN0YW5kYXJkIGhlYWRlci5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmV0cnlIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1zaG91bGQtcmV0cnknKTtcbiAgICAgICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gUmV0cnkgb24gcmVxdWVzdCB0aW1lb3V0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA4KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA1MDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyByZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0aW1lb3V0TWlsbGlzO1xuICAgICAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXItbXMnXTtcbiAgICAgICAgaWYgKHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1pbGxpc0hlYWRlcik7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRNcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICAgICAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uWydyZXRyeS1hZnRlciddO1xuICAgICAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXJIZWFkZXIpIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgQVBJIGFza3MgdXMgdG8gd2FpdCBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUgKGFuZCBpdCdzIGEgcmVhc29uYWJsZSBhbW91bnQpLFxuICAgICAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgICAgIGlmICghKHRpbWVvdXRNaWxsaXMgJiYgMCA8PSB0aW1lb3V0TWlsbGlzICYmIHRpbWVvdXRNaWxsaXMgPCA2MCAqIDEwMDApKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcgLSAxKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nLCBtYXhSZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxSZXRyeURlbGF5ID0gMC41O1xuICAgICAgICBjb25zdCBtYXhSZXRyeURlbGF5ID0gOC4wO1xuICAgICAgICBjb25zdCBudW1SZXRyaWVzID0gbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmc7XG4gICAgICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgICAgIGNvbnN0IHNsZWVwU2Vjb25kcyA9IE1hdGgubWluKGluaXRpYWxSZXRyeURlbGF5ICogTWF0aC5wb3coMiwgbnVtUmV0cmllcyksIG1heFJldHJ5RGVsYXkpO1xuICAgICAgICAvLyBBcHBseSBzb21lIGppdHRlciwgdGFrZSB1cCB0byBhdCBtb3N0IDI1IHBlcmNlbnQgb2YgdGhlIHJldHJ5IHRpbWUuXG4gICAgICAgIGNvbnN0IGppdHRlciA9IDEgLSBNYXRoLnJhbmRvbSgpICogMC4yNTtcbiAgICAgICAgcmV0dXJuIHNsZWVwU2Vjb25kcyAqIGppdHRlciAqIDEwMDA7XG4gICAgfVxuICAgIGdldFVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgY2xpZW50LCBcImZcIik7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB9XG4gICAgaGFzTmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VJbmZvKCkgIT0gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICAgICAgaWYgKCFuZXh0SW5mbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgICAgICBpZiAoJ3BhcmFtcycgaW4gbmV4dEluZm8gJiYgdHlwZW9mIG5leHRPcHRpb25zLnF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgndXJsJyBpbiBuZXh0SW5mbykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gWy4uLk9iamVjdC5lbnRyaWVzKG5leHRPcHRpb25zLnF1ZXJ5IHx8IHt9KSwgLi4ubmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5lbnRyaWVzKCldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgXCJmXCIpLnJlcXVlc3RBUElMaXN0KHRoaXMuY29uc3RydWN0b3IsIG5leHRPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKml0ZXJQYWdlcygpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGxldCBwYWdlID0gdGhpcztcbiAgICAgICAgeWllbGQgcGFnZTtcbiAgICAgICAgd2hpbGUgKHBhZ2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgcGFnZSA9IGF3YWl0IHBhZ2UuZ2V0TmV4dFBhZ2UoKTtcbiAgICAgICAgICAgIHlpZWxkIHBhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgKlsoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2UgZXh0ZW5kcyBBUElQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlcXVlc3QsIFBhZ2UpIHtcbiAgICAgICAgc3VwZXIocmVxdWVzdCwgYXN5bmMgKHByb3BzKSA9PiBuZXcgUGFnZShjbGllbnQsIHByb3BzLnJlc3BvbnNlLCBhd2FpdCBkZWZhdWx0UGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzLm9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAgICAgKlxuICAgICAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gICAgICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgICAqICAgIH1cbiAgICAgKi9cbiAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHRoaXM7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGhlYWRlcnMuZW50cmllcygpKSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleS50b0xvd2VyQ2FzZSgpXSB8fCB0YXJnZXRba2V5XTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG4vLyBUaGlzIGlzIHJlcXVpcmVkIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSBpZiBhIGdpdmVuIG9iamVjdCBtYXRjaGVzIHRoZSBSZXF1ZXN0T3B0aW9uc1xuLy8gdHlwZSBhdCBydW50aW1lLiBXaGlsZSB0aGlzIHJlcXVpcmVzIGR1cGxpY2F0aW9uLCBpdCBpcyBlbmZvcmNlZCBieSB0aGUgVHlwZVNjcmlwdFxuLy8gY29tcGlsZXIgc3VjaCB0aGF0IGFueSBtaXNzaW5nIC8gZXh0cmFuZW91cyBrZXlzIHdpbGwgY2F1c2UgYW4gZXJyb3IuXG5jb25zdCByZXF1ZXN0T3B0aW9uc0tleXMgPSB7XG4gICAgbWV0aG9kOiB0cnVlLFxuICAgIHBhdGg6IHRydWUsXG4gICAgcXVlcnk6IHRydWUsXG4gICAgYm9keTogdHJ1ZSxcbiAgICBoZWFkZXJzOiB0cnVlLFxuICAgIG1heFJldHJpZXM6IHRydWUsXG4gICAgc3RyZWFtOiB0cnVlLFxuICAgIHRpbWVvdXQ6IHRydWUsXG4gICAgaHR0cEFnZW50OiB0cnVlLFxuICAgIHNpZ25hbDogdHJ1ZSxcbiAgICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbiAgICBfX21ldGFkYXRhOiB0cnVlLFxuICAgIF9fYmluYXJ5UmVxdWVzdDogdHJ1ZSxcbiAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgIF9fc3RyZWFtQ2xhc3M6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGlzUmVxdWVzdE9wdGlvbnMgPSAob2JqKSA9PiB7XG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBvYmogIT09IG51bGwgJiZcbiAgICAgICAgIWlzRW1wdHlPYmoob2JqKSAmJlxuICAgICAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSkpO1xufTtcbmNvbnN0IGdldFBsYXRmb3JtUHJvcGVydGllcyA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnICYmIERlbm8uYnVpbGQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybShEZW5vLmJ1aWxkLm9zKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaChEZW5vLmJ1aWxkLmFyY2gpLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZGVubycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogdHlwZW9mIERlbm8udmVyc2lvbiA9PT0gJ3N0cmluZycgPyBEZW5vLnZlcnNpb24gOiBEZW5vLnZlcnNpb24/LmRlbm8gPz8gJ3Vua25vd24nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IGBvdGhlcjoke0VkZ2VSdW50aW1lfWAsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdlZGdlJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIE5vZGUuanNcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKHByb2Nlc3MucGxhdGZvcm0pLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKHByb2Nlc3MuYXJjaCksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgICBpZiAoYnJvd3NlckluZm8pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIENsb3VkZmxhcmUgd29ya2VycywgZXRjLlxuICAgIHJldHVybiB7XG4gICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogJ3Vua25vd24nLFxuICAgIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoZSBvcmRlciBtYXR0ZXJzIGhlcmUhXG4gICAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgICAgICB7IGtleTogJ2VkZ2UnLCBwYXR0ZXJuOiAvRWRnZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2llJywgcGF0dGVybjogL01TSUUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnY2hyb21lJywgcGF0dGVybjogL0Nocm9tZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2ZpcmVmb3gnLCBwYXR0ZXJuOiAvRmlyZWZveCg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgICBdO1xuICAgIC8vIEZpbmQgdGhlIEZJUlNUIG1hdGNoaW5nIGJyb3dzZXJcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ham9yID0gbWF0Y2hbMV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yID0gbWF0Y2hbMl0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbWF0Y2hbM10gfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB7IGJyb3dzZXI6IGtleSwgdmVyc2lvbjogYCR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9YCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY29uc3Qgbm9ybWFsaXplQXJjaCA9IChhcmNoKSA9PiB7XG4gICAgLy8gTm9kZSBkb2NzOlxuICAgIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc2FyY2hcbiAgICAvLyBEZW5vIGRvY3M6XG4gICAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gICAgaWYgKGFyY2ggPT09ICd4MzInKVxuICAgICAgICByZXR1cm4gJ3gzMic7XG4gICAgaWYgKGFyY2ggPT09ICd4ODZfNjQnIHx8IGFyY2ggPT09ICd4NjQnKVxuICAgICAgICByZXR1cm4gJ3g2NCc7XG4gICAgaWYgKGFyY2ggPT09ICdhcm0nKVxuICAgICAgICByZXR1cm4gJ2FybSc7XG4gICAgaWYgKGFyY2ggPT09ICdhYXJjaDY0JyB8fCBhcmNoID09PSAnYXJtNjQnKVxuICAgICAgICByZXR1cm4gJ2FybTY0JztcbiAgICBpZiAoYXJjaClcbiAgICAgICAgcmV0dXJuIGBvdGhlcjoke2FyY2h9YDtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gICAgLy8gTm9kZSBwbGF0Zm9ybXM6XG4gICAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzcGxhdGZvcm1cbiAgICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kZW5vbGFuZC9kZW5vL2lzc3Vlcy8xNDc5OVxuICAgIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgICAvLyBOT1RFOiB0aGlzIGlPUyBjaGVjayBpcyB1bnRlc3RlZCBhbmQgbWF5IG5vdCB3b3JrXG4gICAgLy8gTm9kZSBkb2VzIG5vdCB3b3JrIG5hdGl2ZWx5IG9uIElPUywgdGhlcmUgaXMgYSBmb3JrIGF0XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAgIC8vIGhvd2V2ZXIgaXQgaXMgdW5rbm93biBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGhvdyB0byBkZXRlY3QgaWYgaXQgaXMgcnVubmluZ1xuICAgIGlmIChwbGF0Zm9ybS5pbmNsdWRlcygnaW9zJykpXG4gICAgICAgIHJldHVybiAnaU9TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJylcbiAgICAgICAgcmV0dXJuICdBbmRyb2lkJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKVxuICAgICAgICByZXR1cm4gJ01hY09TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpXG4gICAgICAgIHJldHVybiAnV2luZG93cyc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpXG4gICAgICAgIHJldHVybiAnRnJlZUJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnb3BlbmJzZCcpXG4gICAgICAgIHJldHVybiAnT3BlbkJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnbGludXgnKVxuICAgICAgICByZXR1cm4gJ0xpbnV4JztcbiAgICBpZiAocGxhdGZvcm0pXG4gICAgICAgIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICAgIHJldHVybiAnVW5rbm93bic7XG59O1xubGV0IF9wbGF0Zm9ybUhlYWRlcnM7XG5jb25zdCBnZXRQbGF0Zm9ybUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChfcGxhdGZvcm1IZWFkZXJzID8/IChfcGxhdGZvcm1IZWFkZXJzID0gZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzKCkpKTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUpTT04gPSAodGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXNjaGVtZS1zdHJpbmdcbmNvbnN0IHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAgPSAvXlthLXpdW2EtejAtOSsuLV0qOi9pO1xuY29uc3QgaXNBYnNvbHV0ZVVSTCA9ICh1cmwpID0+IHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuY29uc3QgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIgPSAobmFtZSwgbikgPT4ge1xuICAgIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYW4gaW50ZWdlcmApO1xuICAgIH1cbiAgICBpZiAobiA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufTtcbmV4cG9ydCBjb25zdCBjYXN0VG9FcnJvciA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmIGVyciAhPT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7IH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcihlcnIpO1xufTtcbmV4cG9ydCBjb25zdCBlbnN1cmVQcmVzZW50ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFRyaW1zIGJlZ2lubmluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBXaWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRvZXNuJ3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcmVhZEVudiA9IChlbnYpID0+IHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudj8uW2Vudl0/LnRyaW0oKSA/PyB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIERlbm8uZW52Py5nZXQ/LihlbnYpPy50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGNvZXJjZUludGVnZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUZsb2F0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUJvb2xlYW4odmFsdWUpO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MTI4N1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqKSB7XG4gICAgaWYgKCFvYmopXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAoY29uc3QgX2sgaW4gb2JqKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG4vKipcbiAqIENvcGllcyBoZWFkZXJzIGZyb20gXCJuZXdIZWFkZXJzXCIgb250byBcInRhcmdldEhlYWRlcnNcIixcbiAqIHVzaW5nIGxvd2VyLWNhc2UgZm9yIGFsbCBwcm9wZXJ0aWVzLFxuICogaWdub3JpbmcgYW55IGtleXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzLFxuICogYW5kIGRlbGV0aW5nIGFueSBrZXlzIHdpdGggbnVsbCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SGVhZGVyc011dCh0YXJnZXRIZWFkZXJzLCBuZXdIZWFkZXJzKSB7XG4gICAgZm9yIChjb25zdCBrIGluIG5ld0hlYWRlcnMpIHtcbiAgICAgICAgaWYgKCFoYXNPd24obmV3SGVhZGVycywgaykpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbG93ZXJLZXkgPSBrLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghbG93ZXJLZXkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsID0gbmV3SGVhZGVyc1trXTtcbiAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldEhlYWRlcnNbbG93ZXJLZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IFNFTlNJVElWRV9IRUFERVJTID0gbmV3IFNldChbJ2F1dGhvcml6YXRpb24nLCAnYXBpLWtleSddKTtcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3M/LmVudj8uWydERUJVRyddID09PSAndHJ1ZScpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRBcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIHJlcXVlc3QgYm9keSAnaGVhZGVycycgb2JqZWN0XG4gICAgICAgICAgICBpZiAoYXJnWydoZWFkZXJzJ10pIHtcbiAgICAgICAgICAgICAgICAvLyBjbG9uZSBzbyB3ZSBkb24ndCBtdXRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZEFyZyA9IHsgLi4uYXJnLCBoZWFkZXJzOiB7IC4uLmFyZ1snaGVhZGVycyddIH0gfTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmdbJ2hlYWRlcnMnXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoU0VOU0lUSVZFX0hFQURFUlMuaGFzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBcmdbJ2hlYWRlcnMnXVtoZWFkZXJdID0gJ1JFREFDVEVEJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kaWZpZWRBcmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbW9kaWZpZWRBcmcgPSBudWxsO1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIGhlYWRlcnMgb2JqZWN0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoU0VOU0lUSVZFX0hFQURFUlMuaGFzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBtYWtpbmcgYSBjb3B5IHVudGlsIHdlIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBcmcgPz8gKG1vZGlmaWVkQXJnID0geyAuLi5hcmcgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXJnW2hlYWRlcl0gPSAnUkVEQUNURUQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllZEFyZyA/PyBhcmc7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhgT3BlbkFJOkRFQlVHOiR7YWN0aW9ufWAsIC4uLm1vZGlmaWVkQXJncyk7XG4gICAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgaGVhZGVycz8uZ2V0ID09PSAnZnVuY3Rpb24nO1xufTtcbmV4cG9ydCBjb25zdCBnZXRSZXF1aXJlZEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBmb3VuZEhlYWRlciA9IGdldEhlYWRlcihoZWFkZXJzLCBoZWFkZXIpO1xuICAgIGlmIChmb3VuZEhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgJHtoZWFkZXJ9IGhlYWRlcmApO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmRIZWFkZXI7XG59O1xuZXhwb3J0IGNvbnN0IGdldEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBsb3dlckNhc2VkSGVhZGVyID0gaGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGlzSGVhZGVyc1Byb3RvY29sKGhlYWRlcnMpKSB7XG4gICAgICAgIC8vIHRvIGRlYWwgd2l0aCB0aGUgY2FzZSB3aGVyZSB0aGUgaGVhZGVyIGxvb2tzIGxpa2UgU3RhaW5sZXNzLUV2ZW50LUlkXG4gICAgICAgIGNvbnN0IGludGVyY2Fwc0hlYWRlciA9IGhlYWRlclswXT8udG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICBoZWFkZXIuc3Vic3RyaW5nKDEpLnJlcGxhY2UoLyhbXlxcd10pKFxcdykvZywgKF9tLCBnMSwgZzIpID0+IGcxICsgZzIudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFtoZWFkZXIsIGxvd2VyQ2FzZWRIZWFkZXIsIGhlYWRlci50b1VwcGVyQ2FzZSgpLCBpbnRlcmNhcHNIZWFkZXJdKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNhc2VkSGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkICR7dmFsdWUubGVuZ3RofSBlbnRyaWVzIGZvciB0aGUgJHtoZWFkZXJ9IGhlYWRlciwgdXNpbmcgdGhlIGZpcnN0IGVudHJ5LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZyB0byBCYXNlNjQgZm9ybWF0LlxuICovXG5leHBvcnQgY29uc3QgdG9CYXNlNjQgPSAoc3RyKSA9PiB7XG4gICAgaWYgKCFzdHIpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBidG9hKHN0cik7XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGdlbmVyYXRlIGI2NCBzdHJpbmc7IEV4cGVjdGVkIGBCdWZmZXJgIG9yIGBidG9hYCB0byBiZSBkZWZpbmVkJyk7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byBhIEZsb2F0MzJBcnJheS5cbiAqIEBwYXJhbSBiYXNlNjRTdHIgLSBUaGUgQmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICogQHJldHVybnMgQW4gQXJyYXkgb2YgbnVtYmVycyBpbnRlcnByZXRlZCBhcyBGbG9hdDMyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvRmxvYXQzMkFycmF5ID0gKGJhc2U2NFN0cikgPT4ge1xuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShiYXNlNjRTdHIsICdiYXNlNjQnKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IEZsb2F0MzJBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmxlbmd0aCAvIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZm9yIGxlZ2FjeSB3ZWIgcGxhdGZvcm0gQVBJc1xuICAgICAgICBjb25zdCBiaW5hcnlTdHIgPSBhdG9iKGJhc2U2NFN0cik7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0ci5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgRmxvYXQzMkFycmF5KGJ5dGVzLmJ1ZmZlcikpO1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gaXNPYmoob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQWJzdHJhY3RQYWdlIH0gZnJvbSBcIi4vY29yZS5tanNcIjtcbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLm9iamVjdCA9IGJvZHkub2JqZWN0O1xuICAgIH1cbiAgICBnZXRQYWdpbmF0ZWRJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSA/PyBbXTtcbiAgICB9XG4gICAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBUaGlzIHBhZ2UgcmVwcmVzZW50cyBhIHJlc3BvbnNlIHRoYXQgaXNuJ3QgYWN0dWFsbHkgcGFnaW5hdGVkIGF0IHRoZSBBUEkgbGV2ZWxcbiAgICAgKiBzbyB0aGVyZSB3aWxsIG5ldmVyIGJlIGFueSBuZXh0IHBhZ2UgcGFyYW1zLlxuICAgICAqL1xuICAgIG5leHRQYWdlUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbmV4dFBhZ2VJbmZvKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3Vyc29yUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLmhhc19tb3JlID0gYm9keS5oYXNfbW9yZSB8fCBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UGFnaW5hdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPz8gW107XG4gICAgfVxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNfbW9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuaGFzTmV4dFBhZ2UoKTtcbiAgICB9XG4gICAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgICBuZXh0UGFnZVBhcmFtcygpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgICAgIGlmICghaW5mbylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoJ3BhcmFtcycgaW4gaW5mbylcbiAgICAgICAgICAgIHJldHVybiBpbmZvLnBhcmFtcztcbiAgICAgICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmZyb21FbnRyaWVzKGluZm8udXJsLnNlYXJjaFBhcmFtcyk7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgbmV4dFBhZ2VJbmZvKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXT8uaWQ7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHBhcmFtczogeyBhZnRlcjogaWQgfSB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24ubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UgfSBmcm9tIFwiLi9jb21wbGV0aW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBNZXNzYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBsaXN0KGNvbXBsZXRpb25JZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QoY29tcGxldGlvbklkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL2NoYXQvY29tcGxldGlvbnMvJHtjb21wbGV0aW9uSWR9L21lc3NhZ2VzYCwgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBNZXNzYWdlcyB9IGZyb20gXCIuL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2NoYXQvY29tcGxldGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMsIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAgICAgKiB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqL1xuICAgIHJldHJpZXZlKGNvbXBsZXRpb25JZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2NoYXQvY29tcGxldGlvbnMvJHtjb21wbGV0aW9uSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmeSBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICogd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgbW9kaWZpZWQuIEN1cnJlbnRseSwgdGhlIG9ubHlcbiAgICAgKiBzdXBwb3J0ZWQgbW9kaWZpY2F0aW9uIGlzIHRvIHVwZGF0ZSB0aGUgYG1ldGFkYXRhYCBmaWVsZC5cbiAgICAgKi9cbiAgICB1cGRhdGUoY29tcGxldGlvbklkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2NoYXQvY29tcGxldGlvbnMvJHtjb21wbGV0aW9uSWR9YCwgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvY2hhdC9jb21wbGV0aW9ucycsIENoYXRDb21wbGV0aW9uc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICogd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgZGVsZXRlZC5cbiAgICAgKi9cbiAgICBkZWwoY29tcGxldGlvbklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH1gLCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25zUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkNvbXBsZXRpb25zLkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuQ29tcGxldGlvbnMuTWVzc2FnZXMgPSBNZXNzYWdlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tIFwiLi9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uc1BhZ2UsIENvbXBsZXRpb25zLCB9IGZyb20gXCIuL2NvbXBsZXRpb25zL2NvbXBsZXRpb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXQgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5DaGF0LkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnM7XG5DaGF0LkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFNwZWVjaCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYXVkaW8gZnJvbSB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby9zcGVlY2gnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BlZWNoLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3RyYW5zY3JpcHRpb25zJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICAgICAgX19tZXRhZGF0YTogeyBtb2RlbDogYm9keS5tb2RlbCB9LFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNjcmlwdGlvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3RyYW5zbGF0aW9ucycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucywgX19tZXRhZGF0YTogeyBtb2RlbDogYm9keS5tb2RlbCB9IH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2xhdGlvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFNwZWVjaEFQSSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgeyBTcGVlY2ggfSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgKiBhcyBUcmFuc2NyaXB0aW9uc0FQSSBmcm9tIFwiLi90cmFuc2NyaXB0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zLCB9IGZyb20gXCIuL3RyYW5zY3JpcHRpb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNsYXRpb25zQVBJIGZyb20gXCIuL3RyYW5zbGF0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zbGF0aW9ucywgfSBmcm9tIFwiLi90cmFuc2xhdGlvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHJhbnNjcmlwdGlvbnMgPSBuZXcgVHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvbnModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnNwZWVjaCA9IG5ldyBTcGVlY2hBUEkuU3BlZWNoKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQXVkaW8uVHJhbnNjcmlwdGlvbnMgPSBUcmFuc2NyaXB0aW9ucztcbkF1ZGlvLlRyYW5zbGF0aW9ucyA9IFRyYW5zbGF0aW9ucztcbkF1ZGlvLlNwZWVjaCA9IFNwZWVjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQmF0Y2hlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCBleGVjdXRlcyBhIGJhdGNoIGZyb20gYW4gdXBsb2FkZWQgZmlsZSBvZiByZXF1ZXN0c1xuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2JhdGNoZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGJhdGNoLlxuICAgICAqL1xuICAgIHJldHJpZXZlKGJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9iYXRjaGVzLyR7YmF0Y2hJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2JhdGNoZXMnLCBCYXRjaGVzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbiBpbi1wcm9ncmVzcyBiYXRjaC4gVGhlIGJhdGNoIHdpbGwgYmUgaW4gc3RhdHVzIGBjYW5jZWxsaW5nYCBmb3IgdXAgdG9cbiAgICAgKiAxMCBtaW51dGVzLCBiZWZvcmUgY2hhbmdpbmcgdG8gYGNhbmNlbGxlZGAsIHdoZXJlIGl0IHdpbGwgaGF2ZSBwYXJ0aWFsIHJlc3VsdHNcbiAgICAgKiAoaWYgYW55KSBhdmFpbGFibGUgaW4gdGhlIG91dHB1dCBmaWxlLlxuICAgICAqL1xuICAgIGNhbmNlbChiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2JhdGNoZXMvJHtiYXRjaElkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmF0Y2hlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkJhdGNoZXMuQmF0Y2hlc1BhZ2UgPSBCYXRjaGVzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhdGNoZXMubWpzLm1hcCIsInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIF9FdmVudFN0cmVhbV9lbmRlZCwgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEV2ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Nvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9lbmRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZXJyb3JlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fYWJvcnRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgcmVzb2x2ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLCByZXNvbHZlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCByZWplY3QsIFwiZlwiKTtcbiAgICAgICAgfSksIFwiZlwiKTtcbiAgICAgICAgLy8gRG9uJ3QgbGV0IHRoZXNlIHByb21pc2VzIGNhdXNlIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3JzLlxuICAgICAgICAvLyB3ZSB3aWxsIG1hbnVhbGx5IGNhdXNlIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgbGF0ZXJcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGxpc3RlbmVyIG9yIGNhbGxlZFxuICAgICAgICAvLyBhbnkgcHJvbWlzZS1yZXR1cm5pbmcgbWV0aG9kLlxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSwgXCJmXCIpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgfVxuICAgIF9ydW4oZXhlY3V0b3IpIHtcbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSBpZiB3ZSBjYWxsIGBleGVjdXRvcigpYCBpbW1lZGlhdGVseSB3ZSBnZXQgcnVudGltZSBlcnJvcnMgYWJvdXRcbiAgICAgICAgLy8gcmVmZXJlbmNlcyB0byBgdGhpc2AgYmVmb3JlIHRoZSBgc3VwZXIoKWAgY29uc3RydWN0b3IgY2FsbCByZXR1cm5zLlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdEZpbmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgICAgICB9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IpLmJpbmQodGhpcykpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgX2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdCcpO1xuICAgIH1cbiAgICBnZXQgZW5kZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgZXJyb3JlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGFib3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBcImZcIik7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAgICogTm8gY2hlY2tzIGFyZSBtYWRlIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaGFzIGFscmVhZHkgYmVlbiBhZGRlZC4gTXVsdGlwbGUgY2FsbHMgcGFzc2luZ1xuICAgICAqIHRoZSBzYW1lIGNvbWJpbmF0aW9uIG9mIGV2ZW50IGFuZCBsaXN0ZW5lciB3aWxsIHJlc3VsdCBpbiB0aGUgbGlzdGVuZXIgYmVpbmcgYWRkZWQsIGFuZFxuICAgICAqIGNhbGxlZCwgbXVsdGlwbGUgdGltZXMuXG4gICAgICogQHJldHVybnMgdGhpcyBDaGF0Q29tcGxldGlvblN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgICAqL1xuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gfHwgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSA9IFtdKTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBsaXN0ZW5lciB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgICAqIG9mZigpIHdpbGwgcmVtb3ZlLCBhdCBtb3N0LCBvbmUgaW5zdGFuY2Ugb2YgYSBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheS4gSWYgYW55IHNpbmdsZVxuICAgICAqIGxpc3RlbmVyIGhhcyBiZWVuIGFkZGVkIG11bHRpcGxlIHRpbWVzIHRvIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudCwgdGhlblxuICAgICAqIG9mZigpIG11c3QgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIHJlbW92ZSBlYWNoIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuZmluZEluZGV4KChsKSA9PiBsLmxpc3RlbmVyID09PSBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgb25lLXRpbWUgbGlzdGVuZXIgZnVuY3Rpb24gZm9yIHRoZSBldmVudC4gVGhlIG5leHQgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgICAqIHRoaXMgbGlzdGVuZXIgaXMgcmVtb3ZlZCBhbmQgdGhlbiBpbnZva2VkLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gfHwgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSA9IFtdKTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBsaXN0ZW5lciwgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgc2ltaWxhciB0byBgLm9uY2UoKWAsIGJ1dCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWVcbiAgICAgKiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLCBpbnN0ZWFkIG9mIGNhbGxpbmcgYSBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0aGUgbmV4dCB0aW1lIGdpdmVuIGV2ZW50IGlzIHRyaWdnZXJlZCxcbiAgICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIGlzIGVtaXR0ZWQuICAoSWYgeW91IHJlcXVlc3QgdGhlICdlcnJvcicgZXZlbnQsXG4gICAgICogcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBlcnJvcikuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICBjb25zdCBtZXNzYWdlID0gYXdhaXQgc3RyZWFtLmVtaXR0ZWQoJ21lc3NhZ2UnKSAvLyByZWplY3RzIGlmIHRoZSBzdHJlYW0gZXJyb3JzXG4gICAgICovXG4gICAgZW1pdHRlZChldmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKGV2ZW50ICE9PSAnZXJyb3InKVxuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKGV2ZW50LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGRvbmUoKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSwgXCJmXCIpO1xuICAgIH1cbiAgICBfZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZW1pdCBhbnkgZXZlbnRzIGFmdGVyIGVuZFxuICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kZWQsIFwiZlwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBsaXN0ZW5lcnMuZmlsdGVyKChsKSA9PiAhbC5vbmNlKTtcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKCh7IGxpc3RlbmVyIH0pID0+IGxpc3RlbmVyKC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgXCJmXCIpICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgLy8gTk9URTogX2VtaXQoJ2Vycm9yJywgZXJyb3IpIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tICNoYW5kbGVFcnJvcigpLlxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCBcImZcIikgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UgYXJlIHNlZWluZyBzdGFjayB0cmFjZXMgaGVyZSwgbWFrZSBzdXJlIHRvIGhhbmRsZSBlcnJvcnMgdmlhIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAtIHJ1bm5lci5vbignZXJyb3InLCAoKSA9PiAuLi4pXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZG9uZSgpXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZmluYWxDaGF0Q29tcGxldGlvbigpXG4gICAgICAgICAgICAgICAgLy8gLSBldGMuXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VtaXRGaW5hbCgpIHsgfVxufVxuX0V2ZW50U3RyZWFtX2Nvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2VuZGVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2Vycm9yZWQgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9FdmVudFN0cmVhbV9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIF9FdmVudFN0cmVhbV9oYW5kbGVFcnJvcihlcnJvcikge1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIHRydWUsIFwiZlwiKTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQVBJVXNlckFib3J0RXJyb3IpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnYWJvcnQnLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE9wZW5BSUVycm9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc3Qgb3BlbkFJRXJyb3IgPSBuZXcgT3BlbkFJRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgb3BlbkFJRXJyb3IuY2F1c2UgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgb3BlbkFJRXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgT3BlbkFJRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50U3RyZWFtLm1qcy5tYXAiLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIF9Bc3Npc3RhbnRTdHJlYW1fZXZlbnRzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudEV2ZW50LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90LCBfQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50LCBfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW5TdGVwLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVSdW5TdGVwLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVNZXNzYWdlLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50LCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1bjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi4vc3RyZWFtaW5nLm1qc1wiO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgRXZlbnRTdHJlYW0gfSBmcm9tIFwiLi9FdmVudFN0cmVhbS5tanNcIjtcbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRTdHJlYW0gZXh0ZW5kcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgLy9UcmFjayBhbGwgZXZlbnRzIGluIGEgc2luZ2xlIGxpc3QgZm9yIHJlZmVyZW5jZVxuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2V2ZW50cy5zZXQodGhpcywgW10pO1xuICAgICAgICAvL1VzZWQgdG8gYWNjdW11bGF0ZSBkZWx0YXNcbiAgICAgICAgLy9XZSBhcmUgYWNjdW11bGF0aW5nIG1hbnkgdHlwZXMgc28gdGhlIHZhbHVlIGhlcmUgaXMgbm90IHN0cmljdFxuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXguc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsSW5kZXguc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICAvL0ZvciBjdXJyZW50IHNuYXBzaG90IG1ldGhvZHNcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgfVxuICAgIFsoX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4gPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXggPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICAgICAgY29uc3QgcHVzaFF1ZXVlID0gW107XG4gICAgICAgIGNvbnN0IHJlYWRRdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAvL0NhdGNoIGFsbCBmb3IgcGFzc2luZyBhbG9uZyBhbGwgZXZlbnRzXG4gICAgICAgIHRoaXMub24oJ2V2ZW50JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IEFzc2lzdGFudFN0cmVhbSgpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2Zyb21SZWFkYWJsZVN0cmVhbShyZWFkYWJsZVN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbShyZWFkYWJsZVN0cmVhbSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkUnVuKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICB0b1JlYWRhYmxlU3RyZWFtKCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgU3RyZWFtKHRoaXNbU3ltYm9sLmFzeW5jSXRlcmF0b3JdLmJpbmQodGhpcyksIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHJldHVybiBzdHJlYW0udG9SZWFkYWJsZVN0cmVhbSgpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIHJ1bnMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbEFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIHJ1bnMsIHBhcmFtcywge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIGFzeW5jIF9jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHJ1biwgdGhyZWFkSWQsIHJ1bklkLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgcnVuLnN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgYm9keSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0ocGFyYW1zLCB0aHJlYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IEFzc2lzdGFudFN0cmVhbSgpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3RocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVBc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHJ1bnMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5zLCBwYXJhbXMsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3N0cmVhbScgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBjdXJyZW50RXZlbnQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudEV2ZW50LCBcImZcIik7XG4gICAgfVxuICAgIGN1cnJlbnRSdW4oKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LCBcImZcIik7XG4gICAgfVxuICAgIGN1cnJlbnRNZXNzYWdlU25hcHNob3QoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIik7XG4gICAgfVxuICAgIGN1cnJlbnRSdW5TdGVwU25hcHNob3QoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCwgXCJmXCIpO1xuICAgIH1cbiAgICBhc3luYyBmaW5hbFJ1blN0ZXBzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKSk7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsTWVzc2FnZXMoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cywgXCJmXCIpKTtcbiAgICB9XG4gICAgYXN5bmMgZmluYWxSdW4oKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ZpbmFsIHJ1biB3YXMgbm90IHJlY2VpdmVkLicpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBcImZcIik7XG4gICAgfVxuICAgIGFzeW5jIF9jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0odGhyZWFkLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhyZWFkLmNyZWF0ZUFuZFJ1bihib2R5LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFJ1bihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZUFzc2lzdGFudFN0cmVhbShydW4sIHRocmVhZElkLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgcnVuLmNyZWF0ZSh0aHJlYWRJZCwgYm9keSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBhY2N1bXVsYXRlRGVsdGEoYWNjLCBkZWx0YSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGRlbHRhVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRlbHRhKSkge1xuICAgICAgICAgICAgaWYgKCFhY2MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBhY2NWYWx1ZSA9IGFjY1trZXldO1xuICAgICAgICAgICAgaWYgKGFjY1ZhbHVlID09PSBudWxsIHx8IGFjY1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBkb24ndCBhY2N1bXVsYXRlIHRoZXNlIHNwZWNpYWwgcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2luZGV4JyB8fCBrZXkgPT09ICd0eXBlJykge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFR5cGUtc3BlY2lmaWMgYWNjdW11bGF0aW9uIGxvZ2ljXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjY1ZhbHVlID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgZGVsdGFWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBhY2NWYWx1ZSArPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFjY1ZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZGVsdGFWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBhY2NWYWx1ZSArPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQ29yZS5pc09iaihhY2NWYWx1ZSkgJiYgQ29yZS5pc09iaihkZWx0YVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjVmFsdWUsIGRlbHRhVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY2NWYWx1ZSkgJiYgQXJyYXkuaXNBcnJheShkZWx0YVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmIChhY2NWYWx1ZS5ldmVyeSgoeCkgPT4gdHlwZW9mIHggPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB4ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjVmFsdWUucHVzaCguLi5kZWx0YVZhbHVlKTsgLy8gVXNlIHNwcmVhZCBzeW50YXggZm9yIGVmZmljaWVudCBhZGRpdGlvblxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWx0YUVudHJ5IG9mIGRlbHRhVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFDb3JlLmlzT2JqKGRlbHRhRW50cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IHRvIGJlIGFuIG9iamVjdCBidXQgZ290OiAke2RlbHRhRW50cnl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkZWx0YUVudHJ5WydpbmRleCddO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihkZWx0YUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYXJyYXkgZGVsdGEgZW50cnkgdG8gaGF2ZSBhbiBgaW5kZXhgIHByb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXJyYXkgZGVsdGEgZW50cnkgXFxgaW5kZXhcXGAgcHJvcGVydHkgdG8gYmUgYSBudW1iZXIgYnV0IGdvdCAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0VudHJ5ID0gYWNjVmFsdWVbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjRW50cnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjVmFsdWUucHVzaChkZWx0YUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1ZhbHVlW2luZGV4XSA9IHRoaXMuYWNjdW11bGF0ZURlbHRhKGFjY0VudHJ5LCBkZWx0YUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBVbmhhbmRsZWQgcmVjb3JkIHR5cGU6ICR7a2V5fSwgZGVsdGFWYWx1ZTogJHtkZWx0YVZhbHVlfSwgYWNjVmFsdWU6ICR7YWNjVmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGFjY1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuICAgIF9hZGRSdW4ocnVuKSB7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIF90aHJlYWRBc3Npc3RhbnRTdHJlYW0ocGFyYW1zLCB0aHJlYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbSh0aHJlYWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5Bc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHJ1bnMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlQXNzaXN0YW50U3RyZWFtKHJ1bnMsIHRocmVhZElkLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBfcnVuVG9vbEFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIHJ1bnMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbShydW5zLCB0aHJlYWRJZCwgcnVuSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxufVxuX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIGV2ZW50LCBcImZcIik7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLmNyZWF0ZWQnOlxuICAgICAgICAgICAgLy9ObyBhY3Rpb24gb24gdGhpcyBldmVudC5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNyZWF0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnF1ZXVlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbmNvbXBsZXRlJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uZXhwaXJlZCc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4pLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIC8vVGhpcyBpcyBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzLCBidXQgZXJyb3JzIGFyZSBwcm9jZXNzZWQgaW4gdGhlIFNTRSBldmVudCBwcm9jZXNzaW5nIHNvIHRoaXMgc2hvdWxkIG5vdCBvY2N1clxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNvdW50ZXJlZCBhbiBlcnJvciBldmVudCBpbiBldmVudCBwcm9jZXNzaW5nIC0gZXJyb3JzIHNob3VsZCBiZSBwcm9jZXNzZWQgZWFybGllcicpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0TmV2ZXIoZXZlbnQpO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHN0cmVhbSBoYXMgZW5kZWQsIHRoaXMgc2hvdWxkbid0IGhhcHBlbmApO1xuICAgIH1cbiAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpKVxuICAgICAgICB0aHJvdyBFcnJvcignRmluYWwgcnVuIGhhcyBub3QgYmVlbiByZWNlaXZlZCcpO1xuICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIFwiZlwiKTtcbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZShldmVudCkge1xuICAgIGNvbnN0IFthY2N1bXVsYXRlZE1lc3NhZ2UsIG5ld0NvbnRlbnRdID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgYWNjdW11bGF0ZWRNZXNzYWdlLCBcImZcIik7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMsIFwiZlwiKVthY2N1bXVsYXRlZE1lc3NhZ2UuaWRdID0gYWNjdW11bGF0ZWRNZXNzYWdlO1xuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBuZXdDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90Q29udGVudCA9IGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdO1xuICAgICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09ICd0ZXh0Jykge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dENyZWF0ZWQnLCBzbmFwc2hvdENvbnRlbnQudGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VDcmVhdGVkJywgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmRlbHRhJzpcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VEZWx0YScsIGV2ZW50LmRhdGEuZGVsdGEsIGFjY3VtdWxhdGVkTWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIGV2ZW50LmRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAvL0lmIGl0IGlzIHRleHQgZGVsdGEsIGVtaXQgYSB0ZXh0IGRlbHRhIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT0gJ3RleHQnICYmIGNvbnRlbnQudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHREZWx0YSA9IGNvbnRlbnQudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90ICYmIHNuYXBzaG90LnR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERlbHRhJywgdGV4dERlbHRhLCBzbmFwc2hvdC50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgc25hcHNob3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGV4dCBkZWx0YSBpcyBub3QgdGV4dCBvciBtaXNzaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuaW5kZXggIT0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9TZWUgaWYgd2UgaGF2ZSBpbiBwcm9ncmVzcyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudCwgXCJmXCIpLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudCwgXCJmXCIpLnRleHQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2VfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdpbWFnZUZpbGVEb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikuaW1hZ2VfZmlsZSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBjb250ZW50LmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBhY2N1bXVsYXRlZE1lc3NhZ2UuY29udGVudFtjb250ZW50LmluZGV4XSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgICAgIC8vV2UgZW1pdCB0aGUgbGF0ZXN0IGNvbnRlbnQgd2Ugd2VyZSB3b3JraW5nIG9uIG9uIGNvbXBsZXRpb24gKGluY2x1ZGluZyBpbmNvbXBsZXRlKVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBcImZcIikgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gZXZlbnQuZGF0YS5jb250ZW50W19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBcImZcIildO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRDb250ZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlX2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCBjdXJyZW50Q29udGVudC5pbWFnZV9maWxlLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERvbmUnLCBjdXJyZW50Q29udGVudC50ZXh0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VEb25lJywgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9XG59LCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAgPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAoZXZlbnQpIHtcbiAgICBjb25zdCBhY2N1bXVsYXRlZFJ1blN0ZXAgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIGFjY3VtdWxhdGVkUnVuU3RlcCwgXCJmXCIpO1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgncnVuU3RlcENyZWF0ZWQnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnOlxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBldmVudC5kYXRhLmRlbHRhO1xuICAgICAgICAgICAgaWYgKGRlbHRhLnN0ZXBfZGV0YWlscyAmJlxuICAgICAgICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJyAmJlxuICAgICAgICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzICYmXG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmluZGV4ID09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERlbHRhJywgdG9vbENhbGwsIGFjY3VtdWxhdGVkUnVuU3RlcC5zdGVwX2RldGFpbHMudG9vbF9jYWxsc1t0b29sQ2FsbC5pbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsSW5kZXgsIHRvb2xDYWxsLmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbdG9vbENhbGwuaW5kZXhdLCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsQ3JlYXRlZCcsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwRGVsdGEnLCBldmVudC5kYXRhLmRlbHRhLCBhY2N1bXVsYXRlZFJ1blN0ZXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBldmVudC5kYXRhLnN0ZXBfZGV0YWlscztcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERvbmUnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwRG9uZScsIGV2ZW50LmRhdGEsIGFjY3VtdWxhdGVkUnVuU3RlcCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2V2ZW50cywgXCJmXCIpLnB1c2goZXZlbnQpO1xuICAgIHRoaXMuX2VtaXQoJ2V2ZW50JywgZXZlbnQpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZVJ1blN0ZXAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdO1xuICAgICAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdSZWNlaXZlZCBhIFJ1blN0ZXBEZWx0YSBiZWZvcmUgY3JlYXRpb24gb2YgYSBzbmFwc2hvdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRhdGEgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZCA9IEFzc2lzdGFudFN0cmVhbS5hY2N1bXVsYXRlRGVsdGEoc25hcHNob3QsIGRhdGEuZGVsdGEpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBhY2N1bXVsYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZXhwaXJlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5pbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSlcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBzbmFwc2hvdCBhdmFpbGFibGUnKTtcbn0sIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UgPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVNZXNzYWdlKGV2ZW50LCBzbmFwc2hvdCkge1xuICAgIGxldCBuZXdDb250ZW50ID0gW107XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgICAgIC8vT24gY3JlYXRpb24gdGhlIHNuYXBzaG90IGlzIGp1c3QgdGhlIGluaXRpYWwgbWVzc2FnZVxuICAgICAgICAgICAgcmV0dXJuIFtldmVudC5kYXRhLCBuZXdDb250ZW50XTtcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdSZWNlaXZlZCBhIGRlbHRhIHdpdGggbm8gZXhpc3Rpbmcgc25hcHNob3QgKHRoZXJlIHNob3VsZCBiZSBvbmUgZnJvbSBtZXNzYWdlIGNyZWF0aW9uKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRhdGEgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgLy9JZiB0aGlzIGRlbHRhIGRvZXMgbm90IGhhdmUgY29udGVudCwgbm90aGluZyB0byBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50RWxlbWVudCBvZiBkYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LmluZGV4IGluIHNuYXBzaG90LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q29udGVudCA9IHNuYXBzaG90LmNvbnRlbnRbY29udGVudEVsZW1lbnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF0gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudCkuY2FsbCh0aGlzLCBjb250ZW50RWxlbWVudCwgY3VycmVudENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF0gPSBjb250ZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudC5wdXNoKGNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbc25hcHNob3QsIG5ld0NvbnRlbnRdO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzcyc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAgICAgLy9ObyBjaGFuZ2VzIG9uIG90aGVyIHRocmVhZCBldmVudHNcbiAgICAgICAgICAgIGlmIChzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbc25hcHNob3QsIG5ld0NvbnRlbnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIHRocmVhZCBtZXNzYWdlIGV2ZW50IHdpdGggbm8gZXhpc3Rpbmcgc25hcHNob3QnKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoJ1RyaWVkIHRvIGFjY3VtdWxhdGUgYSBub24tbWVzc2FnZSBldmVudCcpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZUNvbnRlbnQoY29udGVudEVsZW1lbnQsIGN1cnJlbnRDb250ZW50KSB7XG4gICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5hY2N1bXVsYXRlRGVsdGEoY3VycmVudENvbnRlbnQsIGNvbnRlbnRFbGVtZW50KTtcbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4oZXZlbnQpIHtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LCBldmVudC5kYXRhLCBcImZcIik7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNyZWF0ZWQnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucXVldWVkJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uZXhwaXJlZCc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIGV2ZW50LmRhdGEsIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERvbmUnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGluZyc6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzaXN0YW50U3RyZWFtLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRTdHJlYW0gfSBmcm9tIFwiLi4vLi4vbGliL0Fzc2lzdGFudFN0cmVhbS5tanNcIjtcbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBhc3Npc3RhbnQgd2l0aCBhIG1vZGVsIGFuZCBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYXNzaXN0YW50cycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbiBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgcmV0cmlldmUoYXNzaXN0YW50SWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhbiBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgdXBkYXRlKGFzc2lzdGFudElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvYXNzaXN0YW50cycsIEFzc2lzdGFudHNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGFzc2lzdGFudC5cbiAgICAgKi9cbiAgICBkZWwoYXNzaXN0YW50SWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuQXNzaXN0YW50cy5Bc3Npc3RhbnRzUGFnZSA9IEFzc2lzdGFudHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzaXN0YW50cy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4ucGFyc2UgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICpcbiAqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBQYXJzaW5nVG9vbEZ1bmN0aW9uIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzaW5nRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dC5mdW5jdGlvbjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IGlucHV0LnBhcnNlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBpbnB1dC5wYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMubmFtZSA9IGlucHV0Lm5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGlzIGhlbHBlciBjbGFzcyBmb3IgcGFzc2luZyBhIGBmdW5jdGlvbmAgYW5kIGBwYXJzZWAgd2hlcmUgdGhlIGBmdW5jdGlvbmBcbiAqIGFyZ3VtZW50IHR5cGUgbWF0Y2hlcyB0aGUgYHBhcnNlYCByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdUb29sRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdmdW5jdGlvbic7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SdW5uYWJsZUZ1bmN0aW9uLm1qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNBc3Npc3RhbnRNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICByZXR1cm4gbWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCc7XG59O1xuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb25NZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICByZXR1cm4gbWVzc2FnZT8ucm9sZSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5leHBvcnQgY29uc3QgaXNUb29sTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICd0b29sJztcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXRDb21wbGV0aW9uVXRpbHMubWpzLm1hcCIsImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQsIHBhcnNlcikge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVRleHRGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVRvb2wodG9vbCwgeyBwYXJzZXIsIGNhbGxiYWNrLCB9KSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJGNhbGxiYWNrOiB7XG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuIHRvb2w/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21wbGV0aW9uLFxuICAgICAgICAgICAgY2hvaWNlczogY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlucHV0VG9vbC5mdW5jdGlvbj8ubmFtZSA9PT0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAuLi50b29sQ2FsbC5mdW5jdGlvbixcbiAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgOiBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3ZhbGlkYXRlUGFyYW1zLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQ7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZSwgfSBmcm9tIFwiLi9SdW5uYWJsZUZ1bmN0aW9uLm1qc1wiO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlLCBpc0Z1bmN0aW9uTWVzc2FnZSwgaXNUb29sTWVzc2FnZSB9IGZyb20gXCIuL2NoYXRDb21wbGV0aW9uVXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFdmVudFN0cmVhbSB9IGZyb20gXCIuL0V2ZW50U3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgaXNBdXRvUGFyc2FibGVUb29sLCBwYXJzZUNoYXRDb21wbGV0aW9uIH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5jb25zdCBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TID0gMTA7XG5leHBvcnQgY2xhc3MgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciBleHRlbmRzIEV2ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY2hhdENvbXBsZXRpb25zID0gW107XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgX2FkZENoYXRDb21wbGV0aW9uKGNoYXRDb21wbGV0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NoYXRDb21wbGV0aW9ucy5wdXNoKGNoYXRDb21wbGV0aW9uKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY2hhdENvbXBsZXRpb24nLCBjaGF0Q29tcGxldGlvbik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjaGF0Q29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICAgICAgICBpZiAobWVzc2FnZSlcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBjaGF0Q29tcGxldGlvbjtcbiAgICB9XG4gICAgX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCA9IHRydWUpIHtcbiAgICAgICAgaWYgKCEoJ2NvbnRlbnQnIGluIG1lc3NhZ2UpKVxuICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICBpZiAoZW1pdCkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKChpc0Z1bmN0aW9uTWVzc2FnZShtZXNzYWdlKSB8fCBpc1Rvb2xNZXNzYWdlKG1lc3NhZ2UpKSAmJiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RlLCB0aGlzIGFzc3VtZXMgdGhhdCB7cm9sZTogJ3Rvb2wnLCBjb250ZW50OiDigKZ9IGlzIGFsd2F5cyB0aGUgcmVzdWx0IG9mIGEgY2FsbCBvZiB0b29sIG9mIHR5cGU9ZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsUmVzdWx0JywgbWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGwnLCBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbF9jYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbF9jYWxsLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbCcsIHRvb2xfY2FsbC5mdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgQ2hhdENvbXBsZXRpb24sIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxDaGF0Q29tcGxldGlvbigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSB0aGlzLl9jaGF0Q29tcGxldGlvbnNbdGhpcy5fY2hhdENvbXBsZXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWNvbXBsZXRpb24pXG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uJyk7XG4gICAgICAgIHJldHVybiBjb21wbGV0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsQ29udGVudCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdGhlIGZpbmFsIGFzc2lzdGFudCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UgcmVzcG9uc2UsXG4gICAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsTWVzc2FnZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgZmluYWwgRnVuY3Rpb25DYWxsLCBvciByZWplY3RzXG4gICAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbEZ1bmN0aW9uQ2FsbCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyB0b3RhbFVzYWdlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgYWxsQ2hhdENvbXBsZXRpb25zKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2NoYXRDb21wbGV0aW9uc107XG4gICAgfVxuICAgIF9lbWl0RmluYWwoKSB7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSB0aGlzLl9jaGF0Q29tcGxldGlvbnNbdGhpcy5fY2hhdENvbXBsZXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoY29tcGxldGlvbilcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ZpbmFsQ2hhdENvbXBsZXRpb24nLCBjb21wbGV0aW9uKTtcbiAgICAgICAgY29uc3QgZmluYWxNZXNzYWdlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbE1lc3NhZ2UpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbE1lc3NhZ2UnLCBmaW5hbE1lc3NhZ2UpO1xuICAgICAgICBjb25zdCBmaW5hbENvbnRlbnQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCkuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKGZpbmFsQ29udGVudClcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ZpbmFsQ29udGVudCcsIGZpbmFsQ29udGVudCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRnVuY3Rpb25DYWxsID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCkuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKGZpbmFsRnVuY3Rpb25DYWxsKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxGdW5jdGlvbkNhbGwnLCBmaW5hbEZ1bmN0aW9uQ2FsbCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCcsIGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KTtcbiAgICAgICAgaWYgKHRoaXMuX2NoYXRDb21wbGV0aW9ucy5zb21lKChjKSA9PiBjLnVzYWdlKSkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndG90YWxVc2FnZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSkuY2FsbCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMpLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICAgICAgY29uc3QgY2hhdENvbXBsZXRpb24gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoeyAuLi5wYXJhbXMsIHN0cmVhbTogZmFsc2UgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24ocGFyc2VDaGF0Q29tcGxldGlvbihjaGF0Q29tcGxldGlvbiwgcGFyYW1zKSk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5DaGF0Q29tcGxldGlvbihjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBfcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvbGUgPSAnZnVuY3Rpb24nO1xuICAgICAgICBjb25zdCB7IGZ1bmN0aW9uX2NhbGwgPSAnYXV0bycsIHN0cmVhbSwgLi4ucmVzdFBhcmFtcyB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBzaW5nbGVGdW5jdGlvblRvQ2FsbCA9IHR5cGVvZiBmdW5jdGlvbl9jYWxsICE9PSAnc3RyaW5nJyAmJiBmdW5jdGlvbl9jYWxsPy5uYW1lO1xuICAgICAgICBjb25zdCB7IG1heENoYXRDb21wbGV0aW9ucyA9IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uc0J5TmFtZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcGFyYW1zLmZ1bmN0aW9ucykge1xuICAgICAgICAgICAgZnVuY3Rpb25zQnlOYW1lW2YubmFtZSB8fCBmLmZ1bmN0aW9uLm5hbWVdID0gZjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmdW5jdGlvbnMgPSBwYXJhbXMuZnVuY3Rpb25zLm1hcCgoZikgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IGYubmFtZSB8fCBmLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBmLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZi5kZXNjcmlwdGlvbixcbiAgICAgICAgfSkpO1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENoYXRDb21wbGV0aW9uczsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwge1xuICAgICAgICAgICAgICAgIC4uLnJlc3RQYXJhbXMsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLm1lc3NhZ2VzXSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgbWVzc2FnZSBpbiBDaGF0Q29tcGxldGlvbiByZXNwb25zZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSA9IG1lc3NhZ2UuZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb25zQnlOYW1lW25hbWVdO1xuICAgICAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gQXZhaWxhYmxlIG9wdGlvbnMgYXJlOiAke2Z1bmN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAubWFwKChmKSA9PiBKU09OLnN0cmluZ2lmeShmLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKX0uIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCBuYW1lLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwgJiYgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgZnVuY3Rpb25fY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uICR7SlNPTi5zdHJpbmdpZnkoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpfSByZXF1ZXN0ZWQuIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCBuYW1lLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlKGZuKSA/IGF3YWl0IGZuLnBhcnNlKGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGl0IGNhbid0IHJ1bGUgb3V0IGBuZXZlcmAgdHlwZS5cbiAgICAgICAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KS5jYWxsKHRoaXMsIHJhd0NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIG5hbWUsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9ydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByb2xlID0gJ3Rvb2wnO1xuICAgICAgICBjb25zdCB7IHRvb2xfY2hvaWNlID0gJ2F1dG8nLCBzdHJlYW0sIC4uLnJlc3RQYXJhbXMgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgPSB0eXBlb2YgdG9vbF9jaG9pY2UgIT09ICdzdHJpbmcnICYmIHRvb2xfY2hvaWNlPy5mdW5jdGlvbj8ubmFtZTtcbiAgICAgICAgY29uc3QgeyBtYXhDaGF0Q29tcGxldGlvbnMgPSBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAvLyBUT0RPKHNvbWVkYXkpOiBjbGVhbiB0aGlzIGxvZ2ljIHVwXG4gICAgICAgIGNvbnN0IGlucHV0VG9vbHMgPSBwYXJhbXMudG9vbHMubWFwKCh0b29sKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b29sLiRjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ1Rvb2wgZ2l2ZW4gdG8gYC5ydW5Ub29scygpYCB0aGF0IGRvZXMgbm90IGhhdmUgYW4gYXNzb2NpYXRlZCBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IHRvb2wuJGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdG9vbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZnVuY3Rpb24uZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLmZ1bmN0aW9uLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZTogdG9vbC4kcGFyc2VSYXcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b29sO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zQnlOYW1lID0ge307XG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBpbnB1dFRvb2xzKSB7XG4gICAgICAgICAgICBpZiAoZi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25zQnlOYW1lW2YuZnVuY3Rpb24ubmFtZSB8fCBmLmZ1bmN0aW9uLmZ1bmN0aW9uLm5hbWVdID0gZi5mdW5jdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29scyA9ICd0b29scycgaW4gcGFyYW1zID9cbiAgICAgICAgICAgIGlucHV0VG9vbHMubWFwKCh0KSA9PiB0LnR5cGUgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHQuZnVuY3Rpb24ubmFtZSB8fCB0LmZ1bmN0aW9uLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0LmZ1bmN0aW9uLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdC5mdW5jdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmljdDogdC5mdW5jdGlvbi5zdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgcGFyYW1zLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENoYXRDb21wbGV0aW9uczsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwge1xuICAgICAgICAgICAgICAgIC4uLnJlc3RQYXJhbXMsXG4gICAgICAgICAgICAgICAgdG9vbF9jaG9pY2UsXG4gICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLm1lc3NhZ2VzXSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgbWVzc2FnZSBpbiBDaGF0Q29tcGxldGlvbiByZXNwb25zZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRvb2xfY2FsbHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbF9jYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIGlmICh0b29sX2NhbGwudHlwZSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbF9jYWxsX2lkID0gdG9vbF9jYWxsLmlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gPSB0b29sX2NhbGwuZnVuY3Rpb247XG4gICAgICAgICAgICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbnNCeU5hbWVbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgdG9vbF9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gQXZhaWxhYmxlIG9wdGlvbnMgYXJlOiAke09iamVjdC5rZXlzKGZ1bmN0aW9uc0J5TmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKG5hbWUpID0+IEpTT04uc3RyaW5naWZ5KG5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyl9LiBQbGVhc2UgdHJ5IGFnYWluYDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsICYmIHNpbmdsZUZ1bmN0aW9uVG9DYWxsICE9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCB0b29sX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiAke0pTT04uc3RyaW5naWZ5KHNpbmdsZUZ1bmN0aW9uVG9DYWxsKX0gcmVxdWVzdGVkLiBQbGVhc2UgdHJ5IGFnYWluYDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlKGZuKSA/IGF3YWl0IGZuLnBhcnNlKGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGl0IGNhbid0IHJ1bGUgb3V0IGBuZXZlcmAgdHlwZS5cbiAgICAgICAgICAgICAgICBjb25zdCByYXdDb250ZW50ID0gYXdhaXQgZm4uZnVuY3Rpb24ocGFyc2VkLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQpLmNhbGwodGhpcywgcmF3Q29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50ID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50KCkge1xuICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKS5jb250ZW50ID8/IG51bGw7XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UoKSB7XG4gICAgbGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tpXTtcbiAgICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgY29uc3QgeyBmdW5jdGlvbl9jYWxsLCAuLi5yZXN0IH0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgLy8gVE9ETzogc3VwcG9ydCBhdWRpbyBoZXJlXG4gICAgICAgICAgICBjb25zdCByZXQgPSB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgIHJldC5mdW5jdGlvbl9jYWxsID0gZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2Ugd2l0aCByb2xlPWFzc2lzdGFudCcpO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGwgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCgpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5tZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tpXTtcbiAgICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlPy5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZT8udG9vbF9jYWxscz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS50b29sX2NhbGxzLmF0KC0xKT8uZnVuY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5tZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tpXTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb25NZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Rvb2xNZXNzYWdlKG1lc3NhZ2UpICYmXG4gICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMuc29tZSgoeCkgPT4geC5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIHgudG9vbF9jYWxscz8uc29tZSgoeSkgPT4geS50eXBlID09PSAnZnVuY3Rpb24nICYmIHkuaWQgPT09IG1lc3NhZ2UudG9vbF9jYWxsX2lkKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKSB7XG4gICAgY29uc3QgdG90YWwgPSB7XG4gICAgICAgIGNvbXBsZXRpb25fdG9rZW5zOiAwLFxuICAgICAgICBwcm9tcHRfdG9rZW5zOiAwLFxuICAgICAgICB0b3RhbF90b2tlbnM6IDAsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsgdXNhZ2UgfSBvZiB0aGlzLl9jaGF0Q29tcGxldGlvbnMpIHtcbiAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgICB0b3RhbC5jb21wbGV0aW9uX3Rva2VucyArPSB1c2FnZS5jb21wbGV0aW9uX3Rva2VucztcbiAgICAgICAgICAgIHRvdGFsLnByb21wdF90b2tlbnMgKz0gdXNhZ2UucHJvbXB0X3Rva2VucztcbiAgICAgICAgICAgIHRvdGFsLnRvdGFsX3Rva2VucyArPSB1c2FnZS50b3RhbF90b2tlbnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zLm4gIT0gbnVsbCAmJiBwYXJhbXMubiA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdDaGF0Q29tcGxldGlvbiBjb252ZW5pZW5jZSBoZWxwZXJzIG9ubHkgc3VwcG9ydCBuPTEgYXQgdGhpcyB0aW1lLiBUbyB1c2Ugbj4xLCBwbGVhc2UgdXNlIGNoYXQuY29tcGxldGlvbnMuY3JlYXRlKCkgZGlyZWN0bHkuJyk7XG4gICAgfVxufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0ID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KHJhd0NvbnRlbnQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByYXdDb250ZW50ID09PSAnc3RyaW5nJyA/IHJhd0NvbnRlbnRcbiAgICAgICAgOiByYXdDb250ZW50ID09PSB1bmRlZmluZWQgPyAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeShyYXdDb250ZW50KSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lci5tanMubWFwIiwiaW1wb3J0IHsgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciwgfSBmcm9tIFwiLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qc1wiO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlIH0gZnJvbSBcIi4vY2hhdENvbXBsZXRpb25VdGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblJ1bm5lciBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIge1xuICAgIC8qKiBAZGVwcmVjYXRlZCAtIHBsZWFzZSB1c2UgYHJ1blRvb2xzYCBpbnN0ZWFkLiAqL1xuICAgIHN0YXRpYyBydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uUnVubmVyKCk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5GdW5jdGlvbnMnIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIHN0YXRpYyBydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXIoKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIF9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQpO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudCcsIG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGF0Q29tcGxldGlvblJ1bm5lci5tanMubWFwIiwiY29uc3QgU1RSID0gMGIwMDAwMDAwMDE7XG5jb25zdCBOVU0gPSAwYjAwMDAwMDAxMDtcbmNvbnN0IEFSUiA9IDBiMDAwMDAwMTAwO1xuY29uc3QgT0JKID0gMGIwMDAwMDEwMDA7XG5jb25zdCBOVUxMID0gMGIwMDAwMTAwMDA7XG5jb25zdCBCT09MID0gMGIwMDAxMDAwMDA7XG5jb25zdCBOQU4gPSAwYjAwMTAwMDAwMDtcbmNvbnN0IElORklOSVRZID0gMGIwMTAwMDAwMDA7XG5jb25zdCBNSU5VU19JTkZJTklUWSA9IDBiMTAwMDAwMDAwO1xuY29uc3QgSU5GID0gSU5GSU5JVFkgfCBNSU5VU19JTkZJTklUWTtcbmNvbnN0IFNQRUNJQUwgPSBOVUxMIHwgQk9PTCB8IElORiB8IE5BTjtcbmNvbnN0IEFUT00gPSBTVFIgfCBOVU0gfCBTUEVDSUFMO1xuY29uc3QgQ09MTEVDVElPTiA9IEFSUiB8IE9CSjtcbmNvbnN0IEFMTCA9IEFUT00gfCBDT0xMRUNUSU9OO1xuY29uc3QgQWxsb3cgPSB7XG4gICAgU1RSLFxuICAgIE5VTSxcbiAgICBBUlIsXG4gICAgT0JKLFxuICAgIE5VTEwsXG4gICAgQk9PTCxcbiAgICBOQU4sXG4gICAgSU5GSU5JVFksXG4gICAgTUlOVVNfSU5GSU5JVFksXG4gICAgSU5GLFxuICAgIFNQRUNJQUwsXG4gICAgQVRPTSxcbiAgICBDT0xMRUNUSU9OLFxuICAgIEFMTCxcbn07XG4vLyBUaGUgSlNPTiBzdHJpbmcgc2VnbWVudCB3YXMgdW5hYmxlIHRvIGJlIHBhcnNlZCBjb21wbGV0ZWx5XG5jbGFzcyBQYXJ0aWFsSlNPTiBleHRlbmRzIEVycm9yIHtcbn1cbmNsYXNzIE1hbGZvcm1lZEpTT04gZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFBhcnNlIGluY29tcGxldGUgSlNPTlxuICogQHBhcmFtIHtzdHJpbmd9IGpzb25TdHJpbmcgUGFydGlhbCBKU09OIHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIHtudW1iZXJ9IGFsbG93UGFydGlhbCBTcGVjaWZ5IHdoYXQgdHlwZXMgYXJlIGFsbG93ZWQgdG8gYmUgcGFydGlhbCwgc2VlIHtAbGluayBBbGxvd30gZm9yIGRldGFpbHNcbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgSlNPTlxuICogQHRocm93cyB7UGFydGlhbEpTT059IElmIHRoZSBKU09OIGlzIGluY29tcGxldGUgKHJlbGF0ZWQgdG8gdGhlIGBhbGxvd2AgcGFyYW1ldGVyKVxuICogQHRocm93cyB7TWFsZm9ybWVkSlNPTn0gSWYgdGhlIEpTT04gaXMgbWFsZm9ybWVkXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uU3RyaW5nLCBhbGxvd1BhcnRpYWwgPSBBbGxvdy5BTEwpIHtcbiAgICBpZiAodHlwZW9mIGpzb25TdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGluZyBzdHIsIGdvdCAke3R5cGVvZiBqc29uU3RyaW5nfWApO1xuICAgIH1cbiAgICBpZiAoIWpzb25TdHJpbmcudHJpbSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtqc29uU3RyaW5nfSBpcyBlbXB0eWApO1xuICAgIH1cbiAgICByZXR1cm4gX3BhcnNlSlNPTihqc29uU3RyaW5nLnRyaW0oKSwgYWxsb3dQYXJ0aWFsKTtcbn1cbmNvbnN0IF9wYXJzZUpTT04gPSAoanNvblN0cmluZywgYWxsb3cpID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSBqc29uU3RyaW5nLmxlbmd0aDtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IG1hcmtQYXJ0aWFsSlNPTiA9IChtc2cpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnRpYWxKU09OKGAke21zZ30gYXQgcG9zaXRpb24gJHtpbmRleH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHRocm93TWFsZm9ybWVkRXJyb3IgPSAobXNnKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBNYWxmb3JtZWRKU09OKGAke21zZ30gYXQgcG9zaXRpb24gJHtpbmRleH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlQW55ID0gKCkgPT4ge1xuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgaWYgKGluZGV4ID49IGxlbmd0aClcbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnXCInKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ3snKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ1snKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ251bGwnIHx8XG4gICAgICAgICAgICAoQWxsb3cuTlVMTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAnbnVsbCcuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAndHJ1ZScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA1KSA9PT0gJ2ZhbHNlJyB8fFxuICAgICAgICAgICAgKEFsbG93LkJPT0wgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDUgJiYgJ2ZhbHNlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA4KSA9PT0gJ0luZmluaXR5JyB8fFxuICAgICAgICAgICAgKEFsbG93LklORklOSVRZICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA4ICYmICdJbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gODtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgOSkgPT09ICctSW5maW5pdHknIHx8XG4gICAgICAgICAgICAoQWxsb3cuTUlOVVNfSU5GSU5JVFkgJiBhbGxvdyAmJlxuICAgICAgICAgICAgICAgIDEgPCBsZW5ndGggLSBpbmRleCAmJlxuICAgICAgICAgICAgICAgIGxlbmd0aCAtIGluZGV4IDwgOSAmJlxuICAgICAgICAgICAgICAgICctSW5maW5pdHknLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDk7XG4gICAgICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAzKSA9PT0gJ05hTicgfHxcbiAgICAgICAgICAgIChBbGxvdy5OQU4gJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDMgJiYgJ05hTicuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gMztcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlTnVtKCk7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZVN0ciA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBpbmRleDtcbiAgICAgICAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgcXVvdGVcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ1wiJyB8fCAoZXNjYXBlICYmIGpzb25TdHJpbmdbaW5kZXggLSAxXSA9PT0gJ1xcXFwnKSkpIHtcbiAgICAgICAgICAgIGVzY2FwZSA9IGpzb25TdHJpbmdbaW5kZXhdID09PSAnXFxcXCcgPyAhZXNjYXBlIDogZmFsc2U7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLmNoYXJBdChpbmRleCkgPT0gJ1wiJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgKytpbmRleCAtIE51bWJlcihlc2NhcGUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBbGxvdy5TVFIgJiBhbGxvdykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgaW5kZXggLSBOdW1iZXIoZXNjYXBlKSkgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gU3ludGF4RXJyb3I6IEludmFsaWQgZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ1xcXFwnKSkgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXJrUGFydGlhbEpTT04oJ1VudGVybWluYXRlZCBzdHJpbmcgbGl0ZXJhbCcpO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VPYmogPSAoKSA9PiB7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBicmFjZVxuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoanNvblN0cmluZ1tpbmRleF0gIT09ICd9Jykge1xuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBsZW5ndGggJiYgQWxsb3cuT0JKICYgYWxsb3cpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFyc2VTdHIoKTtcbiAgICAgICAgICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbG9uXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUFueSgpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJywnKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbW1hXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIkV4cGVjdGVkICd9JyBhdCBlbmQgb2Ygb2JqZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgZmluYWwgYnJhY2VcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlQXJyID0gKCkgPT4ge1xuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgYnJhY2tldFxuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gocGFyc2VBbnkoKSk7XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBjb21tYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKEFsbG93LkFSUiAmIGFsbG93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIkV4cGVjdGVkICddJyBhdCBlbmQgb2YgYXJyYXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFja2V0XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZU51bSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoanNvblN0cmluZyA9PT0gJy0nICYmIEFsbG93Lk5VTSAmIGFsbG93KVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIk5vdCBzdXJlIHdoYXQgJy0nIGlzXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFsbG93Lk5VTSAmIGFsbG93KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJy4nID09PSBqc29uU3RyaW5nW2pzb25TdHJpbmcubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoMCwganNvblN0cmluZy5sYXN0SW5kZXhPZignLicpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZygwLCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCdlJykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICctJylcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAmJiAhJyxdfScuaW5jbHVkZXMoanNvblN0cmluZ1tpbmRleF0pKVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgaWYgKGluZGV4ID09IGxlbmd0aCAmJiAhKEFsbG93Lk5VTSAmIGFsbG93KSlcbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW50ZXJtaW5hdGVkIG51bWJlciBsaXRlcmFsJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkgPT09ICctJyAmJiBBbGxvdy5OVU0gJiBhbGxvdylcbiAgICAgICAgICAgICAgICBtYXJrUGFydGlhbEpTT04oXCJOb3Qgc3VyZSB3aGF0ICctJyBpc1wiKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ2UnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvd01hbGZvcm1lZEVycm9yKFN0cmluZyhlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNraXBCbGFuayA9ICgpID0+IHtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmICcgXFxuXFxyXFx0Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSkpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBwYXJzZUFueSgpO1xufTtcbi8vIHVzaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBtYWxmb3JtZWQgSlNPTiBpcyB1bmRlZmluZWQgYmVoYXZpb3JcbmNvbnN0IHBhcnRpYWxQYXJzZSA9IChpbnB1dCkgPT4gcGFyc2VKU09OKGlucHV0LCBBbGxvdy5BTEwgXiBBbGxvdy5OVU0pO1xuZXhwb3J0IHsgcGFydGlhbFBhcnNlLCBQYXJ0aWFsSlNPTiwgTWFsZm9ybWVkSlNPTiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmssIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciwgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLCB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIsIH0gZnJvbSBcIi4vQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBoYXNBdXRvUGFyc2VhYmxlSW5wdXQsIGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQsIGlzQXV0b1BhcnNhYmxlVG9vbCwgbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uLCBzaG91bGRQYXJzZVRvb2xDYWxsLCB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuaW1wb3J0IHsgcGFydGlhbFBhcnNlIH0gZnJvbSBcIi4uL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdHJlYW0gZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIHBhcmFtcywgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgW10sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZW5kZWQgZm9yIHVzZSBvbiB0aGUgZnJvbnRlbmQsIGNvbnN1bWluZyBhIHN0cmVhbSBwcm9kdWNlZCB3aXRoXG4gICAgICogYC50b1JlYWRhYmxlU3RyZWFtKClgIG9uIHRoZSBiYWNrZW5kLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IG1lc3NhZ2VzIHNlbnQgdG8gdGhlIG1vZGVsIGRvIG5vdCBhcHBlYXIgaW4gYC5vbignbWVzc2FnZScpYFxuICAgICAqIGluIHRoaXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW0obnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtKHBhcmFtcyk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuX2NyZWF0ZUNoYXRDb21wbGV0aW9uO1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmspLmNhbGwodGhpcywgY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGxldCBjaGF0SWQ7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoY2hhdElkICYmIGNoYXRJZCAhPT0gY2h1bmsuaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5ldyByZXF1ZXN0IGhhcyBiZWVuIG1hZGUuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKS5jYWxsKHRoaXMsIGNodW5rKTtcbiAgICAgICAgICAgIGNoYXRJZCA9IGNodW5rLmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIFsoX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0ID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlKGNob2ljZSkge1xuICAgICAgICBsZXQgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgXCJmXCIpW2Nob2ljZS5pbmRleF07XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgY29udGVudF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHJlZnVzYWxfZG9uZTogZmFsc2UsXG4gICAgICAgICAgICBsb2dwcm9ic19jb250ZW50X2RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgbG9ncHJvYnNfcmVmdXNhbF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGRvbmVfdG9vbF9jYWxsczogbmV3IFNldCgpLFxuICAgICAgICAgICAgY3VycmVudF90b29sX2NhbGxfaW5kZXg6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBcImZcIilbY2hvaWNlLmluZGV4XSA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKGNodW5rKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbikuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2NodW5rJywgY2h1bmssIGNvbXBsZXRpb24pO1xuICAgICAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiBjaHVuay5jaG9pY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VTbmFwc2hvdCA9IGNvbXBsZXRpb24uY2hvaWNlc1tjaG9pY2UuaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgY2hvaWNlLmRlbHRhLmNvbnRlbnQsIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGNob2ljZS5kZWx0YS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UucGFyc2VkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5yZWZ1c2FsICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdyZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogY2hvaWNlLmRlbHRhLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50ICE9IG51bGwgJiYgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5jb250ZW50LmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2UubG9ncHJvYnM/LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaG9pY2UubG9ncHJvYnM/LnJlZnVzYWwgIT0gbnVsbCAmJiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLnJlZnVzYWwuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IGNob2ljZS5sb2dwcm9icz8ucmVmdXNhbCxcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5yZWZ1c2FsID8/IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAoY2hvaWNlU25hcHNob3QuZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9PSB0b29sQ2FsbC5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzKS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IHRvb2wgY2FsbCBzdGFydGVkLCB0aGUgcHJldmlvdXMgb25lIGlzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCA9IHRvb2xDYWxsLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsRGVsdGEuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghdG9vbENhbGxTbmFwc2hvdD8udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsRGVsdGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzX2RlbHRhOiB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uPy5hcmd1bWVudHMgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0TmV2ZXIodG9vbENhbGxTbmFwc2hvdD8udHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQoY2hvaWNlU25hcHNob3QsIHRvb2xDYWxsSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChzdGF0ZS5kb25lX3Rvb2xfY2FsbHMuaGFzKHRvb2xDYWxsSW5kZXgpKSB7XG4gICAgICAgICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGZpcmVkIHRoZSBkb25lIGV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsSW5kZXhdO1xuICAgICAgICBpZiAoIXRvb2xDYWxsU25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gdG9vbCBjYWxsIHNuYXBzaG90Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90LnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndG9vbCBjYWxsIHNuYXBzaG90IG1pc3NpbmcgYHR5cGVgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3QudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRUb29sID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIik/LnRvb2xzPy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5mdW5jdGlvbi5uYW1lID09PSB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsSW5kZXgsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnROZXZlcih0b29sQ2FsbFNuYXBzaG90LnR5cGUpO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3QpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQgJiYgIXN0YXRlLmNvbnRlbnRfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUuY29udGVudF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRm9ybWF0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgcGFyc2VkOiByZXNwb25zZUZvcm1hdCA/IHJlc3BvbnNlRm9ybWF0LiRwYXJzZVJhdyhjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgJiYgIXN0YXRlLnJlZnVzYWxfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUucmVmdXNhbF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3JlZnVzYWwuZG9uZScsIHsgcmVmdXNhbDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCAmJiAhc3RhdGUubG9ncHJvYnNfY29udGVudF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMuY29udGVudC5kb25lJywgeyBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5jb250ZW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8ucmVmdXNhbCAmJiAhc3RhdGUubG9ncHJvYnNfcmVmdXNhbF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19yZWZ1c2FsX2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMucmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBbXSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gZmluYWxpemVDaGF0Q29tcGxldGlvbihzbmFwc2hvdCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikpO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCByZXNwb25zZUZvcm1hdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpPy5yZXNwb25zZV9mb3JtYXQ7XG4gICAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlRm9ybWF0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlRm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24gPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uKGNodW5rKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgY29uc3QgeyBjaG9pY2VzLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgICAgICB9LCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNuYXBzaG90LCByZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHsgZGVsdGEsIGZpbmlzaF9yZWFzb24sIGluZGV4LCBsb2dwcm9icyA9IG51bGwsIC4uLm90aGVyIH0gb2YgY2h1bmsuY2hvaWNlcykge1xuICAgICAgICAgICAgbGV0IGNob2ljZSA9IHNuYXBzaG90LmNob2ljZXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XSA9IHsgZmluaXNoX3JlYXNvbiwgaW5kZXgsIG1lc3NhZ2U6IHt9LCBsb2dwcm9icywgLi4ub3RoZXIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2dwcm9icykge1xuICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLmxvZ3Byb2JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icyA9IE9iamVjdC5hc3NpZ24oe30sIGxvZ3Byb2JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCwgcmVmdXNhbCwgLi4ucmVzdCB9ID0gbG9ncHJvYnM7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLmxvZ3Byb2JzLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGNob2ljZS5sb2dwcm9icykuY29udGVudCA/PyAoX2EuY29udGVudCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5jb250ZW50LnB1c2goLi4uY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGNob2ljZS5sb2dwcm9icykucmVmdXNhbCA/PyAoX2IucmVmdXNhbCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5yZWZ1c2FsLnB1c2goLi4ucmVmdXNhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gZmluaXNoX3JlYXNvbjtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikgJiYgaGFzQXV0b1BhcnNlYWJsZUlucHV0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnY29udGVudF9maWx0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZSwgb3RoZXIpO1xuICAgICAgICAgICAgaWYgKCFkZWx0YSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2hvdWxkbid0IGhhcHBlbjsganVzdCBpbiBjYXNlLlxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCBmdW5jdGlvbl9jYWxsLCByb2xlLCB0b29sX2NhbGxzLCAuLi5yZXN0IH0gPSBkZWx0YTtcbiAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZS5tZXNzYWdlLCByZXN0KTtcbiAgICAgICAgICAgIGlmIChyZWZ1c2FsKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA9IChjaG9pY2UubWVzc2FnZS5yZWZ1c2FsIHx8ICcnKSArIHJlZnVzYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9sZSlcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5yb2xlID0gcm9sZTtcbiAgICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSA9IGZ1bmN0aW9uX2NhbGwubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKS5hcmd1bWVudHMgPz8gKF9jLmFyZ3VtZW50cyA9ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICs9IGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5jb250ZW50ID0gKGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgfHwgJycpICsgY29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnJlZnVzYWwgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5wYXJzZWQgPSBwYXJ0aWFsUGFyc2UoY2hvaWNlLm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpXG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIGlkLCB0eXBlLCBmdW5jdGlvbjogZm4sIC4uLnJlc3QgfSBvZiB0b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xfY2FsbCA9ICgoX2QgPSBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzKVtpbmRleF0gPz8gKF9kW2luZGV4XSA9IHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG9vbF9jYWxsLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24gPz8gKHRvb2xfY2FsbC5mdW5jdGlvbiA9IHsgbmFtZTogZm4ubmFtZSA/PyAnJywgYXJndW1lbnRzOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLm5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4/LmFyZ3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyArPSBmbi5hcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUGFyc2VUb29sQ2FsbChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIFwiZlwiKSwgdG9vbF9jYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzID0gcGFydGlhbFBhcnNlKHRvb2xfY2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMub24oJ2NodW5rJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9SZWFkYWJsZVN0cmVhbSgpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSh0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXS5iaW5kKHRoaXMpLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uKHNuYXBzaG90LCBwYXJhbXMpIHtcbiAgICBjb25zdCB7IGlkLCBjaG9pY2VzLCBjcmVhdGVkLCBtb2RlbCwgc3lzdGVtX2ZpbmdlcnByaW50LCAuLi5yZXN0IH0gPSBzbmFwc2hvdDtcbiAgICBjb25zdCBjb21wbGV0aW9uID0ge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBpZCxcbiAgICAgICAgY2hvaWNlczogY2hvaWNlcy5tYXAoKHsgbWVzc2FnZSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzLCAuLi5jaG9pY2VSZXN0IH0pID0+IHtcbiAgICAgICAgICAgIGlmICghZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmaW5pc2hfcmVhc29uIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCA9IG51bGwsIGZ1bmN0aW9uX2NhbGwsIHRvb2xfY2FsbHMsIC4uLm1lc3NhZ2VSZXN0IH0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTsgLy8gdGhpcyBpcyB3aGF0IHdlIGV4cGVjdDsgaW4gdGhlb3J5IGl0IGNvdWxkIGJlIGRpZmZlcmVudCB3aGljaCB3b3VsZCBtYWtlIG91ciB0eXBlcyBhIHNsaWdodCBsaWUgYnV0IHdvdWxkIGJlIGZpbmUuXG4gICAgICAgICAgICBpZiAoIXJvbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgcm9sZSBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lIH0gPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmdW5jdGlvbl9jYWxsLm5hbWUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsczogdG9vbF9jYWxscy5tYXAoKHRvb2xfY2FsbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb246IGZuLCB0eXBlLCBpZCwgLi4udG9vbFJlc3QgfSA9IHRvb2xfY2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSwgLi4uZm5SZXN0IH0gPSBmbiB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5pZFxcbiR7c3RyKHNuYXBzaG90KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS50eXBlXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmZ1bmN0aW9uLm5hbWVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24uYXJndW1lbnRzXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50b29sUmVzdCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiB7IC4uLmZuUmVzdCwgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogeyAuLi5tZXNzYWdlUmVzdCwgY29udGVudCwgcm9sZSwgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwgfSxcbiAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGNyZWF0ZWQsXG4gICAgICAgIG1vZGVsLFxuICAgICAgICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nLFxuICAgICAgICAuLi4oc3lzdGVtX2ZpbmdlcnByaW50ID8geyBzeXN0ZW1fZmluZ2VycHJpbnQgfSA6IHt9KSxcbiAgICB9O1xuICAgIHJldHVybiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIHN0cih4KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoZSBnaXZlbiBhcmd1bWVudCBpcyBhbiBlbXB0eSBvYmplY3QsIHVzZWZ1bCBmb3JcbiAqIGFzc2VydGluZyB0aGF0IGFsbCBrbm93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdCBoYXZlIGJlZW5cbiAqIGRlc3RydWN0dXJlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0SXNFbXB0eShvYmopIHtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGF0Q29tcGxldGlvblN0cmVhbS5tanMubWFwIiwiaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciBleHRlbmRzIENoYXRDb21wbGV0aW9uU3RyZWFtIHtcbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIobnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgICBzdGF0aWMgcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIHJ1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHRoZXNlIHR5cGVzIGFyZSBpbmNvbXBhdGlibGVcbiAgICAgICAgcGFyYW1zKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uUnVubmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzXCI7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbSB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUNoYXRDb21wbGV0aW9uLCB2YWxpZGF0ZUlucHV0VG9vbHMgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3BhcnNlci5tanNcIjtcbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzXCI7XG5leHBvcnQgeyBQYXJzaW5nRnVuY3Rpb24sIFBhcnNpbmdUb29sRnVuY3Rpb24sIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9SdW5uYWJsZUZ1bmN0aW9uLm1qc1wiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25SdW5uZXIsIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBwYXJzZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHZhbGlkYXRlSW5wdXRUb29scyhib2R5LnRvb2xzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5jaGF0LmNvbXBsZXRpb25zXG4gICAgICAgICAgICAuY3JlYXRlKGJvZHksIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdiZXRhLmNoYXQuY29tcGxldGlvbnMucGFyc2UnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5fdGhlblVud3JhcCgoY29tcGxldGlvbikgPT4gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBib2R5KSk7XG4gICAgfVxuICAgIHJ1bkZ1bmN0aW9ucyhib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChib2R5LnN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLnJ1bkZ1bmN0aW9ucyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5GdW5jdGlvbnModGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcnVuVG9vbHMoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYm9keS5zdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5ydW5Ub29scyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5Ub29scyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIHN0cmVhbVxuICAgICAqL1xuICAgIHN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbS5jcmVhdGVDaGF0Q29tcGxldGlvbih0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tIFwiLi9jb21wbGV0aW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25zID0gbmV3IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChDaGF0KSB7XG4gICAgQ2hhdC5Db21wbGV0aW9ucyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zO1xufSkoQ2hhdCB8fCAoQ2hhdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0Lm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgU2Vzc2lvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGVwaGVtZXJhbCBBUEkgdG9rZW4gZm9yIHVzZSBpbiBjbGllbnQtc2lkZSBhcHBsaWNhdGlvbnMgd2l0aCB0aGVcbiAgICAgKiBSZWFsdGltZSBBUEkuIENhbiBiZSBjb25maWd1cmVkIHdpdGggdGhlIHNhbWUgc2Vzc2lvbiBwYXJhbWV0ZXJzIGFzIHRoZVxuICAgICAqIGBzZXNzaW9uLnVwZGF0ZWAgY2xpZW50IGV2ZW50LlxuICAgICAqXG4gICAgICogSXQgcmVzcG9uZHMgd2l0aCBhIHNlc3Npb24gb2JqZWN0LCBwbHVzIGEgYGNsaWVudF9zZWNyZXRgIGtleSB3aGljaCBjb250YWlucyBhXG4gICAgICogdXNhYmxlIGVwaGVtZXJhbCBBUEkgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBhdXRoZW50aWNhdGUgYnJvd3NlciBjbGllbnRzIGZvclxuICAgICAqIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvcmVhbHRpbWUvc2Vzc2lvbnMnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvblNlc3Npb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBlcGhlbWVyYWwgQVBJIHRva2VuIGZvciB1c2UgaW4gY2xpZW50LXNpZGUgYXBwbGljYXRpb25zIHdpdGggdGhlXG4gICAgICogUmVhbHRpbWUgQVBJIHNwZWNpZmljYWxseSBmb3IgcmVhbHRpbWUgdHJhbnNjcmlwdGlvbnMuIENhbiBiZSBjb25maWd1cmVkIHdpdGhcbiAgICAgKiB0aGUgc2FtZSBzZXNzaW9uIHBhcmFtZXRlcnMgYXMgdGhlIGB0cmFuc2NyaXB0aW9uX3Nlc3Npb24udXBkYXRlYCBjbGllbnQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBJdCByZXNwb25kcyB3aXRoIGEgc2Vzc2lvbiBvYmplY3QsIHBsdXMgYSBgY2xpZW50X3NlY3JldGAga2V5IHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgKiB1c2FibGUgZXBoZW1lcmFsIEFQSSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1dGhlbnRpY2F0ZSBicm93c2VyIGNsaWVudHMgZm9yXG4gICAgICogdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9yZWFsdGltZS90cmFuc2NyaXB0aW9uX3Nlc3Npb25zJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2NyaXB0aW9uLXNlc3Npb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBTZXNzaW9uc0FQSSBmcm9tIFwiLi9zZXNzaW9ucy5tanNcIjtcbmltcG9ydCB7IFNlc3Npb25zLCB9IGZyb20gXCIuL3Nlc3Npb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNjcmlwdGlvblNlc3Npb25zQVBJIGZyb20gXCIuL3RyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzXCI7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnMsIH0gZnJvbSBcIi4vdHJhbnNjcmlwdGlvbi1zZXNzaW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBSZWFsdGltZSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBTZXNzaW9uc0FQSS5TZXNzaW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnNBUEkuVHJhbnNjcmlwdGlvblNlc3Npb25zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuUmVhbHRpbWUuU2Vzc2lvbnMgPSBTZXNzaW9ucztcblJlYWx0aW1lLlRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IFRyYW5zY3JpcHRpb25TZXNzaW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWx0aW1lLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjcmVhdGUodGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlc2AsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh0aHJlYWRJZCwgbWVzc2FnZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlcy8ke21lc3NhZ2VJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodGhyZWFkSWQsIG1lc3NhZ2VJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpc3QodGhyZWFkSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCBNZXNzYWdlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBkZWwodGhyZWFkSWQsIG1lc3NhZ2VJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbk1lc3NhZ2VzLk1lc3NhZ2VzUGFnZSA9IE1lc3NhZ2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgU3RlcHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgcmV0cmlldmUodGhyZWFkSWQsIHJ1bklkLCBzdGVwSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIHN0ZXBJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdGVwcy8ke3N0ZXBJZH1gLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdCh0aHJlYWRJZCwgcnVuSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCBydW5JZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3RlcHNgLCBSdW5TdGVwc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5TdGVwc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cblN0ZXBzLlJ1blN0ZXBzUGFnZSA9IFJ1blN0ZXBzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZXBzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRTdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vLi4vbGliL0Fzc2lzdGFudFN0cmVhbS5tanNcIjtcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBTdGVwc0FQSSBmcm9tIFwiLi9zdGVwcy5tanNcIjtcbmltcG9ydCB7IFJ1blN0ZXBzUGFnZSwgU3RlcHMsIH0gZnJvbSBcIi4vc3RlcHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgUnVucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGVwcyA9IG5ldyBTdGVwc0FQSS5TdGVwcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICBjcmVhdGUodGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGluY2x1ZGUsIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zYCwge1xuICAgICAgICAgICAgcXVlcnk6IHsgaW5jbHVkZSB9LFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgc3RyZWFtOiBwYXJhbXMuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcnVuLlxuICAgICAqL1xuICAgIHJldHJpZXZlKHRocmVhZElkLCBydW5JZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYSBydW4uXG4gICAgICovXG4gICAgdXBkYXRlKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHRocmVhZElkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCBSdW5zUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBydW4gdGhhdCBpcyBgaW5fcHJvZ3Jlc3NgLlxuICAgICAqL1xuICAgIGNhbmNlbCh0aHJlYWRJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L2NhbmNlbGAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGEgcnVuIGFuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuXG4gICAgICogbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRQb2xsKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuY3JlYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh0aHJlYWRJZCwgcnVuLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBzdHJlYW1gIGluc3RlYWRcbiAgICAgKi9cbiAgICBjcmVhdGVBbmRTdHJlYW0odGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVBc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIHBvbGwgYSBydW4gc3RhdHVzIHVudGlsIGl0IHJlYWNoZXMgYSB0ZXJtaW5hbCBzdGF0ZS4gTW9yZVxuICAgICAqIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIHBvbGwodGhyZWFkSWQsIHJ1bklkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcnVuLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgLi4uaGVhZGVycyB9LFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHJ1bi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvL0lmIHdlIGFyZSBpbiBhbnkgc29ydCBvZiBpbnRlcm1lZGlhdGUgc3RhdGUgd2UgcG9sbFxuICAgICAgICAgICAgICAgIGNhc2UgJ3F1ZXVlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbmNlbGxpbmcnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy9XZSByZXR1cm4gdGhlIHJ1biBpbiBhbnkgdGVybWluYWwgc3RhdGUuXG4gICAgICAgICAgICAgICAgY2FzZSAncmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdpbmNvbXBsZXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdleHBpcmVkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBSdW4gc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdWJtaXRUb29sT3V0cHV0cyh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N1Ym1pdF90b29sX291dHB1dHNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgICAgICBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gc3VibWl0IGEgdG9vbCBvdXRwdXQgdG8gYSBydW4gYW5kIHBvbGwgZm9yIGEgdGVybWluYWwgcnVuIHN0YXRlLlxuICAgICAqIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAgICovXG4gICAgYXN5bmMgc3VibWl0VG9vbE91dHB1dHNBbmRQb2xsKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLnN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodGhyZWFkSWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1Ym1pdCB0aGUgdG9vbCBvdXRwdXRzIGZyb20gYSBwcmV2aW91cyBydW4gYW5kIHN0cmVhbSB0aGUgcnVuIHRvIGEgdGVybWluYWxcbiAgICAgKiBzdGF0ZS4gTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBzdWJtaXRUb29sT3V0cHV0c1N0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcy5ydW5zLCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cblJ1bnMuUnVuc1BhZ2UgPSBSdW5zUGFnZTtcblJ1bnMuU3RlcHMgPSBTdGVwcztcblJ1bnMuUnVuU3RlcHNQYWdlID0gUnVuU3RlcHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQXNzaXN0YW50U3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tIFwiLi9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IE1lc3NhZ2VzLCBNZXNzYWdlc1BhZ2UsIH0gZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gXCIuL3J1bnMvcnVucy5tanNcIjtcbmltcG9ydCB7IFJ1bnMsIFJ1bnNQYWdlLCB9IGZyb20gXCIuL3J1bnMvcnVucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUaHJlYWRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJ1bnMgPSBuZXcgUnVuc0FQSS5SdW5zKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKGJvZHkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhib2R5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHt9LCBib2R5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy90aHJlYWRzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdGhyZWFkLlxuICAgICAqL1xuICAgIHJldHJpZXZlKHRocmVhZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYSB0aHJlYWQuXG4gICAgICovXG4gICAgdXBkYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB0aHJlYWQuXG4gICAgICovXG4gICAgZGVsKHRocmVhZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlQW5kUnVuKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcy9ydW5zJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHRocmVhZCwgc3RhcnQgYSBydW4gYW5kIHRoZW4gcG9sbCBmb3IgYSB0ZXJtaW5hbCBzdGF0ZS5cbiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFJ1blBvbGwoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZUFuZFJ1bihib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucnVucy5wb2xsKHJ1bi50aHJlYWRfaWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRocmVhZCBhbmQgc3RyZWFtIHRoZSBydW4gYmFja1xuICAgICAqL1xuICAgIGNyZWF0ZUFuZFJ1blN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKGJvZHksIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMsIG9wdGlvbnMpO1xuICAgIH1cbn1cblRocmVhZHMuUnVucyA9IFJ1bnM7XG5UaHJlYWRzLlJ1bnNQYWdlID0gUnVuc1BhZ2U7XG5UaHJlYWRzLk1lc3NhZ2VzID0gTWVzc2FnZXM7XG5UaHJlYWRzLk1lc3NhZ2VzUGFnZSA9IE1lc3NhZ2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocmVhZHMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSBcIi4vYXNzaXN0YW50cy5tanNcIjtcbmltcG9ydCAqIGFzIENoYXRBUEkgZnJvbSBcIi4vY2hhdC9jaGF0Lm1qc1wiO1xuaW1wb3J0IHsgQXNzaXN0YW50cywgQXNzaXN0YW50c1BhZ2UsIH0gZnJvbSBcIi4vYXNzaXN0YW50cy5tanNcIjtcbmltcG9ydCAqIGFzIFJlYWx0aW1lQVBJIGZyb20gXCIuL3JlYWx0aW1lL3JlYWx0aW1lLm1qc1wiO1xuaW1wb3J0IHsgUmVhbHRpbWUsIH0gZnJvbSBcIi4vcmVhbHRpbWUvcmVhbHRpbWUubWpzXCI7XG5pbXBvcnQgKiBhcyBUaHJlYWRzQVBJIGZyb20gXCIuL3RocmVhZHMvdGhyZWFkcy5tanNcIjtcbmltcG9ydCB7IFRocmVhZHMsIH0gZnJvbSBcIi4vdGhyZWFkcy90aHJlYWRzLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdCB9IGZyb20gXCIuL2NoYXQvY2hhdC5tanNcIjtcbmV4cG9ydCBjbGFzcyBCZXRhIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlYWx0aW1lID0gbmV3IFJlYWx0aW1lQVBJLlJlYWx0aW1lKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMuY2hhdCA9IG5ldyBDaGF0QVBJLkNoYXQodGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5hc3Npc3RhbnRzID0gbmV3IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50cyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRocmVhZHMgPSBuZXcgVGhyZWFkc0FQSS5UaHJlYWRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQmV0YS5SZWFsdGltZSA9IFJlYWx0aW1lO1xuQmV0YS5Bc3Npc3RhbnRzID0gQXNzaXN0YW50cztcbkJldGEuQXNzaXN0YW50c1BhZ2UgPSBBc3Npc3RhbnRzUGFnZTtcbkJldGEuVGhyZWFkcyA9IFRocmVhZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZXRhLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvY29tcGxldGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMsIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtYmVkZGluZyB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBpbnB1dCB0ZXh0LlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhhc1VzZXJQcm92aWRlZEVuY29kaW5nRm9ybWF0ID0gISFib2R5LmVuY29kaW5nX2Zvcm1hdDtcbiAgICAgICAgLy8gTm8gZW5jb2RpbmdfZm9ybWF0IHNwZWNpZmllZCwgZGVmYXVsdGluZyB0byBiYXNlNjQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUvcHVsbC8xMzEyXG4gICAgICAgIGxldCBlbmNvZGluZ19mb3JtYXQgPSBoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCA/IGJvZHkuZW5jb2RpbmdfZm9ybWF0IDogJ2Jhc2U2NCc7XG4gICAgICAgIGlmIChoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCkge1xuICAgICAgICAgICAgQ29yZS5kZWJ1ZygnUmVxdWVzdCcsICdVc2VyIGRlZmluZWQgZW5jb2RpbmdfZm9ybWF0OicsIGJvZHkuZW5jb2RpbmdfZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHRoaXMuX2NsaWVudC5wb3N0KCcvZW1iZWRkaW5ncycsIHtcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAuLi5ib2R5LFxuICAgICAgICAgICAgICAgIGVuY29kaW5nX2Zvcm1hdDogZW5jb2RpbmdfZm9ybWF0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZWQgYW4gZW5jb2RpbmdfZm9ybWF0LCByZXR1cm4gdGhlIHJlc3BvbnNlIGFzLWlzXG4gICAgICAgIGlmIChoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIHRoaXMgc3RhZ2UsIHdlIGFyZSBzdXJlIHRoZSB1c2VyIGRpZCBub3Qgc3BlY2lmeSBhbiBlbmNvZGluZ19mb3JtYXRcbiAgICAgICAgLy8gYW5kIHdlIGRlZmF1bHRlZCB0byBiYXNlNjQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgICAgICAgLy8gd2UgYXJlIHN1cmUgdGhlbiB0aGF0IHRoZSByZXNwb25zZSBpcyBiYXNlNjQgZW5jb2RlZCwgbGV0J3MgZGVjb2RlIGl0XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBiZSBhIGZsb2F0MzIgYXJyYXkgc2luY2UgdGhpcyBpcyBPcGVuQUkgQVBJJ3MgZGVmYXVsdCBlbmNvZGluZ1xuICAgICAgICBDb3JlLmRlYnVnKCdyZXNwb25zZScsICdEZWNvZGluZyBiYXNlNjQgZW1iZWRkaW5ncyB0byBmbG9hdDMyIGFycmF5Jyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5fdGhlblVud3JhcCgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKChlbWJlZGRpbmdCYXNlNjRPYmopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5nQmFzZTY0U3RyID0gZW1iZWRkaW5nQmFzZTY0T2JqLmVtYmVkZGluZztcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5nQmFzZTY0T2JqLmVtYmVkZGluZyA9IENvcmUudG9GbG9hdDMyQXJyYXkoZW1iZWRkaW5nQmFzZTY0U3RyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1iZWRkaW5ncy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE91dHB1dEl0ZW1zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIHJ1biBvdXRwdXQgaXRlbSBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShldmFsSWQsIHJ1bklkLCBvdXRwdXRJdGVtSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfS9vdXRwdXRfaXRlbXMvJHtvdXRwdXRJdGVtSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3QoZXZhbElkLCBydW5JZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QoZXZhbElkLCBydW5JZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfS9vdXRwdXRfaXRlbXNgLCBPdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE91dHB1dEl0ZW1MaXN0UmVzcG9uc2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuT3V0cHV0SXRlbXMuT3V0cHV0SXRlbUxpc3RSZXNwb25zZXNQYWdlID0gT3V0cHV0SXRlbUxpc3RSZXNwb25zZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0cHV0LWl0ZW1zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBPdXRwdXRJdGVtc0FQSSBmcm9tIFwiLi9vdXRwdXQtaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBPdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2UsIE91dHB1dEl0ZW1zLCB9IGZyb20gXCIuL291dHB1dC1pdGVtcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBSdW5zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm91dHB1dEl0ZW1zID0gbmV3IE91dHB1dEl0ZW1zQVBJLk91dHB1dEl0ZW1zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBldmFsdWF0aW9uIHJ1bi4gVGhpcyBpcyB0aGUgZW5kcG9pbnQgdGhhdCB3aWxsIGtpY2sgb2ZmIGdyYWRpbmcuXG4gICAgICovXG4gICAgY3JlYXRlKGV2YWxJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9ldmFscy8ke2V2YWxJZH0vcnVuc2AsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFuIGV2YWx1YXRpb24gcnVuIGJ5IElELlxuICAgICAqL1xuICAgIHJldHJpZXZlKGV2YWxJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KGV2YWxJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QoZXZhbElkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL2V2YWxzLyR7ZXZhbElkfS9ydW5zYCwgUnVuTGlzdFJlc3BvbnNlc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbiBldmFsIHJ1bi5cbiAgICAgKi9cbiAgICBkZWwoZXZhbElkLCBydW5JZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2V2YWxzLyR7ZXZhbElkfS9ydW5zLyR7cnVuSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbCBhbiBvbmdvaW5nIGV2YWx1YXRpb24gcnVuLlxuICAgICAqL1xuICAgIGNhbmNlbChldmFsSWQsIHJ1bklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2V2YWxzLyR7ZXZhbElkfS9ydW5zLyR7cnVuSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkxpc3RSZXNwb25zZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5SdW5zLlJ1bkxpc3RSZXNwb25zZXNQYWdlID0gUnVuTGlzdFJlc3BvbnNlc1BhZ2U7XG5SdW5zLk91dHB1dEl0ZW1zID0gT3V0cHV0SXRlbXM7XG5SdW5zLk91dHB1dEl0ZW1MaXN0UmVzcG9uc2VzUGFnZSA9IE91dHB1dEl0ZW1MaXN0UmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIFJ1bnNBUEkgZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgUnVuTGlzdFJlc3BvbnNlc1BhZ2UsIFJ1bnMsIH0gZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEV2YWxzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJ1bnMgPSBuZXcgUnVuc0FQSS5SdW5zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgc3RydWN0dXJlIG9mIGFuIGV2YWx1YXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byB0ZXN0IGEgbW9kZWwnc1xuICAgICAqIHBlcmZvcm1hbmNlLiBBbiBldmFsdWF0aW9uIGlzIGEgc2V0IG9mIHRlc3RpbmcgY3JpdGVyaWEgYW5kIGEgZGF0YXNvdXJjZS4gQWZ0ZXJcbiAgICAgKiBjcmVhdGluZyBhbiBldmFsdWF0aW9uLCB5b3UgY2FuIHJ1biBpdCBvbiBkaWZmZXJlbnQgbW9kZWxzIGFuZCBtb2RlbCBwYXJhbWV0ZXJzLlxuICAgICAqIFdlIHN1cHBvcnQgc2V2ZXJhbCB0eXBlcyBvZiBncmFkZXJzIGFuZCBkYXRhc291cmNlcy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuICAgICAqIHRoZSBbRXZhbHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9ldmFscykuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZXZhbHMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIGJ5IElELlxuICAgICAqL1xuICAgIHJldHJpZXZlKGV2YWxJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2V2YWxzLyR7ZXZhbElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY2VydGFpbiBwcm9wZXJ0aWVzIG9mIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlKGV2YWxJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9ldmFscy8ke2V2YWxJZH1gLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9ldmFscycsIEV2YWxMaXN0UmVzcG9uc2VzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgZGVsKGV2YWxJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2V2YWxzLyR7ZXZhbElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmFsTGlzdFJlc3BvbnNlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkV2YWxzLkV2YWxMaXN0UmVzcG9uc2VzUGFnZSA9IEV2YWxMaXN0UmVzcG9uc2VzUGFnZTtcbkV2YWxzLlJ1bnMgPSBSdW5zO1xuRXZhbHMuUnVuTGlzdFJlc3BvbnNlc1BhZ2UgPSBSdW5MaXN0UmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2YWxzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgRmlsZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGEgZmlsZSB0aGF0IGNhbiBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzIGVuZHBvaW50cy4gSW5kaXZpZHVhbCBmaWxlcyBjYW4gYmVcbiAgICAgKiB1cCB0byA1MTIgTUIsIGFuZCB0aGUgc2l6ZSBvZiBhbGwgZmlsZXMgdXBsb2FkZWQgYnkgb25lIG9yZ2FuaXphdGlvbiBjYW4gYmUgdXBcbiAgICAgKiB0byAxMDAgR0IuXG4gICAgICpcbiAgICAgKiBUaGUgQXNzaXN0YW50cyBBUEkgc3VwcG9ydHMgZmlsZXMgdXAgdG8gMiBtaWxsaW9uIHRva2VucyBhbmQgb2Ygc3BlY2lmaWMgZmlsZVxuICAgICAqIHR5cGVzLiBTZWUgdGhlXG4gICAgICogW0Fzc2lzdGFudHMgVG9vbHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMpIGZvclxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgRmluZS10dW5pbmcgQVBJIG9ubHkgc3VwcG9ydHMgYC5qc29ubGAgZmlsZXMuIFRoZSBpbnB1dCBhbHNvIGhhcyBjZXJ0YWluXG4gICAgICogcmVxdWlyZWQgZm9ybWF0cyBmb3IgZmluZS10dW5pbmdcbiAgICAgKiBbY2hhdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmluZy9jaGF0LWlucHV0KSBvclxuICAgICAqIFtjb21wbGV0aW9uc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmluZy9jb21wbGV0aW9ucy1pbnB1dClcbiAgICAgKiBtb2RlbHMuXG4gICAgICpcbiAgICAgKiBUaGUgQmF0Y2ggQVBJIG9ubHkgc3VwcG9ydHMgYC5qc29ubGAgZmlsZXMgdXAgdG8gMjAwIE1CIGluIHNpemUuIFRoZSBpbnB1dCBhbHNvXG4gICAgICogaGFzIGEgc3BlY2lmaWMgcmVxdWlyZWRcbiAgICAgKiBbZm9ybWF0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2JhdGNoL3JlcXVlc3QtaW5wdXQpLlxuICAgICAqXG4gICAgICogUGxlYXNlIFtjb250YWN0IHVzXShodHRwczovL2hlbHAub3BlbmFpLmNvbS8pIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZXNlXG4gICAgICogc3RvcmFnZSBsaW1pdHMuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZmlsZXMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2ZpbGVzJywgRmlsZU9iamVjdHNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBmaWxlLlxuICAgICAqL1xuICAgIGRlbChmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlLlxuICAgICAqL1xuICAgIGNvbnRlbnQoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9L2NvbnRlbnRgLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9iaW5hcnknLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgICAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIGAuY29udGVudCgpYCBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFxuICAgICAqL1xuICAgIHJldHJpZXZlQ29udGVudChmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWl0cyBmb3IgdGhlIGdpdmVuIGZpbGUgdG8gYmUgcHJvY2Vzc2VkLCBkZWZhdWx0IHRpbWVvdXQgaXMgMzAgbWlucy5cbiAgICAgKi9cbiAgICBhc3luYyB3YWl0Rm9yUHJvY2Vzc2luZyhpZCwgeyBwb2xsSW50ZXJ2YWwgPSA1MDAwLCBtYXhXYWl0ID0gMzAgKiA2MCAqIDEwMDAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IFRFUk1JTkFMX1NUQVRFUyA9IG5ldyBTZXQoWydwcm9jZXNzZWQnLCAnZXJyb3InLCAnZGVsZXRlZCddKTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgZmlsZSA9IGF3YWl0IHRoaXMucmV0cmlldmUoaWQpO1xuICAgICAgICB3aGlsZSAoIWZpbGUuc3RhdHVzIHx8ICFURVJNSU5BTF9TVEFURVMuaGFzKGZpbGUuc3RhdHVzKSkge1xuICAgICAgICAgICAgYXdhaXQgc2xlZXAocG9sbEludGVydmFsKTtcbiAgICAgICAgICAgIGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiBtYXhXYWl0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgR2l2aW5nIHVwIG9uIHdhaXRpbmcgZm9yIGZpbGUgJHtpZH0gdG8gZmluaXNoIHByb2Nlc3NpbmcgYWZ0ZXIgJHttYXhXYWl0fSBtaWxsaXNlY29uZHMuYCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRmlsZU9iamVjdHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5GaWxlcy5GaWxlT2JqZWN0c1BhZ2UgPSBGaWxlT2JqZWN0c1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWxlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqICoqTk9URToqKiBDYWxsaW5nIHRoaXMgZW5kcG9pbnQgcmVxdWlyZXMgYW4gW2FkbWluIEFQSSBrZXldKC4uL2FkbWluLWFwaS1rZXlzKS5cbiAgICAgKlxuICAgICAqIFRoaXMgZW5hYmxlcyBvcmdhbml6YXRpb24gb3duZXJzIHRvIHNoYXJlIGZpbmUtdHVuZWQgbW9kZWxzIHdpdGggb3RoZXIgcHJvamVjdHNcbiAgICAgKiBpbiB0aGVpciBvcmdhbml6YXRpb24uXG4gICAgICovXG4gICAgY3JlYXRlKGZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9jaGVja3BvaW50cy8ke2ZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludH0vcGVybWlzc2lvbnNgLCBQZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZSwgeyBib2R5LCBtZXRob2Q6ICdwb3N0JywgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgcmV0cmlldmUoZmluZVR1bmVkTW9kZWxDaGVja3BvaW50LCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cmlldmUoZmluZVR1bmVkTW9kZWxDaGVja3BvaW50LCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmluZV90dW5pbmcvY2hlY2twb2ludHMvJHtmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnR9L3Blcm1pc3Npb25zYCwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogKipOT1RFOioqIFRoaXMgZW5kcG9pbnQgcmVxdWlyZXMgYW4gW2FkbWluIEFQSSBrZXldKC4uL2FkbWluLWFwaS1rZXlzKS5cbiAgICAgKlxuICAgICAqIE9yZ2FuaXphdGlvbiBvd25lcnMgY2FuIHVzZSB0aGlzIGVuZHBvaW50IHRvIGRlbGV0ZSBhIHBlcm1pc3Npb24gZm9yIGFcbiAgICAgKiBmaW5lLXR1bmVkIG1vZGVsIGNoZWNrcG9pbnQuXG4gICAgICovXG4gICAgZGVsKGZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludCwgcGVybWlzc2lvbklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvZmluZV90dW5pbmcvY2hlY2twb2ludHMvJHtmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnR9L3Blcm1pc3Npb25zLyR7cGVybWlzc2lvbklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbkNyZWF0ZVJlc3BvbnNlc1BhZ2UgZXh0ZW5kcyBQYWdlIHtcbn1cblBlcm1pc3Npb25zLlBlcm1pc3Npb25DcmVhdGVSZXNwb25zZXNQYWdlID0gUGVybWlzc2lvbkNyZWF0ZVJlc3BvbnNlc1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJtaXNzaW9ucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgUGVybWlzc2lvbnNBUEkgZnJvbSBcIi4vcGVybWlzc2lvbnMubWpzXCI7XG5pbXBvcnQgeyBQZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZSwgUGVybWlzc2lvbnMsIH0gZnJvbSBcIi4vcGVybWlzc2lvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hlY2twb2ludHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnMgPSBuZXcgUGVybWlzc2lvbnNBUEkuUGVybWlzc2lvbnModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5DaGVja3BvaW50cy5QZXJtaXNzaW9ucyA9IFBlcm1pc3Npb25zO1xuQ2hlY2twb2ludHMuUGVybWlzc2lvbkNyZWF0ZVJlc3BvbnNlc1BhZ2UgPSBQZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrcG9pbnRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hlY2twb2ludHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgbGlzdChmaW5lVHVuaW5nSm9iSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jaGVja3BvaW50c2AsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkNoZWNrcG9pbnRzLkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2twb2ludHMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIENoZWNrcG9pbnRzQVBJIGZyb20gXCIuL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0IHsgQ2hlY2twb2ludHMsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIH0gZnJvbSBcIi4vY2hlY2twb2ludHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgSm9icyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jaGVja3BvaW50cyA9IG5ldyBDaGVja3BvaW50c0FQSS5DaGVja3BvaW50cyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmluZS10dW5pbmcgam9iIHdoaWNoIGJlZ2lucyB0aGUgcHJvY2VzcyBvZiBjcmVhdGluZyBhIG5ldyBtb2RlbCBmcm9tXG4gICAgICogYSBnaXZlbiBkYXRhc2V0LlxuICAgICAqXG4gICAgICogUmVzcG9uc2UgaW5jbHVkZXMgZGV0YWlscyBvZiB0aGUgZW5xdWV1ZWQgam9iIGluY2x1ZGluZyBqb2Igc3RhdHVzIGFuZCB0aGUgbmFtZVxuICAgICAqIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9maW5lX3R1bmluZy9qb2JzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgaW5mbyBhYm91dCBhIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgKlxuICAgICAqIFtMZWFybiBtb3JlIGFib3V0IGZpbmUtdHVuaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICovXG4gICAgcmV0cmlldmUoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCBGaW5lVHVuaW5nSm9ic1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICovXG4gICAgY2FuY2VsKGZpbmVUdW5pbmdKb2JJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdEV2ZW50cyhmaW5lVHVuaW5nSm9iSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9ldmVudHNgLCBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkpvYnMuRmluZVR1bmluZ0pvYnNQYWdlID0gRmluZVR1bmluZ0pvYnNQYWdlO1xuSm9icy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuSm9icy5DaGVja3BvaW50cyA9IENoZWNrcG9pbnRzO1xuSm9icy5GaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlID0gRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvYnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENoZWNrcG9pbnRzQVBJIGZyb20gXCIuL2NoZWNrcG9pbnRzL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0IHsgQ2hlY2twb2ludHMgfSBmcm9tIFwiLi9jaGVja3BvaW50cy9jaGVja3BvaW50cy5tanNcIjtcbmltcG9ydCAqIGFzIEpvYnNBUEkgZnJvbSBcIi4vam9icy9qb2JzLm1qc1wiO1xuaW1wb3J0IHsgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JzUGFnZSwgSm9icywgfSBmcm9tIFwiLi9qb2JzL2pvYnMubWpzXCI7XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5qb2JzID0gbmV3IEpvYnNBUEkuSm9icyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmNoZWNrcG9pbnRzID0gbmV3IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuRmluZVR1bmluZy5Kb2JzID0gSm9icztcbkZpbmVUdW5pbmcuRmluZVR1bmluZ0pvYnNQYWdlID0gRmluZVR1bmluZ0pvYnNQYWdlO1xuRmluZVR1bmluZy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuRmluZVR1bmluZy5DaGVja3BvaW50cyA9IENoZWNrcG9pbnRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZS10dW5pbmcubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgSW1hZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS4gVGhpcyBlbmRwb2ludCBvbmx5IHN1cHBvcnRzIGBkYWxsLWUtMmAuXG4gICAgICovXG4gICAgY3JlYXRlVmFyaWF0aW9uKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL3ZhcmlhdGlvbnMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVkaXRlZCBvciBleHRlbmRlZCBpbWFnZSBnaXZlbiBvbmUgb3IgbW9yZSBzb3VyY2UgaW1hZ2VzIGFuZCBhXG4gICAgICogcHJvbXB0LiBUaGlzIGVuZHBvaW50IG9ubHkgc3VwcG9ydHMgYGdwdC1pbWFnZS0xYCBhbmQgYGRhbGwtZS0yYC5cbiAgICAgKi9cbiAgICBlZGl0KGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL2VkaXRzJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ltYWdlcykuXG4gICAgICovXG4gICAgZ2VuZXJhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvZ2VuZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2VzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgTW9kZWxzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXNcbiAgICAgKiB0aGUgb3duZXIgYW5kIHBlcm1pc3Npb25pbmcuXG4gICAgICovXG4gICAgcmV0cmlldmUobW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaFxuICAgICAqIG9uZSBzdWNoIGFzIHRoZSBvd25lciBhbmQgYXZhaWxhYmlsaXR5LlxuICAgICAqL1xuICAgIGxpc3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9tb2RlbHMnLCBNb2RlbHNQYWdlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgZmluZS10dW5lZCBtb2RlbC4gWW91IG11c3QgaGF2ZSB0aGUgT3duZXIgcm9sZSBpbiB5b3VyIG9yZ2FuaXphdGlvbiB0b1xuICAgICAqIGRlbGV0ZSBhIG1vZGVsLlxuICAgICAqL1xuICAgIGRlbChtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL21vZGVscy8ke21vZGVsfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgTW9kZWxzUGFnZSBleHRlbmRzIFBhZ2Uge1xufVxuTW9kZWxzLk1vZGVsc1BhZ2UgPSBNb2RlbHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZWxzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ2xhc3NpZmllcyBpZiB0ZXh0IGFuZC9vciBpbWFnZSBpbnB1dHMgYXJlIHBvdGVudGlhbGx5IGhhcm1mdWwuIExlYXJuIG1vcmUgaW5cbiAgICAgKiB0aGUgW21vZGVyYXRpb24gZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9tb2RlcmF0aW9uKS5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9tb2RlcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlcmF0aW9ucy5tanMubWFwIiwiaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0IH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgb3V0cHV0X3BhcnNlZDogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgaXRlbSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50LnRleHQpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLCB7IG91dHB1dCB9KTtcbiAgICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVzcG9uc2UsICdvdXRwdXRfdGV4dCcpKSB7XG4gICAgICAgIGFkZE91dHB1dFRleHQocGFyc2VkKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlZCwgJ291dHB1dF9wYXJzZWQnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHBhcnNlZC5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcgJiYgY29udGVudC5wYXJzZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50LnBhcnNlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy50ZXh0Py5mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMudGV4dD8uZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHRleHRfZm9ybWF0ID0gcGFyYW1zLnRleHQ/LmZvcm1hdDtcbiAgICAgICAgcmV0dXJuIHRleHRfZm9ybWF0LiRwYXJzZVJhdyhjb250ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykge1xuICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy50ZXh0Py5mb3JtYXQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCh0b29sLCB7IHBhcnNlciwgY2FsbGJhY2ssIH0pIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuZnVuY3Rpb24gZ2V0SW5wdXRUb29sQnlOYW1lKGlucHV0X3Rvb2xzLCBuYW1lKSB7XG4gICAgcmV0dXJuIGlucHV0X3Rvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b29sLm5hbWUgPT09IG5hbWUpO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBpbnB1dFRvb2w/LnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpIHx8IGlucHV0VG9vbD8uc3RyaWN0IHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkT3V0cHV0VGV4dChyc3ApIHtcbiAgICBjb25zdCB0ZXh0cyA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHJzcC5vdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRleHRzLnB1c2goY29udGVudC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByc3Aub3V0cHV0X3RleHQgPSB0ZXh0cy5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlc1BhcnNlci5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgUmVzcG9uc2VJdGVtc1BhZ2UgfSBmcm9tIFwiLi9yZXNwb25zZXMubWpzXCI7XG5leHBvcnQgY2xhc3MgSW5wdXRJdGVtcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBsaXN0KHJlc3BvbnNlSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHJlc3BvbnNlSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJZH0vaW5wdXRfaXRlbXNgLCBSZXNwb25zZUl0ZW1zUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgeyBSZXNwb25zZUl0ZW1zUGFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5wdXQtaXRlbXMubWpzLm1hcCIsInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBfUmVzcG9uc2VTdHJlYW1fcGFyYW1zLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIF9SZXNwb25zZVN0cmVhbV9maW5hbFJlc3BvbnNlLCBfUmVzcG9uc2VTdHJlYW1fYmVnaW5SZXF1ZXN0LCBfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQsIF9SZXNwb25zZVN0cmVhbV9lbmRSZXF1ZXN0LCBfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uLy4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgRXZlbnRTdHJlYW0gfSBmcm9tIFwiLi4vRXZlbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBtYXliZVBhcnNlUmVzcG9uc2UgfSBmcm9tIFwiLi4vUmVzcG9uc2VzUGFyc2VyLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlU3RyZWFtIGV4dGVuZHMgRXZlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX1Jlc3BvbnNlU3RyZWFtX3BhcmFtcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fcGFyYW1zLCBwYXJhbXMsIFwiZlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVJlc3BvbnNlKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBSZXNwb25zZVN0cmVhbShwYXJhbXMpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2NyZWF0ZVJlc3BvbnNlKGNsaWVudCwgcGFyYW1zLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVJlc3BvbnNlKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QpLmNhbGwodGhpcyk7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGNsaWVudC5yZXNwb25zZXMuY3JlYXRlKHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIFsoX1Jlc3BvbnNlU3RyZWFtX3BhcmFtcyA9IG5ldyBXZWFrTWFwKCksIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9SZXNwb25zZVN0cmVhbV9maW5hbFJlc3BvbnNlID0gbmV3IFdlYWtNYXAoKSwgX1Jlc3BvbnNlU3RyZWFtX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QgPSBmdW5jdGlvbiBfUmVzcG9uc2VTdHJlYW1fYmVnaW5SZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgIH0sIF9SZXNwb25zZVN0cmVhbV9hZGRFdmVudCA9IGZ1bmN0aW9uIF9SZXNwb25zZVN0cmVhbV9hZGRFdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlKS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgdGhpcy5fZW1pdCgnZXZlbnQnLCBldmVudCk7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG91dHB1dC5jb250ZW50W2V2ZW50LmNvbnRlbnRfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjb250ZW50IGF0IGluZGV4ICR7ZXZlbnQuY29udGVudF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlICE9PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYGV4cGVjdGVkIGNvbnRlbnQgdG8gYmUgJ291dHB1dF90ZXh0JywgZ290ICR7Y29udGVudC50eXBlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY29udGVudC50ZXh0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSByZXNwb25zZS5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IG91dHB1dC5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSwgX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBfUmVzcG9uc2VTdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBldmVudHNgKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZFJlc3BvbnNlID0gZmluYWxpemVSZXNwb25zZShzbmFwc2hvdCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fcGFyYW1zLCBcImZcIikpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9maW5hbFJlc3BvbnNlLCBwYXJzZWRSZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VkUmVzcG9uc2U7XG4gICAgfSwgX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZSA9IGZ1bmN0aW9uIF9SZXNwb25zZVN0cmVhbV9hY2N1bXVsYXRlUmVzcG9uc2UoZXZlbnQpIHtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdyZXNwb25zZS5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgV2hlbiBzbmFwc2hvdCBoYXNuJ3QgYmVlbiBzZXQgeWV0LCBleHBlY3RlZCAncmVzcG9uc2UuY3JlYXRlZCcgZXZlbnQsIGdvdCAke2V2ZW50LnR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCBldmVudC5yZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWQnOiB7XG4gICAgICAgICAgICAgICAgc25hcHNob3Qub3V0cHV0LnB1c2goZXZlbnQuaXRlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gc25hcHNob3Qub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmNvbnRlbnQucHVzaChldmVudC5wYXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnRbZXZlbnQuY29udGVudF9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNvbnRlbnQgYXQgaW5kZXggJHtldmVudC5jb250ZW50X2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgZXhwZWN0ZWQgY29udGVudCB0byBiZSAnb3V0cHV0X3RleHQnLCBnb3QgJHtjb250ZW50LnR5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGVudC50ZXh0ICs9IGV2ZW50LmRlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHNuYXBzaG90Lm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5hcmd1bWVudHMgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UuY29tcGxldGVkJzoge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCBldmVudC5yZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMub24oJ2V2ZW50JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChldmVudCkgPT4gKGV2ZW50ID8geyB2YWx1ZTogZXZlbnQsIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBldmVudCwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgUmVzcG9uc2UsIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgUkVzcG9uc2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxSZXNwb25zZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbicpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluYWxpemVSZXNwb25zZShzbmFwc2hvdCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG1heWJlUGFyc2VSZXNwb25zZShzbmFwc2hvdCwgcGFyYW1zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlU3RyZWFtLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgcGFyc2VSZXNwb25zZSwgYWRkT3V0cHV0VGV4dCwgfSBmcm9tIFwiLi4vLi4vbGliL1Jlc3BvbnNlc1BhcnNlci5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgSW5wdXRJdGVtc0FQSSBmcm9tIFwiLi9pbnB1dC1pdGVtcy5tanNcIjtcbmltcG9ydCB7IElucHV0SXRlbXMgfSBmcm9tIFwiLi9pbnB1dC1pdGVtcy5tanNcIjtcbmltcG9ydCB7IFJlc3BvbnNlU3RyZWFtIH0gZnJvbSBcIi4uLy4uL2xpYi9yZXNwb25zZXMvUmVzcG9uc2VTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgUmVzcG9uc2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmlucHV0SXRlbXMgPSBuZXcgSW5wdXRJdGVtc0FQSS5JbnB1dEl0ZW1zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3Jlc3BvbnNlcycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KS5fdGhlblVud3JhcCgocnNwKSA9PiB7XG4gICAgICAgICAgICBpZiAoJ29iamVjdCcgaW4gcnNwICYmIHJzcC5vYmplY3QgPT09ICdyZXNwb25zZScpIHtcbiAgICAgICAgICAgICAgICBhZGRPdXRwdXRUZXh0KHJzcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnNwO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0cmlldmUocmVzcG9uc2VJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJpZXZlKHJlc3BvbnNlSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9yZXNwb25zZXMvJHtyZXNwb25zZUlkfWAsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBtb2RlbCByZXNwb25zZSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICAgKi9cbiAgICBkZWwocmVzcG9uc2VJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3Jlc3BvbnNlcy8ke3Jlc3BvbnNlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnKi8qJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFyc2UoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnJlc3BvbnNlc1xuICAgICAgICAgICAgLmNyZWF0ZShib2R5LCBvcHRpb25zKVxuICAgICAgICAgICAgLl90aGVuVW53cmFwKChyZXNwb25zZSkgPT4gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgYm9keSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbW9kZWwgcmVzcG9uc2Ugc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlU3RyZWFtLmNyZWF0ZVJlc3BvbnNlKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlSXRlbXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5SZXNwb25zZXMuSW5wdXRJdGVtcyA9IElucHV0SXRlbXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNwb25zZXMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgUGFydHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQWRkcyBhXG4gICAgICogW1BhcnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9wYXJ0LW9iamVjdCkgdG8gYW5cbiAgICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KSBvYmplY3QuXG4gICAgICogQSBQYXJ0IHJlcHJlc2VudHMgYSBjaHVuayBvZiBieXRlcyBmcm9tIHRoZSBmaWxlIHlvdSBhcmUgdHJ5aW5nIHRvIHVwbG9hZC5cbiAgICAgKlxuICAgICAqIEVhY2ggUGFydCBjYW4gYmUgYXQgbW9zdCA2NCBNQiwgYW5kIHlvdSBjYW4gYWRkIFBhcnRzIHVudGlsIHlvdSBoaXQgdGhlIFVwbG9hZFxuICAgICAqIG1heGltdW0gb2YgOCBHQi5cbiAgICAgKlxuICAgICAqIEl0IGlzIHBvc3NpYmxlIHRvIGFkZCBtdWx0aXBsZSBQYXJ0cyBpbiBwYXJhbGxlbC4gWW91IGNhbiBkZWNpZGUgdGhlIGludGVuZGVkXG4gICAgICogb3JkZXIgb2YgdGhlIFBhcnRzIHdoZW4geW91XG4gICAgICogW2NvbXBsZXRlIHRoZSBVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9jb21wbGV0ZSkuXG4gICAgICovXG4gICAgY3JlYXRlKHVwbG9hZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3VwbG9hZHMvJHt1cGxvYWRJZH0vcGFydHNgLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBQYXJ0c0FQSSBmcm9tIFwiLi9wYXJ0cy5tanNcIjtcbmltcG9ydCB7IFBhcnRzIH0gZnJvbSBcIi4vcGFydHMubWpzXCI7XG5leHBvcnQgY2xhc3MgVXBsb2FkcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IG5ldyBQYXJ0c0FQSS5QYXJ0cyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGludGVybWVkaWF0ZVxuICAgICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpIG9iamVjdFxuICAgICAqIHRoYXQgeW91IGNhbiBhZGRcbiAgICAgKiBbUGFydHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9wYXJ0LW9iamVjdCkgdG8uXG4gICAgICogQ3VycmVudGx5LCBhbiBVcGxvYWQgY2FuIGFjY2VwdCBhdCBtb3N0IDggR0IgaW4gdG90YWwgYW5kIGV4cGlyZXMgYWZ0ZXIgYW4gaG91clxuICAgICAqIGFmdGVyIHlvdSBjcmVhdGUgaXQuXG4gICAgICpcbiAgICAgKiBPbmNlIHlvdSBjb21wbGV0ZSB0aGUgVXBsb2FkLCB3ZSB3aWxsIGNyZWF0ZSBhXG4gICAgICogW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvb2JqZWN0KSBvYmplY3QgdGhhdFxuICAgICAqIGNvbnRhaW5zIGFsbCB0aGUgcGFydHMgeW91IHVwbG9hZGVkLiBUaGlzIEZpbGUgaXMgdXNhYmxlIGluIHRoZSByZXN0IG9mIG91clxuICAgICAqIHBsYXRmb3JtIGFzIGEgcmVndWxhciBGaWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEZvciBjZXJ0YWluIGBwdXJwb3NlYCB2YWx1ZXMsIHRoZSBjb3JyZWN0IGBtaW1lX3R5cGVgIG11c3QgYmUgc3BlY2lmaWVkLiBQbGVhc2VcbiAgICAgKiByZWZlciB0byBkb2N1bWVudGF0aW9uIGZvciB0aGVcbiAgICAgKiBbc3VwcG9ydGVkIE1JTUUgdHlwZXMgZm9yIHlvdXIgdXNlIGNhc2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjc3VwcG9ydGVkLWZpbGVzKS5cbiAgICAgKlxuICAgICAqIEZvciBndWlkYW5jZSBvbiB0aGUgcHJvcGVyIGZpbGVuYW1lIGV4dGVuc2lvbnMgZm9yIGVhY2ggcHVycG9zZSwgcGxlYXNlIGZvbGxvd1xuICAgICAqIHRoZSBkb2N1bWVudGF0aW9uIG9uXG4gICAgICogW2NyZWF0aW5nIGEgRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9jcmVhdGUpLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3VwbG9hZHMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIFVwbG9hZC4gTm8gUGFydHMgbWF5IGJlIGFkZGVkIGFmdGVyIGFuIFVwbG9hZCBpcyBjYW5jZWxsZWQuXG4gICAgICovXG4gICAgY2FuY2VsKHVwbG9hZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3VwbG9hZHMvJHt1cGxvYWRJZH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBsZXRlcyB0aGVcbiAgICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIFdpdGhpbiB0aGUgcmV0dXJuZWQgVXBsb2FkIG9iamVjdCwgdGhlcmUgaXMgYSBuZXN0ZWRcbiAgICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QpIG9iamVjdCB0aGF0XG4gICAgICogaXMgcmVhZHkgdG8gdXNlIGluIHRoZSByZXN0IG9mIHRoZSBwbGF0Zm9ybS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gc3BlY2lmeSB0aGUgb3JkZXIgb2YgdGhlIFBhcnRzIGJ5IHBhc3NpbmcgaW4gYW4gb3JkZXJlZCBsaXN0IG9mIHRoZSBQYXJ0XG4gICAgICogSURzLlxuICAgICAqXG4gICAgICogVGhlIG51bWJlciBvZiBieXRlcyB1cGxvYWRlZCB1cG9uIGNvbXBsZXRpb24gbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGJ5dGVzXG4gICAgICogaW5pdGlhbGx5IHNwZWNpZmllZCB3aGVuIGNyZWF0aW5nIHRoZSBVcGxvYWQgb2JqZWN0LiBObyBQYXJ0cyBtYXkgYmUgYWRkZWQgYWZ0ZXJcbiAgICAgKiBhbiBVcGxvYWQgaXMgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGNvbXBsZXRlKHVwbG9hZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3VwbG9hZHMvJHt1cGxvYWRJZH0vY29tcGxldGVgLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuVXBsb2Fkcy5QYXJ0cyA9IFBhcnRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIiwiLyoqXG4gKiBMaWtlIGBQcm9taXNlLmFsbFNldHRsZWQoKWAgYnV0IHRocm93cyBhbiBlcnJvciBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgYWxsU2V0dGxlZFdpdGhUaHJvdyA9IGFzeW5jIChwcm9taXNlcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gICAgaWYgKHJlamVjdGVkLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZWplY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXN1bHQucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVqZWN0ZWQubGVuZ3RofSBwcm9taXNlKHMpIGZhaWxlZCAtIHNlZSB0aGUgYWJvdmUgZXJyb3JzYCk7XG4gICAgfVxuICAgIC8vIE5vdGU6IFRTIHdhcyBjb21wbGFpbmluZyBhYm91dCB1c2luZyBgLmZpbHRlcigpLm1hcCgpYCBoZXJlIGZvciBzb21lIHJlYXNvblxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAsIGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIFBhZ2UgfSBmcm9tIFwiLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgZmlsZSBieSBhdHRhY2hpbmcgYVxuICAgICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSB0byBhXG4gICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdCkuXG4gICAgICovXG4gICAgY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAgICovXG4gICAgcmV0cmlldmUodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGF0dHJpYnV0ZXMgb24gYSB2ZWN0b3Igc3RvcmUgZmlsZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHZlY3RvclN0b3JlSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHZlY3RvclN0b3JlSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzYCwgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB2ZWN0b3Igc3RvcmUgZmlsZS4gVGhpcyB3aWxsIHJlbW92ZSB0aGUgZmlsZSBmcm9tIHRoZSB2ZWN0b3Igc3RvcmUgYnV0XG4gICAgICogdGhlIGZpbGUgaXRzZWxmIHdpbGwgbm90IGJlIGRlbGV0ZWQuIFRvIGRlbGV0ZSB0aGUgZmlsZSwgdXNlIHRoZVxuICAgICAqIFtkZWxldGUgZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9kZWxldGUpXG4gICAgICogZW5kcG9pbnQuXG4gICAgICovXG4gICAgZGVsKHZlY3RvclN0b3JlSWQsIGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBhIGZpbGUgdG8gdGhlIGdpdmVuIHZlY3RvciBzdG9yZSBhbmQgd2FpdCBmb3IgaXQgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5jcmVhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZS5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZSB0byBmaW5pc2ggcHJvY2Vzc2luZy5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoaXMgd2lsbCByZXR1cm4gZXZlbiBpZiB0aGUgZmlsZSBmYWlsZWQgdG8gcHJvY2VzcywgeW91IG5lZWQgdG8gY2hlY2tcbiAgICAgKiBmaWxlLmxhc3RfZXJyb3IgYW5kIGZpbGUuc3RhdHVzIHRvIGhhbmRsZSB0aGVzZSBjYXNlc1xuICAgICAqL1xuICAgIGFzeW5jIHBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVSZXNwb25zZSA9IGF3YWl0IHRoaXMucmV0cmlldmUodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZVJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpbGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IGZpbGVSZXNwb25zZS5yZXNwb25zZS5oZWFkZXJzLmdldCgnb3BlbmFpLXBvbGwtYWZ0ZXItbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGEgZmlsZSB0byB0aGUgYGZpbGVzYCBBUEkgYW5kIHRoZW4gYXR0YWNoIGl0IHRvIHRoZSBnaXZlbiB2ZWN0b3Igc3RvcmUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoZSBmaWxlIHdpbGwgYmUgYXN5bmNocm9ub3VzbHkgcHJvY2Vzc2VkICh5b3UgY2FuIHVzZSB0aGUgYWx0ZXJuYXRpdmVcbiAgICAgKiBwb2xsaW5nIGhlbHBlciBtZXRob2QgdG8gd2FpdCBmb3IgcHJvY2Vzc2luZyB0byBjb21wbGV0ZSkuXG4gICAgICovXG4gICAgYXN5bmMgdXBsb2FkKHZlY3RvclN0b3JlSWQsIGZpbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLl9jbGllbnQuZmlsZXMuY3JlYXRlKHsgZmlsZTogZmlsZSwgcHVycG9zZTogJ2Fzc2lzdGFudHMnIH0sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUodmVjdG9yU3RvcmVJZCwgeyBmaWxlX2lkOiBmaWxlSW5mby5pZCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgZmlsZSB0byBhIHZlY3RvciBzdG9yZSBhbmQgcG9sbCB1bnRpbCBwcm9jZXNzaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZEFuZFBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMudXBsb2FkKHZlY3RvclN0b3JlSWQsIGZpbGUsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGZpbGVJbmZvLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHBhcnNlZCBjb250ZW50cyBvZiBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgICAqL1xuICAgIGNvbnRlbnQodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSwgeyAuLi5vcHRpb25zLCBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9IH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZUZpbGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgZXh0ZW5kcyBQYWdlIHtcbn1cbkZpbGVzLlZlY3RvclN0b3JlRmlsZXNQYWdlID0gVmVjdG9yU3RvcmVGaWxlc1BhZ2U7XG5GaWxlcy5GaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgPSBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWxlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IGFsbFNldHRsZWRXaXRoVGhyb3cgfSBmcm9tIFwiLi4vLi4vbGliL1V0aWwubWpzXCI7XG5pbXBvcnQgeyBWZWN0b3JTdG9yZUZpbGVzUGFnZSB9IGZyb20gXCIuL2ZpbGVzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgICAqL1xuICAgIGNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC4gVGhpcyBhdHRlbXB0cyB0byBjYW5jZWwgdGhlIHByb2Nlc3Npbmcgb2ZcbiAgICAgKiBmaWxlcyBpbiB0aGlzIGJhdGNoIGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICovXG4gICAgY2FuY2VsKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9L2NhbmNlbGAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGJhdGNoIGFuZCBwb2xsIHVudGlsIGFsbCBmaWxlcyBoYXZlIGJlZW4gcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGF3YWl0IHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHkpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGJhdGNoLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdEZpbGVzKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0RmlsZXModmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzLyR7YmF0Y2hJZH0vZmlsZXNgLCBWZWN0b3JTdG9yZUZpbGVzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucywgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdCBmb3IgdGhlIGdpdmVuIGZpbGUgYmF0Y2ggdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIG9uZSBvZiB0aGUgZmlsZXMgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvXG4gICAgICogY2hlY2sgYmF0Y2guZmlsZV9jb3VudHMuZmFpbGVkX2NvdW50IHRvIGhhbmRsZSB0aGlzIGNhc2UuXG4gICAgICovXG4gICAgYXN5bmMgcG9sbCh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYmF0Y2gsIHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnJldHJpZXZlKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICB9KS53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIHN3aXRjaCAoYmF0Y2guc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBnaXZlbiBmaWxlcyBjb25jdXJyZW50bHkgYW5kIHRoZW4gY3JlYXRlcyBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgICAqXG4gICAgICogVGhlIGNvbmN1cnJlbmN5IGxpbWl0IGlzIGNvbmZpZ3VyYWJsZSB1c2luZyB0aGUgYG1heENvbmN1cnJlbmN5YCBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgYXN5bmMgdXBsb2FkQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCB7IGZpbGVzLCBmaWxlSWRzID0gW10gfSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZmlsZXMgPT0gbnVsbCB8fCBmaWxlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBcXGBmaWxlc1xcYCBwcm92aWRlZCB0byBwcm9jZXNzLiBJZiB5b3UndmUgYWxyZWFkeSB1cGxvYWRlZCBmaWxlcyB5b3Ugc2hvdWxkIHVzZSBcXGAuY3JlYXRlQW5kUG9sbCgpXFxgIGluc3RlYWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWd1cmVkQ29uY3VycmVuY3kgPSBvcHRpb25zPy5tYXhDb25jdXJyZW5jeSA/PyA1O1xuICAgICAgICAvLyBXZSBjYXAgdGhlIG51bWJlciBvZiB3b3JrZXJzIGF0IHRoZSBudW1iZXIgb2YgZmlsZXMgKHNvIHdlIGRvbid0IHN0YXJ0IGFueSB1bm5lY2Vzc2FyeSB3b3JrZXJzKVxuICAgICAgICBjb25zdCBjb25jdXJyZW5jeUxpbWl0ID0gTWF0aC5taW4oY29uZmlndXJlZENvbmN1cnJlbmN5LCBmaWxlcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjbGllbnQgPSB0aGlzLl9jbGllbnQ7XG4gICAgICAgIGNvbnN0IGZpbGVJdGVyYXRvciA9IGZpbGVzLnZhbHVlcygpO1xuICAgICAgICBjb25zdCBhbGxGaWxlSWRzID0gWy4uLmZpbGVJZHNdO1xuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgYmFzZWQgb24gdGhpcyBkZXNpZ24uIFRoZSBsaWJyYXJpZXMgZG9uJ3QgYWNjb21tb2RhdGUgb3VyIGVudmlyb25tZW50IGxpbWl0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDA2Mzk0MzIvd2hhdC1pcy10aGUtYmVzdC13YXktdG8tbGltaXQtY29uY3VycmVuY3ktd2hlbi11c2luZy1lczZzLXByb21pc2UtYWxsXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlcyhpdGVyYXRvcikge1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVPYmogPSBhd2FpdCBjbGllbnQuZmlsZXMuY3JlYXRlKHsgZmlsZTogaXRlbSwgcHVycG9zZTogJ2Fzc2lzdGFudHMnIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGFsbEZpbGVJZHMucHVzaChmaWxlT2JqLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydCB3b3JrZXJzIHRvIHByb2Nlc3MgcmVzdWx0c1xuICAgICAgICBjb25zdCB3b3JrZXJzID0gQXJyYXkoY29uY3VycmVuY3lMaW1pdCkuZmlsbChmaWxlSXRlcmF0b3IpLm1hcChwcm9jZXNzRmlsZXMpO1xuICAgICAgICAvLyBXYWl0IGZvciBhbGwgcHJvY2Vzc2luZyB0byBjb21wbGV0ZS5cbiAgICAgICAgYXdhaXQgYWxsU2V0dGxlZFdpdGhUaHJvdyh3b3JrZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCB7XG4gICAgICAgICAgICBmaWxlX2lkczogYWxsRmlsZUlkcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGUtYmF0Y2hlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgRmlsZUJhdGNoZXNBUEkgZnJvbSBcIi4vZmlsZS1iYXRjaGVzLm1qc1wiO1xuaW1wb3J0IHsgRmlsZUJhdGNoZXMsIH0gZnJvbSBcIi4vZmlsZS1iYXRjaGVzLm1qc1wiO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSBcIi4vZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UsIEZpbGVzLCBWZWN0b3JTdG9yZUZpbGVzUGFnZSwgfSBmcm9tIFwiLi9maWxlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIFBhZ2UgfSBmcm9tIFwiLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgRmlsZXNBUEkuRmlsZXModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5maWxlQmF0Y2hlcyA9IG5ldyBGaWxlQmF0Y2hlc0FQSS5GaWxlQmF0Y2hlcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdmVjdG9yX3N0b3JlcycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdmVjdG9yX3N0b3JlcycsIFZlY3RvclN0b3Jlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgZGVsKHZlY3RvclN0b3JlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBhIHZlY3RvciBzdG9yZSBmb3IgcmVsZXZhbnQgY2h1bmtzIGJhc2VkIG9uIGEgcXVlcnkgYW5kIGZpbGUgYXR0cmlidXRlc1xuICAgICAqIGZpbHRlci5cbiAgICAgKi9cbiAgICBzZWFyY2godmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vc2VhcmNoYCwgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3Jlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVzUGFnZSA9IFZlY3RvclN0b3Jlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlID0gVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlO1xuVmVjdG9yU3RvcmVzLkZpbGVzID0gRmlsZXM7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBWZWN0b3JTdG9yZUZpbGVzUGFnZTtcblZlY3RvclN0b3Jlcy5GaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgPSBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuRmlsZUJhdGNoZXMgPSBGaWxlQmF0Y2hlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci1zdG9yZXMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG52YXIgX2E7XG5pbXBvcnQgKiBhcyBxcyBmcm9tIFwiLi9pbnRlcm5hbC9xcy9pbmRleC5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCAqIGFzIFBhZ2luYXRpb24gZnJvbSBcIi4vcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCAqIGFzIFVwbG9hZHMgZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbmltcG9ydCAqIGFzIEFQSSBmcm9tIFwiLi9yZXNvdXJjZXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBCYXRjaGVzLCBCYXRjaGVzUGFnZSwgfSBmcm9tIFwiLi9yZXNvdXJjZXMvYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IENvbXBsZXRpb25zLCB9IGZyb20gXCIuL3Jlc291cmNlcy9jb21wbGV0aW9ucy5tanNcIjtcbmltcG9ydCB7IEVtYmVkZGluZ3MsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2VtYmVkZGluZ3MubWpzXCI7XG5pbXBvcnQgeyBGaWxlT2JqZWN0c1BhZ2UsIEZpbGVzLCB9IGZyb20gXCIuL3Jlc291cmNlcy9maWxlcy5tanNcIjtcbmltcG9ydCB7IEltYWdlcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvaW1hZ2VzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxzLCBNb2RlbHNQYWdlIH0gZnJvbSBcIi4vcmVzb3VyY2VzL21vZGVscy5tanNcIjtcbmltcG9ydCB7IE1vZGVyYXRpb25zLCB9IGZyb20gXCIuL3Jlc291cmNlcy9tb2RlcmF0aW9ucy5tanNcIjtcbmltcG9ydCB7IEF1ZGlvIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qc1wiO1xuaW1wb3J0IHsgQmV0YSB9IGZyb20gXCIuL3Jlc291cmNlcy9iZXRhL2JldGEubWpzXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NoYXQvY2hhdC5tanNcIjtcbmltcG9ydCB7IEV2YWxMaXN0UmVzcG9uc2VzUGFnZSwgRXZhbHMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2V2YWxzL2V2YWxzLm1qc1wiO1xuaW1wb3J0IHsgRmluZVR1bmluZyB9IGZyb20gXCIuL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZy5tanNcIjtcbmltcG9ydCB7IFJlc3BvbnNlcyB9IGZyb20gXCIuL3Jlc291cmNlcy9yZXNwb25zZXMvcmVzcG9uc2VzLm1qc1wiO1xuaW1wb3J0IHsgVXBsb2FkcyBhcyBVcGxvYWRzQVBJVXBsb2FkcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLm1qc1wiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLCBWZWN0b3JTdG9yZXMsIFZlY3RvclN0b3Jlc1BhZ2UsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvdmVjdG9yLXN0b3Jlcy5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uc1BhZ2UsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvY29tcGxldGlvbnMubWpzXCI7XG4vKipcbiAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUkgZXh0ZW5kcyBDb3JlLkFQSUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgT3BlbkFJIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ10gPz8gdW5kZWZpbmVkXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLnByb2plY3Q9cHJvY2Vzcy5lbnZbJ09QRU5BSV9QUk9KRUNUX0lEJ10gPz8gbnVsbF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTD1wcm9jZXNzLmVudlsnT1BFTkFJX0JBU0VfVVJMJ10gPz8gaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MV0gLSBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGltZW91dD0xMCBtaW51dGVzXSAtIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIChpbiBtaWxsaXNlY29uZHMpIHRoZSBjbGllbnQgd2lsbCB3YWl0IGZvciBhIHJlc3BvbnNlIGJlZm9yZSB0aW1pbmcgb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5odHRwQWdlbnRdIC0gQW4gSFRUUCBhZ2VudCB1c2VkIHRvIG1hbmFnZSBIVFRQKHMpIGNvbm5lY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5tYXhSZXRyaWVzPTJdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRoZSBjbGllbnQgd2lsbCByZXRyeSBhIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtDb3JlLkhlYWRlcnN9IG9wdHMuZGVmYXVsdEhlYWRlcnMgLSBEZWZhdWx0IGhlYWRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI9ZmFsc2VdIC0gQnkgZGVmYXVsdCwgY2xpZW50LXNpZGUgdXNlIG9mIHRoaXMgbGlicmFyeSBpcyBub3QgYWxsb3dlZCwgYXMgaXQgcmlza3MgZXhwb3NpbmcgeW91ciBzZWNyZXQgQVBJIGNyZWRlbnRpYWxzIHRvIGF0dGFja2Vycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9CQVNFX1VSTCcpLCBhcGlLZXkgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfS0VZJyksIG9yZ2FuaXphdGlvbiA9IENvcmUucmVhZEVudignT1BFTkFJX09SR19JRCcpID8/IG51bGwsIHByb2plY3QgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9QUk9KRUNUX0lEJykgPz8gbnVsbCwgLi4ub3B0cyB9ID0ge30pIHtcbiAgICAgICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFwiVGhlIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaUtleSBvcHRpb24sIGxpa2UgbmV3IE9wZW5BSSh7IGFwaUtleTogJ015IEFQSSBLZXknIH0pLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgcHJvamVjdCxcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICBiYXNlVVJMOiBiYXNlVVJMIHx8IGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxYCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyICYmIENvcmUuaXNSdW5uaW5nSW5Ccm93c2VyKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSBydW5uaW5nIGluIGEgYnJvd3Nlci1saWtlIGVudmlyb25tZW50LlxcblxcblRoaXMgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdCwgYXMgaXQgcmlza3MgZXhwb3NpbmcgeW91ciBzZWNyZXQgQVBJIGNyZWRlbnRpYWxzIHRvIGF0dGFja2Vycy5cXG5JZiB5b3UgdW5kZXJzdGFuZCB0aGUgcmlza3MgYW5kIGhhdmUgYXBwcm9wcmlhdGUgbWl0aWdhdGlvbnMgaW4gcGxhY2UsXFxueW91IGNhbiBzZXQgdGhlIGBkYW5nZXJvdXNseUFsbG93QnJvd3NlcmAgb3B0aW9uIHRvIGB0cnVlYCwgZS5nLixcXG5cXG5uZXcgT3BlbkFJKHsgYXBpS2V5LCBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSB9KTtcXG5cXG5odHRwczovL2hlbHAub3BlbmFpLmNvbS9lbi9hcnRpY2xlcy81MTEyNTk1LWJlc3QtcHJhY3RpY2VzLWZvci1hcGkta2V5LXNhZmV0eVxcblwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBiYXNlVVJMOiBvcHRpb25zLmJhc2VVUkwsXG4gICAgICAgICAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgPz8gNjAwMDAwIC8qIDEwIG1pbnV0ZXMgKi8sXG4gICAgICAgICAgICBodHRwQWdlbnQ6IG9wdGlvbnMuaHR0cEFnZW50LFxuICAgICAgICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzLFxuICAgICAgICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25zID0gbmV3IEFQSS5Db21wbGV0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICAgICAgICB0aGlzLmVtYmVkZGluZ3MgPSBuZXcgQVBJLkVtYmVkZGluZ3ModGhpcyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgQVBJLkZpbGVzKHRoaXMpO1xuICAgICAgICB0aGlzLmltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEFQSS5BdWRpbyh0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlcmF0aW9ucyA9IG5ldyBBUEkuTW9kZXJhdGlvbnModGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gICAgICAgIHRoaXMuZmluZVR1bmluZyA9IG5ldyBBUEkuRmluZVR1bmluZyh0aGlzKTtcbiAgICAgICAgdGhpcy52ZWN0b3JTdG9yZXMgPSBuZXcgQVBJLlZlY3RvclN0b3Jlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5iZXRhID0gbmV3IEFQSS5CZXRhKHRoaXMpO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBuZXcgQVBJLkJhdGNoZXModGhpcyk7XG4gICAgICAgIHRoaXMudXBsb2FkcyA9IG5ldyBBUEkuVXBsb2Fkcyh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZXMgPSBuZXcgQVBJLlJlc3BvbnNlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmFscyA9IG5ldyBBUEkuRXZhbHModGhpcyk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICAgICAgdGhpcy5vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb247XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgfVxuICAgIGRlZmF1bHRRdWVyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZGVmYXVsdFF1ZXJ5O1xuICAgIH1cbiAgICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci5kZWZhdWx0SGVhZGVycyhvcHRzKSxcbiAgICAgICAgICAgICdPcGVuQUktT3JnYW5pemF0aW9uJzogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICAnT3BlbkFJLVByb2plY3QnOiB0aGlzLnByb2plY3QsXG4gICAgICAgICAgICAuLi50aGlzLl9vcHRpb25zLmRlZmF1bHRIZWFkZXJzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gIH07XG4gICAgfVxuICAgIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBxcy5zdHJpbmdpZnkocXVlcnksIHsgYXJyYXlGb3JtYXQ6ICdicmFja2V0cycgfSk7XG4gICAgfVxufVxuX2EgPSBPcGVuQUk7XG5PcGVuQUkuT3BlbkFJID0gX2E7XG5PcGVuQUkuREVGQVVMVF9USU1FT1VUID0gNjAwMDAwOyAvLyAxMCBtaW51dGVzXG5PcGVuQUkuT3BlbkFJRXJyb3IgPSBFcnJvcnMuT3BlbkFJRXJyb3I7XG5PcGVuQUkuQVBJRXJyb3IgPSBFcnJvcnMuQVBJRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbk9wZW5BSS5BUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PcGVuQUkuQVBJVXNlckFib3J0RXJyb3IgPSBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3I7XG5PcGVuQUkuTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuT3BlbkFJLkNvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbk9wZW5BSS5SYXRlTGltaXRFcnJvciA9IEVycm9ycy5SYXRlTGltaXRFcnJvcjtcbk9wZW5BSS5CYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuT3BlbkFJLkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbk9wZW5BSS5JbnRlcm5hbFNlcnZlckVycm9yID0gRXJyb3JzLkludGVybmFsU2VydmVyRXJyb3I7XG5PcGVuQUkuUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbk9wZW5BSS5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuT3BlbkFJLnRvRmlsZSA9IFVwbG9hZHMudG9GaWxlO1xuT3BlbkFJLmZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xuT3BlbkFJLkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnM7XG5PcGVuQUkuQ2hhdCA9IENoYXQ7XG5PcGVuQUkuQ2hhdENvbXBsZXRpb25zUGFnZSA9IENoYXRDb21wbGV0aW9uc1BhZ2U7XG5PcGVuQUkuRW1iZWRkaW5ncyA9IEVtYmVkZGluZ3M7XG5PcGVuQUkuRmlsZXMgPSBGaWxlcztcbk9wZW5BSS5GaWxlT2JqZWN0c1BhZ2UgPSBGaWxlT2JqZWN0c1BhZ2U7XG5PcGVuQUkuSW1hZ2VzID0gSW1hZ2VzO1xuT3BlbkFJLkF1ZGlvID0gQXVkaW87XG5PcGVuQUkuTW9kZXJhdGlvbnMgPSBNb2RlcmF0aW9ucztcbk9wZW5BSS5Nb2RlbHMgPSBNb2RlbHM7XG5PcGVuQUkuTW9kZWxzUGFnZSA9IE1vZGVsc1BhZ2U7XG5PcGVuQUkuRmluZVR1bmluZyA9IEZpbmVUdW5pbmc7XG5PcGVuQUkuVmVjdG9yU3RvcmVzID0gVmVjdG9yU3RvcmVzO1xuT3BlbkFJLlZlY3RvclN0b3Jlc1BhZ2UgPSBWZWN0b3JTdG9yZXNQYWdlO1xuT3BlbkFJLlZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZSA9IFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZTtcbk9wZW5BSS5CZXRhID0gQmV0YTtcbk9wZW5BSS5CYXRjaGVzID0gQmF0Y2hlcztcbk9wZW5BSS5CYXRjaGVzUGFnZSA9IEJhdGNoZXNQYWdlO1xuT3BlbkFJLlVwbG9hZHMgPSBVcGxvYWRzQVBJVXBsb2Fkcztcbk9wZW5BSS5SZXNwb25zZXMgPSBSZXNwb25zZXM7XG5PcGVuQUkuRXZhbHMgPSBFdmFscztcbk9wZW5BSS5FdmFsTGlzdFJlc3BvbnNlc1BhZ2UgPSBFdmFsTGlzdFJlc3BvbnNlc1BhZ2U7XG4vKiogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgQXp1cmUgT3BlbkFJIEFQSS4gKi9cbmV4cG9ydCBjbGFzcyBBenVyZU9wZW5BSSBleHRlbmRzIE9wZW5BSSB7XG4gICAgLyoqXG4gICAgICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgQXp1cmUgT3BlbkFJIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlWZXJzaW9uPXByb2Nlc3MuZW52WydPUEVOQUlfQVBJX1ZFUlNJT04nXSA/PyB1bmRlZmluZWRdXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtvcHRzLmVuZHBvaW50PXByb2Nlc3MuZW52WydBWlVSRV9PUEVOQUlfRU5EUE9JTlQnXSA/PyB1bmRlZmluZWRdIC0gWW91ciBBenVyZSBlbmRwb2ludCwgaW5jbHVkaW5nIHRoZSByZXNvdXJjZSwgZS5nLiBgaHR0cHM6Ly9leGFtcGxlLXJlc291cmNlLmF6dXJlLm9wZW5haS5jb20vYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9BUElfS0VZJ10gPz8gdW5kZWZpbmVkXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBvcHRzLmRlcGxveW1lbnQgLSBBIG1vZGVsIGRlcGxveW1lbnQsIGlmIGdpdmVuLCBzZXRzIHRoZSBiYXNlIGNsaWVudCBVUkwgdG8gaW5jbHVkZSBgL2RlcGxveW1lbnRzL3tkZXBsb3ltZW50fWAuXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5vcmdhbml6YXRpb249cHJvY2Vzcy5lbnZbJ09QRU5BSV9PUkdfSUQnXSA/PyBudWxsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXV0gLSBTZXRzIHRoZSBiYXNlIFVSTCBmb3IgdGhlIEFQSSwgZS5nLiBgaHR0cHM6Ly9leGFtcGxlLXJlc291cmNlLmF6dXJlLm9wZW5haS5jb20vb3BlbmFpL2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaHR0cEFnZW50XSAtIEFuIEhUVFAgYWdlbnQgdXNlZCB0byBtYW5hZ2UgSFRUUChzKSBjb25uZWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0NvcmUuRmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7Q29yZS5IZWFkZXJzfSBvcHRzLmRlZmF1bHRIZWFkZXJzIC0gRGVmYXVsdCBoZWFkZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtDb3JlLkRlZmF1bHRRdWVyeX0gb3B0cy5kZWZhdWx0UXVlcnkgLSBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBiYXNlVVJMID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQkFTRV9VUkwnKSwgYXBpS2V5ID0gQ29yZS5yZWFkRW52KCdBWlVSRV9PUEVOQUlfQVBJX0tFWScpLCBhcGlWZXJzaW9uID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQVBJX1ZFUlNJT04nKSwgZW5kcG9pbnQsIGRlcGxveW1lbnQsIGF6dXJlQURUb2tlblByb3ZpZGVyLCBkYW5nZXJvdXNseUFsbG93QnJvd3NlciwgLi4ub3B0cyB9ID0ge30pIHtcbiAgICAgICAgaWYgKCFhcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFwiVGhlIE9QRU5BSV9BUElfVkVSU0lPTiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBtaXNzaW5nIG9yIGVtcHR5OyBlaXRoZXIgcHJvdmlkZSBpdCwgb3IgaW5zdGFudGlhdGUgdGhlIEF6dXJlT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaVZlcnNpb24gb3B0aW9uLCBsaWtlIG5ldyBBenVyZU9wZW5BSSh7IGFwaVZlcnNpb246ICdNeSBBUEkgVmVyc2lvbicgfSkuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYXp1cmVBRFRva2VuUHJvdmlkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF6dXJlQURUb2tlblByb3ZpZGVyICYmICFhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoJ01pc3NpbmcgY3JlZGVudGlhbHMuIFBsZWFzZSBwYXNzIG9uZSBvZiBgYXBpS2V5YCBhbmQgYGF6dXJlQURUb2tlblByb3ZpZGVyYCwgb3Igc2V0IHRoZSBgQVpVUkVfT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhenVyZUFEVG9rZW5Qcm92aWRlciAmJiBhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoJ1RoZSBgYXBpS2V5YCBhbmQgYGF6dXJlQURUb2tlblByb3ZpZGVyYCBhcmd1bWVudHMgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZTsgb25seSBvbmUgY2FuIGJlIHBhc3NlZCBhdCBhIHRpbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVmaW5lIGEgc2VudGluZWwgdmFsdWUgdG8gYXZvaWQgYW55IHR5cGluZyBpc3N1ZXNcbiAgICAgICAgYXBpS2V5ID8/IChhcGlLZXkgPSBBUElfS0VZX1NFTlRJTkVMKTtcbiAgICAgICAgb3B0cy5kZWZhdWx0UXVlcnkgPSB7IC4uLm9wdHMuZGVmYXVsdFF1ZXJ5LCAnYXBpLXZlcnNpb24nOiBhcGlWZXJzaW9uIH07XG4gICAgICAgIGlmICghYmFzZVVSTCkge1xuICAgICAgICAgICAgaWYgKCFlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gcHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9FTkRQT0lOVCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoJ011c3QgcHJvdmlkZSBvbmUgb2YgdGhlIGBiYXNlVVJMYCBvciBgZW5kcG9pbnRgIGFyZ3VtZW50cywgb3IgdGhlIGBBWlVSRV9PUEVOQUlfRU5EUE9JTlRgIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlVVJMID0gYCR7ZW5kcG9pbnR9L29wZW5haWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdiYXNlVVJMIGFuZCBlbmRwb2ludCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgYmFzZVVSTCxcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAuLi4oZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgIT09IHVuZGVmaW5lZCA/IHsgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgfSA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXBpVmVyc2lvbiA9ICcnO1xuICAgICAgICB0aGlzLl9henVyZUFEVG9rZW5Qcm92aWRlciA9IGF6dXJlQURUb2tlblByb3ZpZGVyO1xuICAgICAgICB0aGlzLmFwaVZlcnNpb24gPSBhcGlWZXJzaW9uO1xuICAgICAgICB0aGlzLmRlcGxveW1lbnROYW1lID0gZGVwbG95bWVudDtcbiAgICB9XG4gICAgYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHByb3BzID0ge30pIHtcbiAgICAgICAgaWYgKF9kZXBsb3ltZW50c19lbmRwb2ludHMuaGFzKG9wdGlvbnMucGF0aCkgJiYgb3B0aW9ucy5tZXRob2QgPT09ICdwb3N0JyAmJiBvcHRpb25zLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFDb3JlLmlzT2JqKG9wdGlvbnMuYm9keSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHJlcXVlc3QgYm9keSB0byBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5kZXBsb3ltZW50TmFtZSB8fCBvcHRpb25zLmJvZHlbJ21vZGVsJ10gfHwgb3B0aW9ucy5fX21ldGFkYXRhPy5bJ21vZGVsJ107XG4gICAgICAgICAgICBpZiAobW9kZWwgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5iYXNlVVJMLmluY2x1ZGVzKCcvZGVwbG95bWVudHMnKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCA9IGAvZGVwbG95bWVudHMvJHttb2RlbH0ke29wdGlvbnMucGF0aH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZFJlcXVlc3Qob3B0aW9ucywgcHJvcHMpO1xuICAgIH1cbiAgICBhc3luYyBfZ2V0QXp1cmVBRFRva2VuKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyKCk7XG4gICAgICAgICAgICBpZiAoIXRva2VuIHx8IHR5cGVvZiB0b2tlbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKGBFeHBlY3RlZCAnYXp1cmVBRFRva2VuUHJvdmlkZXInIGFyZ3VtZW50IHRvIHJldHVybiBhIHN0cmluZyBidXQgaXQgcmV0dXJuZWQgJHt0b2tlbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgYXN5bmMgcHJlcGFyZU9wdGlvbnMob3B0cykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVzZXIgc2hvdWxkIHByb3ZpZGUgYSBiZWFyZXIgdG9rZW4gcHJvdmlkZXIgaWYgdGhleSB3YW50XG4gICAgICAgICAqIHRvIHVzZSBBenVyZSBBRCBhdXRoZW50aWNhdGlvbi4gVGhlIHVzZXIgc2hvdWxkbid0IHNldCB0aGVcbiAgICAgICAgICogQXV0aG9yaXphdGlvbiBoZWFkZXIgbWFudWFsbHkgYmVjYXVzZSB0aGUgaGVhZGVyIGlzIG92ZXJ3cml0dGVuXG4gICAgICAgICAqIHdpdGggdGhlIEF6dXJlIEFEIHRva2VuIGlmIGEgYmVhcmVyIHRva2VuIHByb3ZpZGVyIGlzIHByb3ZpZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdHMuaGVhZGVycz8uWydhcGkta2V5J10pIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5wcmVwYXJlT3B0aW9ucyhvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2dldEF6dXJlQURUb2tlbigpO1xuICAgICAgICBvcHRzLmhlYWRlcnMgPz8gKG9wdHMuaGVhZGVycyA9IHt9KTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXBpS2V5ICE9PSBBUElfS0VZX1NFTlRJTkVMKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnNbJ2FwaS1rZXknXSA9IHRoaXMuYXBpS2V5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcignVW5hYmxlIHRvIGhhbmRsZSBhdXRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLnByZXBhcmVPcHRpb25zKG9wdHMpO1xuICAgIH1cbn1cbmNvbnN0IF9kZXBsb3ltZW50c19lbmRwb2ludHMgPSBuZXcgU2V0KFtcbiAgICAnL2NvbXBsZXRpb25zJyxcbiAgICAnL2NoYXQvY29tcGxldGlvbnMnLFxuICAgICcvZW1iZWRkaW5ncycsXG4gICAgJy9hdWRpby90cmFuc2NyaXB0aW9ucycsXG4gICAgJy9hdWRpby90cmFuc2xhdGlvbnMnLFxuICAgICcvYXVkaW8vc3BlZWNoJyxcbiAgICAnL2ltYWdlcy9nZW5lcmF0aW9ucycsXG5dKTtcbmNvbnN0IEFQSV9LRVlfU0VOVElORUwgPSAnPE1pc3NpbmcgS2V5Pic7XG5leHBvcnQgeyB0b0ZpbGUsIGZpbGVGcm9tUGF0aCB9IGZyb20gXCIuL3VwbG9hZHMubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlFcnJvciwgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IsIE5vdEZvdW5kRXJyb3IsIENvbmZsaWN0RXJyb3IsIFJhdGVMaW1pdEVycm9yLCBCYWRSZXF1ZXN0RXJyb3IsIEF1dGhlbnRpY2F0aW9uRXJyb3IsIEludGVybmFsU2VydmVyRXJyb3IsIFBlcm1pc3Npb25EZW5pZWRFcnJvciwgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLCB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGRlZmF1bHQgT3BlbkFJO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsIi8qKlxyXG4gKiDlrprkuYkgQUkg6IGK5aSp5ZON5bqU55qE57uT5p6EXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExMTVJlc3BvbnNlIHtcclxuICBjb250ZW50OiBzdHJpbmc7IC8vIEFJIOeUn+aIkOeahOWGheWuuVxyXG4gIG1vZGVsVXNlZD86IHN0cmluZzsgLy8g5a6e6ZmF5L2/55So55qE5qih5Z6LXHJcbiAgdXNhZ2U/OiB7IC8vIHRva2VuIOS9v+eUqOaDheWGtSAo5Y+v6YCJKVxyXG4gICAgcHJvbXB0VG9rZW5zPzogbnVtYmVyO1xyXG4gICAgY29tcGxldGlvblRva2Vucz86IG51bWJlcjtcclxuICAgIHRvdGFsVG9rZW5zPzogbnVtYmVyO1xyXG4gIH07XHJcbiAgZXJyb3I/OiBzdHJpbmc7IC8vIOWmguaenOWPkeeUn+mUmeivr1xyXG4gIHJhd1Jlc3BvbnNlPzogdW5rbm93bjsgLy8g5Y6f5aeL5ZON5bqU5L2TICjlj6/pgIksIOeUqOS6juiwg+ivlSkgLSDkvb/nlKggdW5rbm93biDmm7/ku6MgYW55XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlrprkuYnogYrlpKnor7fmsYLnmoTpgInpoblcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTExNQ2hhdE9wdGlvbnMge1xyXG4gIG1vZGVsOiBzdHJpbmc7IC8vIOimgeS9v+eUqOeahOaooeWei1xyXG4gIG1lc3NhZ2VzOiB7IHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7IGNvbnRlbnQ6IHN0cmluZyB9W107IC8vIOWvueivneWOhuWPslxyXG4gIHN5c3RlbVByb21wdD86IHN0cmluZzsgLy8g57O757uf5o+Q56S6ICjlpoLmnpzmqKHlnovmlK/mjIEpXHJcbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7IC8vIOa4qeW6puWPguaVsCAo5o6n5Yi26ZqP5py65oCnKVxyXG4gIG1heFRva2Vucz86IG51bWJlcjsgLy8g5pyA5aSn55Sf5oiQIHRva2VuIOaVsFxyXG4gIHN0cmVhbT86IGJvb2xlYW47IC8vIOaYr+WQpuS9v+eUqOa1geW8j+WTjeW6lCAo5pqC5pyq5a6e546w5rWB5byP5aSE55CGKVxyXG4gIC8vIOWPr+S7pea3u+WKoOabtOWkmueJueWumuS6juaooeWei+eahOmAiemhuVxyXG59XHJcblxyXG4vKipcclxuICog5omA5pyJIExMTSDmnI3liqHllYblrp7njrDnmoTln7rnsbvmiJbmjqXlj6NcclxuICog5a6a5LmJ5LqG5LiO5LiN5ZCMIExMTSDmnI3liqHkuqTkupLmiYDpnIDnmoTpgJrnlKjmlrnms5XlkozlsZ7mgKdcclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlTExNIHtcclxuICAvLyAtLS0g5bGe5oCnIC0tLVxyXG5cclxuICAvKipcclxuICAgKiDmnI3liqHllYbnmoTllK/kuIDmoIfor4bnrKYgKOS+i+WmgjogJ29wZW5haScsICdhbnRocm9waWMnKVxyXG4gICAqIOmAmuW4uOWPr+S7peS7juaWh+S7tuWQjeaIluexu+WQjea0vueUn1xyXG4gICAqL1xyXG4gIGFic3RyYWN0IHJlYWRvbmx5IHByb3ZpZGVySWQ6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICog5pyN5Yqh5ZWG55qE5pi+56S65ZCN56ewICjkvovlpoI6ICdPcGVuQUknLCAnQW50aHJvcGljIENsYXVkZScpXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgcmVhZG9ubHkgcHJvdmlkZXJOYW1lOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIOivpeacjeWKoeWVhueahOWfuuehgCBBUEkgVVJMICjlj6/og73lnKjlrZDnsbvkuK3noaznvJbnoIHmiJbku47phY3nva7or7vlj5YpXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgcmVhZG9ubHkgYmFzZUFwaVVybD86IHN0cmluZzsgLy8g6K6+5Li65Y+v6YCJ77yM5Zug5Li65pys5Zyw5qih5Z6L5Y+v6IO95rKh5pyJIFVSTFxyXG5cclxuICAvKipcclxuICAgKiDnlKjmiLfphY3nva7nmoQgQVBJIEtleVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBhcGlLZXk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiDor6XmnI3liqHllYbmlK/mjIHnmoTpu5jorqTmqKHlnovliJfooahcclxuICAgKi9cclxuICBhYnN0cmFjdCByZWFkb25seSBkZWZhdWx0TW9kZWxzOiBzdHJpbmdbXTtcclxuXHJcbiAgLy8gLS0tIOaWueazlSAtLS1cclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572uIEFQSSBLZXlcclxuICAgKiBAcGFyYW0gYXBpS2V5IOeUqOaIt+aPkOS+m+eahCBBUEkgS2V5XHJcbiAgICovXHJcbiAgc2V0QXBpS2V5KGFwaUtleTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XHJcbiAgICBjb25zb2xlLmxvZyhgQVBJIEtleSBzZXQgZm9yIHByb3ZpZGVyOiAke3RoaXMucHJvdmlkZXJJZH1gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluW9k+WJjemFjee9rueahCBBUEkgS2V5ICjkuLvopoHnlKjkuo7lhoXpg6jmiJbmtYvor5UpXHJcbiAgICovXHJcbiAgZ2V0QXBpS2V5KCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuYXBpS2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W6K+l5pyN5Yqh5ZWG5Y+v55So55qE5qih5Z6L5YiX6KGoICjlj6/og73ljIXlkKvpu5jorqTmqKHlnovlkoznlKjmiLfoh6rlrprkuYnmqKHlnospXHJcbiAgICogQHBhcmFtIGN1c3RvbU1vZGVscyDnlKjmiLfmt7vliqDnmoToh6rlrprkuYnmqKHlnovliJfooaggKOWPr+mAiSlcclxuICAgKiBAcmV0dXJucyDmqKHlnovlkI3np7DmlbDnu4RcclxuICAgKi9cclxuICBnZXRBdmFpbGFibGVNb2RlbHMoY3VzdG9tTW9kZWxzOiBzdHJpbmdbXSA9IFtdKTogc3RyaW5nW10ge1xyXG4gICAgLy8g5L2/55SoIFNldCDljrvph41cclxuICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4udGhpcy5kZWZhdWx0TW9kZWxzLCAuLi5jdXN0b21Nb2RlbHNdKV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLjlv4Pmlrnms5XvvJrlj5HpgIHogYrlpKnor7fmsYLliLAgTExNIEFQSSDlubbojrflj5blk43lupRcclxuICAgKiBAcGFyYW0gb3B0aW9ucyDogYrlpKnor7fmsYLpgInpoblcclxuICAgKiBAcmV0dXJucyDljIXlkKsgQUkg5ZON5bqU55qEIFByb21pc2VcclxuICAgKi9cclxuICBhYnN0cmFjdCBnZW5lcmF0ZUNoYXRDb21wbGV0aW9uKG9wdGlvbnM6IExMTUNoYXRPcHRpb25zKTogUHJvbWlzZTxMTE1SZXNwb25zZT47XHJcblxyXG4gIC8qKlxyXG4gICAqICjlj6/pgIkpIOmqjOivgSBBUEkgS2V5IOaYr+WQpuacieaViOeahOaWueazlVxyXG4gICAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj5cclxuICAgKi9cclxuICAvLyBhYnN0cmFjdCB2YWxpZGF0ZUFwaUtleSgpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG5cclxuICAvKipcclxuICAgKiAo5Y+v6YCJKSDojrflj5bmqKHlnovor6bnu4bkv6Hmga/nmoTmlrnms5VcclxuICAgKiBAcGFyYW0gbW9kZWxOYW1lIOaooeWei+WQjeensFxyXG4gICAqIEByZXR1cm5zIFByb21pc2U8TW9kZWxEZXRhaWxzIHwgbnVsbD5cclxuICAgKi9cclxuICAvLyBhYnN0cmFjdCBnZXRNb2RlbERldGFpbHMobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+O1xyXG59XHJcblxyXG4vLyDms6jmhI/vvJrov5nkuKrmlofku7blj6rlrprkuYnkuobln7rnsbvvvIzlhbfkvZPnmoQgQVBJIOiwg+eUqOmAu+i+keWwhuWcqOWtkOexu+S4reWunueOsOOAgiIsImltcG9ydCBPcGVuQUksIHsgQ2xpZW50T3B0aW9ucyB9IGZyb20gJ29wZW5haSc7IC8vIOWvvOWFpSBDbGllbnRPcHRpb25zXHJcbmltcG9ydCB7IEJhc2VMTE0sIExMTVJlc3BvbnNlLCBMTE1DaGF0T3B0aW9ucyB9IGZyb20gJy4vQmFzZUxMTSc7XHJcblxyXG4vKipcclxuICogT3BlbkFJIOacjeWKoeWVhueahOWunueOsFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9wZW5BSUxMTSBleHRlbmRzIEJhc2VMTE0ge1xyXG4gIHJlYWRvbmx5IHByb3ZpZGVySWQgPSAnb3BlbmFpJztcclxuICByZWFkb25seSBwcm92aWRlck5hbWUgPSAnT3BlbkFJJztcclxuICAvLyBPcGVuQUkg55qE5Z+656GAIFVSTO+8jOS5n+WPr+S7peS7jumFjee9ruivu+WPluaIluWFgeiuuOeUqOaIt+S/ruaUuVxyXG4gIHJlYWRvbmx5IGJhc2VBcGlVcmwgPSAnaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MSc7XHJcblxyXG4gIC8vIOm7mOiupOaUr+aMgeeahOaooeWei+WIl+ihqCAo5Y+v5Lul5qC55o2u6ZyA6KaB5pu05pawKVxyXG4gIHJlYWRvbmx5IGRlZmF1bHRNb2RlbHM6IHN0cmluZ1tdID0gW1xyXG4gICAgJ2dwdC00bycsXHJcbiAgICAnZ3B0LTQtdHVyYm8nLFxyXG4gICAgJ2dwdC00JyxcclxuICAgICdncHQtMy41LXR1cmJvJyxcclxuICBdO1xyXG5cclxuICBwcml2YXRlIG9wZW5haTogT3BlbkFJIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIOmHjeWGmSBzZXRBcGlLZXkg5pa55rOV77yM5Zyo6K6+572uIGtleSDml7bliJ3lp4vljJYgT3BlbkFJIOWuouaIt+err1xyXG4gICAqL1xyXG4gIG92ZXJyaWRlIHNldEFwaUtleShhcGlLZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuICAgIHN1cGVyLnNldEFwaUtleShhcGlLZXkpO1xyXG4gICAgaWYgKGFwaUtleSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudE9wdGlvbnM6IENsaWVudE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcclxuICAgICAgICAgIC8vIGJhc2VVUkw6IHRoaXMuYmFzZUFwaVVybCwgLy8g5Y+v5Lul6ICD6JmR5YWB6K6455So5oi36YWN572uIEJhc2UgVVJMXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVuYWkgPSBuZXcgT3BlbkFJKGNsaWVudE9wdGlvbnMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBPcGVuQUkgY2xpZW50IGluaXRpYWxpemVkIGZvciBwcm92aWRlcjogJHt0aGlzLnByb3ZpZGVySWR9YCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIE9wZW5BSSBjbGllbnQgZm9yICR7dGhpcy5wcm92aWRlcklkfTpgLCBlcnJvcik7XHJcbiAgICAgICAgIHRoaXMub3BlbmFpID0gbnVsbDsgLy8g5Yid5aeL5YyW5aSx6LSl77yM6YeN572u5a6i5oi356uvXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BlbmFpID0gbnVsbDsgLy8gQVBJIEtleSDnp7vpmaTvvIzplIDmr4HlrqLmiLfnq69cclxuICAgICAgY29uc29sZS5sb2coYE9wZW5BSSBjbGllbnQgZGVzdHJveWVkIGZvciBwcm92aWRlcjogJHt0aGlzLnByb3ZpZGVySWR9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlrp7njrDogYrlpKnor7fmsYLmlrnms5VcclxuICAgKi9cclxuICBhc3luYyBnZW5lcmF0ZUNoYXRDb21wbGV0aW9uKG9wdGlvbnM6IExMTUNoYXRPcHRpb25zKTogUHJvbWlzZTxMTE1SZXNwb25zZT4ge1xyXG4gICAgaWYgKCF0aGlzLm9wZW5haSkge1xyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6ICdPcGVuQUkgQVBJIEtleSDmnKrorr7nva7miJblrqLmiLfnq6/liJ3lp4vljJblpLHotKUnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoIW9wdGlvbnMubW9kZWwgfHwgIXRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKCkuaW5jbHVkZXMob3B0aW9ucy5tb2RlbCkpIHtcclxuICAgICAgIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogYOaooeWeiyAke29wdGlvbnMubW9kZWx9IOS4jeWPr+eUqOaIluS4jeWPl+aUr+aMgWAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyDlh4blpIcgT3BlbkFJIEFQSSDor7fmsYLlj4LmlbBcclxuICAgICAgY29uc3QgcGFyYW1zOiBPcGVuQUkuQ2hhdC5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9IHtcclxuICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcclxuICAgICAgICBtZXNzYWdlczogb3B0aW9ucy5tZXNzYWdlcyxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSA/PyAwLjcsIC8vIOm7mOiupOa4qeW6plxyXG4gICAgICAgIG1heF90b2tlbnM6IG9wdGlvbnMubWF4VG9rZW5zLCAvLyDlpoLmnpzmnKrmj5DkvpvvvIzliJnnlLEgT3BlbkFJIOWGs+WumlxyXG4gICAgICAgIHN0cmVhbTogZmFsc2UsIC8vIOaaguS4jeaUr+aMgea1geW8j+WTjeW6lFxyXG4gICAgICAgIC8vIOWPr+S7peagueaNrumcgOimgea3u+WKoOWFtuS7luWPguaVsO+8jOWmgiB0b3BfcCwgZnJlcXVlbmN5X3BlbmFsdHkg562JXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyDlpoLmnpzmnInns7vnu5/mj5DnpLrvvIzmt7vliqDliLDmtojmga/liJfooajlvIDlpLQgKOafkOS6m+aooeWei+WPr+iDveS4jeaUr+aMgSBzeXN0ZW0gcm9sZSlcclxuICAgICAgaWYgKG9wdGlvbnMuc3lzdGVtUHJvbXB0KSB7XHJcbiAgICAgICAgLy8g56Gu5L+dIG1lc3NhZ2VzIOaVsOe7hOWtmOWcqFxyXG4gICAgICAgIGlmICghcGFyYW1zLm1lc3NhZ2VzKSBwYXJhbXMubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICAvLyDmo4Dmn6XmmK/lkKblt7LmnIkgc3lzdGVtIOa2iOaBr++8jOmBv+WFjemHjeWkjea3u+WKoFxyXG4gICAgICAgIGlmICghcGFyYW1zLm1lc3NhZ2VzLnNvbWUobSA9PiBtLnJvbGUgPT09ICdzeXN0ZW0nKSkge1xyXG4gICAgICAgICAgcGFyYW1zLm1lc3NhZ2VzLnVuc2hpZnQoeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogb3B0aW9ucy5zeXN0ZW1Qcm9tcHQgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOWmguaenOW3suaciSBzeXN0ZW0g5raI5oGv77yM5Y+v5Lul6YCJ5oup5pu/5o2i5oiW5b+955Wl5paw55qE77yM6L+Z6YeM6YCJ5oup5b+955WlXHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1N5c3RlbSBwcm9tcHQgYWxyZWFkeSBleGlzdHMgaW4gbWVzc2FnZXMsIGlnbm9yaW5nIG5ldyBzeXN0ZW1Qcm9tcHQgb3B0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBbT3BlbkFJXSBTZW5kaW5nIHJlcXVlc3QgdG8gbW9kZWwgJHtvcHRpb25zLm1vZGVsfSB3aXRoIHBhcmFtczpgLCBKU09OLnN0cmluZ2lmeShwYXJhbXMsIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9wZW5BSS5DaGF0LkNoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5vcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUocGFyYW1zKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdbT3BlbkFJXSBSZWNlaXZlZCBjb21wbGV0aW9uOicsIEpTT04uc3RyaW5naWZ5KGNvbXBsZXRpb24sIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgPz8gJyc7XHJcbiAgICAgIGNvbnN0IHVzYWdlID0gY29tcGxldGlvbi51c2FnZTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29udGVudDogY29udGVudCxcclxuICAgICAgICBtb2RlbFVzZWQ6IGNvbXBsZXRpb24ubW9kZWwsXHJcbiAgICAgICAgdXNhZ2U6IHtcclxuICAgICAgICAgIHByb21wdFRva2VuczogdXNhZ2U/LnByb21wdF90b2tlbnMsXHJcbiAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB1c2FnZT8uY29tcGxldGlvbl90b2tlbnMsXHJcbiAgICAgICAgICB0b3RhbFRva2VuczogdXNhZ2U/LnRvdGFsX3Rva2VucyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJhd1Jlc3BvbnNlOiBjb21wbGV0aW9uLCAvLyDljIXlkKvljp/lp4vlk43lupTkvpvosIPor5VcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbT3BlbkFJXSBFcnJvciBkdXJpbmcgY2hhdCBjb21wbGV0aW9uIGZvciBtb2RlbCAke29wdGlvbnMubW9kZWx9OmAsIGVycm9yKTtcclxuICAgICAgbGV0IGRldGFpbGVkRXJyb3IgPSAn5LiOIE9wZW5BSSBBUEkg6YCa5L+h5pe25Y+R55Sf5pyq55+l6ZSZ6K+vJztcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBkZXRhaWxlZEVycm9yID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAvLyAtLS0g5L2/55So5pu05a6J5YWo55qE57G75Z6L5a6I5Y2rIC0tLVxyXG4gICAgICAgIC8vIOajgOafpSBlcnJvciDmmK/lkKbmmK/kuIDkuKrljIXlkKsgJ3Jlc3BvbnNlJyDlsZ7mgKfnmoTlr7nosaFcclxuICAgICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiAncmVzcG9uc2UnIGluIGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IChlcnJvciBhcyB7IHJlc3BvbnNlOiB1bmtub3duIH0pLnJlc3BvbnNlO1xyXG4gICAgICAgICAgLy8g5qOA5p+lIHJlc3BvbnNlIOaYr+WQpuaYr+S4gOS4quWMheWQqyAnZGF0YScg5bGe5oCn55qE5a+56LGhXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgdHlwZW9mIHJlc3BvbnNlID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IChyZXNwb25zZSBhcyB7IGRhdGE6IHVua25vd24gfSkuZGF0YTtcclxuICAgICAgICAgICAgLy8g5qOA5p+lIGRhdGEg5piv5ZCm5piv5LiA5Liq5YyF5ZCrICdlcnJvcicg5bGe5oCn55qE5a+56LGhXHJcbiAgICAgICAgICAgIGlmIChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiAnZXJyb3InIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICBjb25zdCBhcGlFcnJvciA9IChkYXRhIGFzIHsgZXJyb3I6IHVua25vd24gfSkuZXJyb3I7XHJcbiAgICAgICAgICAgICAgLy8g5qOA5p+lIGFwaUVycm9yIOaYr+WQpuaYr+S4gOS4quWMheWQqyAnbWVzc2FnZScg5bGe5oCn55qE5a+56LGhXHJcbiAgICAgICAgICAgICAgaWYgKGFwaUVycm9yICYmIHR5cGVvZiBhcGlFcnJvciA9PT0gJ29iamVjdCcgJiYgJ21lc3NhZ2UnIGluIGFwaUVycm9yICYmIHR5cGVvZiBhcGlFcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgLy8g5bCd6K+V6I635Y+WIHR5cGUg5bGe5oCnICjlj6/pgIkpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclR5cGUgPSAodHlwZW9mIGFwaUVycm9yID09PSAnb2JqZWN0JyAmJiAndHlwZScgaW4gYXBpRXJyb3IgJiYgdHlwZW9mIGFwaUVycm9yLnR5cGUgPT09ICdzdHJpbmcnKSA/IGFwaUVycm9yLnR5cGUgOiAnQVBJIEVycm9yJztcclxuICAgICAgICAgICAgICAgIGRldGFpbGVkRXJyb3IgPSBgJHtlcnJvclR5cGV9OiAke2FwaUVycm9yLm1lc3NhZ2V9YDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8g5aaC5p6c5LiN5pivIEVycm9yIOWunuS+i++8jOaIluiAheaXoOazleino+aekOivpue7huS/oeaBr++8jOWImei/lOWbnumAmueUqOmUmeivr1xyXG4gICAgICBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGV0YWlsZWRFcnJvciA9IGVycm9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6IGRldGFpbGVkRXJyb3IsIHJhd1Jlc3BvbnNlOiBlcnJvciB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5Y+v5Lul6YCJ5oup5oCn5Zyw5a6e546wIHZhbGlkYXRlQXBpS2V5IOaIliBnZXRNb2RlbERldGFpbHMg5pa55rOVXHJcbn0iLCJleHBvcnQgY29uc3QgVkVSU0lPTiA9ICcwLjQwLjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcCIsImV4cG9ydCBsZXQgYXV0byA9IGZhbHNlO1xuZXhwb3J0IGxldCBraW5kID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBmZXRjaCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVxdWVzdCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEhlYWRlcnMgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEZvcm1EYXRhID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBCbG9iID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGaWxlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBSZWFkYWJsZVN0cmVhbSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldERlZmF1bHRBZ2VudCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmlsZUZyb21QYXRoID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBpc0ZzUmVhZFN0cmVhbSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGltcyhzaGltcywgb3B0aW9ucyA9IHsgYXV0bzogZmFsc2UgfSkge1xuICAgIGlmIChhdXRvKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgeW91IG11c3QgXFxgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy8ke3NoaW1zLmtpbmR9J1xcYCBiZWZvcmUgaW1wb3J0aW5nIGFueXRoaW5nIGVsc2UgZnJvbSBAYW50aHJvcGljLWFpL3Nka2ApO1xuICAgIH1cbiAgICBpZiAoa2luZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbid0IFxcYGltcG9ydCAnQGFudGhyb3BpYy1haS9zZGsvc2hpbXMvJHtzaGltcy5raW5kfSdcXGAgYWZ0ZXIgXFxgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy8ke2tpbmR9J1xcYGApO1xuICAgIH1cbiAgICBhdXRvID0gb3B0aW9ucy5hdXRvO1xuICAgIGtpbmQgPSBzaGltcy5raW5kO1xuICAgIGZldGNoID0gc2hpbXMuZmV0Y2g7XG4gICAgUmVxdWVzdCA9IHNoaW1zLlJlcXVlc3Q7XG4gICAgUmVzcG9uc2UgPSBzaGltcy5SZXNwb25zZTtcbiAgICBIZWFkZXJzID0gc2hpbXMuSGVhZGVycztcbiAgICBGb3JtRGF0YSA9IHNoaW1zLkZvcm1EYXRhO1xuICAgIEJsb2IgPSBzaGltcy5CbG9iO1xuICAgIEZpbGUgPSBzaGltcy5GaWxlO1xuICAgIFJlYWRhYmxlU3RyZWFtID0gc2hpbXMuUmVhZGFibGVTdHJlYW07XG4gICAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMgPSBzaGltcy5nZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucztcbiAgICBnZXREZWZhdWx0QWdlbnQgPSBzaGltcy5nZXREZWZhdWx0QWdlbnQ7XG4gICAgZmlsZUZyb21QYXRoID0gc2hpbXMuZmlsZUZyb21QYXRoO1xuICAgIGlzRnNSZWFkU3RyZWFtID0gc2hpbXMuaXNGc1JlYWRTdHJlYW07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdpc3RyeS5tanMubWFwIiwiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwYXJ0Qm9keSB7XG4gICAgY29uc3RydWN0b3IoYm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIHJldHVybiAnTXVsdGlwYXJ0Qm9keSc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlwYXJ0Qm9keS5tanMubWFwIiwiaW1wb3J0ICogYXMgbmYgZnJvbSAnbm9kZS1mZXRjaCc7XG5pbXBvcnQgKiBhcyBmZCBmcm9tICdmb3JtZGF0YS1ub2RlJztcbmltcG9ydCBLZWVwQWxpdmVBZ2VudCBmcm9tICdhZ2VudGtlZXBhbGl2ZSc7XG5pbXBvcnQgeyBBYm9ydENvbnRyb2xsZXIgYXMgQWJvcnRDb250cm9sbGVyUG9seWZpbGwgfSBmcm9tICdhYm9ydC1jb250cm9sbGVyJztcbmltcG9ydCB7IFJlYWRTdHJlYW0gYXMgRnNSZWFkU3RyZWFtIH0gZnJvbSAnbm9kZTpmcyc7XG5pbXBvcnQgeyBGb3JtRGF0YUVuY29kZXIgfSBmcm9tICdmb3JtLWRhdGEtZW5jb2Rlcic7XG5pbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJ25vZGU6c3RyZWFtJztcbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tIFwiLi9NdWx0aXBhcnRCb2R5Lm1qc1wiO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gfSBmcm9tICdub2RlOnN0cmVhbS93ZWInO1xubGV0IGZpbGVGcm9tUGF0aFdhcm5lZCA9IGZhbHNlO1xuYXN5bmMgZnVuY3Rpb24gZmlsZUZyb21QYXRoKHBhdGgsIC4uLmFyZ3MpIHtcbiAgICAvLyB0aGlzIGltcG9ydCBmYWlscyBpbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBoYW5kbGUgZXhwb3J0IG1hcHMgY29ycmVjdGx5LCBsaWtlIG9sZCB2ZXJzaW9ucyBvZiBKZXN0XG4gICAgY29uc3QgeyBmaWxlRnJvbVBhdGg6IF9maWxlRnJvbVBhdGggfSA9IGF3YWl0IGltcG9ydCgnZm9ybWRhdGEtbm9kZS9maWxlLWZyb20tcGF0aCcpO1xuICAgIGlmICghZmlsZUZyb21QYXRoV2FybmVkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgZmlsZUZyb21QYXRoIGlzIGRlcHJlY2F0ZWQ7IHVzZSBmcy5jcmVhdGVSZWFkU3RyZWFtKCR7SlNPTi5zdHJpbmdpZnkocGF0aCl9KSBpbnN0ZWFkYCk7XG4gICAgICAgIGZpbGVGcm9tUGF0aFdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gYXdhaXQgX2ZpbGVGcm9tUGF0aChwYXRoLCAuLi5hcmdzKTtcbn1cbmNvbnN0IGRlZmF1bHRIdHRwQWdlbnQgPSBuZXcgS2VlcEFsaXZlQWdlbnQoeyBrZWVwQWxpdmU6IHRydWUsIHRpbWVvdXQ6IDUgKiA2MCAqIDEwMDAgfSk7XG5jb25zdCBkZWZhdWx0SHR0cHNBZ2VudCA9IG5ldyBLZWVwQWxpdmVBZ2VudC5IdHRwc0FnZW50KHsga2VlcEFsaXZlOiB0cnVlLCB0aW1lb3V0OiA1ICogNjAgKiAxMDAwIH0pO1xuYXN5bmMgZnVuY3Rpb24gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cykge1xuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgRm9ybURhdGFFbmNvZGVyKGZvcm0pO1xuICAgIGNvbnN0IHJlYWRhYmxlID0gUmVhZGFibGUuZnJvbShlbmNvZGVyKTtcbiAgICBjb25zdCBib2R5ID0gbmV3IE11bHRpcGFydEJvZHkocmVhZGFibGUpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdHMuaGVhZGVycyxcbiAgICAgICAgLi4uZW5jb2Rlci5oZWFkZXJzLFxuICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBlbmNvZGVyLmNvbnRlbnRMZW5ndGgsXG4gICAgfTtcbiAgICByZXR1cm4geyAuLi5vcHRzLCBib2R5OiBib2R5LCBoZWFkZXJzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVudGltZSgpIHtcbiAgICAvLyBQb2x5ZmlsbCBnbG9iYWwgb2JqZWN0IGlmIG5lZWRlZC5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAodGhlIHR5cGVzIGFyZSBzdWJ0bHkgZGlmZmVyZW50LCBidXQgY29tcGF0aWJsZSBpbiBwcmFjdGljZSlcbiAgICAgICAgZ2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIgPSBBYm9ydENvbnRyb2xsZXJQb2x5ZmlsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogJ25vZGUnLFxuICAgICAgICBmZXRjaDogbmYuZGVmYXVsdCxcbiAgICAgICAgUmVxdWVzdDogbmYuUmVxdWVzdCxcbiAgICAgICAgUmVzcG9uc2U6IG5mLlJlc3BvbnNlLFxuICAgICAgICBIZWFkZXJzOiBuZi5IZWFkZXJzLFxuICAgICAgICBGb3JtRGF0YTogZmQuRm9ybURhdGEsXG4gICAgICAgIEJsb2I6IGZkLkJsb2IsXG4gICAgICAgIEZpbGU6IGZkLkZpbGUsXG4gICAgICAgIFJlYWRhYmxlU3RyZWFtLFxuICAgICAgICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgZ2V0RGVmYXVsdEFnZW50OiAodXJsKSA9PiAodXJsLnN0YXJ0c1dpdGgoJ2h0dHBzJykgPyBkZWZhdWx0SHR0cHNBZ2VudCA6IGRlZmF1bHRIdHRwQWdlbnQpLFxuICAgICAgICBmaWxlRnJvbVBhdGgsXG4gICAgICAgIGlzRnNSZWFkU3RyZWFtOiAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgRnNSZWFkU3RyZWFtLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLXJ1bnRpbWUubWpzLm1hcCIsIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuaW1wb3J0ICogYXMgc2hpbXMgZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuaW1wb3J0ICogYXMgYXV0byBmcm9tICdAYW50aHJvcGljLWFpL3Nkay9fc2hpbXMvYXV0by9ydW50aW1lJztcbmV4cG9ydCBjb25zdCBpbml0ID0gKCkgPT4ge1xuICBpZiAoIXNoaW1zLmtpbmQpIHNoaW1zLnNldFNoaW1zKGF1dG8uZ2V0UnVudGltZSgpLCB7IGF1dG86IHRydWUgfSk7XG59O1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuXG5pbml0KCk7XG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEFudGhyb3BpY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEFQSUVycm9yIGV4dGVuZHMgQW50aHJvcGljRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICAgICAgc3VwZXIoYCR7QVBJRXJyb3IubWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSl9YCk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3RfaWQgPSBoZWFkZXJzPy5bJ3JlcXVlc3QtaWQnXTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICBzdGF0aWMgbWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJvcj8ubWVzc2FnZSA/XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICA6IGVycm9yID8gSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG4gICAgICAgICAgICAgICAgOiBtZXNzYWdlO1xuICAgICAgICBpZiAoc3RhdHVzICYmIG1zZykge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0YXR1c30gJHttc2d9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RhdHVzfSBzdGF0dXMgY29kZSAobm8gYm9keSlgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcobm8gc3RhdHVzIGNvZGUgb3IgYm9keSknO1xuICAgIH1cbiAgICBzdGF0aWMgZ2VuZXJhdGUoc3RhdHVzLCBlcnJvclJlc3BvbnNlLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIGlmICghc3RhdHVzIHx8ICFoZWFkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IG1lc3NhZ2UsIGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IGVycm9yUmVzcG9uc2U7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCYWRSZXF1ZXN0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBlcm1pc3Npb25EZW5pZWRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm90Rm91bmRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MjIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQyOSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYXRlTGltaXRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQVBJRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSVVzZXJBYm9ydEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ1JlcXVlc3Qgd2FzIGFib3J0ZWQuJywgdW5kZWZpbmVkKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY2F1c2UgfSkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgICAgICAvLyBpbiBzb21lIGVudmlyb25tZW50cyB0aGUgJ2NhdXNlJyBwcm9wZXJ0eSBpcyBhbHJlYWR5IGRlY2xhcmVkXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGNhdXNlKVxuICAgICAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbWVzc2FnZTogbWVzc2FnZSA/PyAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbkRlbmllZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgUmF0ZUxpbWl0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLm1qcy5tYXAiLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXg7XG5pbXBvcnQgeyBBbnRocm9waWNFcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvci5tanNcIjtcbi8qKlxuICogQSByZS1pbXBsZW1lbnRhdGlvbiBvZiBodHRweCdzIGBMaW5lRGVjb2RlcmAgaW4gUHl0aG9uIHRoYXQgaGFuZGxlcyBpbmNyZW1lbnRhbGx5XG4gKiByZWFkaW5nIGxpbmVzIGZyb20gdGV4dC5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZW5jb2RlL2h0dHB4L2Jsb2IvOTIwMzMzZWE5ODExOGU5Y2Y2MTdmMjQ2OTA1ZDdiMjAyNTEwOTQxYy9odHRweC9fZGVjb2RlcnMucHkjTDI1OFxuICovXG5leHBvcnQgY2xhc3MgTGluZURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgfVxuICAgIGRlY29kZShjaHVuaykge1xuICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJpbmFyeUNodW5rID0gY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgICAgICAgICAgIDogY2h1bms7XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIubGVuZ3RoICsgYmluYXJ5Q2h1bmsubGVuZ3RoKTtcbiAgICAgICAgbmV3RGF0YS5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBuZXdEYXRhLnNldChiaW5hcnlDaHVuaywgdGhpcy5idWZmZXIubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXdEYXRhO1xuICAgICAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgICAgICBsZXQgcGF0dGVybkluZGV4O1xuICAgICAgICB3aGlsZSAoKHBhdHRlcm5JbmRleCA9IGZpbmROZXdsaW5lSW5kZXgodGhpcy5idWZmZXIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuSW5kZXguY2FycmlhZ2UgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIHVudGlsIHdlIGVpdGhlciBnZXQgYSBjb3JyZXNwb25kaW5nIGBcXG5gLCBhIG5ldyBgXFxyYCBvciBub3RoaW5nXG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgcGF0dGVybkluZGV4LmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBnb3QgZG91YmxlIFxcciBvciBcXHJ0ZXh0XFxuXG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAocGF0dGVybkluZGV4LmluZGV4ICE9PSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgKyAxIHx8IHBhdHRlcm5JbmRleC5jYXJyaWFnZSkpIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKHRoaXMuZGVjb2RlVGV4dCh0aGlzLmJ1ZmZlci5zbGljZSgwLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgLSAxKSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSAhPT0gbnVsbCA/IHBhdHRlcm5JbmRleC5wcmVjZWRpbmcgLSAxIDogcGF0dGVybkluZGV4LnByZWNlZGluZztcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmRlY29kZVRleHQodGhpcy5idWZmZXIuc2xpY2UoMCwgZW5kSW5kZXgpKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKHBhdHRlcm5JbmRleC5pbmRleCk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICBkZWNvZGVUZXh0KGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcyA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHJldHVybiBieXRlcztcbiAgICAgICAgLy8gTm9kZTpcbiAgICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnl0ZXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYFVuZXhwZWN0ZWQ6IHJlY2VpdmVkIG5vbi1VaW50OEFycmF5ICgke2J5dGVzLmNvbnN0cnVjdG9yLm5hbWV9KSBzdHJlYW0gY2h1bmsgaW4gYW4gZW52aXJvbm1lbnQgd2l0aCBhIGdsb2JhbCBcIkJ1ZmZlclwiIGRlZmluZWQsIHdoaWNoIHRoaXMgbGlicmFyeSBhc3N1bWVzIHRvIGJlIE5vZGUuIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCcm93c2VyXG4gICAgICAgIGlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IGJ5dGVzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHREZWNvZGVyID8/ICh0aGlzLnRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4JykpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShieXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYFVuZXhwZWN0ZWQ6IHJlY2VpdmVkIG5vbi1VaW50OEFycmF5L0FycmF5QnVmZmVyICgke2J5dGVzLmNvbnN0cnVjdG9yLm5hbWV9KSBpbiBhIHdlYiBwbGF0Zm9ybS4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcihgVW5leHBlY3RlZDogbmVpdGhlciBCdWZmZXIgbm9yIFRleHREZWNvZGVyIGFyZSBhdmFpbGFibGUgYXMgZ2xvYmFscy4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmApO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUoJ1xcbicpO1xuICAgIH1cbn1cbl9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4ID0gbmV3IFdlYWtNYXAoKTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuTGluZURlY29kZXIuTkVXTElORV9DSEFSUyA9IG5ldyBTZXQoWydcXG4nLCAnXFxyJ10pO1xuTGluZURlY29kZXIuTkVXTElORV9SRUdFWFAgPSAvXFxyXFxufFtcXG5cXHJdL2c7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucywgKFxcciBvciBcXG4pXG4gKiBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgaW5kZXggcHJlY2VkaW5nIHRoZSBtYXRjaGVkIG5ld2xpbmUgYW5kIHRoZVxuICogaW5kZXggYWZ0ZXIgdGhlIG5ld2xpbmUgY2hhci4gYG51bGxgIGlzIHJldHVybmVkIGlmIG5vIG5ldyBsaW5lIGlzIGZvdW5kLlxuICpcbiAqIGBgYHRzXG4gKiBmaW5kTmV3TGluZUluZGV4KCdhYmNcXG5kZWYnKSAtPiB7IHByZWNlZGluZzogMiwgaW5kZXg6IDMgfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGZpbmROZXdsaW5lSW5kZXgoYnVmZmVyLCBzdGFydEluZGV4KSB7XG4gICAgY29uc3QgbmV3bGluZSA9IDB4MGE7IC8vIFxcblxuICAgIGNvbnN0IGNhcnJpYWdlID0gMHgwZDsgLy8gXFxyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggPz8gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4geyBwcmVjZWRpbmc6IGksIGluZGV4OiBpICsgMSwgY2FycmlhZ2U6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREb3VibGVOZXdsaW5lSW5kZXgoYnVmZmVyKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBzZWFyY2hlcyB0aGUgYnVmZmVyIGZvciB0aGUgZW5kIHBhdHRlcm5zIChcXHJcXHIsIFxcblxcbiwgXFxyXFxuXFxyXFxuKVxuICAgIC8vIGFuZCByZXR1cm5zIHRoZSBpbmRleCByaWdodCBhZnRlciB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbnkgcGF0dGVybixcbiAgICAvLyBvciAtMSBpZiBub25lIG9mIHRoZSBwYXR0ZXJucyBhcmUgZm91bmQuXG4gICAgY29uc3QgbmV3bGluZSA9IDB4MGE7IC8vIFxcblxuICAgIGNvbnN0IGNhcnJpYWdlID0gMHgwZDsgLy8gXFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IG5ld2xpbmUgJiYgYnVmZmVyW2kgKyAxXSA9PT0gbmV3bGluZSkge1xuICAgICAgICAgICAgLy8gXFxuXFxuXG4gICAgICAgICAgICByZXR1cm4gaSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiYgYnVmZmVyW2kgKyAxXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgICAgICAgIC8vIFxcclxcclxuICAgICAgICAgICAgcmV0dXJuIGkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IGNhcnJpYWdlICYmXG4gICAgICAgICAgICBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lICYmXG4gICAgICAgICAgICBpICsgMyA8IGJ1ZmZlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGJ1ZmZlcltpICsgMl0gPT09IGNhcnJpYWdlICYmXG4gICAgICAgICAgICBidWZmZXJbaSArIDNdID09PSBuZXdsaW5lKSB7XG4gICAgICAgICAgICAvLyBcXHJcXG5cXHJcXG5cbiAgICAgICAgICAgIHJldHVybiBpICsgNDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW5lLm1qcy5tYXAiLCIvKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShzdHJlYW0pIHtcbiAgICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSlcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Py5kb25lKVxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyByZXR1cm4oKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICBhd2FpdCBjYW5jZWxQcm9taXNlO1xuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbS11dGlscy5tanMubWFwIiwiaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBBbnRocm9waWNFcnJvciB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgZmluZERvdWJsZU5ld2xpbmVJbmRleCwgTGluZURlY29kZXIgfSBmcm9tIFwiLi9pbnRlcm5hbC9kZWNvZGVycy9saW5lLm1qc1wiO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGUgfSBmcm9tIFwiLi9pbnRlcm5hbC9zdHJlYW0tdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVSZXNwb25zZUhlYWRlcnMgfSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQVBJRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmV4cG9ydCBjbGFzcyBTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yLCBjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgICAgICBsZXQgY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCkge1xuICAgICAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaXRlcmF0ZSBvdmVyIGEgY29uc3VtZWQgc3RyZWFtLCB1c2UgYC50ZWUoKWAgdG8gc3BsaXQgdGhlIHN0cmVhbS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIF9pdGVyU1NFTWVzc2FnZXMocmVzcG9uc2UsIGNvbnRyb2xsZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT09ICdjb21wbGV0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5ldmVudCA9PT0gJ21lc3NhZ2Vfc3RhcnQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2UuZXZlbnQgPT09ICdtZXNzYWdlX2RlbHRhJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3NlLmV2ZW50ID09PSAnbWVzc2FnZV9zdG9wJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3NlLmV2ZW50ID09PSAnY29udGVudF9ibG9ja19zdGFydCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzZS5ldmVudCA9PT0gJ2NvbnRlbnRfYmxvY2tfZGVsdGEnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2UuZXZlbnQgPT09ICdjb250ZW50X2Jsb2NrX3N0b3AnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSAncGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEFQSUVycm9yLmdlbmVyYXRlKHVuZGVmaW5lZCwgYFNTRSBFcnJvcjogJHtzc2UuZGF0YX1gLCBzc2UuZGF0YSwgY3JlYXRlUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBTdHJlYW0gZnJvbSBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtXG4gICAgICogd2hlcmUgZWFjaCBpdGVtIGlzIGEgSlNPTiB2YWx1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiogaXRlckxpbmVzKCkge1xuICAgICAgICAgICAgY29uc3QgbGluZURlY29kZXIgPSBuZXcgTGluZURlY29kZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbSk7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZGVjb2RlKGNodW5rKSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3luYyBmdW5jdGlvbiogaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBsaW5lIG9mIGl0ZXJMaW5lcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lKVxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BsaXRzIHRoZSBzdHJlYW0gaW50byB0d28gc3RyZWFtcyB3aGljaCBjYW4gYmVcbiAgICAgKiBpbmRlcGVuZGVudGx5IHJlYWQgZnJvbSBhdCBkaWZmZXJlbnQgc3BlZWRzLlxuICAgICAqL1xuICAgIHRlZSgpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IFtdO1xuICAgICAgICBjb25zdCByaWdodCA9IFtdO1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgdGVlSXRlcmF0b3IgPSAocXVldWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IobGVmdCksIHRoaXMuY29udHJvbGxlciksXG4gICAgICAgICAgICBuZXcgU3RyZWFtKCgpID0+IHRlZUl0ZXJhdG9yKHJpZ2h0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBzdHJlYW0gdG8gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbSBvZlxuICAgICAqIEpTT04gc3RyaW5naWZpZWQgdmFsdWVzIGluIHRoZSBzdHJlYW1cbiAgICAgKiB3aGljaCBjYW4gYmUgdHVybmVkIGJhY2sgaW50byBhIFN0cmVhbSB3aXRoIGBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKClgLlxuICAgICAqL1xuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgaXRlcjtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICAgICAgICAgIGl0ZXIgPSBzZWxmW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHB1bGwoY3RybCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmVucXVldWUoYnl0ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZXIucmV0dXJuPy4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogX2l0ZXJTU0VNZXNzYWdlcyhyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgIH1cbiAgICBjb25zdCBzc2VEZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShyZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZUNodW5rIG9mIGl0ZXJTU0VDaHVua3MoaXRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShzc2VDaHVuaykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNzZSA9IHNzZURlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHNzZSlcbiAgICAgICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpXG4gICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbiBhc3luYyBpdGVyYWJsZSBpdGVyYXRvciwgaXRlcmF0ZXMgb3ZlciBpdCBhbmQgeWllbGRzIGZ1bGxcbiAqIFNTRSBjaHVua3MsIGkuZS4geWllbGRzIHdoZW4gYSBkb3VibGUgbmV3LWxpbmUgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBpdGVyU1NFQ2h1bmtzKGl0ZXJhdG9yKSB7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgaWYgKGNodW5rID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJpbmFyeUNodW5rID0gY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgICAgICAgICAgIDogY2h1bms7XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldChkYXRhKTtcbiAgICAgICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZERvdWJsZU5ld2xpbmVJbmRleChkYXRhKSkgIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhLnNsaWNlKDAsIHBhdHRlcm5JbmRleCk7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZShwYXR0ZXJuSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeWllbGQgZGF0YTtcbiAgICB9XG59XG5jbGFzcyBTU0VEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgIH1cbiAgICBkZWNvZGUobGluZSkge1xuICAgICAgICBpZiAobGluZS5lbmRzV2l0aCgnXFxyJykpIHtcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZSBhbmQgd2UgZGlkbid0IHByZXZpb3VzbHkgZW5jb3VudGVyIGFueSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50ICYmICF0aGlzLmRhdGEubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHNzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGxpbmUpO1xuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbZmllbGRuYW1lLCBfLCB2YWx1ZV0gPSBwYXJ0aXRpb24obGluZSwgJzonKTtcbiAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkbmFtZSA9PT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgdGhpcy5ldmVudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihkZWxpbWl0ZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSwgZGVsaW1pdGVyLCBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZGVsaW1pdGVyLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwIiwiaW1wb3J0IHsgRm9ybURhdGEsIEZpbGUsIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLCBpc0ZzUmVhZFN0cmVhbSwgfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG5leHBvcnQgeyBmaWxlRnJvbVBhdGggfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLnVybCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5uYW1lID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gICAgaXNCbG9iTGlrZSh2YWx1ZSk7XG4vKipcbiAqIFRoZSBCbG9iTGlrZSB0eXBlIG9taXRzIGFycmF5QnVmZmVyKCkgYmVjYXVzZSBAdHlwZXMvbm9kZS1mZXRjaEBeMi42LjQgbGFja3MgaXQ7IGJ1dCB0aGlzIGNoZWNrXG4gKiBhZGRzIHRoZSBhcnJheUJ1ZmZlcigpIG1ldGhvZCB0eXBlIGJlY2F1c2UgaXQgaXMgYXZhaWxhYmxlIGFuZCB1c2VkIGF0IHJ1bnRpbWVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQmxvYkxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gICAgdHlwZW9mIHZhbHVlLnR5cGUgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmFsdWUuYXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaXNVcGxvYWRhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIGlzRmlsZUxpa2UodmFsdWUpIHx8IGlzUmVzcG9uc2VMaWtlKHZhbHVlKSB8fCBpc0ZzUmVhZFN0cmVhbSh2YWx1ZSk7XG59O1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNyZWF0aW5nIGEge0BsaW5rIEZpbGV9IHRvIHBhc3MgdG8gYW4gU0RLIHVwbG9hZCBtZXRob2QgZnJvbSBhIHZhcmlldHkgb2YgZGlmZmVyZW50IGRhdGEgZm9ybWF0c1xuICogQHBhcmFtIHZhbHVlIHRoZSByYXcgY29udGVudCBvZiB0aGUgZmlsZS4gIENhbiBiZSBhbiB7QGxpbmsgVXBsb2FkYWJsZX0sIHtAbGluayBCbG9iTGlrZVBhcnR9LCBvciB7QGxpbmsgQXN5bmNJdGVyYWJsZX0gb2Yge0BsaW5rIEJsb2JMaWtlUGFydH1zXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgdGhlIG5hbWUgb2YgdGhlIGZpbGUuIElmIG9taXR0ZWQsIHRvRmlsZSB3aWxsIHRyeSB0byBkZXRlcm1pbmUgYSBmaWxlIG5hbWUgZnJvbSBiaXRzIGlmIHBvc3NpYmxlXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdGlvbnMudHlwZSB0aGUgTUlNRSB0eXBlIG9mIHRoZSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcj19IG9wdGlvbnMubGFzdE1vZGlmaWVkIHRoZSBsYXN0IG1vZGlmaWVkIHRpbWVzdGFtcFxuICogQHJldHVybnMgYSB7QGxpbmsgRmlsZX0gd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydGllc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9GaWxlKHZhbHVlLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gICAgdmFsdWUgPSBhd2FpdCB2YWx1ZTtcbiAgICAvLyBJZiB3ZSd2ZSBiZWVuIGdpdmVuIGEgYEZpbGVgIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICBpZiAoaXNGaWxlTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNSZXNwb25zZUxpa2UodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB2YWx1ZS5ibG9iKCk7XG4gICAgICAgIG5hbWUgfHwgKG5hbWUgPSBuZXcgVVJMKHZhbHVlLnVybCkucGF0aG5hbWUuc3BsaXQoL1tcXFxcL10vKS5wb3AoKSA/PyAndW5rbm93bl9maWxlJyk7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gY29udmVydCB0aGUgYEJsb2JgIGludG8gYW4gYXJyYXkgYnVmZmVyIGJlY2F1c2UgdGhlIGBCbG9iYCBjbGFzc1xuICAgICAgICAvLyB0aGF0IGBub2RlLWZldGNoYCBkZWZpbmVzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSB3ZWIgc3RhbmRhcmQgd2hpY2ggcmVzdWx0c1xuICAgICAgICAvLyBpbiBgbmV3IEZpbGVgIGludGVycHJldGluZyBpdCBhcyBhIHN0cmluZyBpbnN0ZWFkIG9mIGJpbmFyeSBkYXRhLlxuICAgICAgICBjb25zdCBkYXRhID0gaXNCbG9iTGlrZShibG9iKSA/IFsoYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKV0gOiBbYmxvYl07XG4gICAgICAgIHJldHVybiBuZXcgRmlsZShkYXRhLCBuYW1lLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgYml0cyA9IGF3YWl0IGdldEJ5dGVzKHZhbHVlKTtcbiAgICBuYW1lIHx8IChuYW1lID0gZ2V0TmFtZSh2YWx1ZSkgPz8gJ3Vua25vd25fZmlsZScpO1xuICAgIGlmICghb3B0aW9ucz8udHlwZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gYml0c1swXT8udHlwZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgdHlwZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmlsZShiaXRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gICAgbGV0IHBhcnRzID0gW107XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBwYXJ0cy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCbG9iTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IodmFsdWUpIC8vIGluY2x1ZGVzIFJlYWRhYmxlLCBSZWFkYWJsZVN0cmVhbSwgZXRjLlxuICAgICkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGNodW5rKTsgLy8gVE9ETywgY29uc2lkZXIgdmFsaWRhdGluZz9cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGRhdGEgdHlwZTogJHt0eXBlb2YgdmFsdWV9OyBjb25zdHJ1Y3RvcjogJHt2YWx1ZT8uY29uc3RydWN0b3JcbiAgICAgICAgICAgID8ubmFtZX07IHByb3BzOiAke3Byb3BzRm9yRXJyb3IodmFsdWUpfWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG59XG5mdW5jdGlvbiBwcm9wc0ZvckVycm9yKHZhbHVlKSB7XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgcmV0dXJuIGBbJHtwcm9wcy5tYXAoKHApID0+IGBcIiR7cH1cImApLmpvaW4oJywgJyl9XWA7XG59XG5mdW5jdGlvbiBnZXROYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuIChnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUubmFtZSkgfHxcbiAgICAgICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLmZpbGVuYW1lKSB8fFxuICAgICAgICAvLyBGb3IgZnMuUmVhZFN0cmVhbVxuICAgICAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUucGF0aCk/LnNwbGl0KC9bXFxcXC9dLykucG9wKCkpO1xufVxuY29uc3QgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyID0gKHgpID0+IHtcbiAgICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4geDtcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEJ1ZmZlcilcbiAgICAgICAgcmV0dXJuIFN0cmluZyh4KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IGlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc011bHRpcGFydEJvZHkgPSAoYm9keSkgPT4gYm9keSAmJiB0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcgJiYgYm9keS5ib2R5ICYmIGJvZHlbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ011bHRpcGFydEJvZHknO1xuLyoqXG4gKiBSZXR1cm5zIGEgbXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1ZXN0IGlmIGFueSBwYXJ0IG9mIHRoZSBnaXZlbiByZXF1ZXN0IGJvZHkgY29udGFpbnMgYSBGaWxlIC8gQmxvYiB2YWx1ZS5cbiAqIE90aGVyd2lzZSByZXR1cm5zIHRoZSByZXF1ZXN0IGFzIGlzLlxuICovXG5leHBvcnQgY29uc3QgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyAob3B0cykgPT4ge1xuICAgIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpXG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gICAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcbmV4cG9ydCBjb25zdCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyAob3B0cykgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gICAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVGb3JtID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICAgIHJldHVybiBmb3JtO1xufTtcbmNvbnN0IGhhc1VwbG9hZGFibGVWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKHZhbHVlW2tdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgYWRkRm9ybVZhbHVlID0gYXN5bmMgKGZvcm0sIGtleSwgdmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFJlY2VpdmVkIG51bGwgZm9yIFwiJHtrZXl9XCI7IHRvIHBhc3MgbnVsbCBpbiBGb3JtRGF0YSwgeW91IG11c3QgdXNlIHRoZSBzdHJpbmcgJ251bGwnYCk7XG4gICAgfVxuICAgIC8vIFRPRE86IG1ha2UgbmVzdGVkIGZvcm1hdHMgY29uZmlndXJhYmxlXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICBmb3JtLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0b0ZpbGUodmFsdWUpO1xuICAgICAgICBmb3JtLmFwcGVuZChrZXksIGZpbGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHZhbHVlIGdpdmVuIHRvIGZvcm0sIGV4cGVjdGVkIGEgc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG9iamVjdCwgQXJyYXksIEZpbGUgb3IgQmxvYiBidXQgZ290ICR7dmFsdWV9IGluc3RlYWRgKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIiwidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9BYnN0cmFjdFBhZ2VfY2xpZW50O1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL3ZlcnNpb24ubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBBbnRocm9waWNFcnJvciwgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IsIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBraW5kIGFzIHNoaW1zS2luZCwgZ2V0RGVmYXVsdEFnZW50LCBmZXRjaCwgaW5pdCwgfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG4vLyB0cnkgcnVubmluZyBzaWRlIGVmZmVjdHMgb3V0c2lkZSBvZiBfc2hpbXMvaW5kZXggdG8gd29ya2Fyb3VuZCBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanMvaXNzdWVzLzc2ODgxXG5pbml0KCk7XG5pbXBvcnQgeyBpc0Jsb2JMaWtlLCBpc011bHRpcGFydEJvZHkgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSwgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBwcm9wcztcbiAgICBpZiAocHJvcHMub3B0aW9ucy5zdHJlYW0pIHtcbiAgICAgICAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAvLyBOb3RlOiB0aGVyZSBpcyBhbiBpbnZhcmlhbnQgaGVyZSB0aGF0IGlzbid0IHJlcHJlc2VudGVkIGluIHRoZSB0eXBlIHN5c3RlbVxuICAgICAgICAvLyB0aGF0IGlmIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAgdGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBhbHNvIGJlIGBTdHJlYW08VD5gXG4gICAgICAgIGlmIChwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MuZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyZWFtLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcik7XG4gICAgfVxuICAgIC8vIGZldGNoIHJlZnVzZXMgdG8gcmVhZCB0aGUgYm9keSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpcyAyMDQuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gY29udGVudFR5cGU/LnNwbGl0KCc7JylbMF0/LnRyaW0oKTtcbiAgICBjb25zdCBpc0pTT04gPSBtZWRpYVR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykgfHwgbWVkaWFUeXBlPy5lbmRzV2l0aCgnK2pzb24nKTtcbiAgICBpZiAoaXNKU09OKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCBqc29uKTtcbiAgICAgICAgcmV0dXJuIF9hZGRSZXF1ZXN0SUQoanNvbiwgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCB0ZXh0KTtcbiAgICAvLyBUT0RPIGhhbmRsZSBibG9iLCBhcnJheWJ1ZmZlciwgb3RoZXIgY29udGVudCB0eXBlcywgZXRjLlxuICAgIHJldHVybiB0ZXh0O1xufVxuZnVuY3Rpb24gX2FkZFJlcXVlc3RJRCh2YWx1ZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbHVlLCAnX3JlcXVlc3RfaWQnLCB7XG4gICAgICAgIHZhbHVlOiByZXNwb25zZS5oZWFkZXJzLmdldCgncmVxdWVzdC1pZCcpLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbn1cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2VQcm9taXNlLCBwYXJzZVJlc3BvbnNlID0gZGVmYXVsdFBhcnNlUmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgICAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAgICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgICAgdGhpcy5wYXJzZVJlc3BvbnNlID0gcGFyc2VSZXNwb25zZTtcbiAgICB9XG4gICAgX3RoZW5VbndyYXAodHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLnJlc3BvbnNlUHJvbWlzZSwgYXN5bmMgKHByb3BzKSA9PiBfYWRkUmVxdWVzdElEKHRyYW5zZm9ybShhd2FpdCB0aGlzLnBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcyksIHByb3BzLnJlc3BvbnNlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGluc3RlYWQgb2YgcGFyc2luZyB0aGUgcmVzcG9uc2VcbiAgICAgKiBkYXRhLlxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHkgYnV0IHN0aWxsIGdldCB0aGUgYFJlc3BvbnNlYFxuICAgICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgICAqXG4gICAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQg4oCmIGZyb20gJ0BhbnRocm9waWMtYWkvc2RrJ2A6XG4gICAgICogLSBgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy9ub2RlJ2AgKGlmIHlvdSdyZSBydW5uaW5nIG9uIE5vZGUpXG4gICAgICogLSBgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgICAqL1xuICAgIGFzUmVzcG9uc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKChwKSA9PiBwLnJlc3BvbnNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyc2VkIHJlc3BvbnNlIGRhdGEsIHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSBhbmQgdGhlIElEIG9mIHRoZSByZXF1ZXN0LFxuICAgICAqIHJldHVybmVkIHZpZSB0aGUgYHJlcXVlc3QtaWRgIGhlYWRlciB3aGljaCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyByZXF1ZXN0cyBhbmQgcmVzcG9ydGluZ1xuICAgICAqIGlzc3VlcyB0byBBbnRocm9waWMuXG4gICAgICpcbiAgICAgKiBJZiB5b3UganVzdCB3YW50IHRvIGdldCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2Ugd2l0aG91dCBwYXJzaW5nIGl0LFxuICAgICAqIHlvdSBjYW4gdXNlIHtAbGluayBhc1Jlc3BvbnNlKCl9LlxuICAgICAqXG4gICAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQg4oCmIGZyb20gJ0BhbnRocm9waWMtYWkvc2RrJ2A6XG4gICAgICogLSBgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy9ub2RlJ2AgKGlmIHlvdSdyZSBydW5uaW5nIG9uIE5vZGUpXG4gICAgICogLSBgaW1wb3J0ICdAYW50aHJvcGljLWFpL3Nkay9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgICAqL1xuICAgIGFzeW5jIHdpdGhSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgW2RhdGEsIHJlc3BvbnNlXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnBhcnNlKCksIHRoaXMuYXNSZXNwb25zZSgpXSk7XG4gICAgICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlLCByZXF1ZXN0X2lkOiByZXNwb25zZS5oZWFkZXJzLmdldCgncmVxdWVzdC1pZCcpIH07XG4gICAgfVxuICAgIHBhcnNlKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyc2VkUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJzZWRQcm9taXNlID0gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbih0aGlzLnBhcnNlUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFByb21pc2U7XG4gICAgfVxuICAgIHRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgICB9XG4gICAgY2F0Y2gob25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmNhdGNoKG9ucmVqZWN0ZWQpO1xuICAgIH1cbiAgICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmZpbmFsbHkob25maW5hbGx5KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIG1heFJldHJpZXMgPSAyLCB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LCBmZXRjaDogb3ZlcnJpZGRlbkZldGNoLCB9KSB7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCdtYXhSZXRyaWVzJywgbWF4UmV0cmllcyk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0JywgdGltZW91dCk7XG4gICAgICAgIHRoaXMuaHR0cEFnZW50ID0gaHR0cEFnZW50O1xuICAgICAgICB0aGlzLmZldGNoID0gb3ZlcnJpZGRlbkZldGNoID8/IGZldGNoO1xuICAgIH1cbiAgICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhpcyB0byBhZGQgeW91ciBvd24gZGVmYXVsdCBoZWFkZXJzLCBmb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICB7XG4gICAgICogICAgLi4uc3VwZXIuZGVmYXVsdEhlYWRlcnMoKSxcbiAgICAgKiAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyIDEyMycsXG4gICAgICogIH1cbiAgICAgKi9cbiAgICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnVXNlci1BZ2VudCc6IHRoaXMuZ2V0VXNlckFnZW50KCksXG4gICAgICAgICAgICAuLi5nZXRQbGF0Zm9ybUhlYWRlcnMoKSxcbiAgICAgICAgICAgIC4uLnRoaXMuYXV0aEhlYWRlcnMob3B0cyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGhlYWRlcnMgdmFsaWRhdGlvbjpcbiAgICAgKi9cbiAgICB2YWxpZGF0ZUhlYWRlcnMoaGVhZGVycywgY3VzdG9tSGVhZGVycykgeyB9XG4gICAgZGVmYXVsdElkZW1wb3RlbmN5S2V5KCkge1xuICAgICAgICByZXR1cm4gYHN0YWlubGVzcy1ub2RlLXJldHJ5LSR7dXVpZDQoKX1gO1xuICAgIH1cbiAgICBnZXQocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdnZXQnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgcG9zdChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3Bvc3QnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgcGF0Y2gocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwYXRjaCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBwdXQocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwdXQnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgZGVsZXRlKHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZGVsZXRlJywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIG1ldGhvZFJlcXVlc3QobWV0aG9kLCBwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoUHJvbWlzZS5yZXNvbHZlKG9wdHMpLnRoZW4oYXN5bmMgKG9wdHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBvcHRzICYmIGlzQmxvYkxpa2Uob3B0cz8uYm9keSkgPyBuZXcgRGF0YVZpZXcoYXdhaXQgb3B0cy5ib2R5LmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAgICAgOiBvcHRzPy5ib2R5IGluc3RhbmNlb2YgRGF0YVZpZXcgPyBvcHRzLmJvZHlcbiAgICAgICAgICAgICAgICAgICAgOiBvcHRzPy5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgRGF0YVZpZXcob3B0cy5ib2R5KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRzICYmIEFycmF5QnVmZmVyLmlzVmlldyhvcHRzPy5ib2R5KSA/IG5ldyBEYXRhVmlldyhvcHRzLmJvZHkuYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb3B0cz8uYm9keTtcbiAgICAgICAgICAgIHJldHVybiB7IG1ldGhvZCwgcGF0aCwgLi4ub3B0cywgYm9keSB9O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldEFQSUxpc3QocGF0aCwgUGFnZSwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUNvbnRlbnRMZW5ndGgoYm9keSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgoYm9keSwgJ3V0ZjgnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZXIuZW5jb2RlKGJvZHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmNvZGVkLmxlbmd0aC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBidWlsZFJlcXVlc3QoaW5wdXRPcHRpb25zLCB7IHJldHJ5Q291bnQgPSAwIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0geyAuLi5pbnB1dE9wdGlvbnMgfTtcbiAgICAgICAgY29uc3QgeyBtZXRob2QsIHBhdGgsIHF1ZXJ5LCBoZWFkZXJzOiBoZWFkZXJzID0ge30gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBBcnJheUJ1ZmZlci5pc1ZpZXcob3B0aW9ucy5ib2R5KSB8fCAob3B0aW9ucy5fX2JpbmFyeVJlcXVlc3QgJiYgdHlwZW9mIG9wdGlvbnMuYm9keSA9PT0gJ3N0cmluZycpID9cbiAgICAgICAgICAgIG9wdGlvbnMuYm9keVxuICAgICAgICAgICAgOiBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmJvZHkgPyBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHksIG51bGwsIDIpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KTtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVSTChwYXRoLCBxdWVyeSk7XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucylcbiAgICAgICAgICAgIHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0Jywgb3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgb3B0aW9ucy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0ID8/IHRoaXMudGltZW91dDtcbiAgICAgICAgY29uc3QgaHR0cEFnZW50ID0gb3B0aW9ucy5odHRwQWdlbnQgPz8gdGhpcy5odHRwQWdlbnQgPz8gZ2V0RGVmYXVsdEFnZW50KHVybCk7XG4gICAgICAgIGNvbnN0IG1pbkFnZW50VGltZW91dCA9IG9wdGlvbnMudGltZW91dCArIDEwMDA7XG4gICAgICAgIGlmICh0eXBlb2YgaHR0cEFnZW50Py5vcHRpb25zPy50aW1lb3V0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgbWluQWdlbnRUaW1lb3V0ID4gKGh0dHBBZ2VudC5vcHRpb25zLnRpbWVvdXQgPz8gMCkpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgICAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAgICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAgICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgICBodHRwQWdlbnQub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlkZW1wb3RlbmN5SGVhZGVyICYmIG1ldGhvZCAhPT0gJ2dldCcpIHtcbiAgICAgICAgICAgIGlmICghaW5wdXRPcHRpb25zLmlkZW1wb3RlbmN5S2V5KVxuICAgICAgICAgICAgICAgIGlucHV0T3B0aW9ucy5pZGVtcG90ZW5jeUtleSA9IHRoaXMuZGVmYXVsdElkZW1wb3RlbmN5S2V5KCk7XG4gICAgICAgICAgICBoZWFkZXJzW3RoaXMuaWRlbXBvdGVuY3lIZWFkZXJdID0gaW5wdXRPcHRpb25zLmlkZW1wb3RlbmN5S2V5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB0aGlzLmJ1aWxkSGVhZGVycyh7IG9wdGlvbnMsIGhlYWRlcnMsIGNvbnRlbnRMZW5ndGgsIHJldHJ5Q291bnQgfSk7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIC4uLihib2R5ICYmIHsgYm9keTogYm9keSB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcUhlYWRlcnMsXG4gICAgICAgICAgICAuLi4oaHR0cEFnZW50ICYmIHsgYWdlbnQ6IGh0dHBBZ2VudCB9KSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgbm9kZS1mZXRjaCB1c2VzIGEgY3VzdG9tIEFib3J0U2lnbmFsIHR5cGUgdGhhdCBpc1xuICAgICAgICAgICAgLy8gbm90IGNvbXBhdGlibGUgd2l0aCBzdGFuZGFyZCB3ZWIgdHlwZXNcbiAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwgPz8gbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgcmVxLCB1cmwsIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB9O1xuICAgIH1cbiAgICBidWlsZEhlYWRlcnMoeyBvcHRpb25zLCBoZWFkZXJzLCBjb250ZW50TGVuZ3RoLCByZXRyeUNvdW50LCB9KSB7XG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHJlcUhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBjb250ZW50TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycyhvcHRpb25zKTtcbiAgICAgICAgYXBwbHlIZWFkZXJzTXV0KHJlcUhlYWRlcnMsIGRlZmF1bHRIZWFkZXJzKTtcbiAgICAgICAgYXBwbHlIZWFkZXJzTXV0KHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgICAgICAvLyBsZXQgYnVpbHRpbiBmZXRjaCBzZXQgdGhlIENvbnRlbnQtVHlwZSBmb3IgbXVsdGlwYXJ0IGJvZGllc1xuICAgICAgICBpZiAoaXNNdWx0aXBhcnRCb2R5KG9wdGlvbnMuYm9keSkgJiYgc2hpbXNLaW5kICE9PSAnbm9kZScpIHtcbiAgICAgICAgICAgIGRlbGV0ZSByZXFIZWFkZXJzWydjb250ZW50LXR5cGUnXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBzZXQgdGhlc2VzIGhlYWRlcnMgaWYgdGhleSB3ZXJlIGFscmVhZHkgc2V0IG9yIHJlbW92ZWQgdGhyb3VnaCBkZWZhdWx0IGhlYWRlcnMgb3IgYnkgdGhlIGNhbGxlci5cbiAgICAgICAgLy8gV2UgY2hlY2sgYGRlZmF1bHRIZWFkZXJzYCBhbmQgYGhlYWRlcnNgLCB3aGljaCBjYW4gY29udGFpbiBudWxscywgaW5zdGVhZCBvZiBgcmVxSGVhZGVyc2AgdG8gYWNjb3VudFxuICAgICAgICAvLyBmb3IgdGhlIHJlbW92YWwgY2FzZS5cbiAgICAgICAgaWYgKGdldEhlYWRlcihkZWZhdWx0SGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZ2V0SGVhZGVyKGhlYWRlcnMsICd4LXN0YWlubGVzcy1yZXRyeS1jb3VudCcpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcUhlYWRlcnNbJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50J10gPSBTdHJpbmcocmV0cnlDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldEhlYWRlcihkZWZhdWx0SGVhZGVycywgJ3gtc3RhaW5sZXNzLXRpbWVvdXQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBnZXRIZWFkZXIoaGVhZGVycywgJ3gtc3RhaW5sZXNzLXRpbWVvdXQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBvcHRpb25zLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHJlcUhlYWRlcnNbJ3gtc3RhaW5sZXNzLXRpbWVvdXQnXSA9IFN0cmluZyhNYXRoLnRydW5jKG9wdGlvbnMudGltZW91dCAvIDEwMDApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbGlkYXRlSGVhZGVycyhyZXFIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHJlcUhlYWRlcnM7XG4gICAgfVxuICAgIF9jYWxjdWxhdGVOb25zdHJlYW1pbmdUaW1lb3V0KG1heFRva2Vucykge1xuICAgICAgICBjb25zdCBkZWZhdWx0VGltZW91dCA9IDEwICogNjA7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVGltZW91dCA9ICg2MCAqIDYwICogbWF4VG9rZW5zKSAvIDEyODAwMDtcbiAgICAgICAgaWYgKGV4cGVjdGVkVGltZW91dCA+IGRlZmF1bHRUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoJ1N0cmVhbWluZyBpcyBzdHJvbmdseSByZWNvbW1lbmRlZCBmb3Igb3BlcmF0aW9ucyB0aGF0IG1heSB0YWtlIGxvbmdlciB0aGFuIDEwIG1pbnV0ZXMuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FudGhyb3BpY3MvYW50aHJvcGljLXNkay1weXRob24jc3RyZWFtaW5nLXJlc3BvbnNlcyBmb3IgbW9yZSBkZXRhaWxzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRUaW1lb3V0ICogMTAwMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGNhbGxiYWNrIGZvciBtdXRhdGluZyB0aGUgZ2l2ZW4gYEZpbmFsUmVxdWVzdE9wdGlvbnNgIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRpb25zKSB7IH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgUmVxdWVzdEluaXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3Ugd2FudCB0byBhZGQgY2VydGFpbiBoZWFkZXJzIGJhc2VkIG9mZiBvZlxuICAgICAqIHRoZSByZXF1ZXN0IHByb3BlcnRpZXMsIGUuZy4gYG1ldGhvZGAgb3IgYHVybGAuXG4gICAgICovXG4gICAgYXN5bmMgcHJlcGFyZVJlcXVlc3QocmVxdWVzdCwgeyB1cmwsIG9wdGlvbnMgfSkgeyB9XG4gICAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuICghaGVhZGVycyA/IHt9XG4gICAgICAgICAgICA6IFN5bWJvbC5pdGVyYXRvciBpbiBoZWFkZXJzID9cbiAgICAgICAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgICAgICAgICAgIDogeyAuLi5oZWFkZXJzIH0pO1xuICAgIH1cbiAgICBtYWtlU3RhdHVzRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIHJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcykpO1xuICAgIH1cbiAgICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IG9wdGlvbnNJbnB1dDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHJpZXNSZW1haW5pbmcgPSBtYXhSZXRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgcmVxLCB1cmwsIHRpbWVvdXQgfSA9IHRoaXMuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHsgcmV0cnlDb3VudDogbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmcgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZVJlcXVlc3QocmVxLCB7IHVybCwgb3B0aW9ucyB9KTtcbiAgICAgICAgZGVidWcoJ3JlcXVlc3QnLCB1cmwsIG9wdGlvbnMsIHJlcS5oZWFkZXJzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoVGltZW91dCh1cmwsIHJlcSwgdGltZW91dCwgY29udHJvbGxlcikuY2F0Y2goY2FzdFRvRXJyb3IpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0cmllc1JlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiByZXNwb25zZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBjcmVhdGVSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nICYmIHRoaXMuc2hvdWxkUmV0cnkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlNZXNzYWdlID0gYHJldHJ5aW5nLCAke3JldHJpZXNSZW1haW5pbmd9IGF0dGVtcHRzIHJlbWFpbmluZ2A7XG4gICAgICAgICAgICAgICAgZGVidWcoYHJlc3BvbnNlIChlcnJvcjsgJHtyZXRyeU1lc3NhZ2V9KWAsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoZSkgPT4gY2FzdFRvRXJyb3IoZSkubWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zdCBlcnJKU09OID0gc2FmZUpTT04oZXJyVGV4dCk7XG4gICAgICAgICAgICBjb25zdCBlcnJNZXNzYWdlID0gZXJySlNPTiA/IHVuZGVmaW5lZCA6IGVyclRleHQ7XG4gICAgICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSByZXRyaWVzUmVtYWluaW5nID8gYChlcnJvcjsgbm8gbW9yZSByZXRyaWVzIGxlZnQpYCA6IGAoZXJyb3I7IG5vdCByZXRyeWFibGUpYDtcbiAgICAgICAgICAgIGRlYnVnKGByZXNwb25zZSAoZXJyb3I7ICR7cmV0cnlNZXNzYWdlfSlgLCByZXNwb25zZS5zdGF0dXMsIHVybCwgcmVzcG9uc2VIZWFkZXJzLCBlcnJNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IHRoaXMubWFrZVN0YXR1c0Vycm9yKHJlc3BvbnNlLnN0YXR1cywgZXJySlNPTiwgZXJyTWVzc2FnZSwgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICAgIH1cbiAgICByZXF1ZXN0QVBJTGlzdChQYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICAgIH1cbiAgICBidWlsZFVSTChwYXRoLCBxdWVyeSkge1xuICAgICAgICBjb25zdCB1cmwgPSBpc0Fic29sdXRlVVJMKHBhdGgpID9cbiAgICAgICAgICAgIG5ldyBVUkwocGF0aClcbiAgICAgICAgICAgIDogbmV3IFVSTCh0aGlzLmJhc2VVUkwgKyAodGhpcy5iYXNlVVJMLmVuZHNXaXRoKCcvJykgJiYgcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aCkpO1xuICAgICAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgICAgICBpZiAoIWlzRW1wdHlPYmooZGVmYXVsdFF1ZXJ5KSkge1xuICAgICAgICAgICAgcXVlcnkgPSB7IC4uLmRlZmF1bHRRdWVyeSwgLi4ucXVlcnkgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiBxdWVyeSAmJiAhQXJyYXkuaXNBcnJheShxdWVyeSkpIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcmJyk7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoV2l0aFRpbWVvdXQodXJsLCBpbml0LCBtcywgY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3B0aW9ucyB9ID0gaW5pdCB8fCB7fTtcbiAgICAgICAgaWYgKHNpZ25hbClcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuICAgICAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QpIHtcbiAgICAgICAgICAgIC8vIEN1c3RvbSBtZXRob2RzIGxpa2UgJ3BhdGNoJyBuZWVkIHRvIGJlIHVwcGVyY2FzZWRcbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3VuZGljaS9pc3N1ZXMvMjI5NFxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9IGZldGNoT3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0dXJuIG9uIFRDUCBrZWVwLWFsaXZlIGZvciB0aGUgc29ja2V0cywgaWYgdGhlIHJ1bnRpbWUgc3VwcG9ydHMgaXRcbiAgICAgICAgY29uc3Qgc29ja2V0S2VlcEFsaXZlSW50ZXJ2YWwgPSA2MCAqIDEwMDA7XG4gICAgICAgIGNvbnN0IGtlZXBBbGl2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChmZXRjaE9wdGlvbnMgJiYgZmV0Y2hPcHRpb25zPy5hZ2VudD8uc29ja2V0cykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc29ja2V0IG9mIE9iamVjdC52YWx1ZXMoZmV0Y2hPcHRpb25zPy5hZ2VudD8uc29ja2V0cykuZmxhdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb2NrZXQ/LnNldEtlZXBBbGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LnNldEtlZXBBbGl2ZSh0cnVlLCBzb2NrZXRLZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHNvY2tldEtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gdXNlIHVuZGVmaW5lZCB0aGlzIGJpbmRpbmc7IGZldGNoIGVycm9ycyBpZiBib3VuZCB0byBzb21ldGhpbmcgZWxzZSBpbiBicm93c2VyL2Nsb3VkZmxhcmVcbiAgICAgICAgdGhpcy5mZXRjaC5jYWxsKHVuZGVmaW5lZCwgdXJsLCBmZXRjaE9wdGlvbnMpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGtlZXBBbGl2ZVRpbWVvdXQpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNob3VsZFJldHJ5KHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBpcyBub3QgYSBzdGFuZGFyZCBoZWFkZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG4gICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgZXhwbGljaXRseSBzYXlzIHdoZXRoZXIgb3Igbm90IHRvIHJldHJ5LCBvYmV5LlxuICAgICAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICd0cnVlJylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICdmYWxzZScpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIFJldHJ5IG9uIHJlcXVlc3QgdGltZW91dHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBvbiBsb2NrIHRpbWVvdXRzLlxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gUmV0cnkgb24gcmF0ZSBsaW1pdHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBpbnRlcm5hbCBlcnJvcnMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNTAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgcmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJlc3BvbnNlSGVhZGVycykge1xuICAgICAgICBsZXQgdGltZW91dE1pbGxpcztcbiAgICAgICAgLy8gTm90ZSB0aGUgYHJldHJ5LWFmdGVyLW1zYCBoZWFkZXIgbWF5IG5vdCBiZSBzdGFuZGFyZCwgYnV0IGlzIGEgZ29vZCBpZGVhIGFuZCB3ZSdkIGxpa2UgcHJvYWN0aXZlIHN1cHBvcnQgZm9yIGl0LlxuICAgICAgICBjb25zdCByZXRyeUFmdGVyTWlsbGlzSGVhZGVyID0gcmVzcG9uc2VIZWFkZXJzPy5bJ3JldHJ5LWFmdGVyLW1zJ107XG4gICAgICAgIGlmIChyZXRyeUFmdGVyTWlsbGlzSGVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0TXMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dE1zKSkge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0TXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWJvdXQgdGhlIFJldHJ5LUFmdGVyIGhlYWRlcjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL1JldHJ5LUFmdGVyXG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXInXTtcbiAgICAgICAgaWYgKHJldHJ5QWZ0ZXJIZWFkZXIgJiYgIXRpbWVvdXRNaWxsaXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRTZWNvbmRzID0gcGFyc2VGbG9hdChyZXRyeUFmdGVySGVhZGVyKTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRTZWNvbmRzKSkge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0TWlsbGlzID0gRGF0ZS5wYXJzZShyZXRyeUFmdGVySGVhZGVyKSAtIERhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAgICAgLy8ganVzdCBkbyB3aGF0IGl0IHNheXMsIGJ1dCBvdGhlcndpc2UgY2FsY3VsYXRlIGEgZGVmYXVsdFxuICAgICAgICBpZiAoISh0aW1lb3V0TWlsbGlzICYmIDAgPD0gdGltZW91dE1pbGxpcyAmJiB0aW1lb3V0TWlsbGlzIDwgNjAgKiAxMDAwKSkge1xuICAgICAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgICAgICAgICB0aW1lb3V0TWlsbGlzID0gdGhpcy5jYWxjdWxhdGVEZWZhdWx0UmV0cnlUaW1lb3V0TWlsbGlzKHJldHJpZXNSZW1haW5pbmcsIG1heFJldHJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHNsZWVwKHRpbWVvdXRNaWxsaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nIC0gMSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcykge1xuICAgICAgICBjb25zdCBpbml0aWFsUmV0cnlEZWxheSA9IDAuNTtcbiAgICAgICAgY29uc3QgbWF4UmV0cnlEZWxheSA9IDguMDtcbiAgICAgICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuICAgICAgICAvLyBBcHBseSBleHBvbmVudGlhbCBiYWNrb2ZmLCBidXQgbm90IG1vcmUgdGhhbiB0aGUgbWF4LlxuICAgICAgICBjb25zdCBzbGVlcFNlY29uZHMgPSBNYXRoLm1pbihpbml0aWFsUmV0cnlEZWxheSAqIE1hdGgucG93KDIsIG51bVJldHJpZXMpLCBtYXhSZXRyeURlbGF5KTtcbiAgICAgICAgLy8gQXBwbHkgc29tZSBqaXR0ZXIsIHRha2UgdXAgdG8gYXQgbW9zdCAyNSBwZXJjZW50IG9mIHRoZSByZXRyeSB0aW1lLlxuICAgICAgICBjb25zdCBqaXR0ZXIgPSAxIC0gTWF0aC5yYW5kb20oKSAqIDAuMjU7XG4gICAgICAgIHJldHVybiBzbGVlcFNlY29uZHMgKiBqaXR0ZXIgKiAxMDAwO1xuICAgIH1cbiAgICBnZXRVc2VyQWdlbnQoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9L0pTICR7VkVSU0lPTn1gO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFBhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgX0Fic3RyYWN0UGFnZV9jbGllbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsIGNsaWVudCwgXCJmXCIpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRQYWdlSW5mbygpICE9IG51bGw7XG4gICAgfVxuICAgIGFzeW5jIGdldE5leHRQYWdlKCkge1xuICAgICAgICBjb25zdCBuZXh0SW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgICAgIGlmICghbmV4dEluZm8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcignTm8gbmV4dCBwYWdlIGV4cGVjdGVkOyBwbGVhc2UgY2hlY2sgYC5oYXNOZXh0UGFnZSgpYCBiZWZvcmUgY2FsbGluZyBgLmdldE5leHRQYWdlKClgLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRPcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMgfTtcbiAgICAgICAgaWYgKCdwYXJhbXMnIGluIG5leHRJbmZvICYmIHR5cGVvZiBuZXh0T3B0aW9ucy5xdWVyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG5leHRPcHRpb25zLnF1ZXJ5ID0geyAuLi5uZXh0T3B0aW9ucy5xdWVyeSwgLi4ubmV4dEluZm8ucGFyYW1zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ3VybCcgaW4gbmV4dEluZm8pIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IFsuLi5PYmplY3QuZW50cmllcyhuZXh0T3B0aW9ucy5xdWVyeSB8fCB7fSksIC4uLm5leHRJbmZvLnVybC5zZWFyY2hQYXJhbXMuZW50cmllcygpXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIG5leHRJbmZvLnVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBuZXh0T3B0aW9ucy5wYXRoID0gbmV4dEluZm8udXJsLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsIFwiZlwiKS5yZXF1ZXN0QVBJTGlzdCh0aGlzLmNvbnN0cnVjdG9yLCBuZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jICppdGVyUGFnZXMoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBsZXQgcGFnZSA9IHRoaXM7XG4gICAgICAgIHlpZWxkIHBhZ2U7XG4gICAgICAgIHdoaWxlIChwYWdlLmhhc05leHRQYWdlKCkpIHtcbiAgICAgICAgICAgIHBhZ2UgPSBhd2FpdCBwYWdlLmdldE5leHRQYWdlKCk7XG4gICAgICAgICAgICB5aWVsZCBwYWdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jICpbKF9BYnN0cmFjdFBhZ2VfY2xpZW50ID0gbmV3IFdlYWtNYXAoKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwYWdlIG9mIHRoaXMuaXRlclBhZ2VzKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBwYWdlLmdldFBhZ2luYXRlZEl0ZW1zKCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIHN1YmNsYXNzIG9mIFByb21pc2Ugd2lsbCByZXNvbHZlIHRvIGFuIGluc3RhbnRpYXRlZCBQYWdlIG9uY2UgdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICpcbiAqIEl0IGFsc28gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlIHRvIGFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gKlxuICogICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGNsaWVudC5pdGVtcy5saXN0KCkpIHtcbiAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAqICAgIH1cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VQcm9taXNlIGV4dGVuZHMgQVBJUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXF1ZXN0LCBQYWdlKSB7XG4gICAgICAgIHN1cGVyKHJlcXVlc3QsIGFzeW5jIChwcm9wcykgPT4gbmV3IFBhZ2UoY2xpZW50LCBwcm9wcy5yZXNwb25zZSwgYXdhaXQgZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcy5vcHRpb25zKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gICAgICpcbiAgICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgICAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAgICAgKiAgICB9XG4gICAgICovXG4gICAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcGFnZSkge1xuICAgICAgICAgICAgeWllbGQgaXRlbTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXNwb25zZUhlYWRlcnMgPSAoaGVhZGVycykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJveHkoT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBoZWFkZXJzLmVudHJpZXMoKSksIHtcbiAgICAgICAgZ2V0KHRhcmdldCwgbmFtZSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gbmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzID0ge1xuICAgIG1ldGhvZDogdHJ1ZSxcbiAgICBwYXRoOiB0cnVlLFxuICAgIHF1ZXJ5OiB0cnVlLFxuICAgIGJvZHk6IHRydWUsXG4gICAgaGVhZGVyczogdHJ1ZSxcbiAgICBtYXhSZXRyaWVzOiB0cnVlLFxuICAgIHN0cmVhbTogdHJ1ZSxcbiAgICB0aW1lb3V0OiB0cnVlLFxuICAgIGh0dHBBZ2VudDogdHJ1ZSxcbiAgICBzaWduYWw6IHRydWUsXG4gICAgaWRlbXBvdGVuY3lLZXk6IHRydWUsXG4gICAgX19iaW5hcnlSZXF1ZXN0OiB0cnVlLFxuICAgIF9fYmluYXJ5UmVzcG9uc2U6IHRydWUsXG4gICAgX19zdHJlYW1DbGFzczogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgaXNSZXF1ZXN0T3B0aW9ucyA9IChvYmopID0+IHtcbiAgICByZXR1cm4gKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmXG4gICAgICAgIG9iaiAhPT0gbnVsbCAmJlxuICAgICAgICAhaXNFbXB0eU9iaihvYmopICYmXG4gICAgICAgIE9iamVjdC5rZXlzKG9iaikuZXZlcnkoKGspID0+IGhhc093bihyZXF1ZXN0T3B0aW9uc0tleXMsIGspKSk7XG59O1xuY29uc3QgZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKERlbm8uYnVpbGQub3MpLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKERlbm8uYnVpbGQuYXJjaCksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdkZW5vJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiB0eXBlb2YgRGVuby52ZXJzaW9uID09PSAnc3RyaW5nJyA/IERlbm8udmVyc2lvbiA6IERlbm8udmVyc2lvbj8uZGVubyA/PyAndW5rbm93bicsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogYG90aGVyOiR7RWRnZVJ1bnRpbWV9YCxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2VkZ2UnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgTm9kZS5qc1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gcHJvY2VzcyA6IDApID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0ocHJvY2Vzcy5wbGF0Zm9ybSksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2gocHJvY2Vzcy5hcmNoKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYnJvd3NlckluZm8gPSBnZXRCcm93c2VySW5mbygpO1xuICAgIGlmIChicm93c2VySW5mbykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6ICd1bmtub3duJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogYGJyb3dzZXI6JHticm93c2VySW5mby5icm93c2VyfWAsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogYnJvd3NlckluZm8udmVyc2lvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gVE9ETyBhZGQgc3VwcG9ydCBmb3IgQ2xvdWRmbGFyZSB3b3JrZXJzLCBldGMuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6ICd1bmtub3duJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAndW5rbm93bicsXG4gICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gICAgfTtcbn07XG4vLyBOb3RlOiBtb2RpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9KUy1EZXZUb29scy9ob3N0LWVudmlyb25tZW50L2Jsb2IvYjFhYjc5ZWNkZTM3ZGI1ZDZlMTYzYzA1MGU1NGZlN2QyODdkN2M5Mi9zcmMvaXNvbW9ycGhpYy5icm93c2VyLnRzXG5mdW5jdGlvbiBnZXRCcm93c2VySW5mbygpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgICBjb25zdCBicm93c2VyUGF0dGVybnMgPSBbXG4gICAgICAgIHsga2V5OiAnZWRnZScsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnaWUnLCBwYXR0ZXJuOiAvTVNJRSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2llJywgcGF0dGVybjogL1RyaWRlbnQoPzouKnJ2XFw6KFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdjaHJvbWUnLCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnZmlyZWZveCcsIHBhdHRlcm46IC9GaXJlZm94KD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnc2FmYXJpJywgcGF0dGVybjogLyg/OlZlcnNpb25cXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPyg/OlxcVytNb2JpbGVcXFMqKT9cXFcrU2FmYXJpLyB9LFxuICAgIF07XG4gICAgLy8gRmluZCB0aGUgRklSU1QgbWF0Y2hpbmcgYnJvd3NlclxuICAgIGZvciAoY29uc3QgeyBrZXksIHBhdHRlcm4gfSBvZiBicm93c2VyUGF0dGVybnMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgbWFqb3IgPSBtYXRjaFsxXSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgbWlub3IgPSBtYXRjaFsyXSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgcGF0Y2ggPSBtYXRjaFszXSB8fCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgYnJvd3Nlcjoga2V5LCB2ZXJzaW9uOiBgJHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH1gIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBub3JtYWxpemVBcmNoID0gKGFyY2gpID0+IHtcbiAgICAvLyBOb2RlIGRvY3M6XG4gICAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzYXJjaFxuICAgIC8vIERlbm8gZG9jczpcbiAgICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgICBpZiAoYXJjaCA9PT0gJ3gzMicpXG4gICAgICAgIHJldHVybiAneDMyJztcbiAgICBpZiAoYXJjaCA9PT0gJ3g4Nl82NCcgfHwgYXJjaCA9PT0gJ3g2NCcpXG4gICAgICAgIHJldHVybiAneDY0JztcbiAgICBpZiAoYXJjaCA9PT0gJ2FybScpXG4gICAgICAgIHJldHVybiAnYXJtJztcbiAgICBpZiAoYXJjaCA9PT0gJ2FhcmNoNjQnIHx8IGFyY2ggPT09ICdhcm02NCcpXG4gICAgICAgIHJldHVybiAnYXJtNjQnO1xuICAgIGlmIChhcmNoKVxuICAgICAgICByZXR1cm4gYG90aGVyOiR7YXJjaH1gO1xuICAgIHJldHVybiAndW5rbm93bic7XG59O1xuY29uc3Qgbm9ybWFsaXplUGxhdGZvcm0gPSAocGxhdGZvcm0pID0+IHtcbiAgICAvLyBOb2RlIHBsYXRmb3JtczpcbiAgICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NwbGF0Zm9ybVxuICAgIC8vIERlbm8gcGxhdGZvcm1zOlxuICAgIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Rlbm9sYW5kL2Rlbm8vaXNzdWVzLzE0Nzk5XG4gICAgcGxhdGZvcm0gPSBwbGF0Zm9ybS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIE5PVEU6IHRoaXMgaU9TIGNoZWNrIGlzIHVudGVzdGVkIGFuZCBtYXkgbm90IHdvcmtcbiAgICAvLyBOb2RlIGRvZXMgbm90IHdvcmsgbmF0aXZlbHkgb24gSU9TLCB0aGVyZSBpcyBhIGZvcmsgYXRcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzLW1vYmlsZS9ub2RlanMtbW9iaWxlXG4gICAgLy8gaG93ZXZlciBpdCBpcyB1bmtub3duIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcgaG93IHRvIGRldGVjdCBpZiBpdCBpcyBydW5uaW5nXG4gICAgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdpb3MnKSlcbiAgICAgICAgcmV0dXJuICdpT1MnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKVxuICAgICAgICByZXR1cm4gJ0FuZHJvaWQnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ2RhcndpbicpXG4gICAgICAgIHJldHVybiAnTWFjT1MnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJylcbiAgICAgICAgcmV0dXJuICdXaW5kb3dzJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdmcmVlYnNkJylcbiAgICAgICAgcmV0dXJuICdGcmVlQlNEJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdvcGVuYnNkJylcbiAgICAgICAgcmV0dXJuICdPcGVuQlNEJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdsaW51eCcpXG4gICAgICAgIHJldHVybiAnTGludXgnO1xuICAgIGlmIChwbGF0Zm9ybSlcbiAgICAgICAgcmV0dXJuIGBPdGhlcjoke3BsYXRmb3JtfWA7XG4gICAgcmV0dXJuICdVbmtub3duJztcbn07XG5sZXQgX3BsYXRmb3JtSGVhZGVycztcbmNvbnN0IGdldFBsYXRmb3JtSGVhZGVycyA9ICgpID0+IHtcbiAgICByZXR1cm4gKF9wbGF0Zm9ybUhlYWRlcnMgPz8gKF9wbGF0Zm9ybUhlYWRlcnMgPSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSkpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlSlNPTiA9ICh0ZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmwtc2NoZW1lLXN0cmluZ1xuY29uc3Qgc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCA9IC9eW2Etel1bYS16MC05Ky4tXSo6L2k7XG5jb25zdCBpc0Fic29sdXRlVVJMID0gKHVybCkgPT4ge1xuICAgIHJldHVybiBzdGFydHNXaXRoU2NoZW1lUmVnZXhwLnRlc3QodXJsKTtcbn07XG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5jb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lLCBuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzSW50ZWdlcihuKSkge1xuICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gICAgfVxuICAgIGlmIChuIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJgKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG59O1xuZXhwb3J0IGNvbnN0IGNhc3RUb0Vycm9yID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyICE9PSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbn07XG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYEV4cGVjdGVkIGEgdmFsdWUgdG8gYmUgZ2l2ZW4gYnV0IHJlY2VpdmVkICR7dmFsdWV9IGluc3RlYWQuYCk7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8qKlxuICogUmVhZCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS5cbiAqXG4gKiBUcmltcyBiZWdpbm5pbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gKlxuICogV2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBkb2Vzbid0IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRFbnYgPSAoZW52KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnY/LltlbnZdPy50cmltKCkgPz8gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBEZW5vLmVudj8uZ2V0Py4oZW52KT8udHJpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdmFsdWUgPT09ICd0cnVlJztcbiAgICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlSW50ZWdlciA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2VyY2VJbnRlZ2VyKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2VyY2VGbG9hdCh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2VyY2VCb29sZWFuKHZhbHVlKTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICAgIGlmICghb2JqKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IF9rIGluIG9iailcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8gaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvbGF0ZXN0L3J1bGVzL25vLXByb3RvdHlwZS1idWlsdGluc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuLyoqXG4gKiBDb3BpZXMgaGVhZGVycyBmcm9tIFwibmV3SGVhZGVyc1wiIG9udG8gXCJ0YXJnZXRIZWFkZXJzXCIsXG4gKiB1c2luZyBsb3dlci1jYXNlIGZvciBhbGwgcHJvcGVydGllcyxcbiAqIGlnbm9yaW5nIGFueSBrZXlzIHdpdGggdW5kZWZpbmVkIHZhbHVlcyxcbiAqIGFuZCBkZWxldGluZyBhbnkga2V5cyB3aXRoIG51bGwgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBhcHBseUhlYWRlcnNNdXQodGFyZ2V0SGVhZGVycywgbmV3SGVhZGVycykge1xuICAgIGZvciAoY29uc3QgayBpbiBuZXdIZWFkZXJzKSB7XG4gICAgICAgIGlmICghaGFzT3duKG5ld0hlYWRlcnMsIGspKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGxvd2VyS2V5ID0gay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIWxvd2VyS2V5KVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHZhbCA9IG5ld0hlYWRlcnNba107XG4gICAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGFyZ2V0SGVhZGVyc1tsb3dlcktleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVidWcoYWN0aW9uLCAuLi5hcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzPy5lbnY/LlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBbnRocm9waWM6REVCVUc6JHthY3Rpb259YCwgLi4uYXJncyk7XG4gICAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgaGVhZGVycz8uZ2V0ID09PSAnZnVuY3Rpb24nO1xufTtcbmV4cG9ydCBjb25zdCBnZXRSZXF1aXJlZEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBmb3VuZEhlYWRlciA9IGdldEhlYWRlcihoZWFkZXJzLCBoZWFkZXIpO1xuICAgIGlmIChmb3VuZEhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgJHtoZWFkZXJ9IGhlYWRlcmApO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmRIZWFkZXI7XG59O1xuZXhwb3J0IGNvbnN0IGdldEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBsb3dlckNhc2VkSGVhZGVyID0gaGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGlzSGVhZGVyc1Byb3RvY29sKGhlYWRlcnMpKSB7XG4gICAgICAgIC8vIHRvIGRlYWwgd2l0aCB0aGUgY2FzZSB3aGVyZSB0aGUgaGVhZGVyIGxvb2tzIGxpa2UgU3RhaW5sZXNzLUV2ZW50LUlkXG4gICAgICAgIGNvbnN0IGludGVyY2Fwc0hlYWRlciA9IGhlYWRlclswXT8udG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICBoZWFkZXIuc3Vic3RyaW5nKDEpLnJlcGxhY2UoLyhbXlxcd10pKFxcdykvZywgKF9tLCBnMSwgZzIpID0+IGcxICsgZzIudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFtoZWFkZXIsIGxvd2VyQ2FzZWRIZWFkZXIsIGhlYWRlci50b1VwcGVyQ2FzZSgpLCBpbnRlcmNhcHNIZWFkZXJdKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNhc2VkSGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkICR7dmFsdWUubGVuZ3RofSBlbnRyaWVzIGZvciB0aGUgJHtoZWFkZXJ9IGhlYWRlciwgdXNpbmcgdGhlIGZpcnN0IGVudHJ5LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZyB0byBCYXNlNjQgZm9ybWF0LlxuICovXG5leHBvcnQgY29uc3QgdG9CYXNlNjQgPSAoc3RyKSA9PiB7XG4gICAgaWYgKCFzdHIpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBidG9hKHN0cik7XG4gICAgfVxuICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcignQ2Fubm90IGdlbmVyYXRlIGI2NCBzdHJpbmc7IEV4cGVjdGVkIGBCdWZmZXJgIG9yIGBidG9hYCB0byBiZSBkZWZpbmVkJyk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFic3RyYWN0UGFnZSB9IGZyb20gXCIuL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLmhhc19tb3JlID0gYm9keS5oYXNfbW9yZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5maXJzdF9pZCA9IGJvZHkuZmlyc3RfaWQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0X2lkID0gYm9keS5sYXN0X2lkIHx8IG51bGw7XG4gICAgfVxuICAgIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICAgIH1cbiAgICBoYXNOZXh0UGFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzX21vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmhhc05leHRQYWdlKCk7XG4gICAgfVxuICAgIC8vIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5leHRQYWdlSW5mbygpYCBpbnN0ZWFkXG4gICAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCdwYXJhbXMnIGluIGluZm8pXG4gICAgICAgICAgICByZXR1cm4gaW5mby5wYXJhbXM7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbmZvLnVybC5zZWFyY2hQYXJhbXMpO1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIG5leHRQYWdlSW5mbygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5xdWVyeT8uWydiZWZvcmVfaWQnXSkge1xuICAgICAgICAgICAgLy8gaW4gcmV2ZXJzZVxuICAgICAgICAgICAgY29uc3QgZmlyc3RJZCA9IHRoaXMuZmlyc3RfaWQ7XG4gICAgICAgICAgICBpZiAoIWZpcnN0SWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZV9pZDogZmlyc3RJZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLmxhc3RfaWQ7XG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgYWZ0ZXJfaWQ6IGN1cnNvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnaW5hdGlvbi5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmV4cG9ydCBjbGFzcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuX2NsaWVudCA9IGNsaWVudDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZS5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyBtb2RlbC5cbiAgICAgKlxuICAgICAqIFRoZSBNb2RlbHMgQVBJIHJlc3BvbnNlIGNhbiBiZSB1c2VkIHRvIGRldGVybWluZSBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljXG4gICAgICogbW9kZWwgb3IgcmVzb2x2ZSBhIG1vZGVsIGFsaWFzIHRvIGEgbW9kZWwgSUQuXG4gICAgICovXG4gICAgcmV0cmlldmUobW9kZWxJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3YxL21vZGVscy8ke21vZGVsSWR9P2JldGE9dHJ1ZWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdjEvbW9kZWxzP2JldGE9dHJ1ZScsIEJldGFNb2RlbEluZm9zUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmV0YU1vZGVsSW5mb3NQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG5Nb2RlbHMuQmV0YU1vZGVsSW5mb3NQYWdlID0gQmV0YU1vZGVsSW5mb3NQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZWxzLm1qcy5tYXAiLCJpbXBvcnQgeyBBbnRocm9waWNFcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlIH0gZnJvbSBcIi4uL3N0cmVhbS11dGlscy5tanNcIjtcbmltcG9ydCB7IExpbmVEZWNvZGVyIH0gZnJvbSBcIi4vbGluZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBKU09OTERlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yLCBjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG4gICAgYXN5bmMgKmRlY29kZXIoKSB7XG4gICAgICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcy5pdGVyYXRvcikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShjaHVuaykpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZXIoKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZXNwb25zZShyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSlNPTkxEZWNvZGVyKFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHJlc3BvbnNlLmJvZHkpLCBjb250cm9sbGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29ubC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgSlNPTkxEZWNvZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2RlY29kZXJzL2pzb25sLm1qc1wiO1xuaW1wb3J0IHsgQW50aHJvcGljRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vZXJyb3IubWpzXCI7XG5leHBvcnQgY2xhc3MgQmF0Y2hlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgYmF0Y2ggb2YgTWVzc2FnZSBjcmVhdGlvbiByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGNhbiBiZSB1c2VkIHRvIHByb2Nlc3MgbXVsdGlwbGUgTWVzc2FnZXMgQVBJIHJlcXVlc3RzIGF0XG4gICAgICogb25jZS4gT25jZSBhIE1lc3NhZ2UgQmF0Y2ggaXMgY3JlYXRlZCwgaXQgYmVnaW5zIHByb2Nlc3NpbmcgaW1tZWRpYXRlbHkuIEJhdGNoZXNcbiAgICAgKiBjYW4gdGFrZSB1cCB0byAyNCBob3VycyB0byBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIExlYXJuIG1vcmUgYWJvdXQgdGhlIE1lc3NhZ2UgQmF0Y2hlcyBBUEkgaW4gb3VyXG4gICAgICogW3VzZXIgZ3VpZGVdKC9lbi9kb2NzL2J1aWxkLXdpdGgtY2xhdWRlL2JhdGNoLXByb2Nlc3NpbmcpXG4gICAgICovXG4gICAgY3JlYXRlKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGJldGFzLCAuLi5ib2R5IH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3YxL21lc3NhZ2VzL2JhdGNoZXM/YmV0YT10cnVlJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2FudGhyb3BpYy1iZXRhJzogWy4uLihiZXRhcyA/PyBbXSksICdtZXNzYWdlLWJhdGNoZXMtMjAyNC0wOS0yNCddLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXRyaWV2ZShtZXNzYWdlQmF0Y2hJZCwgcGFyYW1zID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocGFyYW1zKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cmlldmUobWVzc2FnZUJhdGNoSWQsIHt9LCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYmV0YXMgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC92MS9tZXNzYWdlcy9iYXRjaGVzLyR7bWVzc2FnZUJhdGNoSWR9P2JldGE9dHJ1ZWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2FudGhyb3BpYy1iZXRhJzogWy4uLihiZXRhcyA/PyBbXSksICdtZXNzYWdlLWJhdGNoZXMtMjAyNC0wOS0yNCddLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHBhcmFtcyA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHBhcmFtcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBiZXRhcywgLi4ucXVlcnkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdjEvbWVzc2FnZXMvYmF0Y2hlcz9iZXRhPXRydWUnLCBCZXRhTWVzc2FnZUJhdGNoZXNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2FudGhyb3BpYy1iZXRhJzogWy4uLihiZXRhcyA/PyBbXSksICdtZXNzYWdlLWJhdGNoZXMtMjAyNC0wOS0yNCddLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGUobWVzc2FnZUJhdGNoSWQsIHBhcmFtcyA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHBhcmFtcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZShtZXNzYWdlQmF0Y2hJZCwge30sIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBiZXRhcyB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3YxL21lc3NhZ2VzL2JhdGNoZXMvJHttZXNzYWdlQmF0Y2hJZH0/YmV0YT10cnVlYCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnYW50aHJvcGljLWJldGEnOiBbLi4uKGJldGFzID8/IFtdKSwgJ21lc3NhZ2UtYmF0Y2hlcy0yMDI0LTA5LTI0J10udG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbChtZXNzYWdlQmF0Y2hJZCwgcGFyYW1zID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocGFyYW1zKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsKG1lc3NhZ2VCYXRjaElkLCB7fSwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGJldGFzIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3YxL21lc3NhZ2VzL2JhdGNoZXMvJHttZXNzYWdlQmF0Y2hJZH0vY2FuY2VsP2JldGE9dHJ1ZWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2FudGhyb3BpYy1iZXRhJzogWy4uLihiZXRhcyA/PyBbXSksICdtZXNzYWdlLWJhdGNoZXMtMjAyNC0wOS0yNCddLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyByZXN1bHRzKG1lc3NhZ2VCYXRjaElkLCBwYXJhbXMgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhwYXJhbXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzKG1lc3NhZ2VCYXRjaElkLCB7fSwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXRjaCA9IGF3YWl0IHRoaXMucmV0cmlldmUobWVzc2FnZUJhdGNoSWQpO1xuICAgICAgICBpZiAoIWJhdGNoLnJlc3VsdHNfdXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYE5vIGJhdGNoIFxcYHJlc3VsdHNfdXJsXFxgOyBIYXMgaXQgZmluaXNoZWQgcHJvY2Vzc2luZz8gJHtiYXRjaC5wcm9jZXNzaW5nX3N0YXR1c30gLSAke2JhdGNoLmlkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYmV0YXMgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudFxuICAgICAgICAgICAgLmdldChiYXRjaC5yZXN1bHRzX3VybCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnYW50aHJvcGljLWJldGEnOiBbLi4uKGJldGFzID8/IFtdKSwgJ21lc3NhZ2UtYmF0Y2hlcy0yMDI0LTA5LTI0J10udG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9iaW5hcnknLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5fdGhlblVud3JhcCgoXywgcHJvcHMpID0+IEpTT05MRGVjb2Rlci5mcm9tUmVzcG9uc2UocHJvcHMucmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmV0YU1lc3NhZ2VCYXRjaGVzUGFnZSBleHRlbmRzIFBhZ2Uge1xufVxuQmF0Y2hlcy5CZXRhTWVzc2FnZUJhdGNoZXNQYWdlID0gQmV0YU1lc3NhZ2VCYXRjaGVzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhdGNoZXMubWpzLm1hcCIsImNvbnN0IHRva2VuaXplID0gKGlucHV0KSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSAwO1xuICAgIGxldCB0b2tlbnMgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICBsZXQgY2hhciA9IGlucHV0W2N1cnJlbnRdO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ3snKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2JyYWNlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ3snLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ30nKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2JyYWNlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ30nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ1snKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhcmVuJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ1snLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ10nKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhcmVuJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ10nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJzonKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NlcGFyYXRvcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICc6JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICcsJykge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdkZWxpbWl0ZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnLCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyID09PSAnXCInKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIGxldCBkYW5nbGluZ1F1b3RlID0gZmFsc2U7XG4gICAgICAgICAgICBjaGFyID0gaW5wdXRbKytjdXJyZW50XTtcbiAgICAgICAgICAgIHdoaWxlIChjaGFyICE9PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkYW5nbGluZ1F1b3RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYW5nbGluZ1F1b3RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IGNoYXIgKyBpbnB1dFtjdXJyZW50XTtcbiAgICAgICAgICAgICAgICAgICAgY2hhciA9IGlucHV0WysrY3VycmVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICBjaGFyID0gaW5wdXRbKytjdXJyZW50XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFyID0gaW5wdXRbKytjdXJyZW50XTtcbiAgICAgICAgICAgIGlmICghZGFuZ2xpbmdRdW90ZSkge1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IFdISVRFU1BBQ0UgPSAvXFxzLztcbiAgICAgICAgaWYgKGNoYXIgJiYgV0hJVEVTUEFDRS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgTlVNQkVSUyA9IC9bMC05XS87XG4gICAgICAgIGlmICgoY2hhciAmJiBOVU1CRVJTLnRlc3QoY2hhcikpIHx8IGNoYXIgPT09ICctJyB8fCBjaGFyID09PSAnLicpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICctJykge1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgY2hhciA9IGlucHV0WysrY3VycmVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoKGNoYXIgJiYgTlVNQkVSUy50ZXN0KGNoYXIpKSB8fCBjaGFyID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgIGNoYXIgPSBpbnB1dFsrK2N1cnJlbnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgTEVUVEVSUyA9IC9bYS16XS9pO1xuICAgICAgICBpZiAoY2hhciAmJiBMRVRURVJTLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgd2hpbGUgKGNoYXIgJiYgTEVUVEVSUy50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICBjaGFyID0gaW5wdXRbKytjdXJyZW50XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScgfHwgdmFsdWUgPT0gJ2ZhbHNlJyB8fCB2YWx1ZSA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdW5rbm93biB0b2tlbiwgZS5nLiBgbnVsYCB3aGljaCBpc24ndCBxdWl0ZSBgbnVsbGBcbiAgICAgICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Kys7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnM7XG59LCBzdHJpcCA9ICh0b2tlbnMpID0+IHtcbiAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICBsZXQgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGxhc3RUb2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NlcGFyYXRvcic6XG4gICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMuc2xpY2UoMCwgdG9rZW5zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmlwKHRva2Vucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIGxldCBsYXN0Q2hhcmFjdGVyT2ZMYXN0VG9rZW4gPSBsYXN0VG9rZW4udmFsdWVbbGFzdFRva2VuLnZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3RDaGFyYWN0ZXJPZkxhc3RUb2tlbiA9PT0gJy4nIHx8IGxhc3RDaGFyYWN0ZXJPZkxhc3RUb2tlbiA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zID0gdG9rZW5zLnNsaWNlKDAsIHRva2Vucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaXAodG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGxldCB0b2tlbkJlZm9yZVRoZUxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICBpZiAodG9rZW5CZWZvcmVUaGVMYXN0VG9rZW4/LnR5cGUgPT09ICdkZWxpbWl0ZXInKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zID0gdG9rZW5zLnNsaWNlKDAsIHRva2Vucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaXAodG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuQmVmb3JlVGhlTGFzdFRva2VuPy50eXBlID09PSAnYnJhY2UnICYmIHRva2VuQmVmb3JlVGhlTGFzdFRva2VuLnZhbHVlID09PSAneycpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMuc2xpY2UoMCwgdG9rZW5zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpcCh0b2tlbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbGltaXRlcic6XG4gICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMuc2xpY2UoMCwgdG9rZW5zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmlwKHRva2Vucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHRva2Vucztcbn0sIHVuc3RyaXAgPSAodG9rZW5zKSA9PiB7XG4gICAgbGV0IHRhaWwgPSBbXTtcbiAgICB0b2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2JyYWNlJykge1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09PSAneycpIHtcbiAgICAgICAgICAgICAgICB0YWlsLnB1c2goJ30nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhaWwuc3BsaWNlKHRhaWwubGFzdEluZGV4T2YoJ30nKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdwYXJlbicpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgdGFpbC5wdXNoKCddJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWlsLnNwbGljZSh0YWlsLmxhc3RJbmRleE9mKCddJyksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRhaWwubGVuZ3RoID4gMCkge1xuICAgICAgICB0YWlsLnJldmVyc2UoKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtID09PSAnfScpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdicmFjZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnfScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpdGVtID09PSAnXScpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYXJlbicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnXScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5zO1xufSwgZ2VuZXJhdGUgPSAodG9rZW5zKSA9PiB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuICAgIHRva2Vucy5tYXAoKHRva2VuKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJ1wiJyArIHRva2VuLnZhbHVlICsgJ1wiJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbn0sIHBhcnRpYWxQYXJzZSA9IChpbnB1dCkgPT4gSlNPTi5wYXJzZShnZW5lcmF0ZSh1bnN0cmlwKHN0cmlwKHRva2VuaXplKGlucHV0KSkpKSk7XG5leHBvcnQgeyBwYXJ0aWFsUGFyc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlci5tanMubWFwIiwidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jdXJyZW50TWVzc2FnZVNuYXBzaG90LCBfQmV0YU1lc3NhZ2VTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgX0JldGFNZXNzYWdlU3RyZWFtX2VuZFByb21pc2UsIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgX0JldGFNZXNzYWdlU3RyZWFtX3JlamVjdEVuZFByb21pc2UsIF9CZXRhTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRlZCwgX0JldGFNZXNzYWdlU3RyZWFtX2Vycm9yZWQsIF9CZXRhTWVzc2FnZVN0cmVhbV9hYm9ydGVkLCBfQmV0YU1lc3NhZ2VTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc3BvbnNlLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVxdWVzdF9pZCwgX0JldGFNZXNzYWdlU3RyZWFtX2dldEZpbmFsTWVzc2FnZSwgX0JldGFNZXNzYWdlU3RyZWFtX2dldEZpbmFsVGV4dCwgX0JldGFNZXNzYWdlU3RyZWFtX2hhbmRsZUVycm9yLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYmVnaW5SZXF1ZXN0LCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWRkU3RyZWFtRXZlbnQsIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0LCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2U7XG5pbXBvcnQgeyBBbnRocm9waWNFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tICdAYW50aHJvcGljLWFpL3Nkay9lcnJvcic7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICdAYW50aHJvcGljLWFpL3Nkay9zdHJlYW1pbmcnO1xuaW1wb3J0IHsgcGFydGlhbFBhcnNlIH0gZnJvbSBcIi4uL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzXCI7XG5jb25zdCBKU09OX0JVRl9QUk9QRVJUWSA9ICdfX2pzb25fYnVmJztcbmV4cG9ydCBjbGFzcyBCZXRhTWVzc2FnZVN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMucmVjZWl2ZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgICBfQmV0YU1lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBfQmV0YU1lc3NhZ2VTdHJlYW1fY29ubmVjdGVkUHJvbWlzZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0JldGFNZXNzYWdlU3RyZWFtX2VuZFByb21pc2Uuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0JldGFNZXNzYWdlU3RyZWFtX3JlamVjdEVuZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0JldGFNZXNzYWdlU3RyZWFtX2VuZGVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9lcnJvcmVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9hYm9ydGVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXNwb25zZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0JldGFNZXNzYWdlU3RyZWFtX3JlcXVlc3RfaWQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9CZXRhTWVzc2FnZVN0cmVhbV9oYW5kbGVFcnJvci5zZXQodGhpcywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9lcnJvcmVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQVBJVXNlckFib3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9hYm9ydGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQW50aHJvcGljRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFudGhyb3BpY0Vycm9yID0gbmV3IEFudGhyb3BpY0Vycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBhbnRocm9waWNFcnJvci5jYXVzZSA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIGFudGhyb3BpY0Vycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBBbnRocm9waWNFcnJvcihTdHJpbmcoZXJyb3IpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgcmVzb2x2ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2VuZFByb21pc2UsIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLCByZXNvbHZlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCByZWplY3QsIFwiZlwiKTtcbiAgICAgICAgfSksIFwiZlwiKTtcbiAgICAgICAgLy8gRG9uJ3QgbGV0IHRoZXNlIHByb21pc2VzIGNhdXNlIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3JzLlxuICAgICAgICAvLyB3ZSB3aWxsIG1hbnVhbGx5IGNhdXNlIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgbGF0ZXJcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGxpc3RlbmVyIG9yIGNhbGxlZFxuICAgICAgICAvLyBhbnkgcHJvbWlzZS1yZXR1cm5pbmcgbWV0aG9kLlxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fZW5kUHJvbWlzZSwgXCJmXCIpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgfVxuICAgIGdldCByZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc3BvbnNlLCBcImZcIik7XG4gICAgfVxuICAgIGdldCByZXF1ZXN0X2lkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVxdWVzdF9pZCwgXCJmXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWVzc2FnZVN0cmVhbWAgZGF0YSwgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGFuZCB0aGUgSUQgb2YgdGhlIHJlcXVlc3QsXG4gICAgICogcmV0dXJuZWQgdmllIHRoZSBgcmVxdWVzdC1pZGAgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXNwb3J0aW5nXG4gICAgICogaXNzdWVzIHRvIEFudGhyb3BpYy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGBBUElQcm9taXNlLndpdGhSZXNwb25zZSgpYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJhaXNlIGFuIGVycm9yIGlmIHlvdSBjcmVhdGVkIHRoZSBzdHJlYW0gdXNpbmcgYE1lc3NhZ2VTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtYFxuICAgICAqIGFzIG5vIGBSZXNwb25zZWAgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIHdpdGhSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBcImZcIik7XG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJlc29sdmUgYSBgUmVzcG9uc2VgIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0X2lkOiByZXNwb25zZS5oZWFkZXJzLmdldCgncmVxdWVzdC1pZCcpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlbmRlZCBmb3IgdXNlIG9uIHRoZSBmcm9udGVuZCwgY29uc3VtaW5nIGEgc3RyZWFtIHByb2R1Y2VkIHdpdGhcbiAgICAgKiBgLnRvUmVhZGFibGVTdHJlYW0oKWAgb24gdGhlIGJhY2tlbmQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgbWVzc2FnZXMgc2VudCB0byB0aGUgbW9kZWwgZG8gbm90IGFwcGVhciBpbiBgLm9uKCdtZXNzYWdlJylgXG4gICAgICogaW4gdGhpcyBjb250ZXh0LlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBCZXRhTWVzc2FnZVN0cmVhbSgpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZU1lc3NhZ2UobWVzc2FnZXMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQmV0YU1lc3NhZ2VTdHJlYW0oKTtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgICAgICAgcnVubmVyLl9hZGRNZXNzYWdlUGFyYW0obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9jcmVhdGVNZXNzYWdlKG1lc3NhZ2VzLCB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBfcnVuKGV4ZWN1dG9yKSB7XG4gICAgICAgIGV4ZWN1dG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0RmluYWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICB9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9oYW5kbGVFcnJvciwgXCJmXCIpKTtcbiAgICB9XG4gICAgX2FkZE1lc3NhZ2VQYXJhbShtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICB9XG4gICAgX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlZE1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIGlmIChlbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZU1lc3NhZ2UobWVzc2FnZXMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCB7IHJlc3BvbnNlLCBkYXRhOiBzdHJlYW0gfSA9IGF3YWl0IG1lc3NhZ2VzXG4gICAgICAgICAgICAuY3JlYXRlKHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSlcbiAgICAgICAgICAgIC53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKHJlc3BvbnNlKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9CZXRhTWVzc2FnZVN0cmVhbV9hZGRTdHJlYW1FdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0JldGFNZXNzYWdlU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIF9jb25uZWN0ZWQocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc3BvbnNlLCByZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXF1ZXN0X2lkLCByZXNwb25zZT8uaGVhZGVycy5nZXQoJ3JlcXVlc3QtaWQnKSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgcmVzcG9uc2UpO1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0Jyk7XG4gICAgfVxuICAgIGdldCBlbmRlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2VuZGVkLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBlcnJvcmVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fZXJyb3JlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgYWJvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2Fib3J0ZWQsIFwiZlwiKTtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkgZm9yIHRoZSBldmVudC5cbiAgICAgKiBObyBjaGVja3MgYXJlIG1hZGUgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkLiBNdWx0aXBsZSBjYWxscyBwYXNzaW5nXG4gICAgICogdGhlIHNhbWUgY29tYmluYXRpb24gb2YgZXZlbnQgYW5kIGxpc3RlbmVyIHdpbGwgcmVzdWx0IGluIHRoZSBsaXN0ZW5lciBiZWluZyBhZGRlZCwgYW5kXG4gICAgICogY2FsbGVkLCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKiBAcmV0dXJucyB0aGlzIE1lc3NhZ2VTdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBldmVudC5cbiAgICAgKiBvZmYoKSB3aWxsIHJlbW92ZSwgYXQgbW9zdCwgb25lIGluc3RhbmNlIG9mIGEgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkuIElmIGFueSBzaW5nbGVcbiAgICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICAgKiBvZmYoKSBtdXN0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byByZW1vdmUgZWFjaCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB0aGlzIE1lc3NhZ2VTdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuZmluZEluZGV4KChsKSA9PiBsLmxpc3RlbmVyID09PSBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgb25lLXRpbWUgbGlzdGVuZXIgZnVuY3Rpb24gZm9yIHRoZSBldmVudC4gVGhlIG5leHQgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgICAqIHRoaXMgbGlzdGVuZXIgaXMgcmVtb3ZlZCBhbmQgdGhlbiBpbnZva2VkLlxuICAgICAqIEByZXR1cm5zIHRoaXMgTWVzc2FnZVN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSB8fCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gW10pO1xuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7IGxpc3RlbmVyLCBvbmNlOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIGAub25jZSgpYCwgYnV0IHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZVxuICAgICAqIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQsIGluc3RlYWQgb2YgY2FsbGluZyBhIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWUgZ2l2ZW4gZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgICAqIG9yIHJlamVjdHMgaWYgYW4gZXJyb3IgaXMgZW1pdHRlZC4gIChJZiB5b3UgcmVxdWVzdCB0aGUgJ2Vycm9yJyBldmVudCxcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGVycm9yKS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBzdHJlYW0uZW1pdHRlZCgnbWVzc2FnZScpIC8vIHJlamVjdHMgaWYgdGhlIHN0cmVhbSBlcnJvcnNcbiAgICAgKi9cbiAgICBlbWl0dGVkKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICBpZiAoZXZlbnQgIT09ICdlcnJvcicpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gICAgICAgICAgICB0aGlzLm9uY2UoZXZlbnQsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZG9uZSgpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRQcm9taXNlLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjdXJyZW50TWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdGhlIGZpbmFsIGFzc2lzdGFudCBNZXNzYWdlIHJlc3BvbnNlLFxuICAgICAqIG9yIHJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIE1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxNZXNzYWdlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9CZXRhTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHRoZSBmaW5hbCBhc3Npc3RhbnQgTWVzc2FnZSdzIHRleHQgcmVzcG9uc2UsIGNvbmNhdGVuYXRlZFxuICAgICAqIHRvZ2V0aGVyIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHRleHQgYmxvY2tzLlxuICAgICAqIFJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIE1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxUZXh0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9CZXRhTWVzc2FnZVN0cmVhbV9nZXRGaW5hbFRleHQpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIF9lbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBlbWl0IGFueSBNZXNzYWdlU3RyZWFtRXZlbnRzIGFmdGVyIGVuZFxuICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fZW5kZWQsIFwiZlwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fZW5kZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSA9IGxpc3RlbmVycy5maWx0ZXIoKGwpID0+ICFsLm9uY2UpO1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKHsgbGlzdGVuZXIgfSkgPT4gbGlzdGVuZXIoLi4uYXJncykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCBcImZcIikgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBfZW1pdCgnZXJyb3InLCBlcnJvcikgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gI2hhbmRsZUVycm9yKCkuXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIFwiZlwiKSAmJiAhbGlzdGVuZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGhhbmRsZXJzLlxuICAgICAgICAgICAgICAgIC8vIElmIHlvdSBhcmUgc2VlaW5nIHN0YWNrIHRyYWNlcyBoZXJlLCBtYWtlIHN1cmUgdG8gaGFuZGxlIGVycm9ycyB2aWEgZWl0aGVyOlxuICAgICAgICAgICAgICAgIC8vIC0gcnVubmVyLm9uKCdlcnJvcicsICgpID0+IC4uLilcbiAgICAgICAgICAgICAgICAvLyAtIGF3YWl0IHJ1bm5lci5kb25lKClcbiAgICAgICAgICAgICAgICAvLyAtIGF3YWl0IHJ1bm5lci5maW5hbC4uLigpXG4gICAgICAgICAgICAgICAgLy8gLSBldGMuXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VtaXRGaW5hbCgpIHtcbiAgICAgICAgY29uc3QgZmluYWxNZXNzYWdlID0gdGhpcy5yZWNlaXZlZE1lc3NhZ2VzLmF0KC0xKTtcbiAgICAgICAgaWYgKGZpbmFsTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxNZXNzYWdlJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0JldGFNZXNzYWdlU3RyZWFtX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2Zyb21SZWFkYWJsZVN0cmVhbShyZWFkYWJsZVN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQobnVsbCk7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWRkU3RyZWFtRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBbKF9CZXRhTWVzc2FnZVN0cmVhbV9jdXJyZW50TWVzc2FnZVNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX2Nvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX3JlamVjdEVuZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX2VuZGVkID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX2Vycm9yZWQgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWJvcnRlZCA9IG5ldyBXZWFrTWFwKCksIF9CZXRhTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX3Jlc3BvbnNlID0gbmV3IFdlYWtNYXAoKSwgX0JldGFNZXNzYWdlU3RyZWFtX3JlcXVlc3RfaWQgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1faGFuZGxlRXJyb3IgPSBuZXcgV2Vha01hcCgpLCBfQmV0YU1lc3NhZ2VTdHJlYW1faW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX0JldGFNZXNzYWdlU3RyZWFtX2dldEZpbmFsTWVzc2FnZSA9IGZ1bmN0aW9uIF9CZXRhTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY2VpdmVkTWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIE1lc3NhZ2Ugd2l0aCByb2xlPWFzc2lzdGFudCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVkTWVzc2FnZXMuYXQoLTEpO1xuICAgIH0sIF9CZXRhTWVzc2FnZVN0cmVhbV9nZXRGaW5hbFRleHQgPSBmdW5jdGlvbiBfQmV0YU1lc3NhZ2VTdHJlYW1fZ2V0RmluYWxUZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5yZWNlaXZlZE1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBNZXNzYWdlIHdpdGggcm9sZT1hc3Npc3RhbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0QmxvY2tzID0gdGhpcy5yZWNlaXZlZE1lc3NhZ2VzXG4gICAgICAgICAgICAuYXQoLTEpXG4gICAgICAgICAgICAuY29udGVudC5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSAndGV4dCcpXG4gICAgICAgICAgICAubWFwKChibG9jaykgPT4gYmxvY2sudGV4dCk7XG4gICAgICAgIGlmICh0ZXh0QmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBjb250ZW50IGJsb2NrIHdpdGggdHlwZT10ZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHRCbG9ja3Muam9pbignICcpO1xuICAgIH0sIF9CZXRhTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QgPSBmdW5jdGlvbiBfQmV0YU1lc3NhZ2VTdHJlYW1fYmVnaW5SZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgfSwgX0JldGFNZXNzYWdlU3RyZWFtX2FkZFN0cmVhbUV2ZW50ID0gZnVuY3Rpb24gX0JldGFNZXNzYWdlU3RyZWFtX2FkZFN0cmVhbUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBtZXNzYWdlU25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB0aGlzLl9lbWl0KCdzdHJlYW1FdmVudCcsIGV2ZW50LCBtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1lc3NhZ2VTbmFwc2hvdC5jb250ZW50LmF0KC0xKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRlbHRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dF9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RleHQnLCBldmVudC5kZWx0YS50ZXh0LCBjb250ZW50LnRleHQgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2l0YXRpb25zX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY2l0YXRpb24nLCBldmVudC5kZWx0YS5jaXRhdGlvbiwgY29udGVudC5jaXRhdGlvbnMgPz8gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5wdXRfanNvbl9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0b29sX3VzZScgJiYgY29udGVudC5pbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2lucHV0SnNvbicsIGV2ZW50LmRlbHRhLnBhcnRpYWxfanNvbiwgY29udGVudC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0aGlua2luZ19kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0aGlua2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0aGlua2luZycsIGV2ZW50LmRlbHRhLnRoaW5raW5nLCBjb250ZW50LnRoaW5raW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25hdHVyZV9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0aGlua2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdzaWduYXR1cmUnLCBjb250ZW50LnNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOZXZlcihldmVudC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9zdG9wJzoge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2VQYXJhbShtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZVNuYXBzaG90LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfc3RvcCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50QmxvY2snLCBtZXNzYWdlU25hcHNob3QuY29udGVudC5hdCgtMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9zdGFydCc6IHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CZXRhTWVzc2FnZVN0cmVhbV9jdXJyZW50TWVzc2FnZVNuYXBzaG90LCBtZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfc3RhcnQnOlxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9kZWx0YSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCBfQmV0YU1lc3NhZ2VTdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9CZXRhTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0JldGFNZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGByZXF1ZXN0IGVuZGVkIHdpdGhvdXQgc2VuZGluZyBhbnkgY2h1bmtzYCk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBfQmV0YU1lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UgPSBmdW5jdGlvbiBfQmV0YU1lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmV0YU1lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ21lc3NhZ2Vfc3RhcnQnKSB7XG4gICAgICAgICAgICBpZiAoc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYFVuZXhwZWN0ZWQgZXZlbnQgb3JkZXIsIGdvdCAke2V2ZW50LnR5cGV9IGJlZm9yZSByZWNlaXZpbmcgXCJtZXNzYWdlX3N0b3BcImApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50Lm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBVbmV4cGVjdGVkIGV2ZW50IG9yZGVyLCBnb3QgJHtldmVudC50eXBlfSBiZWZvcmUgXCJtZXNzYWdlX3N0YXJ0XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2Vfc3RvcCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9kZWx0YSc6XG4gICAgICAgICAgICAgICAgc25hcHNob3Quc3RvcF9yZWFzb24gPSBldmVudC5kZWx0YS5zdG9wX3JlYXNvbjtcbiAgICAgICAgICAgICAgICBzbmFwc2hvdC5zdG9wX3NlcXVlbmNlID0gZXZlbnQuZGVsdGEuc3RvcF9zZXF1ZW5jZTtcbiAgICAgICAgICAgICAgICBzbmFwc2hvdC51c2FnZS5vdXRwdXRfdG9rZW5zID0gZXZlbnQudXNhZ2Uub3V0cHV0X3Rva2VucztcbiAgICAgICAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgICAgICBjYXNlICdjb250ZW50X2Jsb2NrX3N0YXJ0JzpcbiAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50LnB1c2goZXZlbnQuY29udGVudF9ibG9jayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICAgICAgY2FzZSAnY29udGVudF9ibG9ja19kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdENvbnRlbnQgPSBzbmFwc2hvdC5jb250ZW50LmF0KGV2ZW50LmluZGV4KTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRlbHRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dF9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90Q29udGVudC50ZXh0ICs9IGV2ZW50LmRlbHRhLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdjaXRhdGlvbnNfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdENvbnRlbnQuY2l0YXRpb25zID8/IChzbmFwc2hvdENvbnRlbnQuY2l0YXRpb25zID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90Q29udGVudC5jaXRhdGlvbnMucHVzaChldmVudC5kZWx0YS5jaXRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnB1dF9qc29uX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90Q29udGVudD8udHlwZSA9PT0gJ3Rvb2xfdXNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8ga2VlcCB0cmFjayBvZiB0aGUgcmF3IEpTT04gc3RyaW5nIGFzIHdlbGwgc28gdGhhdCB3ZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1wYXJzZSBpdCBmb3IgZWFjaCBkZWx0YSwgZm9yIG5vdyB3ZSBqdXN0IHN0b3JlIGl0IGFzIGFuIHVudHlwZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aGUgc25hcHNob3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbkJ1ZiA9IHNuYXBzaG90Q29udGVudFtKU09OX0JVRl9QUk9QRVJUWV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkJ1ZiArPSBldmVudC5kZWx0YS5wYXJ0aWFsX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNuYXBzaG90Q29udGVudCwgSlNPTl9CVUZfUFJPUEVSVFksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGpzb25CdWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbkJ1Zikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdENvbnRlbnQuaW5wdXQgPSBwYXJ0aWFsUGFyc2UoanNvbkJ1Zik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGhpbmtpbmdfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09PSAndGhpbmtpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3RDb250ZW50LnRoaW5raW5nICs9IGV2ZW50LmRlbHRhLnRoaW5raW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2lnbmF0dXJlX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90Q29udGVudD8udHlwZSA9PT0gJ3RoaW5raW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90Q29udGVudC5zaWduYXR1cmUgPSBldmVudC5kZWx0YS5zaWduYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOZXZlcihldmVudC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfc3RvcCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICB9XG4gICAgfSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICAgICAgY29uc3QgcHVzaFF1ZXVlID0gW107XG4gICAgICAgIGNvbnN0IHJlYWRRdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uKCdzdHJlYW1FdmVudCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gcmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHVzaFF1ZXVlLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdhYm9ydCcsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcHVzaFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiByZWFkUXVldWUucHVzaCh7IHJlc29sdmUsIHJlamVjdCB9KSkudGhlbigoY2h1bmspID0+IChjaHVuayA/IHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBwdXNoUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmV0dXJuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS50b1JlYWRhYmxlU3RyZWFtKCk7XG4gICAgfVxufVxuLy8gdXNlZCB0byBlbnN1cmUgZXhoYXVzdGl2ZSBjYXNlIG1hdGNoaW5nIHdpdGhvdXQgdGhyb3dpbmcgYSBydW50aW1lIGVycm9yXG5mdW5jdGlvbiBjaGVja05ldmVyKHgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmV0YU1lc3NhZ2VTdHJlYW0ubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEJhdGNoZXNBUEkgZnJvbSBcIi4vYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IEJhdGNoZXMsIEJldGFNZXNzYWdlQmF0Y2hlc1BhZ2UsIH0gZnJvbSBcIi4vYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IEJldGFNZXNzYWdlU3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9CZXRhTWVzc2FnZVN0cmVhbS5tanNcIjtcbmNvbnN0IERFUFJFQ0FURURfTU9ERUxTID0ge1xuICAgICdjbGF1ZGUtMS4zJzogJ05vdmVtYmVyIDZ0aCwgMjAyNCcsXG4gICAgJ2NsYXVkZS0xLjMtMTAwayc6ICdOb3ZlbWJlciA2dGgsIDIwMjQnLFxuICAgICdjbGF1ZGUtaW5zdGFudC0xLjEnOiAnTm92ZW1iZXIgNnRoLCAyMDI0JyxcbiAgICAnY2xhdWRlLWluc3RhbnQtMS4xLTEwMGsnOiAnTm92ZW1iZXIgNnRoLCAyMDI0JyxcbiAgICAnY2xhdWRlLWluc3RhbnQtMS4yJzogJ05vdmVtYmVyIDZ0aCwgMjAyNCcsXG4gICAgJ2NsYXVkZS0zLXNvbm5ldC0yMDI0MDIyOSc6ICdKdWx5IDIxc3QsIDIwMjUnLFxuICAgICdjbGF1ZGUtMi4xJzogJ0p1bHkgMjFzdCwgMjAyNScsXG4gICAgJ2NsYXVkZS0yLjAnOiAnSnVseSAyMXN0LCAyMDI1Jyxcbn07XG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG5ldyBCYXRjaGVzQVBJLkJhdGNoZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGJldGFzLCAuLi5ib2R5IH0gPSBwYXJhbXM7XG4gICAgICAgIGlmIChib2R5Lm1vZGVsIGluIERFUFJFQ0FURURfTU9ERUxTKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBtb2RlbCAnJHtib2R5Lm1vZGVsfScgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCByZWFjaCBlbmQtb2YtbGlmZSBvbiAke0RFUFJFQ0FURURfTU9ERUxTW2JvZHkubW9kZWxdfVxcblBsZWFzZSBtaWdyYXRlIHRvIGEgbmV3ZXIgbW9kZWwuIFZpc2l0IGh0dHBzOi8vZG9jcy5hbnRocm9waWMuY29tL2VuL2RvY3MvcmVzb3VyY2VzL21vZGVsLWRlcHJlY2F0aW9ucyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy92MS9tZXNzYWdlcz9iZXRhPXRydWUnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgdGltZW91dDogdGhpcy5fY2xpZW50Ll9vcHRpb25zLnRpbWVvdXQgPz9cbiAgICAgICAgICAgICAgICAoYm9keS5zdHJlYW0gPyA2MDAwMDAgOiB0aGlzLl9jbGllbnQuX2NhbGN1bGF0ZU5vbnN0cmVhbWluZ1RpbWVvdXQoYm9keS5tYXhfdG9rZW5zKSksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC4uLihiZXRhcz8udG9TdHJpbmcoKSAhPSBudWxsID8geyAnYW50aHJvcGljLWJldGEnOiBiZXRhcz8udG9TdHJpbmcoKSB9IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmVhbTogcGFyYW1zLnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIE1lc3NhZ2Ugc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEJldGFNZXNzYWdlU3RyZWFtLmNyZWF0ZU1lc3NhZ2UodGhpcywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvdW50IHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIGEgTWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFRoZSBUb2tlbiBDb3VudCBBUEkgY2FuIGJlIHVzZWQgdG8gY291bnQgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gYSBNZXNzYWdlLFxuICAgICAqIGluY2x1ZGluZyB0b29scywgaW1hZ2VzLCBhbmQgZG9jdW1lbnRzLCB3aXRob3V0IGNyZWF0aW5nIGl0LlxuICAgICAqXG4gICAgICogTGVhcm4gbW9yZSBhYm91dCB0b2tlbiBjb3VudGluZyBpbiBvdXJcbiAgICAgKiBbdXNlciBndWlkZV0oL2VuL2RvY3MvYnVpbGQtd2l0aC1jbGF1ZGUvdG9rZW4tY291bnRpbmcpXG4gICAgICovXG4gICAgY291bnRUb2tlbnMocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgYmV0YXMsIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdjEvbWVzc2FnZXMvY291bnRfdG9rZW5zP2JldGE9dHJ1ZScsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdhbnRocm9waWMtYmV0YSc6IFsuLi4oYmV0YXMgPz8gW10pLCAndG9rZW4tY291bnRpbmctMjAyNC0xMS0wMSddLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbk1lc3NhZ2VzLkJhdGNoZXMgPSBCYXRjaGVzO1xuTWVzc2FnZXMuQmV0YU1lc3NhZ2VCYXRjaGVzUGFnZSA9IEJldGFNZXNzYWdlQmF0Y2hlc1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgTW9kZWxzQVBJIGZyb20gXCIuL21vZGVscy5tanNcIjtcbmltcG9ydCB7IEJldGFNb2RlbEluZm9zUGFnZSwgTW9kZWxzIH0gZnJvbSBcIi4vbW9kZWxzLm1qc1wiO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSBcIi4vbWVzc2FnZXMvbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBNZXNzYWdlcywgfSBmcm9tIFwiLi9tZXNzYWdlcy9tZXNzYWdlcy5tanNcIjtcbmV4cG9ydCBjbGFzcyBCZXRhIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1vZGVscyA9IG5ldyBNb2RlbHNBUEkuTW9kZWxzKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5CZXRhLk1vZGVscyA9IE1vZGVscztcbkJldGEuQmV0YU1vZGVsSW5mb3NQYWdlID0gQmV0YU1vZGVsSW5mb3NQYWdlO1xuQmV0YS5NZXNzYWdlcyA9IE1lc3NhZ2VzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmV0YS5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3YxL2NvbXBsZXRlJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMuX2NsaWVudC5fb3B0aW9ucy50aW1lb3V0ID8/IDYwMDAwMCxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wbGV0aW9ucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgSlNPTkxEZWNvZGVyIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2RlY29kZXJzL2pzb25sLm1qc1wiO1xuaW1wb3J0IHsgQW50aHJvcGljRXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3IubWpzXCI7XG5leHBvcnQgY2xhc3MgQmF0Y2hlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgYmF0Y2ggb2YgTWVzc2FnZSBjcmVhdGlvbiByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGNhbiBiZSB1c2VkIHRvIHByb2Nlc3MgbXVsdGlwbGUgTWVzc2FnZXMgQVBJIHJlcXVlc3RzIGF0XG4gICAgICogb25jZS4gT25jZSBhIE1lc3NhZ2UgQmF0Y2ggaXMgY3JlYXRlZCwgaXQgYmVnaW5zIHByb2Nlc3NpbmcgaW1tZWRpYXRlbHkuIEJhdGNoZXNcbiAgICAgKiBjYW4gdGFrZSB1cCB0byAyNCBob3VycyB0byBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIExlYXJuIG1vcmUgYWJvdXQgdGhlIE1lc3NhZ2UgQmF0Y2hlcyBBUEkgaW4gb3VyXG4gICAgICogW3VzZXIgZ3VpZGVdKC9lbi9kb2NzL2J1aWxkLXdpdGgtY2xhdWRlL2JhdGNoLXByb2Nlc3NpbmcpXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdjEvbWVzc2FnZXMvYmF0Y2hlcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBlbmRwb2ludCBpcyBpZGVtcG90ZW50IGFuZCBjYW4gYmUgdXNlZCB0byBwb2xsIGZvciBNZXNzYWdlIEJhdGNoXG4gICAgICogY29tcGxldGlvbi4gVG8gYWNjZXNzIHRoZSByZXN1bHRzIG9mIGEgTWVzc2FnZSBCYXRjaCwgbWFrZSBhIHJlcXVlc3QgdG8gdGhlXG4gICAgICogYHJlc3VsdHNfdXJsYCBmaWVsZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBMZWFybiBtb3JlIGFib3V0IHRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGluIG91clxuICAgICAqIFt1c2VyIGd1aWRlXSgvZW4vZG9jcy9idWlsZC13aXRoLWNsYXVkZS9iYXRjaC1wcm9jZXNzaW5nKVxuICAgICAqL1xuICAgIHJldHJpZXZlKG1lc3NhZ2VCYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdjEvbWVzc2FnZXMvYmF0Y2hlcy8ke21lc3NhZ2VCYXRjaElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdjEvbWVzc2FnZXMvYmF0Y2hlcycsIE1lc3NhZ2VCYXRjaGVzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgTWVzc2FnZSBCYXRjaC5cbiAgICAgKlxuICAgICAqIE1lc3NhZ2UgQmF0Y2hlcyBjYW4gb25seSBiZSBkZWxldGVkIG9uY2UgdGhleSd2ZSBmaW5pc2hlZCBwcm9jZXNzaW5nLiBJZiB5b3UnZFxuICAgICAqIGxpa2UgdG8gZGVsZXRlIGFuIGluLXByb2dyZXNzIGJhdGNoLCB5b3UgbXVzdCBmaXJzdCBjYW5jZWwgaXQuXG4gICAgICpcbiAgICAgKiBMZWFybiBtb3JlIGFib3V0IHRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGluIG91clxuICAgICAqIFt1c2VyIGd1aWRlXSgvZW4vZG9jcy9idWlsZC13aXRoLWNsYXVkZS9iYXRjaC1wcm9jZXNzaW5nKVxuICAgICAqL1xuICAgIGRlbGV0ZShtZXNzYWdlQmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3YxL21lc3NhZ2VzL2JhdGNoZXMvJHttZXNzYWdlQmF0Y2hJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmF0Y2hlcyBtYXkgYmUgY2FuY2VsZWQgYW55IHRpbWUgYmVmb3JlIHByb2Nlc3NpbmcgZW5kcy4gT25jZSBjYW5jZWxsYXRpb24gaXNcbiAgICAgKiBpbml0aWF0ZWQsIHRoZSBiYXRjaCBlbnRlcnMgYSBgY2FuY2VsaW5nYCBzdGF0ZSwgYXQgd2hpY2ggdGltZSB0aGUgc3lzdGVtIG1heVxuICAgICAqIGNvbXBsZXRlIGFueSBpbi1wcm9ncmVzcywgbm9uLWludGVycnVwdGlibGUgcmVxdWVzdHMgYmVmb3JlIGZpbmFsaXppbmdcbiAgICAgKiBjYW5jZWxsYXRpb24uXG4gICAgICpcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGNhbmNlbGVkIHJlcXVlc3RzIGlzIHNwZWNpZmllZCBpbiBgcmVxdWVzdF9jb3VudHNgLiBUbyBkZXRlcm1pbmVcbiAgICAgKiB3aGljaCByZXF1ZXN0cyB3ZXJlIGNhbmNlbGVkLCBjaGVjayB0aGUgaW5kaXZpZHVhbCByZXN1bHRzIHdpdGhpbiB0aGUgYmF0Y2guXG4gICAgICogTm90ZSB0aGF0IGNhbmNlbGxhdGlvbiBtYXkgbm90IHJlc3VsdCBpbiBhbnkgY2FuY2VsZWQgcmVxdWVzdHMgaWYgdGhleSB3ZXJlXG4gICAgICogbm9uLWludGVycnVwdGlibGUuXG4gICAgICpcbiAgICAgKiBMZWFybiBtb3JlIGFib3V0IHRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGluIG91clxuICAgICAqIFt1c2VyIGd1aWRlXSgvZW4vZG9jcy9idWlsZC13aXRoLWNsYXVkZS9iYXRjaC1wcm9jZXNzaW5nKVxuICAgICAqL1xuICAgIGNhbmNlbChtZXNzYWdlQmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92MS9tZXNzYWdlcy9iYXRjaGVzLyR7bWVzc2FnZUJhdGNoSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdHJlYW1zIHRoZSByZXN1bHRzIG9mIGEgTWVzc2FnZSBCYXRjaCBhcyBhIGAuanNvbmxgIGZpbGUuXG4gICAgICpcbiAgICAgKiBFYWNoIGxpbmUgaW4gdGhlIGZpbGUgaXMgYSBKU09OIG9iamVjdCBjb250YWluaW5nIHRoZSByZXN1bHQgb2YgYSBzaW5nbGUgcmVxdWVzdFxuICAgICAqIGluIHRoZSBNZXNzYWdlIEJhdGNoLiBSZXN1bHRzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBpbiB0aGUgc2FtZSBvcmRlciBhc1xuICAgICAqIHJlcXVlc3RzLiBVc2UgdGhlIGBjdXN0b21faWRgIGZpZWxkIHRvIG1hdGNoIHJlc3VsdHMgdG8gcmVxdWVzdHMuXG4gICAgICpcbiAgICAgKiBMZWFybiBtb3JlIGFib3V0IHRoZSBNZXNzYWdlIEJhdGNoZXMgQVBJIGluIG91clxuICAgICAqIFt1c2VyIGd1aWRlXSgvZW4vZG9jcy9idWlsZC13aXRoLWNsYXVkZS9iYXRjaC1wcm9jZXNzaW5nKVxuICAgICAqL1xuICAgIGFzeW5jIHJlc3VsdHMobWVzc2FnZUJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBhd2FpdCB0aGlzLnJldHJpZXZlKG1lc3NhZ2VCYXRjaElkKTtcbiAgICAgICAgaWYgKCFiYXRjaC5yZXN1bHRzX3VybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBObyBiYXRjaCBcXGByZXN1bHRzX3VybFxcYDsgSGFzIGl0IGZpbmlzaGVkIHByb2Nlc3Npbmc/ICR7YmF0Y2gucHJvY2Vzc2luZ19zdGF0dXN9IC0gJHtiYXRjaC5pZH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50XG4gICAgICAgICAgICAuZ2V0KGJhdGNoLnJlc3VsdHNfdXJsLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2JpbmFyeScsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLl90aGVuVW53cmFwKChfLCBwcm9wcykgPT4gSlNPTkxEZWNvZGVyLmZyb21SZXNwb25zZShwcm9wcy5yZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcikpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQmF0Y2hlc1BhZ2UgZXh0ZW5kcyBQYWdlIHtcbn1cbkJhdGNoZXMuTWVzc2FnZUJhdGNoZXNQYWdlID0gTWVzc2FnZUJhdGNoZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmF0Y2hlcy5tanMubWFwIiwidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9NZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgX01lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgX01lc3NhZ2VTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX01lc3NhZ2VTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UsIF9NZXNzYWdlU3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIF9NZXNzYWdlU3RyZWFtX2VuZFByb21pc2UsIF9NZXNzYWdlU3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLCBfTWVzc2FnZVN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCBfTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIF9NZXNzYWdlU3RyZWFtX2VuZGVkLCBfTWVzc2FnZVN0cmVhbV9lcnJvcmVkLCBfTWVzc2FnZVN0cmVhbV9hYm9ydGVkLCBfTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCBfTWVzc2FnZVN0cmVhbV9yZXNwb25zZSwgX01lc3NhZ2VTdHJlYW1fcmVxdWVzdF9pZCwgX01lc3NhZ2VTdHJlYW1fZ2V0RmluYWxNZXNzYWdlLCBfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbFRleHQsIF9NZXNzYWdlU3RyZWFtX2hhbmRsZUVycm9yLCBfTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QsIF9NZXNzYWdlU3RyZWFtX2FkZFN0cmVhbUV2ZW50LCBfTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0LCBfTWVzc2FnZVN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZTtcbmltcG9ydCB7IEFudGhyb3BpY0Vycm9yLCBBUElVc2VyQWJvcnRFcnJvciB9IGZyb20gJ0BhbnRocm9waWMtYWkvc2RrL2Vycm9yJztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJ0BhbnRocm9waWMtYWkvc2RrL3N0cmVhbWluZyc7XG5pbXBvcnQgeyBwYXJ0aWFsUGFyc2UgfSBmcm9tIFwiLi4vX3ZlbmRvci9wYXJ0aWFsLWpzb24tcGFyc2VyL3BhcnNlci5tanNcIjtcbmNvbnN0IEpTT05fQlVGX1BST1BFUlRZID0gJ19fanNvbl9idWYnO1xuZXhwb3J0IGNsYXNzIE1lc3NhZ2VTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMucmVjZWl2ZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9jdXJyZW50TWVzc2FnZVNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIF9NZXNzYWdlU3RyZWFtX2Nvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9NZXNzYWdlU3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9lbmRQcm9taXNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX01lc3NhZ2VTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX01lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9NZXNzYWdlU3RyZWFtX2VuZGVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9NZXNzYWdlU3RyZWFtX2Vycm9yZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX01lc3NhZ2VTdHJlYW1fYWJvcnRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9NZXNzYWdlU3RyZWFtX3Jlc3BvbnNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9yZXF1ZXN0X2lkLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfTWVzc2FnZVN0cmVhbV9oYW5kbGVFcnJvci5zZXQodGhpcywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2Vycm9yZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBUElVc2VyQWJvcnRFcnJvcikge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fYWJvcnRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFudGhyb3BpY0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbnRocm9waWNFcnJvciA9IG5ldyBBbnRocm9waWNFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgYW50aHJvcGljRXJyb3IuY2F1c2UgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBhbnRocm9waWNFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgQW50aHJvcGljRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCByZXNvbHZlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIHJlamVjdCwgXCJmXCIpO1xuICAgICAgICB9KSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2VuZFByb21pc2UsIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2UsIHJlc29sdmUsIFwiZlwiKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIC8vIERvbid0IGxldCB0aGVzZSBwcm9taXNlcyBjYXVzZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9ycy5cbiAgICAgICAgLy8gd2Ugd2lsbCBtYW51YWxseSBjYXVzZSBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9yIGxhdGVyXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBsaXN0ZW5lciBvciBjYWxsZWRcbiAgICAgICAgLy8gYW55IHByb21pc2UtcmV0dXJuaW5nIG1ldGhvZC5cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9lbmRQcm9taXNlLCBcImZcIikuY2F0Y2goKCkgPT4geyB9KTtcbiAgICB9XG4gICAgZ2V0IHJlc3BvbnNlKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZXNwb25zZSwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgcmVxdWVzdF9pZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fcmVxdWVzdF9pZCwgXCJmXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWVzc2FnZVN0cmVhbWAgZGF0YSwgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGFuZCB0aGUgSUQgb2YgdGhlIHJlcXVlc3QsXG4gICAgICogcmV0dXJuZWQgdmllIHRoZSBgcmVxdWVzdC1pZGAgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXNwb3J0aW5nXG4gICAgICogaXNzdWVzIHRvIEFudGhyb3BpYy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGBBUElQcm9taXNlLndpdGhSZXNwb25zZSgpYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJhaXNlIGFuIGVycm9yIGlmIHlvdSBjcmVhdGVkIHRoZSBzdHJlYW0gdXNpbmcgYE1lc3NhZ2VTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtYFxuICAgICAqIGFzIG5vIGBSZXNwb25zZWAgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIHdpdGhSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2Nvbm5lY3RlZFByb21pc2UsIFwiZlwiKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcmVzb2x2ZSBhIGBSZXNwb25zZWAgb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHRoaXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3RfaWQ6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdyZXF1ZXN0LWlkJyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVuZGVkIGZvciB1c2Ugb24gdGhlIGZyb250ZW5kLCBjb25zdW1pbmcgYSBzdHJlYW0gcHJvZHVjZWQgd2l0aFxuICAgICAqIGAudG9SZWFkYWJsZVN0cmVhbSgpYCBvbiB0aGUgYmFja2VuZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBtZXNzYWdlcyBzZW50IHRvIHRoZSBtb2RlbCBkbyBub3QgYXBwZWFyIGluIGAub24oJ21lc3NhZ2UnKWBcbiAgICAgKiBpbiB0aGlzIGNvbnRleHQuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IE1lc3NhZ2VTdHJlYW0oKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9mcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVNZXNzYWdlKG1lc3NhZ2VzLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IE1lc3NhZ2VTdHJlYW0oKTtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgICAgICAgcnVubmVyLl9hZGRNZXNzYWdlUGFyYW0obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9jcmVhdGVNZXNzYWdlKG1lc3NhZ2VzLCB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBfcnVuKGV4ZWN1dG9yKSB7XG4gICAgICAgIGV4ZWN1dG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0RmluYWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICB9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2hhbmRsZUVycm9yLCBcImZcIikpO1xuICAgIH1cbiAgICBfYWRkTWVzc2FnZVBhcmFtKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBfYWRkTWVzc2FnZShtZXNzYWdlLCBlbWl0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgaWYgKGVtaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlTWVzc2FnZShtZXNzYWdlcywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX01lc3NhZ2VTdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCB7IHJlc3BvbnNlLCBkYXRhOiBzdHJlYW0gfSA9IGF3YWl0IG1lc3NhZ2VzXG4gICAgICAgICAgICAuY3JlYXRlKHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSlcbiAgICAgICAgICAgIC53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKHJlc3BvbnNlKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX01lc3NhZ2VTdHJlYW1fYWRkU3RyZWFtRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX01lc3NhZ2VTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgX2Nvbm5lY3RlZChyZXNwb25zZSkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZXNwb25zZSwgcmVzcG9uc2UsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZXF1ZXN0X2lkLCByZXNwb25zZT8uaGVhZGVycy5nZXQoJ3JlcXVlc3QtaWQnKSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCByZXNwb25zZSk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3QnKTtcbiAgICB9XG4gICAgZ2V0IGVuZGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9lbmRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgZXJyb3JlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fZXJyb3JlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgYWJvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fYWJvcnRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgICAqIE5vIGNoZWNrcyBhcmUgbWFkZSB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIE11bHRpcGxlIGNhbGxzIHBhc3NpbmdcbiAgICAgKiB0aGUgc2FtZSBjb21iaW5hdGlvbiBvZiBldmVudCBhbmQgbGlzdGVuZXIgd2lsbCByZXN1bHQgaW4gdGhlIGxpc3RlbmVyIGJlaW5nIGFkZGVkLCBhbmRcbiAgICAgKiBjYWxsZWQsIG11bHRpcGxlIHRpbWVzLlxuICAgICAqIEByZXR1cm5zIHRoaXMgTWVzc2FnZVN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgICAqL1xuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSB8fCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBldmVudC5cbiAgICAgKiBvZmYoKSB3aWxsIHJlbW92ZSwgYXQgbW9zdCwgb25lIGluc3RhbmNlIG9mIGEgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkuIElmIGFueSBzaW5nbGVcbiAgICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICAgKiBvZmYoKSBtdXN0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byByZW1vdmUgZWFjaCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB0aGlzIE1lc3NhZ2VTdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdO1xuICAgICAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5maW5kSW5kZXgoKGwpID0+IGwubGlzdGVuZXIgPT09IGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBvbmUtdGltZSBsaXN0ZW5lciBmdW5jdGlvbiBmb3IgdGhlIGV2ZW50LiBUaGUgbmV4dCB0aW1lIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQsXG4gICAgICogdGhpcyBsaXN0ZW5lciBpcyByZW1vdmVkIGFuZCB0aGVuIGludm9rZWQuXG4gICAgICogQHJldHVybnMgdGhpcyBNZXNzYWdlU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAgICovXG4gICAgb25jZShldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gfHwgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gW10pO1xuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7IGxpc3RlbmVyLCBvbmNlOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIGAub25jZSgpYCwgYnV0IHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZVxuICAgICAqIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQsIGluc3RlYWQgb2YgY2FsbGluZyBhIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWUgZ2l2ZW4gZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgICAqIG9yIHJlamVjdHMgaWYgYW4gZXJyb3IgaXMgZW1pdHRlZC4gIChJZiB5b3UgcmVxdWVzdCB0aGUgJ2Vycm9yJyBldmVudCxcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGVycm9yKS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBzdHJlYW0uZW1pdHRlZCgnbWVzc2FnZScpIC8vIHJlamVjdHMgaWYgdGhlIHN0cmVhbSBlcnJvcnNcbiAgICAgKi9cbiAgICBlbWl0dGVkKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChldmVudCAhPT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIHRoaXMub25jZShldmVudCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBkb25lKCkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9lbmRQcm9taXNlLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjdXJyZW50TWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB0aGUgZmluYWwgYXNzaXN0YW50IE1lc3NhZ2UgcmVzcG9uc2UsXG4gICAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbE1lc3NhZ2UoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHRoZSBmaW5hbCBhc3Npc3RhbnQgTWVzc2FnZSdzIHRleHQgcmVzcG9uc2UsIGNvbmNhdGVuYXRlZFxuICAgICAqIHRvZ2V0aGVyIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHRleHQgYmxvY2tzLlxuICAgICAqIFJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIE1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxUZXh0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX01lc3NhZ2VTdHJlYW1fZ2V0RmluYWxUZXh0KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBfZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZW1pdCBhbnkgTWVzc2FnZVN0cmVhbUV2ZW50cyBhZnRlciBlbmRcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fZW5kZWQsIFwiZlwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9lbmRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gbGlzdGVuZXJzLmZpbHRlcigobCkgPT4gIWwub25jZSk7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoeyBsaXN0ZW5lciB9KSA9PiBsaXN0ZW5lciguLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgXCJmXCIpICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IF9lbWl0KCdlcnJvcicsIGVycm9yKSBzaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSAjaGFuZGxlRXJyb3IoKS5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCBcImZcIikgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UgYXJlIHNlZWluZyBzdGFjayB0cmFjZXMgaGVyZSwgbWFrZSBzdXJlIHRvIGhhbmRsZSBlcnJvcnMgdmlhIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAtIHJ1bm5lci5vbignZXJyb3InLCAoKSA9PiAuLi4pXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZG9uZSgpXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZmluYWwuLi4oKVxuICAgICAgICAgICAgICAgIC8vIC0gZXRjLlxuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZW1pdEZpbmFsKCkge1xuICAgICAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSB0aGlzLnJlY2VpdmVkTWVzc2FnZXMuYXQoLTEpO1xuICAgICAgICBpZiAoZmluYWxNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbE1lc3NhZ2UnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9NZXNzYWdlU3RyZWFtX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2Zyb21SZWFkYWJsZVN0cmVhbShyZWFkYWJsZVN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9NZXNzYWdlU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKG51bGwpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfTWVzc2FnZVN0cmVhbV9hZGRTdHJlYW1FdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBbKF9NZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QgPSBuZXcgV2Vha01hcCgpLCBfTWVzc2FnZVN0cmVhbV9jb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfTWVzc2FnZVN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1fZW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9NZXNzYWdlU3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9NZXNzYWdlU3RyZWFtX2xpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCksIF9NZXNzYWdlU3RyZWFtX2VuZGVkID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1fZXJyb3JlZCA9IG5ldyBXZWFrTWFwKCksIF9NZXNzYWdlU3RyZWFtX2Fib3J0ZWQgPSBuZXcgV2Vha01hcCgpLCBfTWVzc2FnZVN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1fcmVzcG9uc2UgPSBuZXcgV2Vha01hcCgpLCBfTWVzc2FnZVN0cmVhbV9yZXF1ZXN0X2lkID0gbmV3IFdlYWtNYXAoKSwgX01lc3NhZ2VTdHJlYW1faGFuZGxlRXJyb3IgPSBuZXcgV2Vha01hcCgpLCBfTWVzc2FnZVN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UgPSBmdW5jdGlvbiBfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY2VpdmVkTWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIE1lc3NhZ2Ugd2l0aCByb2xlPWFzc2lzdGFudCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVkTWVzc2FnZXMuYXQoLTEpO1xuICAgIH0sIF9NZXNzYWdlU3RyZWFtX2dldEZpbmFsVGV4dCA9IGZ1bmN0aW9uIF9NZXNzYWdlU3RyZWFtX2dldEZpbmFsVGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVjZWl2ZWRNZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgTWVzc2FnZSB3aXRoIHJvbGU9YXNzaXN0YW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dEJsb2NrcyA9IHRoaXMucmVjZWl2ZWRNZXNzYWdlc1xuICAgICAgICAgICAgLmF0KC0xKVxuICAgICAgICAgICAgLmNvbnRlbnQuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gJ3RleHQnKVxuICAgICAgICAgICAgLm1hcCgoYmxvY2spID0+IGJsb2NrLnRleHQpO1xuICAgICAgICBpZiAodGV4dEJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgY29udGVudCBibG9jayB3aXRoIHR5cGU9dGV4dCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0QmxvY2tzLmpvaW4oJyAnKTtcbiAgICB9LCBfTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QgPSBmdW5jdGlvbiBfTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgIH0sIF9NZXNzYWdlU3RyZWFtX2FkZFN0cmVhbUV2ZW50ID0gZnVuY3Rpb24gX01lc3NhZ2VTdHJlYW1fYWRkU3RyZWFtRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VTbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX01lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB0aGlzLl9lbWl0KCdzdHJlYW1FdmVudCcsIGV2ZW50LCBtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1lc3NhZ2VTbmFwc2hvdC5jb250ZW50LmF0KC0xKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRlbHRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dF9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RleHQnLCBldmVudC5kZWx0YS50ZXh0LCBjb250ZW50LnRleHQgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2l0YXRpb25zX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY2l0YXRpb24nLCBldmVudC5kZWx0YS5jaXRhdGlvbiwgY29udGVudC5jaXRhdGlvbnMgPz8gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5wdXRfanNvbl9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0b29sX3VzZScgJiYgY29udGVudC5pbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2lucHV0SnNvbicsIGV2ZW50LmRlbHRhLnBhcnRpYWxfanNvbiwgY29udGVudC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0aGlua2luZ19kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0aGlua2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0aGlua2luZycsIGV2ZW50LmRlbHRhLnRoaW5raW5nLCBjb250ZW50LnRoaW5raW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25hdHVyZV9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICd0aGlua2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdzaWduYXR1cmUnLCBjb250ZW50LnNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOZXZlcihldmVudC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9zdG9wJzoge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2VQYXJhbShtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZVNuYXBzaG90LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfc3RvcCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50QmxvY2snLCBtZXNzYWdlU25hcHNob3QuY29udGVudC5hdCgtMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZV9zdGFydCc6IHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIG1lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnY29udGVudF9ibG9ja19zdGFydCc6XG4gICAgICAgICAgICBjYXNlICdtZXNzYWdlX2RlbHRhJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sIF9NZXNzYWdlU3RyZWFtX2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBfTWVzc2FnZVN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01lc3NhZ2VTdHJlYW1fY3VycmVudE1lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQW50aHJvcGljRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgfSwgX01lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UgPSBmdW5jdGlvbiBfTWVzc2FnZVN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZShldmVudCkge1xuICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9NZXNzYWdlU3RyZWFtX2N1cnJlbnRNZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtZXNzYWdlX3N0YXJ0Jykge1xuICAgICAgICAgICAgaWYgKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFudGhyb3BpY0Vycm9yKGBVbmV4cGVjdGVkIGV2ZW50IG9yZGVyLCBnb3QgJHtldmVudC50eXBlfSBiZWZvcmUgcmVjZWl2aW5nIFwibWVzc2FnZV9zdG9wXCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBldmVudC5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbnRocm9waWNFcnJvcihgVW5leHBlY3RlZCBldmVudCBvcmRlciwgZ290ICR7ZXZlbnQudHlwZX0gYmVmb3JlIFwibWVzc2FnZV9zdGFydFwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdtZXNzYWdlX3N0b3AnOlxuICAgICAgICAgICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2VfZGVsdGEnOlxuICAgICAgICAgICAgICAgIHNuYXBzaG90LnN0b3BfcmVhc29uID0gZXZlbnQuZGVsdGEuc3RvcF9yZWFzb247XG4gICAgICAgICAgICAgICAgc25hcHNob3Quc3RvcF9zZXF1ZW5jZSA9IGV2ZW50LmRlbHRhLnN0b3Bfc2VxdWVuY2U7XG4gICAgICAgICAgICAgICAgc25hcHNob3QudXNhZ2Uub3V0cHV0X3Rva2VucyA9IGV2ZW50LnVzYWdlLm91dHB1dF90b2tlbnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICAgICAgY2FzZSAnY29udGVudF9ibG9ja19zdGFydCc6XG4gICAgICAgICAgICAgICAgc25hcHNob3QuY29udGVudC5wdXNoKGV2ZW50LmNvbnRlbnRfYmxvY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRfYmxvY2tfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3RDb250ZW50ID0gc25hcHNob3QuY29udGVudC5hdChldmVudC5pbmRleCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5kZWx0YS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHRfZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdENvbnRlbnQudGV4dCArPSBldmVudC5kZWx0YS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2l0YXRpb25zX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90Q29udGVudD8udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3RDb250ZW50LmNpdGF0aW9ucyA/PyAoc25hcHNob3RDb250ZW50LmNpdGF0aW9ucyA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdENvbnRlbnQuY2l0YXRpb25zLnB1c2goZXZlbnQuZGVsdGEuY2l0YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5wdXRfanNvbl9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT09ICd0b29sX3VzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHJhdyBKU09OIHN0cmluZyBhcyB3ZWxsIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtcGFyc2UgaXQgZm9yIGVhY2ggZGVsdGEsIGZvciBub3cgd2UganVzdCBzdG9yZSBpdCBhcyBhbiB1bnR5cGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIHNuYXBzaG90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb25CdWYgPSBzbmFwc2hvdENvbnRlbnRbSlNPTl9CVUZfUFJPUEVSVFldIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25CdWYgKz0gZXZlbnQuZGVsdGEucGFydGlhbF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzbmFwc2hvdENvbnRlbnQsIEpTT05fQlVGX1BST1BFUlRZLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBqc29uQnVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25CdWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3RDb250ZW50LmlucHV0ID0gcGFydGlhbFBhcnNlKGpzb25CdWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RoaW5raW5nX2RlbHRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90Q29udGVudD8udHlwZSA9PT0gJ3RoaW5raW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90Q29udGVudC50aGlua2luZyArPSBldmVudC5kZWx0YS50aGlua2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25hdHVyZV9kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT09ICd0aGlua2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdENvbnRlbnQuc2lnbmF0dXJlID0gZXZlbnQuZGVsdGEuc2lnbmF0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTmV2ZXIoZXZlbnQuZGVsdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdjb250ZW50X2Jsb2NrX3N0b3AnOlxuICAgICAgICAgICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgICAgfVxuICAgIH0sIFN5bWJvbC5hc3luY0l0ZXJhdG9yKV0oKSB7XG4gICAgICAgIGNvbnN0IHB1c2hRdWV1ZSA9IFtdO1xuICAgICAgICBjb25zdCByZWFkUXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbignc3RyZWFtRXZlbnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSkpLnRoZW4oKGNodW5rKSA9PiAoY2h1bmsgPyB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b1JlYWRhYmxlU3RyZWFtKCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgU3RyZWFtKHRoaXNbU3ltYm9sLmFzeW5jSXRlcmF0b3JdLmJpbmQodGhpcyksIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHJldHVybiBzdHJlYW0udG9SZWFkYWJsZVN0cmVhbSgpO1xuICAgIH1cbn1cbi8vIHVzZWQgdG8gZW5zdXJlIGV4aGF1c3RpdmUgY2FzZSBtYXRjaGluZyB3aXRob3V0IHRocm93aW5nIGEgcnVudGltZSBlcnJvclxuZnVuY3Rpb24gY2hlY2tOZXZlcih4KSB7IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc3NhZ2VTdHJlYW0ubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEJhdGNoZXNBUEkgZnJvbSBcIi4vYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IEJhdGNoZXMsIE1lc3NhZ2VCYXRjaGVzUGFnZSwgfSBmcm9tIFwiLi9iYXRjaGVzLm1qc1wiO1xuaW1wb3J0IHsgTWVzc2FnZVN0cmVhbSB9IGZyb20gXCIuLi8uLi9saWIvTWVzc2FnZVN0cmVhbS5tanNcIjtcbmV4cG9ydCB7IE1lc3NhZ2VTdHJlYW0gfSBmcm9tIFwiLi4vLi4vbGliL01lc3NhZ2VTdHJlYW0ubWpzXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG5ldyBCYXRjaGVzQVBJLkJhdGNoZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGJvZHkubW9kZWwgaW4gREVQUkVDQVRFRF9NT0RFTFMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIG1vZGVsICcke2JvZHkubW9kZWx9JyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIHJlYWNoIGVuZC1vZi1saWZlIG9uICR7REVQUkVDQVRFRF9NT0RFTFNbYm9keS5tb2RlbF19XFxuUGxlYXNlIG1pZ3JhdGUgdG8gYSBuZXdlciBtb2RlbC4gVmlzaXQgaHR0cHM6Ly9kb2NzLmFudGhyb3BpYy5jb20vZW4vZG9jcy9yZXNvdXJjZXMvbW9kZWwtZGVwcmVjYXRpb25zIGZvciBtb3JlIGluZm9ybWF0aW9uLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3YxL21lc3NhZ2VzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMuX2NsaWVudC5fb3B0aW9ucy50aW1lb3V0ID8/XG4gICAgICAgICAgICAgICAgKGJvZHkuc3RyZWFtID8gNjAwMDAwIDogdGhpcy5fY2xpZW50Ll9jYWxjdWxhdGVOb25zdHJlYW1pbmdUaW1lb3V0KGJvZHkubWF4X3Rva2VucykpLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBNZXNzYWdlIHN0cmVhbVxuICAgICAqL1xuICAgIHN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBNZXNzYWdlU3RyZWFtLmNyZWF0ZU1lc3NhZ2UodGhpcywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvdW50IHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIGEgTWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFRoZSBUb2tlbiBDb3VudCBBUEkgY2FuIGJlIHVzZWQgdG8gY291bnQgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gYSBNZXNzYWdlLFxuICAgICAqIGluY2x1ZGluZyB0b29scywgaW1hZ2VzLCBhbmQgZG9jdW1lbnRzLCB3aXRob3V0IGNyZWF0aW5nIGl0LlxuICAgICAqXG4gICAgICogTGVhcm4gbW9yZSBhYm91dCB0b2tlbiBjb3VudGluZyBpbiBvdXJcbiAgICAgKiBbdXNlciBndWlkZV0oL2VuL2RvY3MvYnVpbGQtd2l0aC1jbGF1ZGUvdG9rZW4tY291bnRpbmcpXG4gICAgICovXG4gICAgY291bnRUb2tlbnMoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy92MS9tZXNzYWdlcy9jb3VudF90b2tlbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuY29uc3QgREVQUkVDQVRFRF9NT0RFTFMgPSB7XG4gICAgJ2NsYXVkZS0xLjMnOiAnTm92ZW1iZXIgNnRoLCAyMDI0JyxcbiAgICAnY2xhdWRlLTEuMy0xMDBrJzogJ05vdmVtYmVyIDZ0aCwgMjAyNCcsXG4gICAgJ2NsYXVkZS1pbnN0YW50LTEuMSc6ICdOb3ZlbWJlciA2dGgsIDIwMjQnLFxuICAgICdjbGF1ZGUtaW5zdGFudC0xLjEtMTAwayc6ICdOb3ZlbWJlciA2dGgsIDIwMjQnLFxuICAgICdjbGF1ZGUtaW5zdGFudC0xLjInOiAnTm92ZW1iZXIgNnRoLCAyMDI0JyxcbiAgICAnY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JzogJ0p1bHkgMjFzdCwgMjAyNScsXG4gICAgJ2NsYXVkZS0yLjEnOiAnSnVseSAyMXN0LCAyMDI1JyxcbiAgICAnY2xhdWRlLTIuMCc6ICdKdWx5IDIxc3QsIDIwMjUnLFxufTtcbk1lc3NhZ2VzLkJhdGNoZXMgPSBCYXRjaGVzO1xuTWVzc2FnZXMuTWVzc2FnZUJhdGNoZXNQYWdlID0gTWVzc2FnZUJhdGNoZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3BlY2lmaWMgbW9kZWwuXG4gICAgICpcbiAgICAgKiBUaGUgTW9kZWxzIEFQSSByZXNwb25zZSBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpY1xuICAgICAqIG1vZGVsIG9yIHJlc29sdmUgYSBtb2RlbCBhbGlhcyB0byBhIG1vZGVsIElELlxuICAgICAqL1xuICAgIHJldHJpZXZlKG1vZGVsSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC92MS9tb2RlbHMvJHttb2RlbElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdjEvbW9kZWxzJywgTW9kZWxJbmZvc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1vZGVsSW5mb3NQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG5Nb2RlbHMuTW9kZWxJbmZvc1BhZ2UgPSBNb2RlbEluZm9zUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVscy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbnZhciBfYTtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCAqIGFzIFBhZ2luYXRpb24gZnJvbSBcIi4vcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCAqIGFzIFVwbG9hZHMgZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbmltcG9ydCAqIGFzIEFQSSBmcm9tIFwiLi9yZXNvdXJjZXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9ucywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvY29tcGxldGlvbnMubWpzXCI7XG5pbXBvcnQgeyBNb2RlbEluZm9zUGFnZSwgTW9kZWxzIH0gZnJvbSBcIi4vcmVzb3VyY2VzL21vZGVscy5tanNcIjtcbmltcG9ydCB7IEJldGEsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2JldGEvYmV0YS5tanNcIjtcbmltcG9ydCB7IE1lc3NhZ2VzLCB9IGZyb20gXCIuL3Jlc291cmNlcy9tZXNzYWdlcy9tZXNzYWdlcy5tanNcIjtcbi8qKlxuICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgQW50aHJvcGljIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFudGhyb3BpYyBleHRlbmRzIENvcmUuQVBJQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBBbnRocm9waWMgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ0FOVEhST1BJQ19BUElfS0VZJ10gPz8gbnVsbF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLmF1dGhUb2tlbj1wcm9jZXNzLmVudlsnQU5USFJPUElDX0FVVEhfVE9LRU4nXSA/PyBudWxsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydBTlRIUk9QSUNfQkFTRV9VUkwnXSA/PyBodHRwczovL2FwaS5hbnRocm9waWMuY29tXSAtIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAgICogQHBhcmFtIHtDb3JlLkZldGNofSBbb3B0cy5mZXRjaF0gLSBTcGVjaWZ5IGEgY3VzdG9tIGBmZXRjaGAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7Q29yZS5EZWZhdWx0UXVlcnl9IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCA9IENvcmUucmVhZEVudignQU5USFJPUElDX0JBU0VfVVJMJyksIGFwaUtleSA9IENvcmUucmVhZEVudignQU5USFJPUElDX0FQSV9LRVknKSA/PyBudWxsLCBhdXRoVG9rZW4gPSBDb3JlLnJlYWRFbnYoJ0FOVEhST1BJQ19BVVRIX1RPS0VOJykgPz8gbnVsbCwgLi4ub3B0cyB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIGF1dGhUb2tlbixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICBiYXNlVVJMOiBiYXNlVVJMIHx8IGBodHRwczovL2FwaS5hbnRocm9waWMuY29tYCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyICYmIENvcmUuaXNSdW5uaW5nSW5Ccm93c2VyKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuQW50aHJvcGljRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSBydW5uaW5nIGluIGEgYnJvd3Nlci1saWtlIGVudmlyb25tZW50LlxcblxcblRoaXMgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdCwgYXMgaXQgcmlza3MgZXhwb3NpbmcgeW91ciBzZWNyZXQgQVBJIGNyZWRlbnRpYWxzIHRvIGF0dGFja2Vycy5cXG5JZiB5b3UgdW5kZXJzdGFuZCB0aGUgcmlza3MgYW5kIGhhdmUgYXBwcm9wcmlhdGUgbWl0aWdhdGlvbnMgaW4gcGxhY2UsXFxueW91IGNhbiBzZXQgdGhlIGBkYW5nZXJvdXNseUFsbG93QnJvd3NlcmAgb3B0aW9uIHRvIGB0cnVlYCwgZS5nLixcXG5cXG5uZXcgQW50aHJvcGljKHsgYXBpS2V5LCBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSB9KTtcXG5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgYmFzZVVSTDogb3B0aW9ucy5iYXNlVVJMLFxuICAgICAgICAgICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0ID8/IDYwMDAwMCAvKiAxMCBtaW51dGVzICovLFxuICAgICAgICAgICAgaHR0cEFnZW50OiBvcHRpb25zLmh0dHBBZ2VudCxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IG9wdGlvbnMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgQVBJLk1lc3NhZ2VzKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVscyA9IG5ldyBBUEkuTW9kZWxzKHRoaXMpO1xuICAgICAgICB0aGlzLmJldGEgPSBuZXcgQVBJLkJldGEodGhpcyk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICAgICAgdGhpcy5hdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgfVxuICAgIGRlZmF1bHRRdWVyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZGVmYXVsdFF1ZXJ5O1xuICAgIH1cbiAgICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci5kZWZhdWx0SGVhZGVycyhvcHRzKSxcbiAgICAgICAgICAgIC4uLih0aGlzLl9vcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyID9cbiAgICAgICAgICAgICAgICB7ICdhbnRocm9waWMtZGFuZ2Vyb3VzLWRpcmVjdC1icm93c2VyLWFjY2Vzcyc6ICd0cnVlJyB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgJ2FudGhyb3BpYy12ZXJzaW9uJzogJzIwMjMtMDYtMDEnLFxuICAgICAgICAgICAgLi4udGhpcy5fb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFsaWRhdGVIZWFkZXJzKGhlYWRlcnMsIGN1c3RvbUhlYWRlcnMpIHtcbiAgICAgICAgaWYgKHRoaXMuYXBpS2V5ICYmIGhlYWRlcnNbJ3gtYXBpLWtleSddKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1c3RvbUhlYWRlcnNbJ3gtYXBpLWtleSddID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0aFRva2VuICYmIGhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXN0b21IZWFkZXJzWydhdXRob3JpemF0aW9uJ10gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXNvbHZlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZC4gRXhwZWN0ZWQgZWl0aGVyIGFwaUtleSBvciBhdXRoVG9rZW4gdG8gYmUgc2V0LiBPciBmb3Igb25lIG9mIHRoZSBcIlgtQXBpLUtleVwiIG9yIFwiQXV0aG9yaXphdGlvblwiIGhlYWRlcnMgdG8gYmUgZXhwbGljaXRseSBvbWl0dGVkJyk7XG4gICAgfVxuICAgIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuYXBpS2V5QXV0aChvcHRzKSxcbiAgICAgICAgICAgIC4uLnRoaXMuYmVhcmVyQXV0aChvcHRzKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBpS2V5QXV0aChvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLmFwaUtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgJ1gtQXBpLUtleSc6IHRoaXMuYXBpS2V5IH07XG4gICAgfVxuICAgIGJlYXJlckF1dGgob3B0cykge1xuICAgICAgICBpZiAodGhpcy5hdXRoVG9rZW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhUb2tlbn1gIH07XG4gICAgfVxufVxuX2EgPSBBbnRocm9waWM7XG5BbnRocm9waWMuQW50aHJvcGljID0gX2E7XG5BbnRocm9waWMuSFVNQU5fUFJPTVBUID0gJ1xcblxcbkh1bWFuOic7XG5BbnRocm9waWMuQUlfUFJPTVBUID0gJ1xcblxcbkFzc2lzdGFudDonO1xuQW50aHJvcGljLkRFRkFVTFRfVElNRU9VVCA9IDYwMDAwMDsgLy8gMTAgbWludXRlc1xuQW50aHJvcGljLkFudGhyb3BpY0Vycm9yID0gRXJyb3JzLkFudGhyb3BpY0Vycm9yO1xuQW50aHJvcGljLkFQSUVycm9yID0gRXJyb3JzLkFQSUVycm9yO1xuQW50aHJvcGljLkFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG5BbnRocm9waWMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uVGltZW91dEVycm9yO1xuQW50aHJvcGljLkFQSVVzZXJBYm9ydEVycm9yID0gRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yO1xuQW50aHJvcGljLk5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbkFudGhyb3BpYy5Db25mbGljdEVycm9yID0gRXJyb3JzLkNvbmZsaWN0RXJyb3I7XG5BbnRocm9waWMuUmF0ZUxpbWl0RXJyb3IgPSBFcnJvcnMuUmF0ZUxpbWl0RXJyb3I7XG5BbnRocm9waWMuQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbkFudGhyb3BpYy5BdXRoZW50aWNhdGlvbkVycm9yID0gRXJyb3JzLkF1dGhlbnRpY2F0aW9uRXJyb3I7XG5BbnRocm9waWMuSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IEVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yO1xuQW50aHJvcGljLlBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG5BbnRocm9waWMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yID0gRXJyb3JzLlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcjtcbkFudGhyb3BpYy50b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbkFudGhyb3BpYy5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbkFudGhyb3BpYy5Db21wbGV0aW9ucyA9IENvbXBsZXRpb25zO1xuQW50aHJvcGljLk1lc3NhZ2VzID0gTWVzc2FnZXM7XG5BbnRocm9waWMuTW9kZWxzID0gTW9kZWxzO1xuQW50aHJvcGljLk1vZGVsSW5mb3NQYWdlID0gTW9kZWxJbmZvc1BhZ2U7XG5BbnRocm9waWMuQmV0YSA9IEJldGE7XG5leHBvcnQgY29uc3QgeyBIVU1BTl9QUk9NUFQsIEFJX1BST01QVCB9ID0gQW50aHJvcGljO1xuZXhwb3J0IHsgdG9GaWxlLCBmaWxlRnJvbVBhdGggfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IHsgQW50aHJvcGljRXJyb3IsIEFQSUVycm9yLCBBUElDb25uZWN0aW9uRXJyb3IsIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCBOb3RGb3VuZEVycm9yLCBDb25mbGljdEVycm9yLCBSYXRlTGltaXRFcnJvciwgQmFkUmVxdWVzdEVycm9yLCBBdXRoZW50aWNhdGlvbkVycm9yLCBJbnRlcm5hbFNlcnZlckVycm9yLCBQZXJtaXNzaW9uRGVuaWVkRXJyb3IsIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciwgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmV4cG9ydCBkZWZhdWx0IEFudGhyb3BpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiLCJpbXBvcnQgQW50aHJvcGljLCB7IENsaWVudE9wdGlvbnMgfSBmcm9tICdAYW50aHJvcGljLWFpL3Nkayc7IC8vIOWvvOWFpSBDbGllbnRPcHRpb25zXHJcbmltcG9ydCB7IEJhc2VMTE0sIExMTVJlc3BvbnNlLCBMTE1DaGF0T3B0aW9ucyB9IGZyb20gJy4vQmFzZUxMTSc7XHJcblxyXG4vKipcclxuICogQW50aHJvcGljIENsYXVkZSDmnI3liqHllYbnmoTlrp7njrBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbnRocm9waWNMTE0gZXh0ZW5kcyBCYXNlTExNIHtcclxuICByZWFkb25seSBwcm92aWRlcklkID0gJ2FudGhyb3BpYyc7XHJcbiAgcmVhZG9ubHkgcHJvdmlkZXJOYW1lID0gJ0FudGhyb3BpYyBDbGF1ZGUnO1xyXG4gIC8vIEFudGhyb3BpYyDnmoTln7rnoYAgVVJM77yM5Lmf5Y+v5Lul5LuO6YWN572u6K+75Y+WXHJcbiAgcmVhZG9ubHkgYmFzZUFwaVVybCA9ICdodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxJzsgLy8g6K+35qC55o2u5a6e6ZmF5oOF5Ya156Gu6K6kXHJcblxyXG4gIC8vIOm7mOiupOaUr+aMgeeahOaooeWei+WIl+ihqCAoQ2xhdWRlIDMg57O75YiX562JKVxyXG4gIHJlYWRvbmx5IGRlZmF1bHRNb2RlbHM6IHN0cmluZ1tdID0gW1xyXG4gICAgJ2NsYXVkZS0zLW9wdXMtMjAyNDAyMjknLFxyXG4gICAgJ2NsYXVkZS0zLXNvbm5ldC0yMDI0MDIyOScsXHJcbiAgICAnY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDcnLFxyXG4gICAgJ2NsYXVkZS0yLjEnLFxyXG4gICAgJ2NsYXVkZS0yLjAnLFxyXG4gICAgJ2NsYXVkZS1pbnN0YW50LTEuMicsXHJcbiAgXTtcclxuXHJcbiAgcHJpdmF0ZSBhbnRocm9waWM6IEFudGhyb3BpYyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiDph43lhpkgc2V0QXBpS2V5IOaWueazle+8jOWcqOiuvue9riBrZXkg5pe25Yid5aeL5YyWIEFudGhyb3BpYyDlrqLmiLfnq69cclxuICAgKi9cclxuICBvdmVycmlkZSBzZXRBcGlLZXkoYXBpS2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XHJcbiAgICBzdXBlci5zZXRBcGlLZXkoYXBpS2V5KTtcclxuICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjbGllbnRPcHRpb25zOiBDbGllbnRPcHRpb25zID0ge1xyXG4gICAgICAgICAgYXBpS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAvLyBiYXNlVVJMOiB0aGlzLmJhc2VBcGlVcmwsIC8vIOWPr+S7peiAg+iZkeWFgeiuuOeUqOaIt+mFjee9riBCYXNlIFVSTFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYW50aHJvcGljID0gbmV3IEFudGhyb3BpYyhjbGllbnRPcHRpb25zKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgQW50aHJvcGljIGNsaWVudCBpbml0aWFsaXplZCBmb3IgcHJvdmlkZXI6ICR7dGhpcy5wcm92aWRlcklkfWApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBBbnRocm9waWMgY2xpZW50IGZvciAke3RoaXMucHJvdmlkZXJJZH06YCwgZXJyb3IpO1xyXG4gICAgICAgICB0aGlzLmFudGhyb3BpYyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYW50aHJvcGljID0gbnVsbDtcclxuICAgICAgY29uc29sZS5sb2coYEFudGhyb3BpYyBjbGllbnQgZGVzdHJveWVkIGZvciBwcm92aWRlcjogJHt0aGlzLnByb3ZpZGVySWR9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlrp7njrDogYrlpKnor7fmsYLmlrnms5UgKOmcgOimgeagueaNriBBbnRocm9waWMgU0RLIOiwg+aVtClcclxuICAgKi9cclxuICBhc3luYyBnZW5lcmF0ZUNoYXRDb21wbGV0aW9uKG9wdGlvbnM6IExMTUNoYXRPcHRpb25zKTogUHJvbWlzZTxMTE1SZXNwb25zZT4ge1xyXG4gICAgaWYgKCF0aGlzLmFudGhyb3BpYykge1xyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6ICdBbnRocm9waWMgQVBJIEtleSDmnKrorr7nva7miJblrqLmiLfnq6/liJ3lp4vljJblpLHotKUnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoIW9wdGlvbnMubW9kZWwgfHwgIXRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKCkuaW5jbHVkZXMob3B0aW9ucy5tb2RlbCkpIHtcclxuICAgICAgIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogYOaooeWeiyAke29wdGlvbnMubW9kZWx9IOS4jeWPr+eUqOaIluS4jeWPl+aUr+aMgWAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAtLS0g5p6E6YCgIEFudGhyb3BpYyBBUEkg6K+35rGC5Y+C5pWwIC0tLVxyXG4gICAgICAvLyDms6jmhI/vvJpBbnRocm9waWMg55qEIEFQSSDnu5PmnoTkuI4gT3BlbkFJIOS4jeWQjO+8jOeJueWIq+aYryBtZXNzYWdlcyDmoLzlvI/lkowgc3lzdGVtIHByb21wdCDlpITnkIZcclxuICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gb3B0aW9ucy5zeXN0ZW1Qcm9tcHQ7XHJcbiAgICAgIC8vIEFudGhyb3BpYyBtZXNzYWdlcyDkuI3ljIXlkKsgc3lzdGVtLCDkuJTpnIDopoEgdXNlci9hc3Npc3RhbnQg5Lqk5pu/XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gb3B0aW9ucy5tZXNzYWdlc1xyXG4gICAgICAgIC5maWx0ZXIobSA9PiBtLnJvbGUgPT09ICd1c2VyJyB8fCBtLnJvbGUgPT09ICdhc3Npc3RhbnQnKVxyXG4gICAgICAgIC5tYXAobSA9PiAoeyByb2xlOiBtLnJvbGUsIGNvbnRlbnQ6IG0uY29udGVudCB9KSkgYXMgQW50aHJvcGljLk1lc3NhZ2VzLk1lc3NhZ2VQYXJhbVtdOyAvLyDnsbvlnovmlq3oqIBcclxuXHJcbiAgICAgIC8vIEFudGhyb3BpYyDopoHmsYIgbWVzc2FnZXMg5b+F6aG75LulIHVzZXIg5byA5aS0ICjlpoLmnpznrKzkuIDmnaHmmK8gYXNzaXN0YW5077yM5Y+v6IO96ZyA6KaB5aSE55CG5oiW5oql6ZSZKVxyXG4gICAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCAmJiBtZXNzYWdlc1swXS5yb2xlICE9PSAndXNlcicpIHtcclxuICAgICAgICAgY29uc29sZS53YXJuKCdbQW50aHJvcGljXSBGaXJzdCBtZXNzYWdlIG11c3QgYmUgZnJvbSB1c2VyLiBQcmVwZW5kaW5nIGFuIGVtcHR5IHVzZXIgbWVzc2FnZSBvciBoYW5kbGluZyByZXF1aXJlZC4nKTtcclxuICAgICAgICAgLy8g566A5Y2V55qE5aSE55CG5pa55byP77ya5aaC5p6c56ys5LiA5p2h5pivIGFzc2lzdGFudO+8jOWJjemdouWKoOS4gOS4quepuueahCB1c2VyIG1lc3NhZ2UgKOS9hui/meWPr+iDveW9seWTjemAu+i+kSlcclxuICAgICAgICAgLy8gbWVzc2FnZXMudW5zaGlmdCh7IHJvbGU6ICd1c2VyJywgY29udGVudDogJyhQbGFjZWhvbGRlciBmb3IgaW5pdGlhbCB1c2VyIHR1cm4pJyB9KTtcclxuICAgICAgICAgLy8g5oiW6ICF55u05o6l6L+U5Zue6ZSZ6K+vXHJcbiAgICAgICAgIC8vIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogJ0FudGhyb3BpYyBBUEkgcmVxdWlyZXMgdGhlIGZpcnN0IG1lc3NhZ2UgdG8gYmUgZnJvbSB0aGUgdXNlci4nIH07XHJcbiAgICAgIH1cclxuICAgICAgLy8gQW50aHJvcGljIOimgeaxgiBtZXNzYWdlcyDlv4Xpobvku6UgdXNlciDnu5PlsL4gKOWmguaenOacgOWQjuS4gOadoeaYryBhc3Npc3RhbnTvvIzpnIDopoHlpITnkIYpXHJcbiAgICAgIC8vIEFudGhyb3BpYyBTREsgdjAuMjAuMSsg5Ly85LmO5LiN5YaN5by65Yi26KaB5rGC5pyA5ZCO5LiA5p2h5b+F6aG75pivIHVzZXLvvIzkvYbml6fniYjmnKzmiJbnm7TmjqXosIPnlKggQVBJIOWPr+iDvemcgOimgVxyXG4gICAgICAvLyBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCAmJiBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXS5yb2xlICE9PSAndXNlcicpIHtcclxuICAgICAgLy8gICAgY29uc29sZS53YXJuKCdbQW50aHJvcGljXSBMYXN0IG1lc3NhZ2UgbXVzdCBiZSBmcm9tIHVzZXIuIEFQSSBtaWdodCByZWplY3Qgb3IgYmVoYXZlIHVuZXhwZWN0ZWRseS4nKTtcclxuICAgICAgLy8gICAgLy8gcmV0dXJuIHsgY29udGVudDogJycsIGVycm9yOiAnQW50aHJvcGljIEFQSSByZXF1aXJlcyB0aGUgbGFzdCBtZXNzYWdlIHRvIGJlIGZyb20gdGhlIHVzZXIuJyB9O1xyXG4gICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgY29uc3QgcGFyYW1zOiBBbnRocm9waWMuTWVzc2FnZXMuTWVzc2FnZUNyZWF0ZVBhcmFtcyA9IHtcclxuICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcclxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsIC8vIOS9v+eUqOWkhOeQhui/h+eahCBtZXNzYWdlc1xyXG4gICAgICAgIHN5c3RlbTogc3lzdGVtUHJvbXB0LCAvLyBBbnRocm9waWMg5L2/55So54us56uL55qEIHN5c3RlbSDlj4LmlbBcclxuICAgICAgICBtYXhfdG9rZW5zOiBvcHRpb25zLm1heFRva2VucyA/PyAxMDI0LCAvLyBBbnRocm9waWMg6ZyA6KaBIG1heF90b2tlbnNcclxuICAgICAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSxcclxuICAgICAgICAvLyBzdHJlYW06IGZhbHNlLCAvLyDmmoLkuI3mlK/mjIHmtYHlvI9cclxuICAgICAgICAvLyDlhbbku5YgQW50aHJvcGljIOeJueWumuWPguaVsDogdG9wX3AsIHRvcF9rIOetiVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYFtBbnRocm9waWNdIFNlbmRpbmcgcmVxdWVzdCB0byBtb2RlbCAke29wdGlvbnMubW9kZWx9IHdpdGggcGFyYW1zOmAsIEpTT04uc3RyaW5naWZ5KHBhcmFtcywgbnVsbCwgMikpO1xyXG5cclxuICAgICAgY29uc3QgY29tcGxldGlvbjogQW50aHJvcGljLk1lc3NhZ2VzLk1lc3NhZ2UgPSBhd2FpdCB0aGlzLmFudGhyb3BpYy5tZXNzYWdlcy5jcmVhdGUocGFyYW1zKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdbQW50aHJvcGljXSBSZWNlaXZlZCBjb21wbGV0aW9uOicsIEpTT04uc3RyaW5naWZ5KGNvbXBsZXRpb24sIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIC8vIC0tLSDop6PmnpAgQW50aHJvcGljIOWTjeW6lCAtLS1cclxuICAgICAgLy8gQW50aHJvcGljIOeahOWTjeW6lOe7k+aehOS5n+S4jeWQjO+8jOmcgOimgeS7juS4reaPkOWPluWGheWuueOAgeaooeWei+OAgXRva2VuIOetieS/oeaBr1xyXG4gICAgICBsZXQgY29udGVudCA9ICcnO1xyXG4gICAgICBpZiAoY29tcGxldGlvbi5jb250ZW50ICYmIGNvbXBsZXRpb24uY29udGVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgIC8vIOmAmuW4uOaYryB0ZXh0IOexu+Wei1xyXG4gICAgICAgICBjb25zdCB0ZXh0QmxvY2sgPSBjb21wbGV0aW9uLmNvbnRlbnQuZmluZChibG9jayA9PiBibG9jay50eXBlID09PSAndGV4dCcpO1xyXG4gICAgICAgICBpZiAodGV4dEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAodGV4dEJsb2NrIGFzIEFudGhyb3BpYy5NZXNzYWdlcy5UZXh0QmxvY2spLnRleHQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXNhZ2UgPSBjb21wbGV0aW9uLnVzYWdlO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjb250ZW50OiBjb250ZW50LFxyXG4gICAgICAgIG1vZGVsVXNlZDogY29tcGxldGlvbi5tb2RlbCxcclxuICAgICAgICB1c2FnZToge1xyXG4gICAgICAgICAgcHJvbXB0VG9rZW5zOiB1c2FnZT8uaW5wdXRfdG9rZW5zLCAvLyDms6jmhI/lrZfmrrXlkI3kuI3lkIxcclxuICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHVzYWdlPy5vdXRwdXRfdG9rZW5zLCAvLyDms6jmhI/lrZfmrrXlkI3kuI3lkIxcclxuICAgICAgICAgIHRvdGFsVG9rZW5zOiAodXNhZ2U/LmlucHV0X3Rva2VucyA/PyAwKSArICh1c2FnZT8ub3V0cHV0X3Rva2VucyA/PyAwKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJhd1Jlc3BvbnNlOiBjb21wbGV0aW9uLFxyXG4gICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtBbnRocm9waWNdIEVycm9yIGR1cmluZyBjaGF0IGNvbXBsZXRpb24gZm9yIG1vZGVsICR7b3B0aW9ucy5tb2RlbH06YCwgZXJyb3IpO1xyXG4gICAgICBsZXQgZGV0YWlsZWRFcnJvciA9ICfkuI4gQW50aHJvcGljIEFQSSDpgJrkv6Hml7blj5HnlJ/mnKrnn6XplJnor68nO1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBbnRocm9waWMuQVBJRXJyb3IpIHsgLy8g5L2/55SoIEFudGhyb3BpYyDnmoTnibnlrprplJnor6/nsbvlnotcclxuICAgICAgICBkZXRhaWxlZEVycm9yID0gYEFudGhyb3BpYyBBUEkgRXJyb3IgKCR7ZXJyb3Iuc3RhdHVzfSk6ICR7ZXJyb3IubWVzc2FnZX1gO1xyXG4gICAgICAgIC8vIOWPr+S7pei/m+S4gOatpeino+aekCBlcnJvci5lcnJvcj8ubWVzc2FnZSDnrYlcclxuICAgICAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgZGV0YWlsZWRFcnJvciA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGRldGFpbGVkRXJyb3IgPSBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6IGRldGFpbGVkRXJyb3IsIHJhd1Jlc3BvbnNlOiBlcnJvciB9O1xyXG4gICAgfVxyXG4gIH1cclxufSIsIi8qKlxuICogQ29udGFpbnMgdGhlIGxpc3Qgb2YgT3BlbkFQSSBkYXRhIHR5cGVzXG4gKiBhcyBkZWZpbmVkIGJ5IGh0dHBzOi8vc3dhZ2dlci5pby9kb2NzL3NwZWNpZmljYXRpb24vZGF0YS1tb2RlbHMvZGF0YS10eXBlcy9cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNjaGVtYVR5cGU7XG4oZnVuY3Rpb24gKFNjaGVtYVR5cGUpIHtcbiAgICAvKiogU3RyaW5nIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIlNUUklOR1wiXSA9IFwic3RyaW5nXCI7XG4gICAgLyoqIE51bWJlciB0eXBlLiAqL1xuICAgIFNjaGVtYVR5cGVbXCJOVU1CRVJcIl0gPSBcIm51bWJlclwiO1xuICAgIC8qKiBJbnRlZ2VyIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIklOVEVHRVJcIl0gPSBcImludGVnZXJcIjtcbiAgICAvKiogQm9vbGVhbiB0eXBlLiAqL1xuICAgIFNjaGVtYVR5cGVbXCJCT09MRUFOXCJdID0gXCJib29sZWFuXCI7XG4gICAgLyoqIEFycmF5IHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIkFSUkFZXCJdID0gXCJhcnJheVwiO1xuICAgIC8qKiBPYmplY3QgdHlwZS4gKi9cbiAgICBTY2hlbWFUeXBlW1wiT0JKRUNUXCJdID0gXCJvYmplY3RcIjtcbn0pKFNjaGVtYVR5cGUgfHwgKFNjaGVtYVR5cGUgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbnZhciBFeGVjdXRhYmxlQ29kZUxhbmd1YWdlO1xuKGZ1bmN0aW9uIChFeGVjdXRhYmxlQ29kZUxhbmd1YWdlKSB7XG4gICAgRXhlY3V0YWJsZUNvZGVMYW5ndWFnZVtcIkxBTkdVQUdFX1VOU1BFQ0lGSUVEXCJdID0gXCJsYW5ndWFnZV91bnNwZWNpZmllZFwiO1xuICAgIEV4ZWN1dGFibGVDb2RlTGFuZ3VhZ2VbXCJQWVRIT05cIl0gPSBcInB5dGhvblwiO1xufSkoRXhlY3V0YWJsZUNvZGVMYW5ndWFnZSB8fCAoRXhlY3V0YWJsZUNvZGVMYW5ndWFnZSA9IHt9KSk7XG4vKipcbiAqIFBvc3NpYmxlIG91dGNvbWVzIG9mIGNvZGUgZXhlY3V0aW9uLlxuICogQHB1YmxpY1xuICovXG52YXIgT3V0Y29tZTtcbihmdW5jdGlvbiAoT3V0Y29tZSkge1xuICAgIC8qKlxuICAgICAqIFVuc3BlY2lmaWVkIHN0YXR1cy4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICovXG4gICAgT3V0Y29tZVtcIk9VVENPTUVfVU5TUEVDSUZJRURcIl0gPSBcIm91dGNvbWVfdW5zcGVjaWZpZWRcIjtcbiAgICAvKipcbiAgICAgKiBDb2RlIGV4ZWN1dGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAqL1xuICAgIE91dGNvbWVbXCJPVVRDT01FX09LXCJdID0gXCJvdXRjb21lX29rXCI7XG4gICAgLyoqXG4gICAgICogQ29kZSBleGVjdXRpb24gZmluaXNoZWQgYnV0IHdpdGggYSBmYWlsdXJlLiBgc3RkZXJyYCBzaG91bGQgY29udGFpbiB0aGVcbiAgICAgKiByZWFzb24uXG4gICAgICovXG4gICAgT3V0Y29tZVtcIk9VVENPTUVfRkFJTEVEXCJdID0gXCJvdXRjb21lX2ZhaWxlZFwiO1xuICAgIC8qKlxuICAgICAqIENvZGUgZXhlY3V0aW9uIHJhbiBmb3IgdG9vIGxvbmcsIGFuZCB3YXMgY2FuY2VsbGVkLiBUaGVyZSBtYXkgb3IgbWF5IG5vdFxuICAgICAqIGJlIGEgcGFydGlhbCBvdXRwdXQgcHJlc2VudC5cbiAgICAgKi9cbiAgICBPdXRjb21lW1wiT1VUQ09NRV9ERUFETElORV9FWENFRURFRFwiXSA9IFwib3V0Y29tZV9kZWFkbGluZV9leGNlZWRlZFwiO1xufSkoT3V0Y29tZSB8fCAoT3V0Y29tZSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFBvc3NpYmxlIHJvbGVzLlxuICogQHB1YmxpY1xuICovXG5jb25zdCBQT1NTSUJMRV9ST0xFUyA9IFtcInVzZXJcIiwgXCJtb2RlbFwiLCBcImZ1bmN0aW9uXCIsIFwic3lzdGVtXCJdO1xuLyoqXG4gKiBIYXJtIGNhdGVnb3JpZXMgdGhhdCB3b3VsZCBjYXVzZSBwcm9tcHRzIG9yIGNhbmRpZGF0ZXMgdG8gYmUgYmxvY2tlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEhhcm1DYXRlZ29yeTtcbihmdW5jdGlvbiAoSGFybUNhdGVnb3J5KSB7XG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiO1xuICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIl0gPSBcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIjtcbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCJdID0gXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCI7XG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlRcIjtcbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCI7XG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9DSVZJQ19JTlRFR1JJVFlcIl0gPSBcIkhBUk1fQ0FURUdPUllfQ0lWSUNfSU5URUdSSVRZXCI7XG59KShIYXJtQ2F0ZWdvcnkgfHwgKEhhcm1DYXRlZ29yeSA9IHt9KSk7XG4vKipcbiAqIFRocmVzaG9sZCBhYm92ZSB3aGljaCBhIHByb21wdCBvciBjYW5kaWRhdGUgd2lsbCBiZSBibG9ja2VkLlxuICogQHB1YmxpY1xuICovXG52YXIgSGFybUJsb2NrVGhyZXNob2xkO1xuKGZ1bmN0aW9uIChIYXJtQmxvY2tUaHJlc2hvbGQpIHtcbiAgICAvKiogVGhyZXNob2xkIGlzIHVuc3BlY2lmaWVkLiAqL1xuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkhBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEXCJdID0gXCJIQVJNX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBDb250ZW50IHdpdGggTkVHTElHSUJMRSB3aWxsIGJlIGFsbG93ZWQuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTE9XX0FORF9BQk9WRVwiXSA9IFwiQkxPQ0tfTE9XX0FORF9BQk9WRVwiO1xuICAgIC8qKiBDb250ZW50IHdpdGggTkVHTElHSUJMRSBhbmQgTE9XIHdpbGwgYmUgYWxsb3dlZC4gKi9cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCJdID0gXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCI7XG4gICAgLyoqIENvbnRlbnQgd2l0aCBORUdMSUdJQkxFLCBMT1csIGFuZCBNRURJVU0gd2lsbCBiZSBhbGxvd2VkLiAqL1xuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX09OTFlfSElHSFwiXSA9IFwiQkxPQ0tfT05MWV9ISUdIXCI7XG4gICAgLyoqIEFsbCBjb250ZW50IHdpbGwgYmUgYWxsb3dlZC4gKi9cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19OT05FXCJdID0gXCJCTE9DS19OT05FXCI7XG59KShIYXJtQmxvY2tUaHJlc2hvbGQgfHwgKEhhcm1CbG9ja1RocmVzaG9sZCA9IHt9KSk7XG4vKipcbiAqIFByb2JhYmlsaXR5IHRoYXQgYSBwcm9tcHQgb3IgY2FuZGlkYXRlIG1hdGNoZXMgYSBoYXJtIGNhdGVnb3J5LlxuICogQHB1YmxpY1xuICovXG52YXIgSGFybVByb2JhYmlsaXR5O1xuKGZ1bmN0aW9uIChIYXJtUHJvYmFiaWxpdHkpIHtcbiAgICAvKiogUHJvYmFiaWxpdHkgaXMgdW5zcGVjaWZpZWQuICovXG4gICAgSGFybVByb2JhYmlsaXR5W1wiSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKiBDb250ZW50IGhhcyBhIG5lZ2xpZ2libGUgY2hhbmNlIG9mIGJlaW5nIHVuc2FmZS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJORUdMSUdJQkxFXCJdID0gXCJORUdMSUdJQkxFXCI7XG4gICAgLyoqIENvbnRlbnQgaGFzIGEgbG93IGNoYW5jZSBvZiBiZWluZyB1bnNhZmUuICovXG4gICAgSGFybVByb2JhYmlsaXR5W1wiTE9XXCJdID0gXCJMT1dcIjtcbiAgICAvKiogQ29udGVudCBoYXMgYSBtZWRpdW0gY2hhbmNlIG9mIGJlaW5nIHVuc2FmZS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJNRURJVU1cIl0gPSBcIk1FRElVTVwiO1xuICAgIC8qKiBDb250ZW50IGhhcyBhIGhpZ2ggY2hhbmNlIG9mIGJlaW5nIHVuc2FmZS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJISUdIXCJdID0gXCJISUdIXCI7XG59KShIYXJtUHJvYmFiaWxpdHkgfHwgKEhhcm1Qcm9iYWJpbGl0eSA9IHt9KSk7XG4vKipcbiAqIFJlYXNvbiB0aGF0IGEgcHJvbXB0IHdhcyBibG9ja2VkLlxuICogQHB1YmxpY1xuICovXG52YXIgQmxvY2tSZWFzb247XG4oZnVuY3Rpb24gKEJsb2NrUmVhc29uKSB7XG4gICAgLy8gQSBibG9ja2VkIHJlYXNvbiB3YXMgbm90IHNwZWNpZmllZC5cbiAgICBCbG9ja1JlYXNvbltcIkJMT0NLRURfUkVBU09OX1VOU1BFQ0lGSUVEXCJdID0gXCJCTE9DS0VEX1JFQVNPTl9VTlNQRUNJRklFRFwiO1xuICAgIC8vIENvbnRlbnQgd2FzIGJsb2NrZWQgYnkgc2FmZXR5IHNldHRpbmdzLlxuICAgIEJsb2NrUmVhc29uW1wiU0FGRVRZXCJdID0gXCJTQUZFVFlcIjtcbiAgICAvLyBDb250ZW50IHdhcyBibG9ja2VkLCBidXQgdGhlIHJlYXNvbiBpcyB1bmNhdGVnb3JpemVkLlxuICAgIEJsb2NrUmVhc29uW1wiT1RIRVJcIl0gPSBcIk9USEVSXCI7XG59KShCbG9ja1JlYXNvbiB8fCAoQmxvY2tSZWFzb24gPSB7fSkpO1xuLyoqXG4gKiBSZWFzb24gdGhhdCBhIGNhbmRpZGF0ZSBmaW5pc2hlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEZpbmlzaFJlYXNvbjtcbihmdW5jdGlvbiAoRmluaXNoUmVhc29uKSB7XG4gICAgLy8gRGVmYXVsdCB2YWx1ZS4gVGhpcyB2YWx1ZSBpcyB1bnVzZWQuXG4gICAgRmluaXNoUmVhc29uW1wiRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRFwiXSA9IFwiRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRFwiO1xuICAgIC8vIE5hdHVyYWwgc3RvcCBwb2ludCBvZiB0aGUgbW9kZWwgb3IgcHJvdmlkZWQgc3RvcCBzZXF1ZW5jZS5cbiAgICBGaW5pc2hSZWFzb25bXCJTVE9QXCJdID0gXCJTVE9QXCI7XG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyBhcyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgd2FzIHJlYWNoZWQuXG4gICAgRmluaXNoUmVhc29uW1wiTUFYX1RPS0VOU1wiXSA9IFwiTUFYX1RPS0VOU1wiO1xuICAgIC8vIFRoZSBjYW5kaWRhdGUgY29udGVudCB3YXMgZmxhZ2dlZCBmb3Igc2FmZXR5IHJlYXNvbnMuXG4gICAgRmluaXNoUmVhc29uW1wiU0FGRVRZXCJdID0gXCJTQUZFVFlcIjtcbiAgICAvLyBUaGUgY2FuZGlkYXRlIGNvbnRlbnQgd2FzIGZsYWdnZWQgZm9yIHJlY2l0YXRpb24gcmVhc29ucy5cbiAgICBGaW5pc2hSZWFzb25bXCJSRUNJVEFUSU9OXCJdID0gXCJSRUNJVEFUSU9OXCI7XG4gICAgLy8gVGhlIGNhbmRpZGF0ZSBjb250ZW50IHdhcyBmbGFnZ2VkIGZvciB1c2luZyBhbiB1bnN1cHBvcnRlZCBsYW5ndWFnZS5cbiAgICBGaW5pc2hSZWFzb25bXCJMQU5HVUFHRVwiXSA9IFwiTEFOR1VBR0VcIjtcbiAgICAvLyBUb2tlbiBnZW5lcmF0aW9uIHN0b3BwZWQgYmVjYXVzZSB0aGUgY29udGVudCBjb250YWlucyBmb3JiaWRkZW4gdGVybXMuXG4gICAgRmluaXNoUmVhc29uW1wiQkxPQ0tMSVNUXCJdID0gXCJCTE9DS0xJU1RcIjtcbiAgICAvLyBUb2tlbiBnZW5lcmF0aW9uIHN0b3BwZWQgZm9yIHBvdGVudGlhbGx5IGNvbnRhaW5pbmcgcHJvaGliaXRlZCBjb250ZW50LlxuICAgIEZpbmlzaFJlYXNvbltcIlBST0hJQklURURfQ09OVEVOVFwiXSA9IFwiUFJPSElCSVRFRF9DT05URU5UXCI7XG4gICAgLy8gVG9rZW4gZ2VuZXJhdGlvbiBzdG9wcGVkIGJlY2F1c2UgdGhlIGNvbnRlbnQgcG90ZW50aWFsbHkgY29udGFpbnMgU2Vuc2l0aXZlIFBlcnNvbmFsbHkgSWRlbnRpZmlhYmxlIEluZm9ybWF0aW9uIChTUElJKS5cbiAgICBGaW5pc2hSZWFzb25bXCJTUElJXCJdID0gXCJTUElJXCI7XG4gICAgLy8gVGhlIGZ1bmN0aW9uIGNhbGwgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpcyBpbnZhbGlkLlxuICAgIEZpbmlzaFJlYXNvbltcIk1BTEZPUk1FRF9GVU5DVElPTl9DQUxMXCJdID0gXCJNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTFwiO1xuICAgIC8vIFVua25vd24gcmVhc29uLlxuICAgIEZpbmlzaFJlYXNvbltcIk9USEVSXCJdID0gXCJPVEhFUlwiO1xufSkoRmluaXNoUmVhc29uIHx8IChGaW5pc2hSZWFzb24gPSB7fSkpO1xuLyoqXG4gKiBUYXNrIHR5cGUgZm9yIGVtYmVkZGluZyBjb250ZW50LlxuICogQHB1YmxpY1xuICovXG52YXIgVGFza1R5cGU7XG4oZnVuY3Rpb24gKFRhc2tUeXBlKSB7XG4gICAgVGFza1R5cGVbXCJUQVNLX1RZUEVfVU5TUEVDSUZJRURcIl0gPSBcIlRBU0tfVFlQRV9VTlNQRUNJRklFRFwiO1xuICAgIFRhc2tUeXBlW1wiUkVUUklFVkFMX1FVRVJZXCJdID0gXCJSRVRSSUVWQUxfUVVFUllcIjtcbiAgICBUYXNrVHlwZVtcIlJFVFJJRVZBTF9ET0NVTUVOVFwiXSA9IFwiUkVUUklFVkFMX0RPQ1VNRU5UXCI7XG4gICAgVGFza1R5cGVbXCJTRU1BTlRJQ19TSU1JTEFSSVRZXCJdID0gXCJTRU1BTlRJQ19TSU1JTEFSSVRZXCI7XG4gICAgVGFza1R5cGVbXCJDTEFTU0lGSUNBVElPTlwiXSA9IFwiQ0xBU1NJRklDQVRJT05cIjtcbiAgICBUYXNrVHlwZVtcIkNMVVNURVJJTkdcIl0gPSBcIkNMVVNURVJJTkdcIjtcbn0pKFRhc2tUeXBlIHx8IChUYXNrVHlwZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEZ1bmN0aW9uQ2FsbGluZ01vZGU7XG4oZnVuY3Rpb24gKEZ1bmN0aW9uQ2FsbGluZ01vZGUpIHtcbiAgICAvLyBVbnNwZWNpZmllZCBmdW5jdGlvbiBjYWxsaW5nIG1vZGUuIFRoaXMgdmFsdWUgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgIEZ1bmN0aW9uQ2FsbGluZ01vZGVbXCJNT0RFX1VOU1BFQ0lGSUVEXCJdID0gXCJNT0RFX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gRGVmYXVsdCBtb2RlbCBiZWhhdmlvciwgbW9kZWwgZGVjaWRlcyB0byBwcmVkaWN0IGVpdGhlciBhIGZ1bmN0aW9uIGNhbGxcbiAgICAvLyBvciBhIG5hdHVyYWwgbGFuZ3VhZ2UgcmVwc3Bvc2UuXG4gICAgRnVuY3Rpb25DYWxsaW5nTW9kZVtcIkFVVE9cIl0gPSBcIkFVVE9cIjtcbiAgICAvLyBNb2RlbCBpcyBjb25zdHJhaW5lZCB0byBhbHdheXMgcHJlZGljdGluZyBhIGZ1bmN0aW9uIGNhbGwgb25seS5cbiAgICAvLyBJZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiBhcmUgc2V0LCB0aGUgcHJlZGljdGVkIGZ1bmN0aW9uIGNhbGwgd2lsbCBiZVxuICAgIC8vIGxpbWl0ZWQgdG8gYW55IG9uZSBvZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiwgZWxzZSB0aGUgcHJlZGljdGVkXG4gICAgLy8gZnVuY3Rpb24gY2FsbCB3aWxsIGJlIGFueSBvbmUgb2YgdGhlIHByb3ZpZGVkIFwiZnVuY3Rpb25fZGVjbGFyYXRpb25zXCIuXG4gICAgRnVuY3Rpb25DYWxsaW5nTW9kZVtcIkFOWVwiXSA9IFwiQU5ZXCI7XG4gICAgLy8gTW9kZWwgd2lsbCBub3QgcHJlZGljdCBhbnkgZnVuY3Rpb24gY2FsbC4gTW9kZWwgYmVoYXZpb3IgaXMgc2FtZSBhcyB3aGVuXG4gICAgLy8gbm90IHBhc3NpbmcgYW55IGZ1bmN0aW9uIGRlY2xhcmF0aW9ucy5cbiAgICBGdW5jdGlvbkNhbGxpbmdNb2RlW1wiTk9ORVwiXSA9IFwiTk9ORVwiO1xufSkoRnVuY3Rpb25DYWxsaW5nTW9kZSB8fCAoRnVuY3Rpb25DYWxsaW5nTW9kZSA9IHt9KSk7XG4vKipcbiAqIFRoZSBtb2RlIG9mIHRoZSBwcmVkaWN0b3IgdG8gYmUgdXNlZCBpbiBkeW5hbWljIHJldHJpZXZhbC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIER5bmFtaWNSZXRyaWV2YWxNb2RlO1xuKGZ1bmN0aW9uIChEeW5hbWljUmV0cmlldmFsTW9kZSkge1xuICAgIC8vIFVuc3BlY2lmaWVkIGZ1bmN0aW9uIGNhbGxpbmcgbW9kZS4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgRHluYW1pY1JldHJpZXZhbE1vZGVbXCJNT0RFX1VOU1BFQ0lGSUVEXCJdID0gXCJNT0RFX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gUnVuIHJldHJpZXZhbCBvbmx5IHdoZW4gc3lzdGVtIGRlY2lkZXMgaXQgaXMgbmVjZXNzYXJ5LlxuICAgIER5bmFtaWNSZXRyaWV2YWxNb2RlW1wiTU9ERV9EWU5BTUlDXCJdID0gXCJNT0RFX0RZTkFNSUNcIjtcbn0pKER5bmFtaWNSZXRyaWV2YWxNb2RlIHx8IChEeW5hbWljUmV0cmlldmFsTW9kZSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEJhc2ljIGVycm9yIHR5cGUgZm9yIHRoaXMgU0RLLlxuICogQHB1YmxpY1xuICovXG5jbGFzcyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKGBbR29vZ2xlR2VuZXJhdGl2ZUFJIEVycm9yXTogJHttZXNzYWdlfWApO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3JzIGluIHRoZSBjb250ZW50cyBvZiBhIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLiBUaGlzIGluY2x1ZGVzIHBhcnNpbmdcbiAqIGVycm9ycywgb3IgcmVzcG9uc2VzIGluY2x1ZGluZyBhIHNhZmV0eSBibG9jayByZWFzb24uXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIGNsYXNzIGNvdmVyaW5nIEhUVFAgZXJyb3JzIHdoZW4gY2FsbGluZyB0aGUgc2VydmVyLiBJbmNsdWRlcyBIVFRQXG4gKiBzdGF0dXMsIHN0YXR1c1RleHQsIGFuZCBvcHRpb25hbCBkZXRhaWxzLCBpZiBwcm92aWRlZCBpbiB0aGUgc2VydmVyIHJlc3BvbnNlLlxuICogQHB1YmxpY1xuICovXG5jbGFzcyBHb29nbGVHZW5lcmF0aXZlQUlGZXRjaEVycm9yIGV4dGVuZHMgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgc3RhdHVzVGV4dCwgZXJyb3JEZXRhaWxzKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcbiAgICAgICAgdGhpcy5lcnJvckRldGFpbHMgPSBlcnJvckRldGFpbHM7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvcnMgaW4gdGhlIGNvbnRlbnRzIG9mIGEgcmVxdWVzdCBvcmlnaW5hdGluZyBmcm9tIHVzZXIgaW5wdXQuXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yIGV4dGVuZHMgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhIHJlcXVlc3QgaXMgYWJvcnRlZCwgZWl0aGVyIGR1ZSB0byBhIHRpbWVvdXQgb3JcbiAqIGludGVudGlvbmFsIGNhbmNlbGxhdGlvbiBieSB0aGUgdXNlci5cbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgR29vZ2xlR2VuZXJhdGl2ZUFJQWJvcnRFcnJvciBleHRlbmRzIEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yIHtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfQkFTRV9VUkwgPSBcImh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tXCI7XG5jb25zdCBERUZBVUxUX0FQSV9WRVJTSU9OID0gXCJ2MWJldGFcIjtcbi8qKlxuICogV2UgY2FuJ3QgYHJlcXVpcmVgIHBhY2thZ2UuanNvbiBpZiB0aGlzIHJ1bnMgb24gd2ViLiBXZSB3aWxsIHVzZSByb2xsdXAgdG9cbiAqIHN3YXAgaW4gdGhlIHZlcnNpb24gbnVtYmVyIGhlcmUgYXQgYnVpbGQgdGltZS5cbiAqL1xuY29uc3QgUEFDS0FHRV9WRVJTSU9OID0gXCIwLjI0LjBcIjtcbmNvbnN0IFBBQ0tBR0VfTE9HX0hFQURFUiA9IFwiZ2VuYWktanNcIjtcbnZhciBUYXNrO1xuKGZ1bmN0aW9uIChUYXNrKSB7XG4gICAgVGFza1tcIkdFTkVSQVRFX0NPTlRFTlRcIl0gPSBcImdlbmVyYXRlQ29udGVudFwiO1xuICAgIFRhc2tbXCJTVFJFQU1fR0VORVJBVEVfQ09OVEVOVFwiXSA9IFwic3RyZWFtR2VuZXJhdGVDb250ZW50XCI7XG4gICAgVGFza1tcIkNPVU5UX1RPS0VOU1wiXSA9IFwiY291bnRUb2tlbnNcIjtcbiAgICBUYXNrW1wiRU1CRURfQ09OVEVOVFwiXSA9IFwiZW1iZWRDb250ZW50XCI7XG4gICAgVGFza1tcIkJBVENIX0VNQkVEX0NPTlRFTlRTXCJdID0gXCJiYXRjaEVtYmVkQ29udGVudHNcIjtcbn0pKFRhc2sgfHwgKFRhc2sgPSB7fSkpO1xuY2xhc3MgUmVxdWVzdFVybCB7XG4gICAgY29uc3RydWN0b3IobW9kZWwsIHRhc2ssIGFwaUtleSwgc3RyZWFtLCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMudGFzayA9IHRhc2s7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgYXBpVmVyc2lvbiA9ICgoX2EgPSB0aGlzLnJlcXVlc3RPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXBpVmVyc2lvbikgfHwgREVGQVVMVF9BUElfVkVSU0lPTjtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9ICgoX2IgPSB0aGlzLnJlcXVlc3RPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmFzZVVybCkgfHwgREVGQVVMVF9CQVNFX1VSTDtcbiAgICAgICAgbGV0IHVybCA9IGAke2Jhc2VVcmx9LyR7YXBpVmVyc2lvbn0vJHt0aGlzLm1vZGVsfToke3RoaXMudGFza31gO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHVybCArPSBcIj9hbHQ9c3NlXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG4vKipcbiAqIFNpbXBsZSwgYnV0IG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHdlIGFkZCBtb3JlIHZlcnNpb25zIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50SGVhZGVycyhyZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IGNsaWVudEhlYWRlcnMgPSBbXTtcbiAgICBpZiAocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmFwaUNsaWVudCkge1xuICAgICAgICBjbGllbnRIZWFkZXJzLnB1c2gocmVxdWVzdE9wdGlvbnMuYXBpQ2xpZW50KTtcbiAgICB9XG4gICAgY2xpZW50SGVhZGVycy5wdXNoKGAke1BBQ0tBR0VfTE9HX0hFQURFUn0vJHtQQUNLQUdFX1ZFUlNJT059YCk7XG4gICAgcmV0dXJuIGNsaWVudEhlYWRlcnMuam9pbihcIiBcIik7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRIZWFkZXJzKHVybCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgaGVhZGVycy5hcHBlbmQoXCJ4LWdvb2ctYXBpLWNsaWVudFwiLCBnZXRDbGllbnRIZWFkZXJzKHVybC5yZXF1ZXN0T3B0aW9ucykpO1xuICAgIGhlYWRlcnMuYXBwZW5kKFwieC1nb29nLWFwaS1rZXlcIiwgdXJsLmFwaUtleSk7XG4gICAgbGV0IGN1c3RvbUhlYWRlcnMgPSAoX2EgPSB1cmwucmVxdWVzdE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jdXN0b21IZWFkZXJzO1xuICAgIGlmIChjdXN0b21IZWFkZXJzKSB7XG4gICAgICAgIGlmICghKGN1c3RvbUhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjdXN0b21IZWFkZXJzID0gbmV3IEhlYWRlcnMoY3VzdG9tSGVhZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXF1ZXN0SW5wdXRFcnJvcihgdW5hYmxlIHRvIGNvbnZlcnQgY3VzdG9tSGVhZGVycyB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KGN1c3RvbUhlYWRlcnMpfSB0byBIZWFkZXJzOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZV0gb2YgY3VzdG9tSGVhZGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChoZWFkZXJOYW1lID09PSBcIngtZ29vZy1hcGkta2V5XCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IoYENhbm5vdCBzZXQgcmVzZXJ2ZWQgaGVhZGVyIG5hbWUgJHtoZWFkZXJOYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyTmFtZSA9PT0gXCJ4LWdvb2ctYXBpLWNsaWVudFwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKGBIZWFkZXIgbmFtZSAke2hlYWRlck5hbWV9IGNhbiBvbmx5IGJlIHNldCB1c2luZyB0aGUgYXBpQ2xpZW50IGZpZWxkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59XG5hc3luYyBmdW5jdGlvbiBjb25zdHJ1Y3RNb2RlbFJlcXVlc3QobW9kZWwsIHRhc2ssIGFwaUtleSwgc3RyZWFtLCBib2R5LCByZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IHVybCA9IG5ldyBSZXF1ZXN0VXJsKG1vZGVsLCB0YXNrLCBhcGlLZXksIHN0cmVhbSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVybDogdXJsLnRvU3RyaW5nKCksXG4gICAgICAgIGZldGNoT3B0aW9uczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBidWlsZEZldGNoT3B0aW9ucyhyZXF1ZXN0T3B0aW9ucykpLCB7IG1ldGhvZDogXCJQT1NUXCIsIGhlYWRlcnM6IGF3YWl0IGdldEhlYWRlcnModXJsKSwgYm9keSB9KSxcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbWFrZU1vZGVsUmVxdWVzdChtb2RlbCwgdGFzaywgYXBpS2V5LCBzdHJlYW0sIGJvZHksIHJlcXVlc3RPcHRpb25zID0ge30sIFxuLy8gQWxsb3dzIHRoaXMgdG8gYmUgc3R1YmJlZCBmb3IgdGVzdHNcbmZldGNoRm4gPSBmZXRjaCkge1xuICAgIGNvbnN0IHsgdXJsLCBmZXRjaE9wdGlvbnMgfSA9IGF3YWl0IGNvbnN0cnVjdE1vZGVsUmVxdWVzdChtb2RlbCwgdGFzaywgYXBpS2V5LCBzdHJlYW0sIGJvZHksIHJlcXVlc3RPcHRpb25zKTtcbiAgICByZXR1cm4gbWFrZVJlcXVlc3QodXJsLCBmZXRjaE9wdGlvbnMsIGZldGNoRm4pO1xufVxuYXN5bmMgZnVuY3Rpb24gbWFrZVJlcXVlc3QodXJsLCBmZXRjaE9wdGlvbnMsIGZldGNoRm4gPSBmZXRjaCkge1xuICAgIGxldCByZXNwb25zZTtcbiAgICB0cnkge1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoRm4odXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVSZXNwb25zZUVycm9yKGUsIHVybCk7XG4gICAgfVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2VOb3RPayhyZXNwb25zZSwgdXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2VFcnJvcihlLCB1cmwpIHtcbiAgICBsZXQgZXJyID0gZTtcbiAgICBpZiAoZXJyLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIGVyciA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlBYm9ydEVycm9yKGBSZXF1ZXN0IGFib3J0ZWQgd2hlbiBmZXRjaGluZyAke3VybC50b1N0cmluZygpfTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgIGVyci5zdGFjayA9IGUuc3RhY2s7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEoZSBpbnN0YW5jZW9mIEdvb2dsZUdlbmVyYXRpdmVBSUZldGNoRXJyb3IgfHxcbiAgICAgICAgZSBpbnN0YW5jZW9mIEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKSkge1xuICAgICAgICBlcnIgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYEVycm9yIGZldGNoaW5nIGZyb20gJHt1cmwudG9TdHJpbmcoKX06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICBlcnIuc3RhY2sgPSBlLnN0YWNrO1xuICAgIH1cbiAgICB0aHJvdyBlcnI7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZU5vdE9rKHJlc3BvbnNlLCB1cmwpIHtcbiAgICBsZXQgbWVzc2FnZSA9IFwiXCI7XG4gICAgbGV0IGVycm9yRGV0YWlscztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZXNzYWdlID0ganNvbi5lcnJvci5tZXNzYWdlO1xuICAgICAgICBpZiAoanNvbi5lcnJvci5kZXRhaWxzKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGAgJHtKU09OLnN0cmluZ2lmeShqc29uLmVycm9yLmRldGFpbHMpfWA7XG4gICAgICAgICAgICBlcnJvckRldGFpbHMgPSBqc29uLmVycm9yLmRldGFpbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlZFxuICAgIH1cbiAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRmV0Y2hFcnJvcihgRXJyb3IgZmV0Y2hpbmcgZnJvbSAke3VybC50b1N0cmluZygpfTogWyR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9XSAke21lc3NhZ2V9YCwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0LCBlcnJvckRldGFpbHMpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIHJlcXVlc3Qgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIGZldGNoIEFQSS5cbiAqIEBwYXJhbSByZXF1ZXN0T3B0aW9ucyAtIFRoZSB1c2VyLWRlZmluZWQgcmVxdWVzdCBvcHRpb25zLlxuICogQHJldHVybnMgVGhlIGdlbmVyYXRlZCByZXF1ZXN0IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkRmV0Y2hPcHRpb25zKHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0ge307XG4gICAgaWYgKChyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsKSAhPT0gdW5kZWZpbmVkIHx8IChyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMudGltZW91dCkgPj0gMCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBpZiAoKHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy50aW1lb3V0KSA+PSAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgcmVxdWVzdE9wdGlvbnMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZldGNoT3B0aW9ucy5zaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoT3B0aW9ucztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQWRkcyBjb252ZW5pZW5jZSBoZWxwZXIgbWV0aG9kcyB0byBhIHJlc3BvbnNlIG9iamVjdCwgaW5jbHVkaW5nIHN0cmVhbVxuICogY2h1bmtzIChhcyBsb25nIGFzIGVhY2ggY2h1bmsgaXMgYSBjb21wbGV0ZSBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSBKU09OKS5cbiAqL1xuZnVuY3Rpb24gYWRkSGVscGVycyhyZXNwb25zZSkge1xuICAgIHJlc3BvbnNlLnRleHQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzICYmIHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhpcyByZXNwb25zZSBoYWQgJHtyZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aH0gYCArXG4gICAgICAgICAgICAgICAgICAgIGBjYW5kaWRhdGVzLiBSZXR1cm5pbmcgdGV4dCBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgb25seS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBBY2Nlc3MgcmVzcG9uc2UuY2FuZGlkYXRlcyBkaXJlY3RseSB0byB1c2UgdGhlIG90aGVyIGNhbmRpZGF0ZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFkQmFkRmluaXNoUmVhc29uKHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYCR7Zm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRUZXh0KHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5wcm9tcHRGZWVkYmFjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYFRleHQgbm90IGF2YWlsYWJsZS4gJHtmb3JtYXRCbG9ja0Vycm9yTWVzc2FnZShyZXNwb25zZSl9YCwgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVE9ETzogcmVtb3ZlIGF0IG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAqL1xuICAgIHJlc3BvbnNlLmZ1bmN0aW9uQ2FsbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMgJiYgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGlzIHJlc3BvbnNlIGhhZCAke3Jlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RofSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGNhbmRpZGF0ZXMuIFJldHVybmluZyBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgb25seS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBBY2Nlc3MgcmVzcG9uc2UuY2FuZGlkYXRlcyBkaXJlY3RseSB0byB1c2UgdGhlIG90aGVyIGNhbmRpZGF0ZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFkQmFkRmluaXNoUmVhc29uKHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYCR7Zm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgcmVzcG9uc2UuZnVuY3Rpb25DYWxsKCkgaXMgZGVwcmVjYXRlZC4gYCArXG4gICAgICAgICAgICAgICAgYFVzZSByZXNwb25zZS5mdW5jdGlvbkNhbGxzKCkgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRGdW5jdGlvbkNhbGxzKHJlc3BvbnNlKVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5wcm9tcHRGZWVkYmFjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYEZ1bmN0aW9uIGNhbGwgbm90IGF2YWlsYWJsZS4gJHtmb3JtYXRCbG9ja0Vycm9yTWVzc2FnZShyZXNwb25zZSl9YCwgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXNwb25zZS5mdW5jdGlvbkNhbGxzID0gKCkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcyAmJiByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoaXMgcmVzcG9uc2UgaGFkICR7cmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGh9IGAgK1xuICAgICAgICAgICAgICAgICAgICBgY2FuZGlkYXRlcy4gUmV0dXJuaW5nIGZ1bmN0aW9uIGNhbGxzIGZyb20gdGhlIGZpcnN0IGNhbmRpZGF0ZSBvbmx5LiBgICtcbiAgICAgICAgICAgICAgICAgICAgYEFjY2VzcyByZXNwb25zZS5jYW5kaWRhdGVzIGRpcmVjdGx5IHRvIHVzZSB0aGUgb3RoZXIgY2FuZGlkYXRlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYWRCYWRGaW5pc2hSZWFzb24ocmVzcG9uc2UuY2FuZGlkYXRlc1swXSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVzcG9uc2VFcnJvcihgJHtmb3JtYXRCbG9ja0Vycm9yTWVzc2FnZShyZXNwb25zZSl9YCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldEZ1bmN0aW9uQ2FsbHMocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLnByb21wdEZlZWRiYWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVzcG9uc2VFcnJvcihgRnVuY3Rpb24gY2FsbCBub3QgYXZhaWxhYmxlLiAke2Zvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3BvbnNlKX1gLCByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgdGV4dCBmb3VuZCBpbiBhbGwgcGFydHMgb2YgZmlyc3QgY2FuZGlkYXRlLlxuICovXG5mdW5jdGlvbiBnZXRUZXh0KHJlc3BvbnNlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHRleHRTdHJpbmdzID0gW107XG4gICAgaWYgKChfYiA9IChfYSA9IHJlc3BvbnNlLmNhbmRpZGF0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXS5jb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGFydHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIChfZCA9IChfYyA9IHJlc3BvbnNlLmNhbmRpZGF0ZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1swXS5jb250ZW50KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnRleHQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U3RyaW5ncy5wdXNoKHBhcnQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydC5leGVjdXRhYmxlQ29kZSkge1xuICAgICAgICAgICAgICAgIHRleHRTdHJpbmdzLnB1c2goXCJcXG5gYGBcIiArXG4gICAgICAgICAgICAgICAgICAgIHBhcnQuZXhlY3V0YWJsZUNvZGUubGFuZ3VhZ2UgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5leGVjdXRhYmxlQ29kZS5jb2RlICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5gYGBcXG5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdGV4dFN0cmluZ3MucHVzaChcIlxcbmBgYFxcblwiICsgcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0Lm91dHB1dCArIFwiXFxuYGBgXFxuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0ZXh0U3RyaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0ZXh0U3RyaW5ncy5qb2luKFwiXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGZ1bmN0aW9uQ2FsbCBvZiBmaXJzdCBjYW5kaWRhdGUuXG4gKi9cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uQ2FsbHMocmVzcG9uc2UpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgZnVuY3Rpb25DYWxscyA9IFtdO1xuICAgIGlmICgoX2IgPSAoX2EgPSByZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF0uY29udGVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhcnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiAoX2QgPSAoX2MgPSByZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0uY29udGVudCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnBhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydC5mdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbkNhbGxzLnB1c2gocGFydC5mdW5jdGlvbkNhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmdW5jdGlvbkNhbGxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uQ2FsbHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmNvbnN0IGJhZEZpbmlzaFJlYXNvbnMgPSBbXG4gICAgRmluaXNoUmVhc29uLlJFQ0lUQVRJT04sXG4gICAgRmluaXNoUmVhc29uLlNBRkVUWSxcbiAgICBGaW5pc2hSZWFzb24uTEFOR1VBR0UsXG5dO1xuZnVuY3Rpb24gaGFkQmFkRmluaXNoUmVhc29uKGNhbmRpZGF0ZSkge1xuICAgIHJldHVybiAoISFjYW5kaWRhdGUuZmluaXNoUmVhc29uICYmXG4gICAgICAgIGJhZEZpbmlzaFJlYXNvbnMuaW5jbHVkZXMoY2FuZGlkYXRlLmZpbmlzaFJlYXNvbikpO1xufVxuZnVuY3Rpb24gZm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBsZXQgbWVzc2FnZSA9IFwiXCI7XG4gICAgaWYgKCghcmVzcG9uc2UuY2FuZGlkYXRlcyB8fCByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgcmVzcG9uc2UucHJvbXB0RmVlZGJhY2spIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIlJlc3BvbnNlIHdhcyBibG9ja2VkXCI7XG4gICAgICAgIGlmICgoX2EgPSByZXNwb25zZS5wcm9tcHRGZWVkYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsb2NrUmVhc29uKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGAgZHVlIHRvICR7cmVzcG9uc2UucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb259YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9iID0gcmVzcG9uc2UucHJvbXB0RmVlZGJhY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ibG9ja1JlYXNvbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDogJHtyZXNwb25zZS5wcm9tcHRGZWVkYmFjay5ibG9ja1JlYXNvbk1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgoX2MgPSByZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0pIHtcbiAgICAgICAgY29uc3QgZmlyc3RDYW5kaWRhdGUgPSByZXNwb25zZS5jYW5kaWRhdGVzWzBdO1xuICAgICAgICBpZiAoaGFkQmFkRmluaXNoUmVhc29uKGZpcnN0Q2FuZGlkYXRlKSkge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgQ2FuZGlkYXRlIHdhcyBibG9ja2VkIGR1ZSB0byAke2ZpcnN0Q2FuZGlkYXRlLmZpbmlzaFJlYXNvbn1gO1xuICAgICAgICAgICAgaWYgKGZpcnN0Q2FuZGlkYXRlLmZpbmlzaE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGA6ICR7Zmlyc3RDYW5kaWRhdGUuZmluaXNoTWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sICovXHJcblxyXG5cclxuZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCByZXNwb25zZUxpbmVSRSA9IC9eZGF0YVxcOiAoLiopKD86XFxuXFxufFxcclxccnxcXHJcXG5cXHJcXG4pLztcbi8qKlxuICogUHJvY2VzcyBhIHJlc3BvbnNlLmJvZHkgc3RyZWFtIGZyb20gdGhlIGJhY2tlbmQgYW5kIHJldHVybiBhblxuICogaXRlcmF0b3IgdGhhdCBwcm92aWRlcyBvbmUgY29tcGxldGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2UgYXQgYSB0aW1lXG4gKiBhbmQgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHNpbmdsZSBhZ2dyZWdhdGVkXG4gKiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0gcmVzcG9uc2UgLSBSZXNwb25zZSBmcm9tIGEgZmV0Y2ggY2FsbFxuICovXG5mdW5jdGlvbiBwcm9jZXNzU3RyZWFtKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgaW5wdXRTdHJlYW0gPSByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbShcInV0ZjhcIiwgeyBmYXRhbDogdHJ1ZSB9KSk7XG4gICAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBnZXRSZXNwb25zZVN0cmVhbShpbnB1dFN0cmVhbSk7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gcmVzcG9uc2VTdHJlYW0udGVlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBnZW5lcmF0ZVJlc3BvbnNlU2VxdWVuY2Uoc3RyZWFtMSksXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZVByb21pc2Uoc3RyZWFtMiksXG4gICAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFJlc3BvbnNlUHJvbWlzZShzdHJlYW0pIHtcbiAgICBjb25zdCBhbGxSZXNwb25zZXMgPSBbXTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRIZWxwZXJzKGFnZ3JlZ2F0ZVJlc3BvbnNlcyhhbGxSZXNwb25zZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBhbGxSZXNwb25zZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVSZXNwb25zZVNlcXVlbmNlKHN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIGdlbmVyYXRlUmVzcG9uc2VTZXF1ZW5jZV8xKCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSB5aWVsZCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpO1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoYWRkSGVscGVycyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFJlYWRzIGEgcmF3IHN0cmVhbSBmcm9tIHRoZSBmZXRjaCByZXNwb25zZSBhbmQgam9pbiBpbmNvbXBsZXRlXG4gKiBjaHVua3MsIHJldHVybmluZyBhIG5ldyBzdHJlYW0gdGhhdCBwcm92aWRlcyBhIHNpbmdsZSBjb21wbGV0ZVxuICogR2VuZXJhdGVDb250ZW50UmVzcG9uc2UgaW4gZWFjaCBpdGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFJlc3BvbnNlU3RyZWFtKGlucHV0U3RyZWFtKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXRTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBwdW1wKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgLnJlYWQoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoeyB2YWx1ZSwgZG9uZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHQgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IGN1cnJlbnRUZXh0Lm1hdGNoKHJlc3BvbnNlTGluZVJFKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYEVycm9yIHBhcnNpbmcgSlNPTiByZXNwb25zZTogXCIke21hdGNoWzFdfVwiYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJzZWRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dCA9IGN1cnJlbnRUZXh0LnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJyZW50VGV4dC5tYXRjaChyZXNwb25zZUxpbmVSRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGVyci5zdGFjayA9IGUuc3RhY2s7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlBYm9ydEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkIHdoZW4gcmVhZGluZyBmcm9tIHRoZSBzdHJlYW1cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJFcnJvciByZWFkaW5nIGZyb20gdGhlIHN0cmVhbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbn1cbi8qKlxuICogQWdncmVnYXRlcyBhbiBhcnJheSBvZiBgR2VuZXJhdGVDb250ZW50UmVzcG9uc2VgcyBpbnRvIGEgc2luZ2xlXG4gKiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5cbiAqL1xuZnVuY3Rpb24gYWdncmVnYXRlUmVzcG9uc2VzKHJlc3BvbnNlcykge1xuICAgIGNvbnN0IGxhc3RSZXNwb25zZSA9IHJlc3BvbnNlc1tyZXNwb25zZXMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgYWdncmVnYXRlZFJlc3BvbnNlID0ge1xuICAgICAgICBwcm9tcHRGZWVkYmFjazogbGFzdFJlc3BvbnNlID09PSBudWxsIHx8IGxhc3RSZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdFJlc3BvbnNlLnByb21wdEZlZWRiYWNrLFxuICAgIH07XG4gICAgZm9yIChjb25zdCByZXNwb25zZSBvZiByZXNwb25zZXMpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICAgIGxldCBjYW5kaWRhdGVJbmRleCA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiByZXNwb25zZS5jYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2NhbmRpZGF0ZUluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tjYW5kaWRhdGVJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogY2FuZGlkYXRlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEtlZXAgb3ZlcndyaXRpbmcsIHRoZSBsYXN0IG9uZSB3aWxsIGJlIGZpbmFsXG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbY2FuZGlkYXRlSW5kZXhdLmNpdGF0aW9uTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuY2l0YXRpb25NZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tjYW5kaWRhdGVJbmRleF0uZ3JvdW5kaW5nTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuZ3JvdW5kaW5nTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbY2FuZGlkYXRlSW5kZXhdLmZpbmlzaFJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS5maW5pc2hSZWFzb247XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbY2FuZGlkYXRlSW5kZXhdLmZpbmlzaE1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuZmluaXNoTWVzc2FnZTtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tjYW5kaWRhdGVJbmRleF0uc2FmZXR5UmF0aW5ncyA9XG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS5zYWZldHlSYXRpbmdzO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENhbmRpZGF0ZXMgc2hvdWxkIGFsd2F5cyBoYXZlIGNvbnRlbnQgYW5kIHBhcnRzLCBidXQgdGhpcyBoYW5kbGVzXG4gICAgICAgICAgICAgICAgICogcG9zc2libGUgbWFsZm9ybWVkIHJlc3BvbnNlcy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlLmNvbnRlbnQgJiYgY2FuZGlkYXRlLmNvbnRlbnQucGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tjYW5kaWRhdGVJbmRleF0uY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbY2FuZGlkYXRlSW5kZXhdLmNvbnRlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogY2FuZGlkYXRlLmNvbnRlbnQucm9sZSB8fCBcInVzZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNhbmRpZGF0ZS5jb250ZW50LnBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC50ZXh0ID0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5mdW5jdGlvbkNhbGwgPSBwYXJ0LmZ1bmN0aW9uQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmV4ZWN1dGFibGVDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5leGVjdXRhYmxlQ29kZSA9IHBhcnQuZXhlY3V0YWJsZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0ID0gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1BhcnQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcnQudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tjYW5kaWRhdGVJbmRleF0uY29udGVudC5wYXJ0cy5wdXNoKG5ld1BhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FuZGlkYXRlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UudXNhZ2VNZXRhZGF0YSkge1xuICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLnVzYWdlTWV0YWRhdGEgPSByZXNwb25zZS51c2FnZU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhZ2dyZWdhdGVkUmVzcG9uc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRTdHJlYW0oYXBpS2V5LCBtb2RlbCwgcGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFrZU1vZGVsUmVxdWVzdChtb2RlbCwgVGFzay5TVFJFQU1fR0VORVJBVEVfQ09OVEVOVCwgYXBpS2V5LCBcbiAgICAvKiBzdHJlYW0gKi8gdHJ1ZSwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiBwcm9jZXNzU3RyZWFtKHJlc3BvbnNlKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudChhcGlLZXksIG1vZGVsLCBwYXJhbXMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlTW9kZWxSZXF1ZXN0KG1vZGVsLCBUYXNrLkdFTkVSQVRFX0NPTlRFTlQsIGFwaUtleSwgXG4gICAgLyogc3RyZWFtICovIGZhbHNlLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3QgcmVzcG9uc2VKc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IGVuaGFuY2VkUmVzcG9uc2UgPSBhZGRIZWxwZXJzKHJlc3BvbnNlSnNvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2U6IGVuaGFuY2VkUmVzcG9uc2UsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFN5c3RlbUluc3RydWN0aW9uKGlucHV0KSB7XG4gICAgLy8gbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgcm9sZTogXCJzeXN0ZW1cIiwgcGFydHM6IFt7IHRleHQ6IGlucHV0IH1dIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlucHV0LnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHsgcm9sZTogXCJzeXN0ZW1cIiwgcGFydHM6IFtpbnB1dF0gfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5wdXQucGFydHMpIHtcbiAgICAgICAgaWYgKCFpbnB1dC5yb2xlKSB7XG4gICAgICAgICAgICByZXR1cm4geyByb2xlOiBcInN5c3RlbVwiLCBwYXJ0czogaW5wdXQucGFydHMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE5ld0NvbnRlbnQocmVxdWVzdCkge1xuICAgIGxldCBuZXdQYXJ0cyA9IFtdO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBuZXdQYXJ0cyA9IFt7IHRleHQ6IHJlcXVlc3QgfV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRPclN0cmluZyBvZiByZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnRPclN0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIG5ld1BhcnRzLnB1c2goeyB0ZXh0OiBwYXJ0T3JTdHJpbmcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHBhcnRPclN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFzc2lnblJvbGVUb1BhcnRzQW5kVmFsaWRhdGVTZW5kTWVzc2FnZVJlcXVlc3QobmV3UGFydHMpO1xufVxuLyoqXG4gKiBXaGVuIG11bHRpcGxlIFBhcnQgdHlwZXMgKGkuZS4gRnVuY3Rpb25SZXNwb25zZVBhcnQgYW5kIFRleHRQYXJ0KSBhcmVcbiAqIHBhc3NlZCBpbiBhIHNpbmdsZSBQYXJ0IGFycmF5LCB3ZSBtYXkgbmVlZCB0byBhc3NpZ24gZGlmZmVyZW50IHJvbGVzIHRvIGVhY2hcbiAqIHBhcnQuIEN1cnJlbnRseSBvbmx5IEZ1bmN0aW9uUmVzcG9uc2VQYXJ0IHJlcXVpcmVzIGEgcm9sZSBvdGhlciB0aGFuICd1c2VyJy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gcGFydHMgQXJyYXkgb2YgcGFydHMgdG8gcGFzcyB0byB0aGUgbW9kZWxcbiAqIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYXNzaWduUm9sZVRvUGFydHNBbmRWYWxpZGF0ZVNlbmRNZXNzYWdlUmVxdWVzdChwYXJ0cykge1xuICAgIGNvbnN0IHVzZXJDb250ZW50ID0geyByb2xlOiBcInVzZXJcIiwgcGFydHM6IFtdIH07XG4gICAgY29uc3QgZnVuY3Rpb25Db250ZW50ID0geyByb2xlOiBcImZ1bmN0aW9uXCIsIHBhcnRzOiBbXSB9O1xuICAgIGxldCBoYXNVc2VyQ29udGVudCA9IGZhbHNlO1xuICAgIGxldCBoYXNGdW5jdGlvbkNvbnRlbnQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25SZXNwb25zZVwiIGluIHBhcnQpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uQ29udGVudC5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgaGFzRnVuY3Rpb25Db250ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJDb250ZW50LnBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICBoYXNVc2VyQ29udGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc1VzZXJDb250ZW50ICYmIGhhc0Z1bmN0aW9uQ29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJXaXRoaW4gYSBzaW5nbGUgbWVzc2FnZSwgRnVuY3Rpb25SZXNwb25zZSBjYW5ub3QgYmUgbWl4ZWQgd2l0aCBvdGhlciB0eXBlIG9mIHBhcnQgaW4gdGhlIHJlcXVlc3QgZm9yIHNlbmRpbmcgY2hhdCBtZXNzYWdlLlwiKTtcbiAgICB9XG4gICAgaWYgKCFoYXNVc2VyQ29udGVudCAmJiAhaGFzRnVuY3Rpb25Db250ZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcihcIk5vIGNvbnRlbnQgaXMgcHJvdmlkZWQgZm9yIHNlbmRpbmcgY2hhdCBtZXNzYWdlLlwiKTtcbiAgICB9XG4gICAgaWYgKGhhc1VzZXJDb250ZW50KSB7XG4gICAgICAgIHJldHVybiB1c2VyQ29udGVudDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uQ29udGVudDtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvdW50VG9rZW5zSW5wdXQocGFyYW1zLCBtb2RlbFBhcmFtcykge1xuICAgIHZhciBfYTtcbiAgICBsZXQgZm9ybWF0dGVkR2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHtcbiAgICAgICAgbW9kZWw6IG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtcy5tb2RlbCxcbiAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgIHNhZmV0eVNldHRpbmdzOiBtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgIHRvb2xzOiBtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXMudG9vbHMsXG4gICAgICAgIHRvb2xDb25maWc6IG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtcy50b29sQ29uZmlnLFxuICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICBjYWNoZWRDb250ZW50OiAoX2EgPSBtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXMuY2FjaGVkQ29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUsXG4gICAgICAgIGNvbnRlbnRzOiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRhaW5zR2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHBhcmFtcy5nZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0ICE9IG51bGw7XG4gICAgaWYgKHBhcmFtcy5jb250ZW50cykge1xuICAgICAgICBpZiAoY29udGFpbnNHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IoXCJDb3VudFRva2Vuc1JlcXVlc3QgbXVzdCBoYXZlIG9uZSBvZiBjb250ZW50cyBvciBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0LCBub3QgYm90aC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0dGVkR2VuZXJhdGVDb250ZW50UmVxdWVzdC5jb250ZW50cyA9IHBhcmFtcy5jb250ZW50cztcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGFpbnNHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KSB7XG4gICAgICAgIGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QpLCBwYXJhbXMuZ2VuZXJhdGVDb250ZW50UmVxdWVzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBBcnJheSBvciBzdHJpbmdcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZvcm1hdE5ld0NvbnRlbnQocGFyYW1zKTtcbiAgICAgICAgZm9ybWF0dGVkR2VuZXJhdGVDb250ZW50UmVxdWVzdC5jb250ZW50cyA9IFtjb250ZW50XTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZ2VuZXJhdGVDb250ZW50UmVxdWVzdDogZm9ybWF0dGVkR2VuZXJhdGVDb250ZW50UmVxdWVzdCB9O1xufVxuZnVuY3Rpb24gZm9ybWF0R2VuZXJhdGVDb250ZW50SW5wdXQocGFyYW1zKSB7XG4gICAgbGV0IGZvcm1hdHRlZFJlcXVlc3Q7XG4gICAgaWYgKHBhcmFtcy5jb250ZW50cykge1xuICAgICAgICBmb3JtYXR0ZWRSZXF1ZXN0ID0gcGFyYW1zO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXkgb3Igc3RyaW5nXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXROZXdDb250ZW50KHBhcmFtcyk7XG4gICAgICAgIGZvcm1hdHRlZFJlcXVlc3QgPSB7IGNvbnRlbnRzOiBbY29udGVudF0gfTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICBmb3JtYXR0ZWRSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uID0gZm9ybWF0U3lzdGVtSW5zdHJ1Y3Rpb24ocGFyYW1zLnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlZFJlcXVlc3Q7XG59XG5mdW5jdGlvbiBmb3JtYXRFbWJlZENvbnRlbnRJbnB1dChwYXJhbXMpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHBhcmFtcykpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZvcm1hdE5ld0NvbnRlbnQocGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHsgY29udGVudCB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gaHR0cHM6Ly9haS5nb29nbGUuZGV2L2FwaS9yZXN0L3YxYmV0YS9Db250ZW50I3BhcnRcbmNvbnN0IFZBTElEX1BBUlRfRklFTERTID0gW1xuICAgIFwidGV4dFwiLFxuICAgIFwiaW5saW5lRGF0YVwiLFxuICAgIFwiZnVuY3Rpb25DYWxsXCIsXG4gICAgXCJmdW5jdGlvblJlc3BvbnNlXCIsXG4gICAgXCJleGVjdXRhYmxlQ29kZVwiLFxuICAgIFwiY29kZUV4ZWN1dGlvblJlc3VsdFwiLFxuXTtcbmNvbnN0IFZBTElEX1BBUlRTX1BFUl9ST0xFID0ge1xuICAgIHVzZXI6IFtcInRleHRcIiwgXCJpbmxpbmVEYXRhXCJdLFxuICAgIGZ1bmN0aW9uOiBbXCJmdW5jdGlvblJlc3BvbnNlXCJdLFxuICAgIG1vZGVsOiBbXCJ0ZXh0XCIsIFwiZnVuY3Rpb25DYWxsXCIsIFwiZXhlY3V0YWJsZUNvZGVcIiwgXCJjb2RlRXhlY3V0aW9uUmVzdWx0XCJdLFxuICAgIC8vIFN5c3RlbSBpbnN0cnVjdGlvbnMgc2hvdWxkbid0IGJlIGluIGhpc3RvcnkgYW55d2F5LlxuICAgIHN5c3RlbTogW1widGV4dFwiXSxcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZUNoYXRIaXN0b3J5KGhpc3RvcnkpIHtcbiAgICBsZXQgcHJldkNvbnRlbnQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGN1cnJDb250ZW50IG9mIGhpc3RvcnkpIHtcbiAgICAgICAgY29uc3QgeyByb2xlLCBwYXJ0cyB9ID0gY3VyckNvbnRlbnQ7XG4gICAgICAgIGlmICghcHJldkNvbnRlbnQgJiYgcm9sZSAhPT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcihgRmlyc3QgY29udGVudCBzaG91bGQgYmUgd2l0aCByb2xlICd1c2VyJywgZ290ICR7cm9sZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIVBPU1NJQkxFX1JPTEVTLmluY2x1ZGVzKHJvbGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYEVhY2ggaXRlbSBzaG91bGQgaW5jbHVkZSByb2xlIGZpZWxkLiBHb3QgJHtyb2xlfSBidXQgdmFsaWQgcm9sZXMgYXJlOiAke0pTT04uc3RyaW5naWZ5KFBPU1NJQkxFX1JPTEVTKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJDb250ZW50IHNob3VsZCBoYXZlICdwYXJ0cycgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBQYXJ0c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJFYWNoIENvbnRlbnQgc2hvdWxkIGhhdmUgYXQgbGVhc3Qgb25lIHBhcnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRGaWVsZHMgPSB7XG4gICAgICAgICAgICB0ZXh0OiAwLFxuICAgICAgICAgICAgaW5saW5lRGF0YTogMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uQ2FsbDogMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uUmVzcG9uc2U6IDAsXG4gICAgICAgICAgICBmaWxlRGF0YTogMCxcbiAgICAgICAgICAgIGV4ZWN1dGFibGVDb2RlOiAwLFxuICAgICAgICAgICAgY29kZUV4ZWN1dGlvblJlc3VsdDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBWQUxJRF9QQVJUX0ZJRUxEUykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gcGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudEZpZWxkc1trZXldICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkUGFydHMgPSBWQUxJRF9QQVJUU19QRVJfUk9MRVtyb2xlXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgVkFMSURfUEFSVF9GSUVMRFMpIHtcbiAgICAgICAgICAgIGlmICghdmFsaWRQYXJ0cy5pbmNsdWRlcyhrZXkpICYmIGNvdW50RmllbGRzW2tleV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBDb250ZW50IHdpdGggcm9sZSAnJHtyb2xlfScgY2FuJ3QgY29udGFpbiAnJHtrZXl9JyBwYXJ0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldkNvbnRlbnQgPSB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSByZXNwb25zZSBpcyB2YWxpZCAoY291bGQgYmUgYXBwZW5kZWQgdG8gdGhlIGhpc3RvcnkpLCBmbGFzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRSZXNwb25zZShyZXNwb25zZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcyA9PT0gdW5kZWZpbmVkIHx8IHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudCA9IChfYSA9IHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250ZW50O1xuICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29udGVudC5wYXJ0cyA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQucGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQucGFydHMpIHtcbiAgICAgICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCB8fCBPYmplY3Qua2V5cyhwYXJ0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50ZXh0ICE9PSB1bmRlZmluZWQgJiYgcGFydC50ZXh0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERvIG5vdCBsb2cgYSBtZXNzYWdlIGZvciB0aGlzIGVycm9yLlxuICovXG5jb25zdCBTSUxFTlRfRVJST1IgPSBcIlNJTEVOVF9FUlJPUlwiO1xuLyoqXG4gKiBDaGF0U2Vzc2lvbiBjbGFzcyB0aGF0IGVuYWJsZXMgc2VuZGluZyBjaGF0IG1lc3NhZ2VzIGFuZCBzdG9yZXNcbiAqIGhpc3Rvcnkgb2Ygc2VudCBhbmQgcmVjZWl2ZWQgbWVzc2FnZXMgc28gZmFyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgQ2hhdFNlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgbW9kZWwsIHBhcmFtcywgX3JlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5fcmVxdWVzdE9wdGlvbnMgPSBfcmVxdWVzdE9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2hpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5fc2VuZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5fYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICBpZiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmhpc3RvcnkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQ2hhdEhpc3RvcnkocGFyYW1zLmhpc3RvcnkpO1xuICAgICAgICAgICAgdGhpcy5faGlzdG9yeSA9IHBhcmFtcy5oaXN0b3J5O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNoYXQgaGlzdG9yeSBzbyBmYXIuIEJsb2NrZWQgcHJvbXB0cyBhcmUgbm90IGFkZGVkIHRvIGhpc3RvcnkuXG4gICAgICogQmxvY2tlZCBjYW5kaWRhdGVzIGFyZSBub3QgYWRkZWQgdG8gaGlzdG9yeSwgbm9yIGFyZSB0aGUgcHJvbXB0cyB0aGF0XG4gICAgICogZ2VuZXJhdGVkIHRoZW0uXG4gICAgICovXG4gICAgYXN5bmMgZ2V0SGlzdG9yeSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2VuZFByb21pc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXN0b3J5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGNoYXQgbWVzc2FnZSBhbmQgcmVjZWl2ZXMgYSBub24tc3RyZWFtaW5nXG4gICAgICoge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBhd2FpdCB0aGlzLl9zZW5kUHJvbWlzZTtcbiAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGZvcm1hdE5ld0NvbnRlbnQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogKF9hID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IChfYiA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiAoX2MgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogKF9kID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IChfZSA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBjYWNoZWRDb250ZW50OiAoX2YgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhY2hlZENvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50czogWy4uLnRoaXMuX2hpc3RvcnksIG5ld0NvbnRlbnRdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjaGF0U2Vzc2lvblJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgbGV0IGZpbmFsUmVzdWx0O1xuICAgICAgICAvLyBBZGQgb250byB0aGUgY2hhaW4uXG4gICAgICAgIHRoaXMuX3NlbmRQcm9taXNlID0gdGhpcy5fc2VuZFByb21pc2VcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGdlbmVyYXRlQ29udGVudCh0aGlzLl9hcGlLZXksIHRoaXMubW9kZWwsIGdlbmVyYXRlQ29udGVudFJlcXVlc3QsIGNoYXRTZXNzaW9uUmVxdWVzdE9wdGlvbnMpKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRSZXNwb25zZShyZXN1bHQucmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlzdG9yeS5wdXNoKG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IE9iamVjdC5hc3NpZ24oeyBwYXJ0czogW10sIFxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNwb25zZSBzZWVtcyB0byBjb21lIGJhY2sgd2l0aG91dCBhIHJvbGUgc2V0LlxuICAgICAgICAgICAgICAgICAgICByb2xlOiBcIm1vZGVsXCIgfSwgKF9hID0gcmVzdWx0LnJlc3BvbnNlLmNhbmRpZGF0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oaXN0b3J5LnB1c2gocmVzcG9uc2VDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrRXJyb3JNZXNzYWdlID0gZm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBzZW5kTWVzc2FnZSgpIHdhcyB1bnN1Y2Nlc3NmdWwuICR7YmxvY2tFcnJvck1lc3NhZ2V9LiBJbnNwZWN0IHJlc3BvbnNlIG9iamVjdCBmb3IgZGV0YWlscy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3NlbmRQcm9taXNlO1xuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgY2hhdCBtZXNzYWdlIGFuZCByZWNlaXZlcyB0aGUgcmVzcG9uc2UgYXMgYVxuICAgICAqIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRTdHJlYW1SZXN1bHR9IGNvbnRhaW5pbmcgYW4gaXRlcmFibGUgc3RyZWFtXG4gICAgICogYW5kIGEgcmVzcG9uc2UgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEZpZWxkcyBzZXQgaW4gdGhlIG9wdGlvbmFsIHtAbGluayBTaW5nbGVSZXF1ZXN0T3B0aW9uc30gcGFyYW1ldGVyIHdpbGxcbiAgICAgKiB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB2YWx1ZXMgcHJvdmlkZWQgdG9cbiAgICAgKiB7QGxpbmsgR29vZ2xlR2VuZXJhdGl2ZUFJLmdldEdlbmVyYXRpdmVNb2RlbCB9LlxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRNZXNzYWdlU3RyZWFtKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGF3YWl0IHRoaXMuX3NlbmRQcm9taXNlO1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZm9ybWF0TmV3Q29udGVudChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiAoX2EgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogKF9iID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICAgICAgdG9vbHM6IChfYyA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9vbHMsXG4gICAgICAgICAgICB0b29sQ29uZmlnOiAoX2QgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRvb2xDb25maWcsXG4gICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogKF9lID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5zeXN0ZW1JbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGNhY2hlZENvbnRlbnQ6IChfZiA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FjaGVkQ29udGVudCxcbiAgICAgICAgICAgIGNvbnRlbnRzOiBbLi4udGhpcy5faGlzdG9yeSwgbmV3Q29udGVudF0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYXRTZXNzaW9uUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICBjb25zdCBzdHJlYW1Qcm9taXNlID0gZ2VuZXJhdGVDb250ZW50U3RyZWFtKHRoaXMuX2FwaUtleSwgdGhpcy5tb2RlbCwgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCwgY2hhdFNlc3Npb25SZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIC8vIEFkZCBvbnRvIHRoZSBjaGFpbi5cbiAgICAgICAgdGhpcy5fc2VuZFByb21pc2UgPSB0aGlzLl9zZW5kUHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gc3RyZWFtUHJvbWlzZSlcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBoYW5kbGVkIHRvIGF2b2lkIHVuaGFuZGxlZCByZWplY3Rpb24sIGJ1dCBqdW1wXG4gICAgICAgICAgICAvLyB0byB0aGUgZmluYWwgY2F0Y2ggYmxvY2sgd2l0aCBhIGxhYmVsIHRvIG5vdCBsb2cgdGhpcyBlcnJvci5cbiAgICAgICAgICAgIC5jYXRjaCgoX2lnbm9yZWQpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihTSUxFTlRfRVJST1IpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHN0cmVhbVJlc3VsdCkgPT4gc3RyZWFtUmVzdWx0LnJlc3BvbnNlKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpc3RvcnkucHVzaChuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNvbnRlbnQgPSBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIC8vIFJlc3BvbnNlIHNlZW1zIHRvIGNvbWUgYmFjayB3aXRob3V0IGEgcm9sZSBzZXQuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZUNvbnRlbnQucm9sZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvbnRlbnQucm9sZSA9IFwibW9kZWxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faGlzdG9yeS5wdXNoKHJlc3BvbnNlQ29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9ja0Vycm9yTWVzc2FnZSA9IGZvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBzZW5kTWVzc2FnZVN0cmVhbSgpIHdhcyB1bnN1Y2Nlc3NmdWwuICR7YmxvY2tFcnJvck1lc3NhZ2V9LiBJbnNwZWN0IHJlc3BvbnNlIG9iamVjdCBmb3IgZGV0YWlscy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIC8vIEVycm9ycyBpbiBzdHJlYW1Qcm9taXNlIGFyZSBhbHJlYWR5IGNhdGNoYWJsZSBieSB0aGUgdXNlciBhc1xuICAgICAgICAgICAgLy8gc3RyZWFtUHJvbWlzZSBpcyByZXR1cm5lZC5cbiAgICAgICAgICAgIC8vIEF2b2lkIGR1cGxpY2F0aW5nIHRoZSBlcnJvciBtZXNzYWdlIGluIGxvZ3MuXG4gICAgICAgICAgICBpZiAoZS5tZXNzYWdlICE9PSBTSUxFTlRfRVJST1IpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2VycyBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gX3NlbmRQcm9taXNlIHRvIGNhdGNoIGVycm9yc1xuICAgICAgICAgICAgICAgIC8vIGRvd25zdHJlYW0gZnJvbSBzdHJlYW1Qcm9taXNlLCBzbyB0aGV5IHNob3VsZCBub3QgdGhyb3cuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHJlYW1Qcm9taXNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvdW50VG9rZW5zKGFwaUtleSwgbW9kZWwsIHBhcmFtcywgc2luZ2xlUmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VNb2RlbFJlcXVlc3QobW9kZWwsIFRhc2suQ09VTlRfVE9LRU5TLCBhcGlLZXksIGZhbHNlLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpLCBzaW5nbGVSZXF1ZXN0T3B0aW9ucyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGVtYmVkQ29udGVudChhcGlLZXksIG1vZGVsLCBwYXJhbXMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlTW9kZWxSZXF1ZXN0KG1vZGVsLCBUYXNrLkVNQkVEX0NPTlRFTlQsIGFwaUtleSwgZmFsc2UsIEpTT04uc3RyaW5naWZ5KHBhcmFtcyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuYXN5bmMgZnVuY3Rpb24gYmF0Y2hFbWJlZENvbnRlbnRzKGFwaUtleSwgbW9kZWwsIHBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXF1ZXN0c1dpdGhNb2RlbCA9IHBhcmFtcy5yZXF1ZXN0cy5tYXAoKHJlcXVlc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdCksIHsgbW9kZWwgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlTW9kZWxSZXF1ZXN0KG1vZGVsLCBUYXNrLkJBVENIX0VNQkVEX0NPTlRFTlRTLCBhcGlLZXksIGZhbHNlLCBKU09OLnN0cmluZ2lmeSh7IHJlcXVlc3RzOiByZXF1ZXN0c1dpdGhNb2RlbCB9KSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENsYXNzIGZvciBnZW5lcmF0aXZlIG1vZGVsIEFQSXMuXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdlbmVyYXRpdmVNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoYXBpS2V5LCBtb2RlbFBhcmFtcywgX3JlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RPcHRpb25zID0gX3JlcXVlc3RPcHRpb25zO1xuICAgICAgICBpZiAobW9kZWxQYXJhbXMubW9kZWwuaW5jbHVkZXMoXCIvXCIpKSB7XG4gICAgICAgICAgICAvLyBNb2RlbHMgbWF5IGJlIG5hbWVkIFwibW9kZWxzL21vZGVsLW5hbWVcIiBvciBcInR1bmVkTW9kZWxzL21vZGVsLW5hbWVcIlxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsUGFyYW1zLm1vZGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgcGF0aCBpcyBub3QgaW5jbHVkZWQsIGFzc3VtZSBpdCdzIGEgbm9uLXR1bmVkIG1vZGVsLlxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IGBtb2RlbHMvJHttb2RlbFBhcmFtcy5tb2RlbH1gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyA9IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcgfHwge307XG4gICAgICAgIHRoaXMuc2FmZXR5U2V0dGluZ3MgPSBtb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncyB8fCBbXTtcbiAgICAgICAgdGhpcy50b29scyA9IG1vZGVsUGFyYW1zLnRvb2xzO1xuICAgICAgICB0aGlzLnRvb2xDb25maWcgPSBtb2RlbFBhcmFtcy50b29sQ29uZmlnO1xuICAgICAgICB0aGlzLnN5c3RlbUluc3RydWN0aW9uID0gZm9ybWF0U3lzdGVtSW5zdHJ1Y3Rpb24obW9kZWxQYXJhbXMuc3lzdGVtSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmNhY2hlZENvbnRlbnQgPSBtb2RlbFBhcmFtcy5jYWNoZWRDb250ZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIHNpbmdsZSBub24tc3RyZWFtaW5nIGNhbGwgdG8gdGhlIG1vZGVsXG4gICAgICogYW5kIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBzaW5nbGUge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlfS5cbiAgICAgKlxuICAgICAqIEZpZWxkcyBzZXQgaW4gdGhlIG9wdGlvbmFsIHtAbGluayBTaW5nbGVSZXF1ZXN0T3B0aW9uc30gcGFyYW1ldGVyIHdpbGxcbiAgICAgKiB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB2YWx1ZXMgcHJvdmlkZWQgdG9cbiAgICAgKiB7QGxpbmsgR29vZ2xlR2VuZXJhdGl2ZUFJLmdldEdlbmVyYXRpdmVNb2RlbCB9LlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudChyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGFyYW1zID0gZm9ybWF0R2VuZXJhdGVDb250ZW50SW5wdXQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQ29udGVudCh0aGlzLmFwaUtleSwgdGhpcy5tb2RlbCwgT2JqZWN0LmFzc2lnbih7IGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRvb2xzOiB0aGlzLnRvb2xzLCB0b29sQ29uZmlnOiB0aGlzLnRvb2xDb25maWcsIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLCBjYWNoZWRDb250ZW50OiAoX2EgPSB0aGlzLmNhY2hlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lIH0sIGZvcm1hdHRlZFBhcmFtcyksIGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBzaW5nbGUgc3RyZWFtaW5nIGNhbGwgdG8gdGhlIG1vZGVsIGFuZCByZXR1cm5zIGFuIG9iamVjdFxuICAgICAqIGNvbnRhaW5pbmcgYW4gaXRlcmFibGUgc3RyZWFtIHRoYXQgaXRlcmF0ZXMgb3ZlciBhbGwgY2h1bmtzIGluIHRoZVxuICAgICAqIHN0cmVhbWluZyByZXNwb25zZSBhcyB3ZWxsIGFzIGEgcHJvbWlzZSB0aGF0IHJldHVybnMgdGhlIGZpbmFsXG4gICAgICogYWdncmVnYXRlZCByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEZpZWxkcyBzZXQgaW4gdGhlIG9wdGlvbmFsIHtAbGluayBTaW5nbGVSZXF1ZXN0T3B0aW9uc30gcGFyYW1ldGVyIHdpbGxcbiAgICAgKiB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB2YWx1ZXMgcHJvdmlkZWQgdG9cbiAgICAgKiB7QGxpbmsgR29vZ2xlR2VuZXJhdGl2ZUFJLmdldEdlbmVyYXRpdmVNb2RlbCB9LlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudFN0cmVhbShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGFyYW1zID0gZm9ybWF0R2VuZXJhdGVDb250ZW50SW5wdXQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQ29udGVudFN0cmVhbSh0aGlzLmFwaUtleSwgdGhpcy5tb2RlbCwgT2JqZWN0LmFzc2lnbih7IGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRvb2xzOiB0aGlzLnRvb2xzLCB0b29sQ29uZmlnOiB0aGlzLnRvb2xDb25maWcsIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLCBjYWNoZWRDb250ZW50OiAoX2EgPSB0aGlzLmNhY2hlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lIH0sIGZvcm1hdHRlZFBhcmFtcyksIGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyB7QGxpbmsgQ2hhdFNlc3Npb259IGluc3RhbmNlIHdoaWNoIGNhbiBiZSB1c2VkIGZvclxuICAgICAqIG11bHRpLXR1cm4gY2hhdHMuXG4gICAgICovXG4gICAgc3RhcnRDaGF0KHN0YXJ0Q2hhdFBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFNlc3Npb24odGhpcy5hcGlLZXksIHRoaXMubW9kZWwsIE9iamVjdC5hc3NpZ24oeyBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsIHNhZmV0eVNldHRpbmdzOiB0aGlzLnNhZmV0eVNldHRpbmdzLCB0b29sczogdGhpcy50b29scywgdG9vbENvbmZpZzogdGhpcy50b29sQ29uZmlnLCBzeXN0ZW1JbnN0cnVjdGlvbjogdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiwgY2FjaGVkQ29udGVudDogKF9hID0gdGhpcy5jYWNoZWRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSB9LCBzdGFydENoYXRQYXJhbXMpLCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvdW50cyB0aGUgdG9rZW5zIGluIHRoZSBwcm92aWRlZCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogRmllbGRzIHNldCBpbiB0aGUgb3B0aW9uYWwge0BsaW5rIFNpbmdsZVJlcXVlc3RPcHRpb25zfSBwYXJhbWV0ZXIgd2lsbFxuICAgICAqIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSB7QGxpbmsgUmVxdWVzdE9wdGlvbnN9IHZhbHVlcyBwcm92aWRlZCB0b1xuICAgICAqIHtAbGluayBHb29nbGVHZW5lcmF0aXZlQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsIH0uXG4gICAgICovXG4gICAgYXN5bmMgY291bnRUb2tlbnMocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXJhbXMgPSBmb3JtYXRDb3VudFRva2Vuc0lucHV0KHJlcXVlc3QsIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogdGhpcy5nZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogdGhpcy5jYWNoZWRDb250ZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gY291bnRUb2tlbnModGhpcy5hcGlLZXksIHRoaXMubW9kZWwsIGZvcm1hdHRlZFBhcmFtcywgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWJlZHMgdGhlIHByb3ZpZGVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBlbWJlZENvbnRlbnQocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXJhbXMgPSBmb3JtYXRFbWJlZENvbnRlbnRJbnB1dChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZW1iZWRDb250ZW50KHRoaXMuYXBpS2V5LCB0aGlzLm1vZGVsLCBmb3JtYXR0ZWRQYXJhbXMsIGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1iZWRzIGFuIGFycmF5IG9mIHtAbGluayBFbWJlZENvbnRlbnRSZXF1ZXN0fXMuXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBiYXRjaEVtYmVkQ29udGVudHMoYmF0Y2hFbWJlZENvbnRlbnRSZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGJhdGNoRW1iZWRDb250ZW50cyh0aGlzLmFwaUtleSwgdGhpcy5tb2RlbCwgYmF0Y2hFbWJlZENvbnRlbnRSZXF1ZXN0LCBnZW5lcmF0aXZlTW9kZWxSZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUb3AtbGV2ZWwgY2xhc3MgZm9yIHRoaXMgU0RLXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSSB7XG4gICAgY29uc3RydWN0b3IoYXBpS2V5KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEge0BsaW5rIEdlbmVyYXRpdmVNb2RlbH0gaW5zdGFuY2UgZm9yIHRoZSBwcm92aWRlZCBtb2RlbCBuYW1lLlxuICAgICAqL1xuICAgIGdldEdlbmVyYXRpdmVNb2RlbChtb2RlbFBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFtb2RlbFBhcmFtcy5tb2RlbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBNdXN0IHByb3ZpZGUgYSBtb2RlbCBuYW1lLiBgICtcbiAgICAgICAgICAgICAgICBgRXhhbXBsZTogZ2VuYWkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6ICdteS1tb2RlbC1uYW1lJyB9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgR2VuZXJhdGl2ZU1vZGVsKHRoaXMuYXBpS2V5LCBtb2RlbFBhcmFtcywgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEge0BsaW5rIEdlbmVyYXRpdmVNb2RlbH0gaW5zdGFuY2UgZnJvbSBwcm92aWRlZCBjb250ZW50IGNhY2hlLlxuICAgICAqL1xuICAgIGdldEdlbmVyYXRpdmVNb2RlbEZyb21DYWNoZWRDb250ZW50KGNhY2hlZENvbnRlbnQsIG1vZGVsUGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICBpZiAoIWNhY2hlZENvbnRlbnQubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKFwiQ2FjaGVkIGNvbnRlbnQgbXVzdCBjb250YWluIGEgYG5hbWVgIGZpZWxkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhY2hlZENvbnRlbnQubW9kZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXF1ZXN0SW5wdXRFcnJvcihcIkNhY2hlZCBjb250ZW50IG11c3QgY29udGFpbiBhIGBtb2RlbGAgZmllbGQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3QgY2hlY2tpbmcgdG9vbHMgYW5kIHRvb2xDb25maWcgZm9yIG5vdyBhcyBpdCB3b3VsZCByZXF1aXJlIGEgZGVlcFxuICAgICAgICAgKiBlcXVhbGl0eSBjb21wYXJpc29uIGFuZCBpc24ndCBsaWtlbHkgdG8gYmUgYSBjb21tb24gY2FzZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRpc2FsbG93ZWREdXBsaWNhdGVzID0gW1wibW9kZWxcIiwgXCJzeXN0ZW1JbnN0cnVjdGlvblwiXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZGlzYWxsb3dlZER1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgIGlmICgobW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zW2tleV0pICYmXG4gICAgICAgICAgICAgICAgY2FjaGVkQ29udGVudFtrZXldICYmXG4gICAgICAgICAgICAgICAgKG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtc1trZXldKSAhPT0gY2FjaGVkQ29udGVudFtrZXldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJtb2RlbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsUGFyYW1zQ29tcCA9IG1vZGVsUGFyYW1zLm1vZGVsLnN0YXJ0c1dpdGgoXCJtb2RlbHMvXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsUGFyYW1zLm1vZGVsLnJlcGxhY2UoXCJtb2RlbHMvXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsUGFyYW1zLm1vZGVsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRDb250ZW50Q29tcCA9IGNhY2hlZENvbnRlbnQubW9kZWwuc3RhcnRzV2l0aChcIm1vZGVscy9cIilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2FjaGVkQ29udGVudC5tb2RlbC5yZXBsYWNlKFwibW9kZWxzL1wiLCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjYWNoZWRDb250ZW50Lm1vZGVsO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWxQYXJhbXNDb21wID09PSBjYWNoZWRDb250ZW50Q29tcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKGBEaWZmZXJlbnQgdmFsdWUgZm9yIFwiJHtrZXl9XCIgc3BlY2lmaWVkIGluIG1vZGVsUGFyYW1zYCArXG4gICAgICAgICAgICAgICAgICAgIGAgKCR7bW9kZWxQYXJhbXNba2V5XX0pIGFuZCBjYWNoZWRDb250ZW50ICgke2NhY2hlZENvbnRlbnRba2V5XX0pYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxQYXJhbXNGcm9tQ2FjaGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1vZGVsUGFyYW1zKSwgeyBtb2RlbDogY2FjaGVkQ29udGVudC5tb2RlbCwgdG9vbHM6IGNhY2hlZENvbnRlbnQudG9vbHMsIHRvb2xDb25maWc6IGNhY2hlZENvbnRlbnQudG9vbENvbmZpZywgc3lzdGVtSW5zdHJ1Y3Rpb246IGNhY2hlZENvbnRlbnQuc3lzdGVtSW5zdHJ1Y3Rpb24sIGNhY2hlZENvbnRlbnQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgR2VuZXJhdGl2ZU1vZGVsKHRoaXMuYXBpS2V5LCBtb2RlbFBhcmFtc0Zyb21DYWNoZSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQmxvY2tSZWFzb24sIENoYXRTZXNzaW9uLCBEeW5hbWljUmV0cmlldmFsTW9kZSwgRXhlY3V0YWJsZUNvZGVMYW5ndWFnZSwgRmluaXNoUmVhc29uLCBGdW5jdGlvbkNhbGxpbmdNb2RlLCBHZW5lcmF0aXZlTW9kZWwsIEdvb2dsZUdlbmVyYXRpdmVBSSwgR29vZ2xlR2VuZXJhdGl2ZUFJQWJvcnRFcnJvciwgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IsIEdvb2dsZUdlbmVyYXRpdmVBSUZldGNoRXJyb3IsIEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yLCBHb29nbGVHZW5lcmF0aXZlQUlSZXNwb25zZUVycm9yLCBIYXJtQmxvY2tUaHJlc2hvbGQsIEhhcm1DYXRlZ29yeSwgSGFybVByb2JhYmlsaXR5LCBPdXRjb21lLCBQT1NTSUJMRV9ST0xFUywgU2NoZW1hVHlwZSwgVGFza1R5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSwgSGFybUNhdGVnb3J5LCBIYXJtQmxvY2tUaHJlc2hvbGQsIENvbnRlbnQgfSBmcm9tICdAZ29vZ2xlL2dlbmVyYXRpdmUtYWknOyAvLyDnqI3lkI7pnIDopoHlronoo4UgQGdvb2dsZS9nZW5lcmF0aXZlLWFpXHJcbmltcG9ydCB7IEJhc2VMTE0sIExMTVJlc3BvbnNlLCBMTE1DaGF0T3B0aW9ucyB9IGZyb20gJy4vQmFzZUxMTSc7XHJcblxyXG4vKipcclxuICogR29vZ2xlIEdlbWluaSDmnI3liqHllYbnmoTlrp7njrBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHb29nbGVMTE0gZXh0ZW5kcyBCYXNlTExNIHtcclxuICByZWFkb25seSBwcm92aWRlcklkID0gJ2dvb2dsZSc7XHJcbiAgcmVhZG9ubHkgcHJvdmlkZXJOYW1lID0gJ0dvb2dsZSBHZW1pbmknO1xyXG4gIC8vIEdvb2dsZSBBSSBTdHVkaW8g5oiWIFZlcnRleCBBSSDnmoTln7rnoYAgVVJMICjpgJrluLggU0RLIOS8muWkhOeQhilcclxuICByZWFkb25seSBiYXNlQXBpVXJsID0gJ2h0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YSc7IC8vIOekuuS+i++8jOivt+aguOWvuVxyXG5cclxuICAvLyDpu5jorqTmlK/mjIHnmoTmqKHlnovliJfooaggKEdlbWluaSDns7vliJcpXHJcbiAgcmVhZG9ubHkgZGVmYXVsdE1vZGVsczogc3RyaW5nW10gPSBbXHJcbiAgICAnZ2VtaW5pLTEuNS1mbGFzaC1sYXRlc3QnLCAvLyDmiJblhbfkvZPniYjmnKzlpoIgZ2VtaW5pLTEuNS1mbGFzaC0wMDFcclxuICAgICdnZW1pbmktMS41LXByby1sYXRlc3QnLCAgIC8vIOaIluWFt+S9k+eJiOacrOWmgiBnZW1pbmktMS41LXByby0wMDFcclxuICAgICdnZW1pbmktMS4wLXBybycsICAgICAgICAgIC8vIOaXp+eJiO+8jOWPr+iDveS7jemcgOaUr+aMgVxyXG4gICAgLy8gJ2dlbWluaS1wcm8tdmlzaW9uJywgLy8g5aaC5p6c6ZyA6KaB5pSv5oyB5aSa5qih5oCBXHJcbiAgXTtcclxuXHJcbiAgcHJpdmF0ZSBnZW5BSTogR29vZ2xlR2VuZXJhdGl2ZUFJIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIOmHjeWGmSBzZXRBcGlLZXkg5pa55rOV77yM5Zyo6K6+572uIGtleSDml7bliJ3lp4vljJYgR29vZ2xlR2VuZXJhdGl2ZUFJIOWuouaIt+err1xyXG4gICAqL1xyXG4gIG92ZXJyaWRlIHNldEFwaUtleShhcGlLZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuICAgIHN1cGVyLnNldEFwaUtleShhcGlLZXkpO1xyXG4gICAgaWYgKGFwaUtleSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMuZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKGFwaUtleSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEdvb2dsZSBHZW1pbmkgY2xpZW50IGluaXRpYWxpemVkIGZvciBwcm92aWRlcjogJHt0aGlzLnByb3ZpZGVySWR9YCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIEdvb2dsZSBHZW1pbmkgY2xpZW50IGZvciAke3RoaXMucHJvdmlkZXJJZH06YCwgZXJyb3IpO1xyXG4gICAgICAgICB0aGlzLmdlbkFJID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5nZW5BSSA9IG51bGw7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBHb29nbGUgR2VtaW5pIGNsaWVudCBkZXN0cm95ZWQgZm9yIHByb3ZpZGVyOiAke3RoaXMucHJvdmlkZXJJZH1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWwhumAmueUqOeahOa2iOaBr+WOhuWPsui9rOaNouS4uiBHb29nbGUgR2VtaW5pIEFQSSDnmoQgQ29udGVudFtdIOagvOW8j1xyXG4gICAqIEdvb2dsZSBBUEkg6KaB5rGCIHVzZXIvbW9kZWwg5Lqk5pu/77yM5LiU5LiN6IO96L+e57ut5Ye6546w55u45ZCM6KeS6ImyXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBtYXBNZXNzYWdlc1RvR29vZ2xlQ29udGVudChtZXNzYWdlczogTExNQ2hhdE9wdGlvbnNbJ21lc3NhZ2VzJ10pOiBDb250ZW50W10ge1xyXG4gICAgY29uc3QgaGlzdG9yeTogQ29udGVudFtdID0gW107XHJcbiAgICBsZXQgbGFzdFJvbGU6ICd1c2VyJyB8ICdtb2RlbCcgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcclxuICAgICAgLy8gR29vZ2xlIOS9v+eUqCAnbW9kZWwnIOiAjOS4jeaYryAnYXNzaXN0YW50J1xyXG4gICAgICBjb25zdCBjdXJyZW50Um9sZSA9IG1lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCcgPyAnbW9kZWwnIDogbWVzc2FnZS5yb2xlO1xyXG5cclxuICAgICAgLy8g5b+955WlIHN5c3RlbSDmtojmga/vvIzlm6DkuLogR29vZ2xlIOmAmui/hyBzeXN0ZW1JbnN0cnVjdGlvbiDlj4LmlbDlpITnkIZcclxuICAgICAgaWYgKGN1cnJlbnRSb2xlID09PSAnc3lzdGVtJykgY29udGludWU7XHJcblxyXG4gICAgICAvLyDnoa7kv53op5LoibLkuqTmm7/vvIzlpoLmnpzov57nu63lh7rnjrDnm7jlkIzop5LoibLvvIzliJnlkIjlubblhoXlrrnmiJbov5vooYzlpITnkIZcclxuICAgICAgLy8g566A5Y2V5aSE55CG77ya5aaC5p6c5b2T5YmN6KeS6Imy5LiO5LiK5LiA5p2h55u45ZCM77yM5YiZ5bCG5YaF5a656ZmE5Yqg5Yiw5LiK5LiA5p2h55qEIHBhcnRzIOS4rVxyXG4gICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiAwICYmIGN1cnJlbnRSb2xlID09PSBsYXN0Um9sZSkge1xyXG4gICAgICAgICBjb25zdCBsYXN0Q29udGVudCA9IGhpc3RvcnlbaGlzdG9yeS5sZW5ndGggLSAxXTtcclxuICAgICAgICAgLy8g56Gu5L+dIHBhcnRzIOWtmOWcqOS4lOaYr+aVsOe7hFxyXG4gICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGFzdENvbnRlbnQucGFydHMpKSB7XHJcbiAgICAgICAgICAgIGxhc3RDb250ZW50LnBhcnRzID0gW107IC8vIOaIluiAheagueaNruaDheWGteWkhOeQhumUmeivr1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGxhc3RDb250ZW50LnBhcnRzLnB1c2goeyB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIC8vIOa3u+WKoOaWsOeahCBDb250ZW50IOadoeebrlxyXG4gICAgICAgICBoaXN0b3J5LnB1c2goe1xyXG4gICAgICAgICAgIHJvbGU6IGN1cnJlbnRSb2xlLFxyXG4gICAgICAgICAgIHBhcnRzOiBbeyB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfV0sXHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgICBsYXN0Um9sZSA9IGN1cnJlbnRSb2xlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGlzdG9yeTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiDlrp7njrDogYrlpKnor7fmsYLmlrnms5UgKOmcgOimgeagueaNriBHb29nbGUgR2VtaW5pIFNESyDosIPmlbQpXHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVDaGF0Q29tcGxldGlvbihvcHRpb25zOiBMTE1DaGF0T3B0aW9ucyk6IFByb21pc2U8TExNUmVzcG9uc2U+IHtcclxuICAgIGlmICghdGhpcy5nZW5BSSkge1xyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6ICdHb29nbGUgQVBJIEtleSDmnKrorr7nva7miJblrqLmiLfnq6/liJ3lp4vljJblpLHotKUnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoIW9wdGlvbnMubW9kZWwgfHwgIXRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKCkuaW5jbHVkZXMob3B0aW9ucy5tb2RlbCkpIHtcclxuICAgICAgIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogYOaooeWeiyAke29wdGlvbnMubW9kZWx9IOS4jeWPr+eUqOaIluS4jeWPl+aUr+aMgWAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBnZW5lcmF0aXZlTW9kZWwgPSB0aGlzLmdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7XHJcbiAgICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxyXG4gICAgICAgICAvLyAtLS0g5aSE55CGIFN5c3RlbSBQcm9tcHQgLS0tXHJcbiAgICAgICAgIC8vIEdvb2dsZSBHZW1pbmkg5L2/55SoIHN5c3RlbUluc3RydWN0aW9uIOWPguaVsFxyXG4gICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogb3B0aW9ucy5zeXN0ZW1Qcm9tcHQgPyB7IHBhcnRzOiBbeyB0ZXh0OiBvcHRpb25zLnN5c3RlbVByb21wdCB9XSwgcm9sZTogJ3N5c3RlbScgfSA6IHVuZGVmaW5lZCwgLy8g56Gu5L+d5qC85byP5q2j56GuXHJcbiAgICAgICAgIC8vIC0tLSDlronlhajorr7nva4gKOWPr+mAie+8jOW7uuiurumFjee9rikgLS0tXHJcbiAgICAgICAgIHNhZmV0eVNldHRpbmdzOiBbXHJcbiAgICAgICAgICAgeyBjYXRlZ29yeTogSGFybUNhdGVnb3J5LkhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVCwgdGhyZXNob2xkOiBIYXJtQmxvY2tUaHJlc2hvbGQuQkxPQ0tfTUVESVVNX0FORF9BQk9WRSB9LFxyXG4gICAgICAgICAgIHsgY2F0ZWdvcnk6IEhhcm1DYXRlZ29yeS5IQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNILCB0aHJlc2hvbGQ6IEhhcm1CbG9ja1RocmVzaG9sZC5CTE9DS19NRURJVU1fQU5EX0FCT1ZFIH0sXHJcbiAgICAgICAgICAgeyBjYXRlZ29yeTogSGFybUNhdGVnb3J5LkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVQsIHRocmVzaG9sZDogSGFybUJsb2NrVGhyZXNob2xkLkJMT0NLX01FRElVTV9BTkRfQUJPVkUgfSxcclxuICAgICAgICAgICB7IGNhdGVnb3J5OiBIYXJtQ2F0ZWdvcnkuSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVCwgdGhyZXNob2xkOiBIYXJtQmxvY2tUaHJlc2hvbGQuQkxPQ0tfTUVESVVNX0FORF9BQk9WRSB9LFxyXG4gICAgICAgICBdLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIC0tLSDmnoTpgKAgR29vZ2xlIEFQSSDor7fmsYLlj4LmlbAgLS0tXHJcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSB0aGlzLm1hcE1lc3NhZ2VzVG9Hb29nbGVDb250ZW50KG9wdGlvbnMubWVzc2FnZXMpO1xyXG5cclxuICAgICAgLy8gR29vZ2xlIOeahCBnZW5lcmF0ZUNvbnRlbnQg6YCa5bi455So5LqO6Z2e6IGK5aSp5Zy65pmv5oiW5Y2V6L2u5a+56K+dXHJcbiAgICAgIC8vIOWvueS6juWkmui9ruWvueivne+8jOW6lOivpeS9v+eUqCBzdGFydENoYXQg5bm25Y+R6YCB5raI5oGvXHJcbiAgICAgIGNvbnN0IGNoYXQgPSBnZW5lcmF0aXZlTW9kZWwuc3RhcnRDaGF0KHtcclxuICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LFxyXG4gICAgICAgIGdlbmVyYXRpb25Db25maWc6IHtcclxuICAgICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlLFxyXG4gICAgICAgICAgbWF4T3V0cHV0VG9rZW5zOiBvcHRpb25zLm1heFRva2VucyxcclxuICAgICAgICAgIC8vIHRvcFAsIHRvcEsg562J5YW25LuW5Y+C5pWwXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDku47ljoblj7LorrDlvZXkuK3mj5Dlj5bmnIDlkI7kuIDmnaHnlKjmiLfmtojmga/kvZzkuLrlvZPliY3ova7mrKHnmoTovpPlhaVcclxuICAgICAgLy8g5rOo5oSP77ya6L+Z56eN5pa55byP5YGH6K6+IG9wdGlvbnMubWVzc2FnZXMg55qE5pyA5ZCO5LiA5p2h5LiA5a6a5piv55So5oi36L6T5YWl77yM6ZyA6KaB5YmN56uv5L+d6K+BXHJcbiAgICAgIGNvbnN0IGxhc3RVc2VyTWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZXNbb3B0aW9ucy5tZXNzYWdlcy5sZW5ndGggLSAxXT8uY29udGVudDtcclxuICAgICAgaWYgKCFsYXN0VXNlck1lc3NhZ2UgfHwgb3B0aW9ucy5tZXNzYWdlc1tvcHRpb25zLm1lc3NhZ2VzLmxlbmd0aCAtIDFdPy5yb2xlICE9PSAndXNlcicpIHtcclxuICAgICAgICAgLy8g5aaC5p6c5Y6G5Y+y5Li656m65oiW5pyA5ZCO5LiA5p2h5LiN5pivIHVzZXLvvIznm7TmjqXkvb/nlKjnqbrlrZfnrKbkuLLmiJbmiqXplJlcclxuICAgICAgICAgY29uc29sZS53YXJuKCdbR29vZ2xlXSBObyBmaW5hbCB1c2VyIG1lc3NhZ2UgZm91bmQgaW4gaGlzdG9yeSBmb3IgY2hhdC5zZW5kTWVzc2FnZS4nKTtcclxuICAgICAgICAgLy8gcmV0dXJuIHsgY29udGVudDogJycsIGVycm9yOiAn5peg5rOV5om+5Yiw5pyA5ZCO55qE55So5oi35raI5oGv5Lul5Y+R6YCB57uZIEdvb2dsZSBHZW1pbmknIH07XHJcbiAgICAgICAgIC8vIOaIluiAheWwneivleWPkemAgeS4gOS4quepuua2iOaBr++8n+i/meWPluWGs+S6juWFt+S9k+mcgOaxglxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgW0dvb2dsZV0gU2VuZGluZyBtZXNzYWdlIHRvIG1vZGVsICR7b3B0aW9ucy5tb2RlbH06IFwiJHtsYXN0VXNlck1lc3NhZ2V9XCIgd2l0aCBoaXN0b3J5OmAsIEpTT04uc3RyaW5naWZ5KGhpc3RvcnksIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIC8vIOWPkemAgeacgOWQjuS4gOadoea2iOaBr++8iOaIluiAheaVtOS4quWkhOeQhui/h+eahOWOhuWPsu+8jOWPluWGs+S6jiBzdGFydENoYXQg55qE6KGM5Li677yJXHJcbiAgICAgIC8vIOmAmuW4uCBzdGFydENoYXQg5ZCO77yM5Y+q6ZyA5Y+R6YCB5pyA5paw55qEIHVzZXIgbWVzc2FnZVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKGxhc3RVc2VyTWVzc2FnZSA/PyAnJyk7IC8vIOWPkemAgeacgOWQjueahOeUqOaIt+a2iOaBr1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tHb29nbGVdIFJlY2VpdmVkIHJlc3VsdDonLCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIC8vIC0tLSDop6PmnpAgR29vZ2xlIOWTjeW6lCAtLS1cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQucmVzcG9uc2U7XHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSByZXNwb25zZS50ZXh0KCk7IC8vIOiOt+WPluaWh+acrOWGheWuuVxyXG4gICAgICAvLyBHb29nbGUgQVBJIOWPr+iDveS4jeebtOaOpei/lOWbniB0b2tlbiDorqHmlbDvvIzmiJbogIXpnIDopoHpop3lpJbosIPnlKggY291bnRUb2tlbnNcclxuICAgICAgLy8gbGV0IHVzYWdlSW5mbyA9IHsgcHJvbXB0VG9rZW5zOiB1bmRlZmluZWQsIGNvbXBsZXRpb25Ub2tlbnM6IHVuZGVmaW5lZCwgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCB9O1xyXG4gICAgICAvLyB0cnkge1xyXG4gICAgICAvLyAgIGNvbnN0IHByb21wdFRva2VuQ291bnQgPSBhd2FpdCBnZW5lcmF0aXZlTW9kZWwuY291bnRUb2tlbnMoaGlzdG9yeSk7IC8vIOS8sOeul+WOhuWPsiB0b2tlblxyXG4gICAgICAvLyAgIGNvbnN0IGNvbXBsZXRpb25Ub2tlbkNvdW50ID0gYXdhaXQgZ2VuZXJhdGl2ZU1vZGVsLmNvdW50VG9rZW5zKGNvbnRlbnQpOyAvLyDkvLDnrpflk43lupQgdG9rZW5cclxuICAgICAgLy8gICB1c2FnZUluZm8gPSB7XHJcbiAgICAgIC8vICAgICAgcHJvbXB0VG9rZW5zOiBwcm9tcHRUb2tlbkNvdW50Py50b3RhbFRva2VucyxcclxuICAgICAgLy8gICAgICBjb21wbGV0aW9uVG9rZW5zOiBjb21wbGV0aW9uVG9rZW5Db3VudD8udG90YWxUb2tlbnMsXHJcbiAgICAgIC8vICAgICAgdG90YWxUb2tlbnM6IChwcm9tcHRUb2tlbkNvdW50Py50b3RhbFRva2VucyA/PyAwKSArIChjb21wbGV0aW9uVG9rZW5Db3VudD8udG90YWxUb2tlbnMgPz8gMClcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH0gY2F0Y2ggKGNvdW50RXJyb3IpIHtcclxuICAgICAgLy8gICAgY29uc29sZS53YXJuKCdbR29vZ2xlXSBGYWlsZWQgdG8gY291bnQgdG9rZW5zOicsIGNvdW50RXJyb3IpO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmnInlronlhajpmLvmraLnrYnljp/lm6Dlr7zoh7TmsqHmnInlhoXlrrlcclxuICAgICAgaWYgKHJlc3BvbnNlLnByb21wdEZlZWRiYWNrPy5ibG9ja1JlYXNvbikge1xyXG4gICAgICAgICByZXR1cm4geyBjb250ZW50OiAnJywgZXJyb3I6IGDor7fmsYLooqvpmLvmraI6ICR7cmVzcG9uc2UucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb259YCwgcmF3UmVzcG9uc2U6IHJlc3VsdCB9O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghY29udGVudCAmJiByZXNwb25zZS5jYW5kaWRhdGVzPy5bMF0/LmZpbmlzaFJlYXNvbiAhPT0gJ1NUT1AnKSB7XHJcbiAgICAgICAgIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogYOWTjeW6lOeUn+aIkOS4reatojogJHtyZXNwb25zZS5jYW5kaWRhdGVzPy5bMF0/LmZpbmlzaFJlYXNvbn1gLCByYXdSZXNwb25zZTogcmVzdWx0IH07XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICAgICAgbW9kZWxVc2VkOiBvcHRpb25zLm1vZGVsLCAvLyBHb29nbGUgQVBJIOWTjeW6lOS4reWPr+iDveS4jeebtOaOpeWMheWQq+aooeWei+WQjeensO+8jOS9v+eUqOivt+axguaXtueahOaooeWei1xyXG4gICAgICAgIC8vIHVzYWdlOiB1c2FnZUluZm8sIC8vIFRva2VuIOiuoeaVsOWPr+iDveS4jeWHhuehruaIluS4jeWPr+eUqFxyXG4gICAgICAgIHJhd1Jlc3BvbnNlOiByZXN1bHQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgW0dvb2dsZV0gRXJyb3IgZHVyaW5nIGNoYXQgY29tcGxldGlvbiBmb3IgbW9kZWwgJHtvcHRpb25zLm1vZGVsfTpgLCBlcnJvcik7XHJcbiAgICAgIGxldCBkZXRhaWxlZEVycm9yID0gJ+S4jiBHb29nbGUgQVBJIOmAmuS/oeaXtuWPkeeUn+acquefpemUmeivryc7XHJcbiAgICAgIC8vIOWwneivleino+aekCBHb29nbGUgQVBJIOeahOeJueWumumUmeivr+e7k+aehCAo5aaC5p6cIFNESyDmj5DkvpvkuobnmoTor50pXHJcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7IC8vIOWfuuehgOmUmeivr+ajgOafpVxyXG4gICAgICAgIGRldGFpbGVkRXJyb3IgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgIC8vIOajgOafpeaYr+WQpuacieabtOWFt+S9k+eahCBHb29nbGUgQVBJIOmUmeivr+S/oeaBryAo57uT5p6E5Y+v6IO95Y+Y5YyWKVxyXG4gICAgICAgIC8vIGlmIChlcnJvci5jYXVzZSAmJiB0eXBlb2YgZXJyb3IuY2F1c2UgPT09ICdvYmplY3QnICYmICdtZXNzYWdlJyBpbiBlcnJvci5jYXVzZSkge1xyXG4gICAgICAgIC8vICAgIGRldGFpbGVkRXJyb3IgKz0gYCAtICR7ZXJyb3IuY2F1c2UubWVzc2FnZX1gO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGV0YWlsZWRFcnJvciA9IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IGNvbnRlbnQ6ICcnLCBlcnJvcjogZGV0YWlsZWRFcnJvciwgcmF3UmVzcG9uc2U6IGVycm9yIH07XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiLy8g56e76Zmk5pyq5L2/55So55qEIGFwcCDlkowgcGF0aCDlr7zlhaVcclxuLy8gaW1wb3J0IHsgYXBwIH0gZnJvbSAnZWxlY3Ryb24nO1xyXG4vLyBpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gJy4vQmFzZUxMTSc7XHJcbmltcG9ydCB7IE9wZW5BSUxMTSB9IGZyb20gJy4vT3BlbkFJJztcclxuaW1wb3J0IHsgQW50aHJvcGljTExNIH0gZnJvbSAnLi9BbnRocm9waWNMTE0nOyAvLyA8LS0g5a+85YWlIEFudGhyb3BpY1xyXG5pbXBvcnQgeyBHb29nbGVMTE0gfSBmcm9tICcuL0dvb2dsZUxMTSc7ICAgICAvLyA8LS0g5a+85YWlIEdvb2dsZVxyXG5cclxuLyoqXHJcbiAqIOeuoeeQhuaJgOacieW3suWPkeeOsOWSjOWunuS+i+WMlueahCBMTE0g5pyN5Yqh5o+Q5L6b5ZWG44CCXHJcbiAqICjkv67mlLnkuLrmiYvliqjms6jlhozmqKHlvI8pXHJcbiAqL1xyXG5jbGFzcyBMTE1TZXJ2aWNlTWFuYWdlciB7XHJcbiAgcHJpdmF0ZSBzZXJ2aWNlczogTWFwPHN0cmluZywgQmFzZUxMTT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIneWni+WMlueuoeeQhuWZqO+8jOaJi+WKqOazqOWGjOW3suefpeeahOacjeWKoeaPkOS+m+WVhuOAglxyXG4gICAqL1xyXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZygnW0xMTSBNYW5hZ2VyXSBJbml0aWFsaXppbmcgKE1hbnVhbCBSZWdpc3RyYXRpb24gTW9kZSkuLi4nKTtcclxuXHJcbiAgICAvLyAtLS0g5omL5Yqo5rOo5YaMIE9wZW5BSSAtLS1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG9wZW5BSVNlcnZpY2UgPSBuZXcgT3BlbkFJTExNKCk7XHJcbiAgICAgIGlmIChvcGVuQUlTZXJ2aWNlLnByb3ZpZGVySWQpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VzLnNldChvcGVuQUlTZXJ2aWNlLnByb3ZpZGVySWQsIG9wZW5BSVNlcnZpY2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbTExNIE1hbmFnZXJdIE1hbnVhbGx5IHJlZ2lzdGVyZWQgcHJvdmlkZXI6ICR7b3BlbkFJU2VydmljZS5wcm92aWRlcklkfSAoJHtvcGVuQUlTZXJ2aWNlLnByb3ZpZGVyTmFtZX0pYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMTE0gTWFuYWdlcl0gRmFpbGVkIHRvIHJlZ2lzdGVyIE9wZW5BSTogTWlzc2luZyBwcm92aWRlcklkLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgY29uc29sZS5lcnJvcignW0xMTSBNYW5hZ2VyXSBFcnJvciBpbnN0YW50aWF0aW5nIE9wZW5BSSBzZXJ2aWNlOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0g5omL5Yqo5rOo5YaMIEFudGhyb3BpYyAtLS1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGFudGhyb3BpY1NlcnZpY2UgPSBuZXcgQW50aHJvcGljTExNKCk7XHJcbiAgICAgIGlmIChhbnRocm9waWNTZXJ2aWNlLnByb3ZpZGVySWQpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VzLnNldChhbnRocm9waWNTZXJ2aWNlLnByb3ZpZGVySWQsIGFudGhyb3BpY1NlcnZpY2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbTExNIE1hbmFnZXJdIE1hbnVhbGx5IHJlZ2lzdGVyZWQgcHJvdmlkZXI6ICR7YW50aHJvcGljU2VydmljZS5wcm92aWRlcklkfSAoJHthbnRocm9waWNTZXJ2aWNlLnByb3ZpZGVyTmFtZX0pYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMTE0gTWFuYWdlcl0gRmFpbGVkIHRvIHJlZ2lzdGVyIEFudGhyb3BpYzogTWlzc2luZyBwcm92aWRlcklkLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgY29uc29sZS5lcnJvcignW0xMTSBNYW5hZ2VyXSBFcnJvciBpbnN0YW50aWF0aW5nIEFudGhyb3BpYyBzZXJ2aWNlOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0g5omL5Yqo5rOo5YaMIEdvb2dsZSAtLS1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGdvb2dsZVNlcnZpY2UgPSBuZXcgR29vZ2xlTExNKCk7XHJcbiAgICAgIGlmIChnb29nbGVTZXJ2aWNlLnByb3ZpZGVySWQpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VzLnNldChnb29nbGVTZXJ2aWNlLnByb3ZpZGVySWQsIGdvb2dsZVNlcnZpY2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbTExNIE1hbmFnZXJdIE1hbnVhbGx5IHJlZ2lzdGVyZWQgcHJvdmlkZXI6ICR7Z29vZ2xlU2VydmljZS5wcm92aWRlcklkfSAoJHtnb29nbGVTZXJ2aWNlLnByb3ZpZGVyTmFtZX0pYCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMTE0gTWFuYWdlcl0gRmFpbGVkIHRvIHJlZ2lzdGVyIEdvb2dsZTogTWlzc2luZyBwcm92aWRlcklkLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgY29uc29sZS5lcnJvcignW0xMTSBNYW5hZ2VyXSBFcnJvciBpbnN0YW50aWF0aW5nIEdvb2dsZSBzZXJ2aWNlOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0xMTSBNYW5hZ2VyXSBJbml0aWFsaXphdGlvbiBjb21wbGV0ZS4gTG9hZGVkIHByb3ZpZGVyczogJHtbLi4udGhpcy5zZXJ2aWNlcy5rZXlzKCldLmpvaW4oJywgJyl9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmiYDmnInlt7LliqDovb3nmoTmnI3liqHmj5DkvpvllYblrp7kvovjgIJcclxuICAgKiBAcmV0dXJucyBCYXNlTExNIOWunuS+i+aVsOe7hFxyXG4gICAqL1xyXG4gIGdldEFsbFNlcnZpY2VzKCk6IEJhc2VMTE1bXSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0xMTSBNYW5hZ2VyXSBnZXRBbGxTZXJ2aWNlcyBjYWxsZWQuJyk7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlcnZpY2VzLnZhbHVlcygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOagueaNriBwcm92aWRlcklkIOiOt+WPlueJueWumueahOacjeWKoeaPkOS+m+WVhuWunuS+i+OAglxyXG4gICAqIEBwYXJhbSBwcm92aWRlcklkIOacjeWKoeWVhiBJRCAo5L6L5aaCICdvcGVuYWknKVxyXG4gICAqIEByZXR1cm5zIEJhc2VMTE0g5a6e5L6L5oiWIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGdldFNlcnZpY2UocHJvdmlkZXJJZDogc3RyaW5nKTogQmFzZUxMTSB8IHVuZGVmaW5lZCB7XHJcbiAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlcy5nZXQocHJvdmlkZXJJZC50b0xvd2VyQ2FzZSgpKTtcclxuICAgIGNvbnNvbGUubG9nKGBbTExNIE1hbmFnZXJdIGdldFNlcnZpY2UgY2FsbGVkIGZvciAke3Byb3ZpZGVySWR9LiBGb3VuZDogJHshIXNlcnZpY2V9YCk7XHJcbiAgICByZXR1cm4gc2VydmljZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS4uuaMh+WumueahOacjeWKoeaPkOS+m+WVhuiuvue9riBBUEkgS2V544CCXHJcbiAgICogQHBhcmFtIHByb3ZpZGVySWQg5pyN5Yqh5ZWGIElEXHJcbiAgICogQHBhcmFtIGFwaUtleSBBUEkgS2V5XHJcbiAgICogQHJldHVybnMg5piv5ZCm5oiQ5Yqf6K6+572uICjmib7liLDmnI3liqHllYYpXHJcbiAgICovXHJcbiAgc2V0QXBpS2V5Rm9yU2VydmljZShwcm92aWRlcklkOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc29sZS5sb2coYFtMTE0gTWFuYWdlcl0gc2V0QXBpS2V5Rm9yU2VydmljZSBjYWxsZWQgZm9yICR7cHJvdmlkZXJJZH1gKTtcclxuICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLmdldFNlcnZpY2UocHJvdmlkZXJJZCk7XHJcbiAgICBpZiAoc2VydmljZSkge1xyXG4gICAgICBzZXJ2aWNlLnNldEFwaUtleShhcGlLZXkpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUud2FybihgW0xMTSBNYW5hZ2VyXSBBdHRlbXB0ZWQgdG8gc2V0IEFQSSBLZXkgZm9yIHVua25vd24gcHJvdmlkZXI6ICR7cHJvdmlkZXJJZH1gKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIOWIm+W7uuW5tuWvvOWHuuS4gOS4quWNleS+i+euoeeQhuWZqOWunuS+i1xyXG5leHBvcnQgY29uc3QgbGxtU2VydmljZU1hbmFnZXIgPSBuZXcgTExNU2VydmljZU1hbmFnZXIoKTtcclxuXHJcbi8vIOazqOaEj++8mumcgOimgeWcqOS4u+i/m+eoi+WQr+WKqOaXtuiwg+eUqCBsbG1TZXJ2aWNlTWFuYWdlci5pbml0aWFsaXplKCkiLCJpbXBvcnQgeyBpcGNNYWluIH0gZnJvbSAnZWxlY3Ryb24nO1xyXG5pbXBvcnQgeyByZWFkU3RvcmUsIHdyaXRlU3RvcmUgfSBmcm9tICcuL3N0b3JhZ2UvanNvblN0b3JlJzsgLy8g5a+85YWl5a2Y5YKo5Ye95pWwXHJcbmltcG9ydCB7IExMTUNoYXRPcHRpb25zLCBMTE1SZXNwb25zZSB9IGZyb20gJy4vbGxtL0Jhc2VMTE0nOyAvLyA8LS0g5a+85YWlIExMTSDnsbvlnotcclxuaW1wb3J0IHsgbGxtU2VydmljZU1hbmFnZXIgfSBmcm9tICcuL2xsbS9MTE1TZXJ2aWNlTWFuYWdlcic7IC8vIOWvvOWFpSBMTE0g5pyN5Yqh566h55CG5ZmoXHJcblxyXG4vLyAtLS0g5paH5Lu25ZCN5bi46YePIC0tLVxyXG5jb25zdCBBUElfS0VZU19GSUxFID0gJ2FwaUtleXMuanNvbic7XHJcbmNvbnN0IENVU1RPTV9NT0RFTFNfRklMRSA9ICdjdXN0b21Nb2RlbHMuanNvbic7XHJcblxyXG4vLyAtLS0g57G75Z6L5a6a5LmJIC0tLVxyXG50eXBlIEN1c3RvbU1vZGVsc1N0b3JlID0gUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xyXG5cclxuLyoqXHJcbiAqIOazqOWGjOS4juaVsOaNruWtmOWCqOebuOWFs+eahCBJUEMg5aSE55CG56iL5bqP44CCXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTdG9yZUhhbmRsZXJzKCk6IHZvaWQge1xyXG4gIC8vIOWkhOeQhuivu+WPluWtmOWCqOivt+axglxyXG4gIGlwY01haW4uaGFuZGxlKCdyZWFkLXN0b3JlJywgYXN5bmMgKGV2ZW50LCBmaWxlTmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHVua25vd24pID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBJUEMgcmVjZWl2ZWQ6IHJlYWQtc3RvcmUgZm9yICR7ZmlsZU5hbWV9YCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVhZFN0b3JlKGZpbGVOYW1lLCBkZWZhdWx0VmFsdWUpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBJUEMgZXJyb3IgaGFuZGxpbmcgcmVhZC1zdG9yZSBmb3IgJHtmaWxlTmFtZX06YCwgZXJyb3IpO1xyXG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6K+75Y+W5a2Y5YKo5pe25Y+R55Sf5pyq55+l6ZSZ6K+vJztcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBtZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIOWkhOeQhuWGmeWFpeWtmOWCqOivt+axglxyXG4gIGlwY01haW4uaGFuZGxlKCd3cml0ZS1zdG9yZScsIGFzeW5jIChldmVudCwgZmlsZU5hbWU6IHN0cmluZywgZGF0YTogdW5rbm93bikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYFtJUEMgSGFuZGxlcl0gUmVjZWl2ZWQgJ3dyaXRlLXN0b3JlJyBmb3IgJHtmaWxlTmFtZX0gd2l0aCBkYXRhOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHdyaXRlU3RvcmUoZmlsZU5hbWUsIGRhdGEpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgW0lQQyBIYW5kbGVyXSB3cml0ZVN0b3JlIGZ1bmN0aW9uIGZvciAke2ZpbGVOYW1lfSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LmApO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBJUEMgZXJyb3IgaGFuZGxpbmcgd3JpdGUtc3RvcmUgZm9yICR7ZmlsZU5hbWV9OmAsIGVycm9yKTtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+WGmeWFpeWtmOWCqOaXtuWPkeeUn+acquefpemUmeivryc7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZygnU3RvcmUgSVBDIGhhbmRsZXJzIHJlZ2lzdGVyZWQuJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDms6jlhozkuI4gTExNIOacjeWKoeebuOWFs+eahCBJUEMg5aSE55CG56iL5bqPXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJMTE1TZXJ2aWNlSGFuZGxlcnMoKTogdm9pZCB7XHJcbiAgLy8g6I635Y+W5omA5pyJ5pyN5Yqh5ZWG5L+h5oGvXHJcbiAgaXBjTWFpbi5oYW5kbGUoJ2xsbS1nZXQtc2VydmljZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnW0lQQyBNYWluXSBSZWNlaXZlZCBsbG0tZ2V0LXNlcnZpY2VzJyk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzZXJ2aWNlcyA9IGxsbVNlcnZpY2VNYW5hZ2VyLmdldEFsbFNlcnZpY2VzKCkubWFwKHNlcnZpY2UgPT4gKHtcclxuICAgICAgICBwcm92aWRlcklkOiBzZXJ2aWNlLnByb3ZpZGVySWQsXHJcbiAgICAgICAgcHJvdmlkZXJOYW1lOiBzZXJ2aWNlLnByb3ZpZGVyTmFtZSxcclxuICAgICAgICBkZWZhdWx0TW9kZWxzOiBzZXJ2aWNlLmRlZmF1bHRNb2RlbHMsXHJcbiAgICAgIH0pKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogc2VydmljZXMgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfojrflj5YgTExNIOacjeWKoeWIl+ihqOaXtuWHuumUmSc7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tJUEMgTWFpbl0gRXJyb3IgaGFuZGxpbmcgbGxtLWdldC1zZXJ2aWNlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyDorr7nva4gQVBJIEtleVxyXG4gIGlwY01haW4uaGFuZGxlKCdsbG0tc2V0LWFwaS1rZXknLCBhc3luYyAoZXZlbnQsIHByb3ZpZGVySWQ6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcgfCBudWxsKSA9PiB7XHJcbiAgICAgY29uc29sZS5sb2coYFtJUEMgTWFpbl0gUmVjZWl2ZWQgbGxtLXNldC1hcGkta2V5IGZvciAke3Byb3ZpZGVySWR9YCk7XHJcbiAgICAgdHJ5IHtcclxuICAgICAgIGNvbnN0IG1hbmFnZXJTdWNjZXNzID0gbGxtU2VydmljZU1hbmFnZXIuc2V0QXBpS2V5Rm9yU2VydmljZShwcm92aWRlcklkLCBhcGlLZXkpO1xyXG4gICAgICAgaWYgKCFtYW5hZ2VyU3VjY2Vzcykge1xyXG4gICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGDmnKrmib7liLDmnI3liqHllYY6ICR7cHJvdmlkZXJJZH1gIH07XHJcbiAgICAgICB9XHJcbiAgICAgICBjb25zdCBjdXJyZW50S2V5cyA9IGF3YWl0IHJlYWRTdG9yZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPj4oQVBJX0tFWVNfRklMRSwge30pO1xyXG4gICAgICAgaWYgKGFwaUtleSAmJiBhcGlLZXkudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICBjdXJyZW50S2V5c1twcm92aWRlcklkXSA9IGFwaUtleTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGRlbGV0ZSBjdXJyZW50S2V5c1twcm92aWRlcklkXTtcclxuICAgICAgIH1cclxuICAgICAgIGF3YWl0IHdyaXRlU3RvcmUoQVBJX0tFWVNfRklMRSwgY3VycmVudEtleXMpO1xyXG4gICAgICAgY29uc29sZS5sb2coYEFQSSBLZXkgZm9yICR7cHJvdmlkZXJJZH0gc2V0IGFuZCBwZXJzaXN0ZWQgc3VjY2Vzc2Z1bGx5LmApO1xyXG4gICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6K6+572u5bm25L+d5a2YIEFQSSBLZXkg5pe25Ye66ZSZJztcclxuICAgICAgIGNvbnNvbGUuZXJyb3IoYFtJUEMgTWFpbl0gRXJyb3IgaGFuZGxpbmcgbGxtLXNldC1hcGkta2V5IGZvciAke3Byb3ZpZGVySWR9OmAsIGVycm9yKTtcclxuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9O1xyXG4gICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8g6I635Y+W5bey5L+d5a2Y55qEIEFQSSBLZXlzXHJcbiAgaXBjTWFpbi5oYW5kbGUoJ2xsbS1nZXQtc2F2ZWQta2V5cycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdbSVBDIE1haW5dIFJlY2VpdmVkIGxsbS1nZXQtc2F2ZWQta2V5cycpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc2F2ZWRLZXlzID0gYXdhaXQgcmVhZFN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+PihBUElfS0VZU19GSUxFLCB7fSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHNhdmVkS2V5cyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+ivu+WPluW3suS/neWtmOeahCBBUEkgS2V5cyDml7blh7rplJknO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbSVBDIE1haW5dIEVycm9yIGhhbmRsaW5nIGxsbS1nZXQtc2F2ZWQta2V5czonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAgLy8g6I635Y+W5Y+v55So5qih5Z6LXHJcbiAgIGlwY01haW4uaGFuZGxlKCdsbG0tZ2V0LWF2YWlsYWJsZS1tb2RlbHMnLCBhc3luYyAoZXZlbnQsIHByb3ZpZGVySWQ6IHN0cmluZykgPT4ge1xyXG4gICAgIGNvbnNvbGUubG9nKGBbSVBDIE1haW5dIFJlY2VpdmVkIGxsbS1nZXQtYXZhaWxhYmxlLW1vZGVscyBmb3IgJHtwcm92aWRlcklkfWApO1xyXG4gICAgIGNvbnN0IHNlcnZpY2UgPSBsbG1TZXJ2aWNlTWFuYWdlci5nZXRTZXJ2aWNlKHByb3ZpZGVySWQpO1xyXG4gICAgIGlmICghc2VydmljZSkge1xyXG4gICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBg5pyq5om+5Yiw5pyN5Yqh5ZWGOiAke3Byb3ZpZGVySWR9YCB9O1xyXG4gICAgIH1cclxuICAgICB0cnkge1xyXG4gICAgICAgY29uc3QgYWxsQ3VzdG9tTW9kZWxzID0gYXdhaXQgcmVhZFN0b3JlPEN1c3RvbU1vZGVsc1N0b3JlPihDVVNUT01fTU9ERUxTX0ZJTEUsIHt9KTtcclxuICAgICAgIGNvbnN0IGN1c3RvbU1vZGVscyA9IGFsbEN1c3RvbU1vZGVsc1twcm92aWRlcklkXSB8fCBbXTtcclxuICAgICAgIGNvbnN0IGF2YWlsYWJsZU1vZGVscyA9IHNlcnZpY2UuZ2V0QXZhaWxhYmxlTW9kZWxzKGN1c3RvbU1vZGVscyk7XHJcbiAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhdmFpbGFibGVNb2RlbHMgfTtcclxuICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xyXG4gICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+iOt+WPluWPr+eUqOaooeWei+aXtuWHuumUmSc7XHJcbiAgICAgICBjb25zb2xlLmVycm9yKGBbSVBDIE1haW5dIEVycm9yIGhhbmRsaW5nIGxsbS1nZXQtYXZhaWxhYmxlLW1vZGVscyBmb3IgJHtwcm92aWRlcklkfTpgLCBlcnJvcik7XHJcbiAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IG1lc3NhZ2UgfTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgLy8g5aSE55CG6IGK5aSp55Sf5oiQ6K+35rGCXHJcbiAgIGlwY01haW4uaGFuZGxlKCdsbG0tZ2VuZXJhdGUtY2hhdCcsIGFzeW5jIChldmVudCwgcHJvdmlkZXJJZDogc3RyaW5nLCBvcHRpb25zOiBMTE1DaGF0T3B0aW9ucyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogTExNUmVzcG9uc2U7IGVycm9yPzogc3RyaW5nIH0+ID0+IHtcclxuICAgICBjb25zb2xlLmxvZyhgW0lQQyBNYWluXSBSZWNlaXZlZCBsbG0tZ2VuZXJhdGUtY2hhdCBmb3IgJHtwcm92aWRlcklkfSB3aXRoIG9wdGlvbnM6YCwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgbnVsbCwgMikpO1xyXG4gICAgIGNvbnN0IHNlcnZpY2UgPSBsbG1TZXJ2aWNlTWFuYWdlci5nZXRTZXJ2aWNlKHByb3ZpZGVySWQpO1xyXG4gICAgIGlmICghc2VydmljZSkge1xyXG4gICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBg5pyq5om+5Yiw5pyN5Yqh5ZWGOiAke3Byb3ZpZGVySWR9YCB9O1xyXG4gICAgIH1cclxuICAgICBpZiAoIXNlcnZpY2UuZ2V0QXBpS2V5KCkpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGDmnI3liqHllYYgJHtwcm92aWRlcklkfSDnmoQgQVBJIEtleSDlsJrmnKrorr7nva5gIH07XHJcbiAgICAgfVxyXG4gICAgIHRyeSB7XHJcbiAgICAgICBjb25zdCByZXN1bHQ6IExMTVJlc3BvbnNlID0gYXdhaXQgc2VydmljZS5nZW5lcmF0ZUNoYXRDb21wbGV0aW9uKG9wdGlvbnMpO1xyXG4gICAgICAgY29uc29sZS5sb2coYFtJUEMgTWFpbl0gQ2hhdCBjb21wbGV0aW9uIHJlc3VsdCBmb3IgJHtwcm92aWRlcklkfTpgLCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTtcclxuICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcclxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yLCBkYXRhOiByZXN1bHQgfTtcclxuICAgICAgIH1cclxuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xyXG4gICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6LCD55So6IGK5aSp55Sf5oiQ5pe25Y+R55Sf5pyq55+l6ZSZ6K+vJztcclxuICAgICAgIGNvbnNvbGUuZXJyb3IoYFtJUEMgTWFpbl0gRXJyb3IgaGFuZGxpbmcgbGxtLWdlbmVyYXRlLWNoYXQgZm9yICR7cHJvdmlkZXJJZH06YCwgZXJyb3IpO1xyXG4gICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBtZXNzYWdlIH07XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIC8vIOiOt+WPluiHquWumuS5ieaooeWei+WIl+ihqFxyXG4gICBpcGNNYWluLmhhbmRsZSgnbGxtLWdldC1jdXN0b20tbW9kZWxzJywgYXN5bmMgKGV2ZW50LCBwcm92aWRlcklkOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YT86IHN0cmluZ1tdOyBlcnJvcj86IHN0cmluZyB9PiA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbSVBDIE1haW5dIFJlY2VpdmVkIGxsbS1nZXQtY3VzdG9tLW1vZGVscyBmb3IgJHtwcm92aWRlcklkfWApO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGFsbEN1c3RvbU1vZGVscyA9IGF3YWl0IHJlYWRTdG9yZTxDdXN0b21Nb2RlbHNTdG9yZT4oQ1VTVE9NX01PREVMU19GSUxFLCB7fSk7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tTW9kZWxzID0gYWxsQ3VzdG9tTW9kZWxzW3Byb3ZpZGVySWRdIHx8IFtdO1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGN1c3RvbU1vZGVscyB9O1xyXG4gICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfor7vlj5boh6rlrprkuYnmqKHlnovliJfooajml7blh7rplJknO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtJUEMgTWFpbl0gRXJyb3IgaGFuZGxpbmcgbGxtLWdldC1jdXN0b20tbW9kZWxzIGZvciAke3Byb3ZpZGVySWR9OmAsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IG1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIC8vIOS/neWtmOiHquWumuS5ieaooeWei+WIl+ihqFxyXG4gICBpcGNNYWluLmhhbmRsZSgnbGxtLXNhdmUtY3VzdG9tLW1vZGVscycsIGFzeW5jIChldmVudCwgcHJvdmlkZXJJZDogc3RyaW5nLCBtb2RlbHM6IHN0cmluZ1tdKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+ID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYFtJUEMgTWFpbl0gUmVjZWl2ZWQgbGxtLXNhdmUtY3VzdG9tLW1vZGVscyBmb3IgJHtwcm92aWRlcklkfSB3aXRoIG1vZGVsczpgLCBtb2RlbHMpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGFsbEN1c3RvbU1vZGVscyA9IGF3YWl0IHJlYWRTdG9yZTxDdXN0b21Nb2RlbHNTdG9yZT4oQ1VTVE9NX01PREVMU19GSUxFLCB7fSk7XHJcbiAgICAgICAgYWxsQ3VzdG9tTW9kZWxzW3Byb3ZpZGVySWRdID0gbW9kZWxzO1xyXG4gICAgICAgIGF3YWl0IHdyaXRlU3RvcmUoQ1VTVE9NX01PREVMU19GSUxFLCBhbGxDdXN0b21Nb2RlbHMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBDdXN0b20gbW9kZWxzIGZvciAke3Byb3ZpZGVySWR9IHNhdmVkIHN1Y2Nlc3NmdWxseS5gKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+S/neWtmOiHquWumuS5ieaooeWei+WIl+ihqOaXtuWHuumUmSc7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0lQQyBNYWluXSBFcnJvciBoYW5kbGluZyBsbG0tc2F2ZS1jdXN0b20tbW9kZWxzIGZvciAke3Byb3ZpZGVySWR9OmAsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IG1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgY29uc29sZS5sb2coJ0xMTSBTZXJ2aWNlIElQQyBoYW5kbGVycyByZWdpc3RlcmVkLicpO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIOazqOaEj++8muehruS/neWcqCBtYWluLnRzIOS4reiwg+eUqOaJgOaciSByZWdpc3Rlci4uLkhhbmRsZXJzKCkg5Ye95pWwIiwiaW1wb3J0IHsgYXBwLCBCcm93c2VyV2luZG93LCBNZW51LCBzaGVsbCB9IGZyb20gJ2VsZWN0cm9uJzsgLy8g5a+85YWl6ZyA6KaB55qE5qih5Z2XXHJcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XHJcbmltcG9ydCBmcyBmcm9tICdub2RlOmZzJzsgLy8g5a+85YWlIGZzIOaooeWdl1xyXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAnbm9kZTp1cmwnOyAvLyDlr7zlhaUgZmlsZVVSTFRvUGF0aFxyXG5pbXBvcnQgeyByZWdpc3RlclN0b3JlSGFuZGxlcnMsIHJlZ2lzdGVyTExNU2VydmljZUhhbmRsZXJzIH0gZnJvbSAnLi9pcGNIYW5kbGVycyc7XHJcbmltcG9ydCB7IGxsbVNlcnZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9sbG0vTExNU2VydmljZU1hbmFnZXInO1xyXG5pbXBvcnQgeyByZWFkU3RvcmUgfSBmcm9tICcuL3N0b3JhZ2UvanNvblN0b3JlJztcclxuXHJcbi8vIC0tLSDlhajlsYDluLjph48gLS0tXHJcbmNvbnN0IEFQSV9LRVlTX0ZJTEUgPSAnYXBpS2V5cy5qc29uJztcclxuXHJcbi8vIC0tLSDot6/lvoTorr7nva4gLS0tXHJcbi8vIOWcqCBFUyDmqKHlnZfkvZznlKjln5/kuK3ojrflj5blvZPliY3ov5DooYzmlofku7bnmoTnm67lvZUgKGRpc3QtZWxlY3Ryb24pXHJcbmNvbnN0IF9fZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IF9fZGlybmFtZSA9IHBhdGguZGlybmFtZShfX2ZpbGVuYW1lKTtcclxuXHJcbi8vIFZJVEVfUFVCTElDIOi3r+W+hOiuvue9riAo5byA5Y+R546v5aKD5oyH5ZCRIHB1YmxpYywg55Sf5Lqn546v5aKD5oyH5ZCRIGRpc3QpXHJcbi8vIOazqOaEjzogcHJvY2Vzcy5lbnYuRElTVCDkvJrlnKggY3JlYXRlV2luZG93IOS4reagueaNrueOr+Wig+iuvue9rlxyXG5wcm9jZXNzLmVudi5WSVRFX1BVQkxJQyA9IHByb2Nlc3MuZW52LlZJVEVfREVWX1NFUlZFUl9VUkxcclxuICA/IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSAvLyDlvIDlj5E6IC4uL3B1YmxpY1xyXG4gIDogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2Rpc3QnKTsgIC8vIOeUn+S6pzogLi4vZGlzdCAo5YWI5YGH6K6+5a6D5ZKMIGRpc3QtZWxlY3Ryb24g5ZCM57qnKVxyXG5cclxuLy8gLS0tIOWFqOWxgOWPmOmHjyAtLS1cclxubGV0IHdpbjogQnJvd3NlcldpbmRvdyB8IG51bGw7XHJcbmNvbnN0IFZJVEVfREVWX1NFUlZFUl9VUkwgPSBwcm9jZXNzLmVudlsnVklURV9ERVZfU0VSVkVSX1VSTCddO1xyXG5cclxuLy8gLS0tIOWHveaVsOWumuS5iSAtLS1cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rkuLvnqpflj6NcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdpbmRvdygpIHtcclxuICAvLyDmo4Dmn6UgVklURV9QVUJMSUMg6Lev5b6E5piv5ZCm5a2Y5Zyo5bm26K6+572u5Zu+5qCHXHJcbiAgY29uc3QgcHVibGljUGF0aCA9IHByb2Nlc3MuZW52LlZJVEVfUFVCTElDO1xyXG4gIGxldCBpY29uUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gIGlmIChwdWJsaWNQYXRoICYmIGZzLmV4aXN0c1N5bmMocHVibGljUGF0aCkpIHtcclxuICAgICAgY29uc3QgcG90ZW50aWFsSWNvblBhdGggPSBwYXRoLmpvaW4ocHVibGljUGF0aCwgJ2VsZWN0cm9uLXZpdGUuc3ZnJyk7XHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKHBvdGVudGlhbEljb25QYXRoKSkge1xyXG4gICAgICAgICAgaWNvblBhdGggPSBwb3RlbnRpYWxJY29uUGF0aDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgW01haW4gUHJvY2Vzc10gSWNvbiBmaWxlIG5vdCBmb3VuZCBhdDogJHtwb3RlbnRpYWxJY29uUGF0aH1gKTtcclxuICAgICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgW01haW4gUHJvY2Vzc10gVklURV9QVUJMSUMgcGF0aCBkb2VzIG5vdCBleGlzdCBvciBpcyBub3Qgc2V0OiAke3B1YmxpY1BhdGh9YCk7XHJcbiAgfVxyXG5cclxuICB3aW4gPSBuZXcgQnJvd3NlcldpbmRvdyh7XHJcbiAgICBpY29uOiBpY29uUGF0aCwgLy8g5L2/55So6K6h566X5Ye655qE5Zu+5qCH6Lev5b6EXHJcbiAgICB3aWR0aDogMTIwMCxcclxuICAgIGhlaWdodDogODAwLFxyXG4gICAgd2ViUHJlZmVyZW5jZXM6IHtcclxuICAgICAgcHJlbG9hZDogcGF0aC5qb2luKF9fZGlybmFtZSwgJ3ByZWxvYWQubWpzJyksIC8vIF9fZGlybmFtZSDmmK8gZGlzdC1lbGVjdHJvblxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgLy8g5rWL6K+V5ZCR5riy5p+T6L+b56iL5o6o6YCB5raI5oGvICjlj6/pgIkpXHJcbiAgd2luLndlYkNvbnRlbnRzLm9uKCdkaWQtZmluaXNoLWxvYWQnLCAoKSA9PiB7XHJcbiAgICB3aW4/LndlYkNvbnRlbnRzLnNlbmQoJ21haW4tcHJvY2Vzcy1tZXNzYWdlJywgKG5ldyBEYXRlKS50b0xvY2FsZVN0cmluZygpKTtcclxuICB9KTtcclxuXHJcbiAgLy8g5Yqg6L296aG16Z2iXHJcbiAgaWYgKFZJVEVfREVWX1NFUlZFUl9VUkwpIHtcclxuICAgIC8vIOW8gOWPkeaooeW8jzog5Yqg6L29IFZpdGUg5byA5Y+R5pyN5Yqh5ZmoIFVSTFxyXG4gICAgd2luLmxvYWRVUkwoVklURV9ERVZfU0VSVkVSX1VSTCk7XHJcbiAgICB3aW4ud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIOeUn+S6p+aooeW8jzog5LuOIGRpc3Qg55uu5b2V5Yqg6L29IGluZGV4Lmh0bWxcclxuICAgIC8vIOWcqOi/memHjOiuoeeul+W5tuajgOafpSBkaXN0IOi3r+W+hFxyXG4gICAgY29uc3QgZGlzdFBhdGggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vZGlzdCcpO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpc3RQYXRoKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtNYWluIFByb2Nlc3NdIFByb2R1Y3Rpb24gRElTVCBwYXRoIGRvZXMgbm90IGV4aXN0OiAke2Rpc3RQYXRofS4gRXhpdGluZy5gKTtcclxuICAgICAgICBhcHAucXVpdCgpO1xyXG4gICAgICAgIHJldHVybjsgLy8g5b+F6aG76L+U5Zue77yM6Ziy5q2i5ZCO57ut5Luj56CB5omn6KGMXHJcbiAgICB9XHJcbiAgICAvLyDorr7nva4gcHJvY2Vzcy5lbnYuRElTVCDkvpvlhbbku5blnLDmlrnkvb/nlKggKOWmguaenOmcgOimgeeahOivnSlcclxuICAgIHByb2Nlc3MuZW52LkRJU1QgPSBkaXN0UGF0aDtcclxuXHJcbiAgICBjb25zdCBpbmRleFBhdGggPSBwYXRoLmpvaW4oZGlzdFBhdGgsICdpbmRleC5odG1sJyk7XHJcbiAgICAgdHJ5IHtcclxuICAgICAgICBmcy5hY2Nlc3NTeW5jKGluZGV4UGF0aCk7IC8vIOajgOafpeaWh+S7tuaYr+WQpuWtmOWcqFxyXG4gICAgICAgIHdpbi5sb2FkRmlsZShpbmRleFBhdGgpO1xyXG4gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBpbmRleC5odG1sIGZyb20gJHtpbmRleFBhdGh9OmAsIGVycm9yKTtcclxuICAgICAgICBhcHAucXVpdCgpO1xyXG4gICAgIH1cclxuICB9XHJcblxyXG4gICB3aW4ub24oJ2Nsb3NlZCcsICgpID0+IHtcclxuICAgICB3aW4gPSBudWxsO1xyXG4gICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuW6lOeUqOiPnOWNlVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlTWVudSgpIHtcclxuICBjb25zdCBtZW51VGVtcGxhdGU6IChFbGVjdHJvbi5NZW51SXRlbUNvbnN0cnVjdG9yT3B0aW9ucyB8IEVsZWN0cm9uLk1lbnVJdGVtKVtdID0gW1xyXG4gICAgIHtcclxuICAgICAgIGxhYmVsOiAn5paH5Lu2JyxcclxuICAgICAgIHN1Ym1lbnU6IFtcclxuICAgICAgICAgeyByb2xlOiAncXVpdCcsIGxhYmVsOiAn6YCA5Ye6JyB9XHJcbiAgICAgICBdXHJcbiAgICAgfSxcclxuICAgICB7XHJcbiAgICAgICBsYWJlbDogJ+e8lui+kScsXHJcbiAgICAgICBzdWJtZW51OiBbXHJcbiAgICAgICAgIHsgcm9sZTogJ3VuZG8nLCBsYWJlbDogJ+aSpOmUgCcgfSxcclxuICAgICAgICAgeyByb2xlOiAncmVkbycsIGxhYmVsOiAn6YeN5YGaJyB9LFxyXG4gICAgICAgICB7IHR5cGU6ICdzZXBhcmF0b3InIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ2N1dCcsIGxhYmVsOiAn5Ymq5YiHJyB9LFxyXG4gICAgICAgICB7IHJvbGU6ICdjb3B5JywgbGFiZWw6ICflpI3liLYnIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ3Bhc3RlJywgbGFiZWw6ICfnspjotLQnIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ3NlbGVjdEFsbCcsIGxhYmVsOiAn5YWo6YCJJyB9XHJcbiAgICAgICBdXHJcbiAgICAgfSxcclxuICAgICB7XHJcbiAgICAgICBsYWJlbDogJ+inhuWbvicsXHJcbiAgICAgICBzdWJtZW51OiBbXHJcbiAgICAgICAgIHsgcm9sZTogJ3JlbG9hZCcsIGxhYmVsOiAn6YeN5paw5Yqg6L29JyB9LFxyXG4gICAgICAgICB7IHJvbGU6ICdmb3JjZVJlbG9hZCcsIGxhYmVsOiAn5by65Yi26YeN5paw5Yqg6L29JyB9LFxyXG4gICAgICAgICB7IHJvbGU6ICd0b2dnbGVEZXZUb29scycsIGxhYmVsOiAn5YiH5o2i5byA5Y+R6ICF5bel5YW3JyB9LFxyXG4gICAgICAgICB7IHR5cGU6ICdzZXBhcmF0b3InIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ3Jlc2V0Wm9vbScsIGxhYmVsOiAn6YeN572u57yp5pS+JyB9LFxyXG4gICAgICAgICB7IHJvbGU6ICd6b29tSW4nLCBsYWJlbDogJ+aUvuWkpycgfSxcclxuICAgICAgICAgeyByb2xlOiAnem9vbU91dCcsIGxhYmVsOiAn57yp5bCPJyB9LFxyXG4gICAgICAgICB7IHR5cGU6ICdzZXBhcmF0b3InIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ3RvZ2dsZWZ1bGxzY3JlZW4nLCBsYWJlbDogJ+WIh+aNouWFqOWxjycgfVxyXG4gICAgICAgXVxyXG4gICAgIH0sXHJcbiAgICAge1xyXG4gICAgICAgbGFiZWw6ICfnqpflj6MnLFxyXG4gICAgICAgc3VibWVudTogW1xyXG4gICAgICAgICB7IHJvbGU6ICdtaW5pbWl6ZScsIGxhYmVsOiAn5pyA5bCP5YyWJyB9LFxyXG4gICAgICAgICB7IHJvbGU6ICdjbG9zZScsIGxhYmVsOiAn5YWz6ZetJyB9XHJcbiAgICAgICBdXHJcbiAgICAgfSxcclxuICAgICB7XHJcbiAgICAgICBsYWJlbDogJ+W4ruWKqScsXHJcbiAgICAgICBzdWJtZW51OiBbXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICBsYWJlbDogJ+S6huino+abtOWkmicsXHJcbiAgICAgICAgICAgY2xpY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgIGF3YWl0IHNoZWxsLm9wZW5FeHRlcm5hbCgnaHR0cHM6Ly9lbGVjdHJvbmpzLm9yZycpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICAgXVxyXG4gICAgIH1cclxuICAgXTtcclxuXHJcbiAgIC8vIG1hY09TIOeJueWumuiPnOWNlemhuVxyXG4gICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2RhcndpbicpIHtcclxuICAgICBtZW51VGVtcGxhdGUudW5zaGlmdCh7XHJcbiAgICAgICBsYWJlbDogYXBwLmdldE5hbWUoKSxcclxuICAgICAgIHN1Ym1lbnU6IFtcclxuICAgICAgICAgeyByb2xlOiAnYWJvdXQnLCBsYWJlbDogYOWFs+S6jiAke2FwcC5nZXROYW1lKCl9YCB9LFxyXG4gICAgICAgICB7IHR5cGU6ICdzZXBhcmF0b3InIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ3NlcnZpY2VzJywgbGFiZWw6ICfmnI3liqEnIH0sXHJcbiAgICAgICAgIHsgdHlwZTogJ3NlcGFyYXRvcicgfSxcclxuICAgICAgICAgeyByb2xlOiAnaGlkZScsIGxhYmVsOiBg6ZqQ6JePICR7YXBwLmdldE5hbWUoKX1gIH0sXHJcbiAgICAgICAgIHsgcm9sZTogJ2hpZGVPdGhlcnMnLCBsYWJlbDogJ+makOiXj+WFtuS7licgfSxcclxuICAgICAgICAgeyByb2xlOiAndW5oaWRlJywgbGFiZWw6ICflhajpg6jmmL7npLonIH0sXHJcbiAgICAgICAgIHsgdHlwZTogJ3NlcGFyYXRvcicgfSxcclxuICAgICAgICAgeyByb2xlOiAncXVpdCcsIGxhYmVsOiBg6YCA5Ye6ICR7YXBwLmdldE5hbWUoKX1gIH1cclxuICAgICAgIF1cclxuICAgICB9KTtcclxuICAgICBjb25zdCBlZGl0TWVudSA9IG1lbnVUZW1wbGF0ZS5maW5kKG0gPT4gbS5sYWJlbCA9PT0gJ+e8lui+kScpO1xyXG4gICAgIGlmIChlZGl0TWVudT8uc3VibWVudSkge1xyXG4gICAgICAgIChlZGl0TWVudS5zdWJtZW51IGFzIEVsZWN0cm9uLk1lbnVJdGVtQ29uc3RydWN0b3JPcHRpb25zW10pLnB1c2goXHJcbiAgICAgICAgIHsgdHlwZTogJ3NlcGFyYXRvcicgfSwgeyBsYWJlbDogJ+ivremfsycsIHN1Ym1lbnU6IFt7IHJvbGU6ICdzdGFydFNwZWFraW5nJywgbGFiZWw6ICflvIDlp4vmnJfor7snIH0sIHsgcm9sZTogJ3N0b3BTcGVha2luZycsIGxhYmVsOiAn5YGc5q2i5pyX6K+7JyB9XSB9XHJcbiAgICAgICApO1xyXG4gICAgIH1cclxuICAgICBjb25zdCB3aW5kb3dNZW51ID0gbWVudVRlbXBsYXRlLmZpbmQobSA9PiBtLmxhYmVsID09PSAn56qX5Y+jJyk7XHJcbiAgICAgIGlmICh3aW5kb3dNZW51Py5zdWJtZW51KSB7XHJcbiAgICAgICAgICh3aW5kb3dNZW51LnN1Ym1lbnUgYXMgRWxlY3Ryb24uTWVudUl0ZW1Db25zdHJ1Y3Rvck9wdGlvbnNbXSkucHVzaChcclxuICAgICAgICAgICAgIHsgdHlwZTogJ3NlcGFyYXRvcicgfSwgeyByb2xlOiAnZnJvbnQnLCBsYWJlbDogJ+WFqOmDqOe9ruS6jumhtuWxgicgfVxyXG4gICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIGNvbnN0IG1lbnUgPSBNZW51LmJ1aWxkRnJvbVRlbXBsYXRlKG1lbnVUZW1wbGF0ZSk7XHJcbiAgIE1lbnUuc2V0QXBwbGljYXRpb25NZW51KG1lbnUpO1xyXG59XHJcblxyXG4vKipcclxuICog5Yqg6L295bey5L+d5a2Y55qEIEFQSSBLZXlzIOW5tuiuvue9ruWIsOacjeWKoeeuoeeQhuWZqOS4rVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gbG9hZEFuZFNldEFwaUtleXMoKSB7XHJcbiAgY29uc29sZS5sb2coJ1tNYWluIFByb2Nlc3NdIExvYWRpbmcgc2F2ZWQgQVBJIGtleXMuLi4nKTtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2F2ZWRLZXlzID0gYXdhaXQgcmVhZFN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+PihBUElfS0VZU19GSUxFLCB7fSk7XHJcbiAgICBjb25zb2xlLmxvZygnW01haW4gUHJvY2Vzc10gRm91bmQgc2F2ZWQga2V5cyBmb3IgcHJvdmlkZXJzOicsIE9iamVjdC5rZXlzKHNhdmVkS2V5cykpO1xyXG4gICAgZm9yIChjb25zdCBbcHJvdmlkZXJJZCwgYXBpS2V5XSBvZiBPYmplY3QuZW50cmllcyhzYXZlZEtleXMpKSB7XHJcbiAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW01haW4gUHJvY2Vzc10gU2V0dGluZyBBUEkga2V5IGZvciAke3Byb3ZpZGVySWR9Li4uYCk7XHJcbiAgICAgICAgbGxtU2VydmljZU1hbmFnZXIuc2V0QXBpS2V5Rm9yU2VydmljZShwcm92aWRlcklkLCBhcGlLZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnW01haW4gUHJvY2Vzc10gRmluaXNoZWQgc2V0dGluZyBzYXZlZCBBUEkga2V5cy4nKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignW01haW4gUHJvY2Vzc10gRXJyb3IgbG9hZGluZyBvciBzZXR0aW5nIHNhdmVkIEFQSSBrZXlzOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy8gLS0tIOW6lOeUqOeUn+WRveWRqOacn+S6i+S7tiAtLS1cclxuXHJcbmFwcC5vbignd2luZG93LWFsbC1jbG9zZWQnLCAoKSA9PiB7XHJcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICdkYXJ3aW4nKSB7XHJcbiAgICBhcHAucXVpdCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5hcHAub24oJ2FjdGl2YXRlJywgKCkgPT4ge1xyXG4gIGlmIChCcm93c2VyV2luZG93LmdldEFsbFdpbmRvd3MoKS5sZW5ndGggPT09IDApIHtcclxuICAgIGNyZWF0ZVdpbmRvdygpO1xyXG4gIH1cclxufSk7XHJcblxyXG5hcHAud2hlblJlYWR5KCkudGhlbihhc3luYyAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1tNYWluIFByb2Nlc3NdIEFwcCByZWFkeS4nKTtcclxuICB0cnkge1xyXG4gICAgLy8g5Yid5aeL5YyWIExMTSDmnI3liqHlkozliqDovb0gQVBJIEtleXNcclxuICAgIGF3YWl0IGxsbVNlcnZpY2VNYW5hZ2VyLmluaXRpYWxpemUoKTtcclxuICAgIGF3YWl0IGxvYWRBbmRTZXRBcGlLZXlzKCk7XHJcblxyXG4gICAgLy8g5rOo5YaMIElQQyBoYW5kbGVyc1xyXG4gICAgcmVnaXN0ZXJTdG9yZUhhbmRsZXJzKCk7XHJcbiAgICByZWdpc3RlckxMTVNlcnZpY2VIYW5kbGVycygpO1xyXG4gICAgY3JlYXRlV2luZG93KCk7XHJcbiAgICBjcmVhdGVNZW51KCk7XHJcbiAgICBjb25zb2xlLmxvZygnW01haW4gUHJvY2Vzc10gSW5pdGlhbGl6YXRpb24gc3VjY2Vzc2Z1bC4nKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgIGNvbnNvbGUuZXJyb3IoXCJbTWFpbiBQcm9jZXNzXSBGYWlsZWQgZHVyaW5nIGFwcCBpbml0aWFsaXphdGlvbjpcIiwgZXJyb3IpO1xyXG4gICAgIGFwcC5xdWl0KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgRXhjZXB0aW9uOicsIGVycm9yKTtcclxufSk7Il0sIm5hbWVzIjpbInYiLCJpc19hcnJheSIsImkiLCJzdHIiLCJqIiwiYyIsIlZFUlNJT04iLCJhdXRvIiwia2luZCIsImZldGNoIiwiRm9ybURhdGEiLCJGaWxlIiwiUmVhZGFibGVTdHJlYW0iLCJnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyIsImdldERlZmF1bHRBZ2VudCIsImZpbGVGcm9tUGF0aCIsInNldFNoaW1zIiwieCIsIlYiLCJTIiwibiIsIlUiLCJkIiwiYSIsImIiLCJzIiwiZSIsImwiLCJ0cjQ2IiwicmVxdWlyZSQkMSIsImF0IiwiUiIsInBhdGgiLCJyZXMiLCJyZXF1aXJlJCQwIiwiVVJMSW1wbF8xIiwidXRpbHMiLCJyZXF1aXJlJCQyIiwiVVJMIiwicHJpdmF0ZURhdGEiLCJTdHJlYW0iLCJCbG9iIiwiaXNCbG9iIiwiY3QiLCJIZWFkZXJzIiwiaW5pdCIsImdldEhlYWRlcnMiLCJrIiwiYWdlbnQiLCJVUkwkMSIsImlzRG9tYWluT3JTdWJkb21haW4iLCJpc1NhbWVQcm90b2NvbCIsImFib3J0IiwiYWJvcnRBbmRGaW5hbGl6ZSIsInQiLCJyIiwibyIsInUiLCJfIiwiZyIsInciLCJUIiwicSIsIkMiLCJFIiwiUCIsIlciLCJPIiwiQiIsIkwiLCJ6IiwiQSIsIkYiLCJmIiwiaCIsInAiLCJtIiwieSIsImlzRnVuY3Rpb24iLCJjbG9uZSIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwiX0Zvcm1EYXRhX3NldEVudHJ5IiwibXMiLCJkZWJ1ZyIsInJlcXVpcmUkJDMiLCJkZXByZWNhdGUiLCJpbnNwZWN0IiwiYWdlbnRrZWVwYWxpdmVNb2R1bGUiLCJBYm9ydENvbnRyb2xsZXIiLCJpc0ZpbGVMaWtlIiwibm9ybWFsaXplIiwiX0Zvcm1EYXRhRW5jb2Rlcl9nZXRGaWVsZEhlYWRlciIsImVzY2FwZSIsImZpbGVGcm9tUGF0aFdhcm5lZCIsImRlZmF1bHRIdHRwQWdlbnQiLCJkZWZhdWx0SHR0cHNBZ2VudCIsIlJlYWRhYmxlIiwiTXVsdGlwYXJ0Qm9keSIsImdldFJ1bnRpbWUiLCJBYm9ydENvbnRyb2xsZXJQb2x5ZmlsbCIsIm5mLmRlZmF1bHQiLCJuZi5IZWFkZXJzIiwiZmQuQmxvYiIsImZkLkZpbGUiLCJGc1JlYWRTdHJlYW0iLCJzaGltcy5raW5kIiwic2hpbXMuc2V0U2hpbXMiLCJhdXRvLmdldFJ1bnRpbWUiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJjYXN0VG9FcnJvciIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkFQSUVycm9yIiwiX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgiLCJmaW5kTmV3bGluZUluZGV4IiwiTGluZURlY29kZXIiLCJmaW5kRG91YmxlTmV3bGluZUluZGV4IiwiUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGUiLCJfaXRlclNTRU1lc3NhZ2VzIiwiY3JlYXRlUmVzcG9uc2VIZWFkZXJzIiwiX2EiLCJTU0VEZWNvZGVyIiwiaXRlclNTRUNodW5rcyIsInBhcnRpdGlvbiIsImlzUmVzcG9uc2VMaWtlIiwiaXNCbG9iTGlrZSIsInRvRmlsZSIsImdldEJ5dGVzIiwiZ2V0TmFtZSIsImlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yIiwicHJvcHNGb3JFcnJvciIsImdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlciIsImlzTXVsdGlwYXJ0Qm9keSIsIl9BYnN0cmFjdFBhZ2VfY2xpZW50IiwiZGVmYXVsdFBhcnNlUmVzcG9uc2UiLCJfYWRkUmVxdWVzdElEIiwicGFyc2VSZXNwb25zZSIsInZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyIiwiZ2V0UGxhdGZvcm1IZWFkZXJzIiwidXVpZDQiLCJvcHRzIiwiUGFnZSIsImFwcGx5SGVhZGVyc011dCIsInNoaW1zS2luZCIsImdldEhlYWRlciIsIkFQSVByb21pc2UiLCJBUElVc2VyQWJvcnRFcnJvciIsIkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IiLCJyZXRyeU1lc3NhZ2UiLCJzYWZlSlNPTiIsIlBhZ2VQcm9taXNlIiwiaXNBYnNvbHV0ZVVSTCIsImlzRW1wdHlPYmoiLCJzbGVlcCIsInJlcXVlc3RPcHRpb25zS2V5cyIsImlzUmVxdWVzdE9wdGlvbnMiLCJoYXNPd24iLCJnZXRQbGF0Zm9ybVByb3BlcnRpZXMiLCJub3JtYWxpemVQbGF0Zm9ybSIsIm5vcm1hbGl6ZUFyY2giLCJnZXRCcm93c2VySW5mbyIsIl9wbGF0Zm9ybUhlYWRlcnMiLCJzdGFydHNXaXRoU2NoZW1lUmVnZXhwIiwicmVhZEVudiIsIl9lIiwibW9kaWZpZWRBcmciLCJpc1J1bm5pbmdJbkJyb3dzZXIiLCJpc0hlYWRlcnNQcm90b2NvbCIsIkFic3RyYWN0UGFnZSIsIkFQSVJlc291cmNlIiwiTWVzc2FnZXNBUEkuTWVzc2FnZXMiLCJDb21wbGV0aW9ucyIsIk1lc3NhZ2VzIiwiQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnMiLCJDaGF0IiwiQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9ucyIsIlRyYW5zbGF0aW9uc0FQSS5UcmFuc2xhdGlvbnMiLCJTcGVlY2hBUEkuU3BlZWNoIiwiQmF0Y2hlcyIsIl9FdmVudFN0cmVhbV9oYW5kbGVFcnJvciIsImNodW5rIiwiQ29yZS5pc09iaiIsIl9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCJpc0F1dG9QYXJzYWJsZVRvb2wiLCJoYXNBdXRvUGFyc2VhYmxlSW5wdXQiLCJwYXJzZVRvb2xDYWxsIiwiaW5wdXRUb29sIiwiY29udGVudCIsIm5hbWUiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0IiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3ZhbGlkYXRlUGFyYW1zIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0IiwicGFydGlhbFBhcnNlIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uIiwicmVmdXNhbCIsInJlc3QiLCJpbmRleCIsImlkIiwiU2Vzc2lvbnNBUEkuU2Vzc2lvbnMiLCJUcmFuc2NyaXB0aW9uU2Vzc2lvbnNBUEkuVHJhbnNjcmlwdGlvblNlc3Npb25zIiwiU3RlcHNBUEkuU3RlcHMiLCJSdW5zIiwiUnVuc0FQSS5SdW5zIiwiUmVhbHRpbWVBUEkuUmVhbHRpbWUiLCJDaGF0QVBJLkNoYXQiLCJBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHMiLCJUaHJlYWRzQVBJLlRocmVhZHMiLCJCZXRhIiwiQ29yZS5kZWJ1ZyIsInJlc3BvbnNlIiwiQ29yZS50b0Zsb2F0MzJBcnJheSIsIk91dHB1dEl0ZW1zQVBJLk91dHB1dEl0ZW1zIiwiRmlsZXMiLCJQZXJtaXNzaW9uc0FQSS5QZXJtaXNzaW9ucyIsIkNoZWNrcG9pbnRzIiwiQ2hlY2twb2ludHNBUEkuQ2hlY2twb2ludHMiLCJKb2JzQVBJLkpvYnMiLCJNb2RlbHMiLCJvdXRwdXQiLCJfUmVzcG9uc2VTdHJlYW1fYmVnaW5SZXF1ZXN0IiwiX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50IiwiX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QiLCJfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlIiwiZXZlbnQiLCJJbnB1dEl0ZW1zQVBJLklucHV0SXRlbXMiLCJQYXJ0c0FQSS5QYXJ0cyIsIkZpbGVzQVBJLkZpbGVzIiwiRmlsZUJhdGNoZXNBUEkuRmlsZUJhdGNoZXMiLCJDb3JlLkFQSUNsaWVudCIsIkNvcmUucmVhZEVudiIsIkVycm9ycy5PcGVuQUlFcnJvciIsIkNvcmUuaXNSdW5uaW5nSW5Ccm93c2VyIiwiQVBJLkNvbXBsZXRpb25zIiwiQVBJLkNoYXQiLCJBUEkuRW1iZWRkaW5ncyIsIkFQSS5GaWxlcyIsIkFQSS5JbWFnZXMiLCJBUEkuQXVkaW8iLCJBUEkuTW9kZXJhdGlvbnMiLCJBUEkuTW9kZWxzIiwiQVBJLkZpbmVUdW5pbmciLCJBUEkuVmVjdG9yU3RvcmVzIiwiQVBJLkJldGEiLCJBUEkuQmF0Y2hlcyIsIkFQSS5VcGxvYWRzIiwiQVBJLlJlc3BvbnNlcyIsIkFQSS5FdmFscyIsInFzLnN0cmluZ2lmeSIsIkVycm9ycy5BUElFcnJvciIsIkVycm9ycy5BUElDb25uZWN0aW9uRXJyb3IiLCJFcnJvcnMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkVycm9ycy5BUElVc2VyQWJvcnRFcnJvciIsIkVycm9ycy5Ob3RGb3VuZEVycm9yIiwiRXJyb3JzLkNvbmZsaWN0RXJyb3IiLCJFcnJvcnMuUmF0ZUxpbWl0RXJyb3IiLCJFcnJvcnMuQmFkUmVxdWVzdEVycm9yIiwiRXJyb3JzLkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJFcnJvcnMuSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIiwiVXBsb2Fkcy50b0ZpbGUiLCJVcGxvYWRzLmZpbGVGcm9tUGF0aCIsIlVwbG9hZHNBUElVcGxvYWRzIiwiQVBJQ2xpZW50IiwiSlNPTl9CVUZfUFJPUEVSVFkiLCJfQmV0YU1lc3NhZ2VTdHJlYW1fZ2V0RmluYWxNZXNzYWdlIiwiX0JldGFNZXNzYWdlU3RyZWFtX2dldEZpbmFsVGV4dCIsIl9CZXRhTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QiLCJfQmV0YU1lc3NhZ2VTdHJlYW1fYWRkU3RyZWFtRXZlbnQiLCJjaGVja05ldmVyIiwiX0JldGFNZXNzYWdlU3RyZWFtX2VuZFJlcXVlc3QiLCJfQmV0YU1lc3NhZ2VTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UiLCJERVBSRUNBVEVEX01PREVMUyIsIkJhdGNoZXNBUEkuQmF0Y2hlcyIsIk1vZGVsc0FQSS5Nb2RlbHMiLCJfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbE1lc3NhZ2UiLCJfTWVzc2FnZVN0cmVhbV9nZXRGaW5hbFRleHQiLCJfTWVzc2FnZVN0cmVhbV9iZWdpblJlcXVlc3QiLCJfTWVzc2FnZVN0cmVhbV9hZGRTdHJlYW1FdmVudCIsIl9NZXNzYWdlU3RyZWFtX2VuZFJlcXVlc3QiLCJfTWVzc2FnZVN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSIsIkVycm9ycy5BbnRocm9waWNFcnJvciIsIkFQSS5NZXNzYWdlcyIsIlNjaGVtYVR5cGUiLCJFeGVjdXRhYmxlQ29kZUxhbmd1YWdlIiwiT3V0Y29tZSIsIkhhcm1DYXRlZ29yeSIsIkhhcm1CbG9ja1RocmVzaG9sZCIsIkhhcm1Qcm9iYWJpbGl0eSIsIkJsb2NrUmVhc29uIiwiRmluaXNoUmVhc29uIiwiVGFza1R5cGUiLCJGdW5jdGlvbkNhbGxpbmdNb2RlIiwiRHluYW1pY1JldHJpZXZhbE1vZGUiLCJUYXNrIiwiQVBJX0tFWVNfRklMRSIsImZzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFNQSxNQUFNLGFBQWEsS0FBSyxLQUFLLElBQUksUUFBUSxVQUFVLEdBQUcsMkJBQTJCO0FBS2pGLGVBQWUseUJBQXdDO0FBQ2pELE1BQUE7QUFDSSxVQUFBLEdBQUcsT0FBTyxVQUFVO0FBQUEsV0FDbkIsT0FBZ0I7QUFFbkIsUUFBQTtBQUNKLFFBQUksU0FBUyxPQUFPLFVBQVUsWUFBWSxVQUFVLE9BQU87QUFDekQsa0JBQWEsTUFBMkI7QUFBQSxJQUFBO0FBSTFDLFFBQUksY0FBYyxVQUFVO0FB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QUFFO0FBQUMsTUFBRztBQUFDLFdBQU8sZUFBZTVCLElBQUUsUUFBTyxFQUFDLE9BQU00QixJQUFFLGNBQWEsS0FBRSxDQUFDO0FBQUEsRUFBQyxTQUFPNUIsSUFBRTtBQUFBLEVBQUE7QUFBRTtBQUFDLE1BQU0sSUFBRSxTQUFRLElBQUUsUUFBUSxVQUFVLE1BQUssSUFBRSxRQUFRLFFBQVEsS0FBSyxDQUFDLEdBQUUsSUFBRSxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQUUsU0FBUyxFQUFFQSxJQUFFO0FBQUMsU0FBTyxJQUFJLEVBQUVBLEVBQUM7QUFBQztBQUFDLFNBQVMsRUFBRUEsSUFBRTtBQUFDLFNBQU8sRUFBRUEsRUFBQztBQUFDO0FBQUMsU0FBUyxFQUFFQSxJQUFFO0FBQUMsU0FBTyxFQUFFQSxFQUFDO0FBQUM7QUFBQyxTQUFTLEVBQUVBLElBQUU0QixJQUFFQyxJQUFFO0FBQUMsU0FBTyxFQUFFLEtBQUs3QixJQUFFNEIsSUFBRUMsRUFBQztBQUFDO0FBQUMsU0FBUyxFQUFFN0IsSUFBRTRCLElBQUVDLElBQUU7QUFBQyxJQUFFLEVBQUU3QixJQUFFNEIsSUFBRUMsRUFBQyxHQUFFLFFBQU8sQ0FBQztBQUFDO0FBQUMsU0FBUyxFQUFFN0IsSUFBRTRCLElBQUU7QUFBQyxJQUFFNUIsSUFBRTRCLEVBQUM7QUFBQztBQUFDLFNBQVMsRUFBRTVCLElBQUU0QixJQUFFO0FBQUMsSUFBRTVCLElBQUUsUUFBTzRCLEVBQUM7QUFBQztBQUFDLFNBQVMsRUFBRTVCLElBQUU0QixJQUFFQyxJQUFFO0FBQUMsU0FBTyxFQUFFN0IsSUFBRTRCLElBQUVDLEVBQUM7QUFBQztBQUFDLFNBQVMsRUFBRTdCLElBQUU7QUFBQyxJQUFFQSxJQUFFLFFBQU8sQ0FBQztBQUFDO0FBQUMsSUFBSSxJQUFFLENBQUFBLE9BQUc7QUFBQyxNQUFHLGNBQVksT0FBTyxlQUFlLEtBQUU7QUFBQSxPQUFtQjtBQUFDLFVBQU1BLEtBQUUsRUFBRSxNQUFNO0FBQUUsUUFBRSxDQUFBNEIsT0FBRyxFQUFFNUIsSUFBRTRCLEVB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USxHQUFHLHFCQUFxQixDQUFDLFVBQVU7QUFDakMsVUFBQSxNQUFNLHVCQUF1QixLQUFLO0FBQzVDLENBQUM7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyLDkzLDk0LDk1LDk2LDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzM119
