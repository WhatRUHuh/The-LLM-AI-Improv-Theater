"use strict";
const electron = require("electron");
var LogLevel = /* @__PURE__ */ ((LogLevel2) => {
  LogLevel2[LogLevel2["DEBUG"] = 0] = "DEBUG";
  LogLevel2[LogLevel2["INFO"] = 1] = "INFO";
  LogLevel2[LogLevel2["WARN"] = 2] = "WARN";
  LogLevel2[LogLevel2["ERROR"] = 3] = "ERROR";
  return LogLevel2;
})(LogLevel || {});
const defaultLogConfig = {
  globalLevel: LogLevel.DEBUG,
  moduleLevels: {
    main: LogLevel.DEBUG,
    ipc: LogLevel.DEBUG,
    llm: LogLevel.DEBUG,
    storage: LogLevel.DEBUG,
    proxy: LogLevel.DEBUG
  },
  showTimestamp: true,
  colorfulConsole: true,
  logToFile: false
};
function getLogConfig() {
  return defaultLogConfig;
}
class Logger {
  /**
   * 构造函数
   * @param config 日志配置
   */
  constructor(config) {
    const globalConfig = getLogConfig();
    this.level = config.level;
    this.prefix = config.prefix || "";
    this.showTimestamp = config.showTimestamp !== void 0 ? config.showTimestamp : globalConfig.showTimestamp;
    this.colorfulConsole = config.colorfulConsole !== void 0 ? config.colorfulConsole : globalConfig.colorfulConsole;
  }
  /**
   * 格式化日志消息
   * @param level 日志级别
   * @param message 日志消息
   * @param args 额外参数
   * @returns 格式化后的日志消息
   */
  formatMessage(level, message, ...args) {
    const timestamp = this.showTimestamp ? `[${(/* @__PURE__ */ new Date()).toLocaleString("zh-CN")}] ` : "";
    const prefix = this.prefix ? `[${this.prefix}] ` : "";
    const levelStr = `[${level}] `;
    const formattedArgs = args.map((arg) => {
      if (typeof arg === "object") {
        try {
          return JSON.stringify(arg);
        } catch {
          return String(arg);
        }
      }
      return String(arg);
    });
    const baseMessage = `${timestamp}${prefix}${levelStr}${message} ${formattedArgs.join(" ")}`.trim();
    if (this.colorfulConsole) {
      if (level === "错误") {
        return `${"\x1B[31m"}${baseMessage}${"\x1B[0m"}`;
      } else if (level === "警告") {
        return `${"\x1B[33m"}${baseMessage}${"\x1B[0m"}`;
      } else if (level === "信息") {
        return `${"\x1B[36m"}${baseMessage}${"\x1B[0m"}`;
      } else if (level === "调试") {
        return `${"\x1B[90m"}${baseMessage}${"\x1B[0m"}`;
      }
    }
    return baseMessage;
  }
  /**
   * 确保字符串使用UTF-8编码
   * 这个函数在Windows终端中特别有用
   * @param str 输入字符串
   * @returns UTF-8编码的字符串
   */
  ensureUtf8(str) {
    if (process.platform === "win32") {
      try {
        return Buffer.from(str, "utf8").toString("utf8");
      } catch {
        return str;
      }
    }
    return str;
  }
  /**
   * 输出调试级别日志
   * @param message 日志消息
   * @param args 额外参数
   */
  debug(message, ...args) {
    if (this.level <= LogLevel.DEBUG) {
      const formattedMessage = this.formatMessage("调试", message, ...args);
      console.log(this.ensureUtf8(formattedMessage));
    }
  }
  /**
   * 输出信息级别日志
   * @param message 日志消息
   * @param args 额外参数
   */
  info(message, ...args) {
    if (this.level <= LogLevel.INFO) {
      const formattedMessage = this.formatMessage("信息", message, ...args);
      console.log(this.ensureUtf8(formattedMessage));
    }
  }
  /**
   * 输出警告级别日志
   * @param message 日志消息
   * @param args 额外参数
   */
  warn(message, ...args) {
    if (this.level <= LogLevel.WARN) {
      const formattedMessage = this.formatMessage("警告", message, ...args);
      console.warn(this.ensureUtf8(formattedMessage));
    }
  }
  /**
   * 输出错误级别日志
   * @param message 日志消息
   * @param args 额外参数
   */
  error(message, ...args) {
    if (this.level <= LogLevel.ERROR) {
      const formattedMessage = this.formatMessage("错误", message, ...args);
      console.error(this.ensureUtf8(formattedMessage));
    }
  }
}
const mainLogger = new Logger({ level: LogLevel.DEBUG, prefix: "主进程" });
new Logger({ level: LogLevel.DEBUG, prefix: "IPC" });
new Logger({ level: LogLevel.DEBUG, prefix: "LLM" });
new Logger({ level: LogLevel.DEBUG, prefix: "存储" });
new Logger({ level: LogLevel.DEBUG, prefix: "代理" });
({
  debug: mainLogger.debug.bind(mainLogger),
  info: mainLogger.info.bind(mainLogger),
  warn: mainLogger.warn.bind(mainLogger),
  error: mainLogger.error.bind(mainLogger)
});
async function setupGlobalEncoding() {
  process.env.LANG = "zh_CN.UTF-8";
  process.env.LC_ALL = "zh_CN.UTF-8";
  process.env.LC_CTYPE = "zh_CN.UTF-8";
  if (process.stdout.isTTY) {
    process.stdout.setDefaultEncoding("utf8");
  }
  if (process.stderr.isTTY) {
    process.stderr.setDefaultEncoding("utf8");
  }
}
setupGlobalEncoding().catch((err) => {
  console.error("设置全局编码时出错:", err);
});
electron.contextBridge.exposeInMainWorld("electronAPI", {
  // 使用不同的键名，避免覆盖可能存在的其他 ipcRenderer 暴露
  // --- 精确暴露存储相关的 invoke 通道 ---
  // 将参数类型从 any 改为 unknown，与 ipcHandler 保持一致
  readStore: (fileName, defaultValue) => electron.ipcRenderer.invoke("read-store", fileName, defaultValue),
  writeStore: (fileName, data) => electron.ipcRenderer.invoke("write-store", fileName, data),
  // 新增：列出聊天会话文件
  listChatSessions: () => electron.ipcRenderer.invoke("list-chat-sessions"),
  // 新增：删除聊天会话文件
  deleteChatSession: (fileName) => electron.ipcRenderer.invoke("delete-chat-session", fileName),
  // --- Chat Session API (Save only, List/Delete/Read via Store API) ---
  saveChatSession: (sessionId, data) => (
    // <-- 新增保存聊天会话 API
    electron.ipcRenderer.invoke("save-chat-session", sessionId, data)
  ),
  // --- Character Data API ---
  listCharacters: () => electron.ipcRenderer.invoke("list-characters"),
  saveCharacter: (character) => electron.ipcRenderer.invoke("save-character", character),
  deleteCharacter: (characterId) => (
    // <-- 参数改为 characterId
    electron.ipcRenderer.invoke("delete-character", characterId)
  ),
  // <-- 传递 characterId
  // --- Script Data API ---
  listScripts: () => electron.ipcRenderer.invoke("list-scripts"),
  saveScript: (script) => electron.ipcRenderer.invoke("save-script", script),
  deleteScript: (scriptId) => (
    // <-- 参数改为 scriptId
    electron.ipcRenderer.invoke("delete-script", scriptId)
  ),
  // <-- 传递 scriptId
  // --- LLM 服务相关 API ---
  llmGetServices: () => electron.ipcRenderer.invoke("llm-get-services"),
  llmSetApiKey: (providerId, apiKey) => electron.ipcRenderer.invoke("llm-set-api-key", providerId, apiKey),
  llmGetAvailableModels: (providerId) => electron.ipcRenderer.invoke("llm-get-available-models", providerId),
  // 新增获取已保存 Keys 的 API
  llmGetSavedKeys: () => electron.ipcRenderer.invoke("llm-get-saved-keys"),
  // 新增：调用聊天生成 API
  // 需要在调用处确保 options 符合 LLMChatOptions 结构 (从 './llm/BaseLLM' 导入)
  // 返回值 data 符合 LLMResponse 结构
  llmGenerateChat: (providerId, options) => electron.ipcRenderer.invoke("llm-generate-chat", providerId, options),
  // 新增：调用流式聊天生成 API (只负责启动，实际数据通过 onLLMStreamChunk 接收)
  // 修改：添加 characterId 参数
  llmGenerateChatStream: (providerId, options, characterId) => electron.ipcRenderer.invoke("llm-generate-chat-stream", providerId, options, characterId),
  // 新增：获取和保存自定义模型列表
  llmGetCustomModels: (providerId) => electron.ipcRenderer.invoke("llm-get-custom-models", providerId),
  llmSaveCustomModels: (providerId, models) => electron.ipcRenderer.invoke("llm-save-custom-models", providerId, models),
  // --- 代理相关 API ---
  proxyGetConfig: () => electron.ipcRenderer.invoke("proxy-get-config"),
  proxySetConfig: (config) => electron.ipcRenderer.invoke("proxy-set-config", config),
  proxyTestConnection: () => electron.ipcRenderer.invoke("proxy-test-connection"),
  // 如果还需要通用的 on/off/send，可以在这里单独暴露，或者按需添加
  // on: (channel, listener) => { /* ... 安全实现 ... */ },
  // send: (channel, data) => { /* ... 安全实现 ... */ },
  // --- 新增：处理 LLM 流式响应 ---
  // 定义流式数据块的预期结构 (可以根据实际情况调整)
  // type LLMStreamChunk = { text?: string; error?: string; done?: boolean; usage?: object; metrics?: object; search?: object; mcpToolResponse?: object; generateImage?: object };
  // 暂时使用 unknown，在接收端进行类型检查
  // 修改：回调函数接收包含 chunk 和 sourceId 的对象
  onLLMStreamChunk: (listener) => {
    const channel = "llm-stream-chunk";
    const internalListener = (_event, data) => {
      listener(data);
    };
    electron.ipcRenderer.on(channel, internalListener);
    return {
      dispose: () => {
        electron.ipcRenderer.removeListener(channel, internalListener);
        mainLogger.info(`已移除监听器: ${channel}`);
      }
    };
  }
  // 你可以在这里暴露其他需要的 API。
});
function domReady(condition = ["complete", "interactive"]) {
  return new Promise((resolve) => {
    if (condition.includes(document.readyState)) {
      resolve(true);
    } else {
      document.addEventListener("readystatechange", () => {
        if (condition.includes(document.readyState)) {
          resolve(true);
        }
      });
    }
  });
}
const safeDOM = {
  append(parent, child) {
    if (!Array.from(parent.children).find((e) => e === child)) {
      return parent.appendChild(child);
    }
  },
  remove(parent, child) {
    if (Array.from(parent.children).find((e) => e === child)) {
      return parent.removeChild(child);
    }
  }
};
function createLoadingIndicator() {
  const className = `loaders-css__square-spin`;
  const styleContent = `
@keyframes square-spin {
  25% { transform: perspective(100px) rotateX(180deg) rotateY(0); }
  50% { transform: perspective(100px) rotateX(180deg) rotateY(180deg); }
  75% { transform: perspective(100px) rotateX(0) rotateY(180deg); }
  100% { transform: perspective(100px) rotateX(0) rotateY(0); }
}
.${className} > div {
  animation-fill-mode: both;
  width: 50px;
  height: 50px;
  background: #fff;
  animation: square-spin 3s 0s cubic-bezier(0.09, 0.57, 0.49, 0.9) infinite;
}
.app-loading-wrap {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #282c34;
  z-index: 9;
}
    `;
  const oStyle = document.createElement("style");
  const oDiv = document.createElement("div");
  oStyle.id = "app-loading-style";
  oStyle.innerHTML = styleContent;
  oDiv.className = "app-loading-wrap";
  oDiv.innerHTML = `<div class="${className}"><div></div></div>`;
  return {
    appendLoading() {
      safeDOM.append(document.head, oStyle);
      safeDOM.append(document.body, oDiv);
    },
    removeLoading() {
      safeDOM.remove(document.head, oStyle);
      safeDOM.remove(document.body, oDiv);
    }
  };
}
const { appendLoading, removeLoading } = createLoadingIndicator();
domReady().then(appendLoading);
window.onmessage = (ev) => {
  if (ev.data && ev.data.payload === "removeLoading") {
    mainLogger.info("收到移除加载指示器的消息");
    removeLoading();
  }
};
setTimeout(removeLoading, 4999);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbG9hZC5tanMiLCJzb3VyY2VzIjpbIi4uL2VsZWN0cm9uL3V0aWxzL2xvZ1R5cGVzLnRzIiwiLi4vZWxlY3Ryb24vdXRpbHMvbG9nQ29uZmlnLnRzIiwiLi4vZWxlY3Ryb24vdXRpbHMvbG9nZ2VyLnRzIiwiLi4vZWxlY3Ryb24vdXRpbHMvZW5jb2RpbmcudHMiLCIuLi9lbGVjdHJvbi9wcmVsb2FkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5pel5b+X57G75Z6L5a6a5LmJXG4gKiDljIXlkKvml6Xlv5fnuqfliKvmnprkuL7lkozml6Xlv5fphY3nva7mjqXlj6NcbiAqL1xuXG4vLyDml6Xlv5fnuqfliKvmnprkuL5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgREVCVUcgPSAwLFxuICBJTkZPID0gMSxcbiAgV0FSTiA9IDIsXG4gIEVSUk9SID0gMyxcbn1cblxuLy8g5pel5b+X6YWN572u5o6l5Y+jXG5leHBvcnQgaW50ZXJmYWNlIExvZ0NvbmZpZyB7XG4gIC8vIOWFqOWxgOaXpeW/l+e6p+WIq1xuICBnbG9iYWxMZXZlbDogTG9nTGV2ZWw7XG4gIC8vIOWQhOaooeWdl+aXpeW/l+e6p+WIq1xuICBtb2R1bGVMZXZlbHM6IHtcbiAgICBtYWluOiBMb2dMZXZlbDtcbiAgICBpcGM6IExvZ0xldmVsO1xuICAgIGxsbTogTG9nTGV2ZWw7XG4gICAgc3RvcmFnZTogTG9nTGV2ZWw7XG4gICAgcHJveHk6IExvZ0xldmVsO1xuICB9O1xuICAvLyDmmK/lkKblnKjml6Xlv5fkuK3mmL7npLrml7bpl7TmiLNcbiAgc2hvd1RpbWVzdGFtcDogYm9vbGVhbjtcbiAgLy8g5piv5ZCm5Zyo5o6n5Yi25Y+w6L6T5Ye65b2p6Imy5pel5b+XXG4gIGNvbG9yZnVsQ29uc29sZTogYm9vbGVhbjtcbiAgLy8g5piv5ZCm5bCG5pel5b+X5YaZ5YWl5paH5Lu2XG4gIGxvZ1RvRmlsZTogYm9vbGVhbjtcbiAgLy8g5pel5b+X5paH5Lu26Lev5b6EXG4gIGxvZ0ZpbGVQYXRoPzogc3RyaW5nO1xufVxuXG4vLyDml6Xlv5flmajphY3nva7mjqXlj6NcbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyQ29uZmlnIHtcbiAgbGV2ZWw6IExvZ0xldmVsOyAvLyDml6Xlv5fnuqfliKtcbiAgcHJlZml4Pzogc3RyaW5nOyAvLyDml6Xlv5fliY3nvIBcbiAgc2hvd1RpbWVzdGFtcD86IGJvb2xlYW47IC8vIOaYr+WQpuaYvuekuuaXtumXtOaIs1xuICBjb2xvcmZ1bENvbnNvbGU/OiBib29sZWFuOyAvLyDmmK/lkKblnKjmjqfliLblj7DovpPlh7rlvanoibLml6Xlv5dcbn1cbiIsIi8qKlxuICog5pel5b+X6YWN572u5paH5Lu2XG4gKiDnu5/kuIDnrqHnkIbml6Xlv5fovpPlh7rphY3nva5cbiAqL1xuaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ0NvbmZpZyB9IGZyb20gJy4vbG9nVHlwZXMnO1xuXG4vKipcbiAqIOm7mOiupOaXpeW/l+mFjee9rlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExvZ0NvbmZpZzogTG9nQ29uZmlnID0ge1xuICBnbG9iYWxMZXZlbDogTG9nTGV2ZWwuREVCVUcsXG4gIG1vZHVsZUxldmVsczoge1xuICAgIG1haW46IExvZ0xldmVsLkRFQlVHLFxuICAgIGlwYzogTG9nTGV2ZWwuREVCVUcsXG4gICAgbGxtOiBMb2dMZXZlbC5ERUJVRyxcbiAgICBzdG9yYWdlOiBMb2dMZXZlbC5ERUJVRyxcbiAgICBwcm94eTogTG9nTGV2ZWwuREVCVUcsXG4gIH0sXG4gIHNob3dUaW1lc3RhbXA6IHRydWUsXG4gIGNvbG9yZnVsQ29uc29sZTogdHJ1ZSxcbiAgbG9nVG9GaWxlOiBmYWxzZSxcbn07XG5cbi8qKlxuICog6I635Y+W5pel5b+X6YWN572uXG4gKiBAcmV0dXJucyDml6Xlv5fphY3nva5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ0NvbmZpZygpOiBMb2dDb25maWcge1xuICAvLyDov5nph4zlj6/ku6Xku47phY3nva7mlofku7bmiJbnjq/looPlj5jph4/kuK3or7vlj5bphY3nva5cbiAgLy8g5pqC5pe26L+U5Zue6buY6K6k6YWN572uXG4gIHJldHVybiBkZWZhdWx0TG9nQ29uZmlnO1xufVxuXG4vKipcbiAqIOm7mOiupOWvvOWHulxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldExvZ0NvbmZpZyxcbiAgZGVmYXVsdExvZ0NvbmZpZyxcbn07XG4iLCIvKipcbiAqIOaXpeW/l+W3peWFt+exu1xuICog57uf5LiA566h55CG5pel5b+X6L6T5Ye677yM56Gu5L+d5omA5pyJ5pel5b+X6YO95L2/55So5rGJ6K+t77yM5bm25LiU6L6T5Ye65Yiw5o6n5Yi25Y+w5ZKM5byA5Y+R6ICF5bel5YW35pe25L2/55SoVVRGLTjnvJbnoIFcbiAqL1xuaW1wb3J0IHsgZ2V0TG9nQ29uZmlnIH0gZnJvbSAnLi9sb2dDb25maWcnO1xuaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ2dlckNvbmZpZyB9IGZyb20gJy4vbG9nVHlwZXMnO1xuXG4vLyDmjqfliLblj7DpopzoibLku6PnoIFcbmVudW0gQ29uc29sZUNvbG9yIHtcbiAgUmVzZXQgPSAnXFx4MWJbMG0nLFxuICBGZ1JlZCA9ICdcXHgxYlszMW0nLFxuICBGZ1llbGxvdyA9ICdcXHgxYlszM20nLFxuICBGZ0N5YW4gPSAnXFx4MWJbMzZtJyxcbiAgRmdHcmF5ID0gJ1xceDFiWzkwbScsXG59XG5cbi8qKlxuICog5pel5b+X5bel5YW357G7XG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICBwcml2YXRlIGxldmVsOiBMb2dMZXZlbDtcbiAgcHJpdmF0ZSBwcmVmaXg6IHN0cmluZztcbiAgcHJpdmF0ZSBzaG93VGltZXN0YW1wOiBib29sZWFuO1xuICBwcml2YXRlIGNvbG9yZnVsQ29uc29sZTogYm9vbGVhbjtcblxuICAvKipcbiAgICog5p6E6YCg5Ye95pWwXG4gICAqIEBwYXJhbSBjb25maWcg5pel5b+X6YWN572uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWc6IExvZ2dlckNvbmZpZykge1xuICAgIGNvbnN0IGdsb2JhbENvbmZpZyA9IGdldExvZ0NvbmZpZygpO1xuICAgIHRoaXMubGV2ZWwgPSBjb25maWcubGV2ZWw7XG4gICAgdGhpcy5wcmVmaXggPSBjb25maWcucHJlZml4IHx8ICcnO1xuICAgIHRoaXMuc2hvd1RpbWVzdGFtcCA9IGNvbmZpZy5zaG93VGltZXN0YW1wICE9PSB1bmRlZmluZWQgPyBjb25maWcuc2hvd1RpbWVzdGFtcCA6IGdsb2JhbENvbmZpZy5zaG93VGltZXN0YW1wO1xuICAgIHRoaXMuY29sb3JmdWxDb25zb2xlID0gY29uZmlnLmNvbG9yZnVsQ29uc29sZSAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmNvbG9yZnVsQ29uc29sZSA6IGdsb2JhbENvbmZpZy5jb2xvcmZ1bENvbnNvbGU7XG4gIH1cblxuICAvKipcbiAgICog5qC85byP5YyW5pel5b+X5raI5oGvXG4gICAqIEBwYXJhbSBsZXZlbCDml6Xlv5fnuqfliKtcbiAgICogQHBhcmFtIG1lc3NhZ2Ug5pel5b+X5raI5oGvXG4gICAqIEBwYXJhbSBhcmdzIOmineWkluWPguaVsFxuICAgKiBAcmV0dXJucyDmoLzlvI/ljJblkI7nmoTml6Xlv5fmtojmga9cbiAgICovXG4gIHByaXZhdGUgZm9ybWF0TWVzc2FnZShsZXZlbDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IHVua25vd25bXSk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5zaG93VGltZXN0YW1wID8gYFske25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoJ3poLUNOJyl9XSBgIDogJyc7XG4gICAgY29uc3QgcHJlZml4ID0gdGhpcy5wcmVmaXggPyBgWyR7dGhpcy5wcmVmaXh9XSBgIDogJyc7XG4gICAgY29uc3QgbGV2ZWxTdHIgPSBgWyR7bGV2ZWx9XSBgO1xuXG4gICAgLy8g5bCG6Z2e5a2X56ym5Liy5Y+C5pWw6L2s5o2i5Li65a2X56ym5LiyXG4gICAgY29uc3QgZm9ybWF0dGVkQXJncyA9IGFyZ3MubWFwKGFyZyA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhhcmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gU3RyaW5nKGFyZyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBiYXNlTWVzc2FnZSA9IGAke3RpbWVzdGFtcH0ke3ByZWZpeH0ke2xldmVsU3RyfSR7bWVzc2FnZX0gJHtmb3JtYXR0ZWRBcmdzLmpvaW4oJyAnKX1gLnRyaW0oKTtcblxuICAgIC8vIOWmguaenOWQr+eUqOS6huW9qeiJsui+k+WHuu+8jOagueaNruaXpeW/l+e6p+WIq+a3u+WKoOminOiJslxuICAgIGlmICh0aGlzLmNvbG9yZnVsQ29uc29sZSkge1xuICAgICAgaWYgKGxldmVsID09PSAn6ZSZ6K+vJykge1xuICAgICAgICByZXR1cm4gYCR7Q29uc29sZUNvbG9yLkZnUmVkfSR7YmFzZU1lc3NhZ2V9JHtDb25zb2xlQ29sb3IuUmVzZXR9YDsgLy8g57qi6ImyXG4gICAgICB9IGVsc2UgaWYgKGxldmVsID09PSAn6K2m5ZGKJykge1xuICAgICAgICByZXR1cm4gYCR7Q29uc29sZUNvbG9yLkZnWWVsbG93fSR7YmFzZU1lc3NhZ2V9JHtDb25zb2xlQ29sb3IuUmVzZXR9YDsgLy8g6buE6ImyXG4gICAgICB9IGVsc2UgaWYgKGxldmVsID09PSAn5L+h5oGvJykge1xuICAgICAgICByZXR1cm4gYCR7Q29uc29sZUNvbG9yLkZnQ3lhbn0ke2Jhc2VNZXNzYWdlfSR7Q29uc29sZUNvbG9yLlJlc2V0fWA7IC8vIOmdkuiJslxuICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gJ+iwg+ivlScpIHtcbiAgICAgICAgcmV0dXJuIGAke0NvbnNvbGVDb2xvci5GZ0dyYXl9JHtiYXNlTWVzc2FnZX0ke0NvbnNvbGVDb2xvci5SZXNldH1gOyAvLyDngbDoibJcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZU1lc3NhZ2U7XG4gIH1cblxuICAvKipcbiAgICog56Gu5L+d5a2X56ym5Liy5L2/55SoVVRGLTjnvJbnoIFcbiAgICog6L+Z5Liq5Ye95pWw5ZyoV2luZG93c+e7iOerr+S4reeJueWIq+acieeUqFxuICAgKiBAcGFyYW0gc3RyIOi+k+WFpeWtl+espuS4slxuICAgKiBAcmV0dXJucyBVVEYtOOe8lueggeeahOWtl+espuS4slxuICAgKi9cbiAgcHJpdmF0ZSBlbnN1cmVVdGY4KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyDlnKhXaW5kb3dz5bmz5Y+w5LiK77yM57uI56uv5Y+v6IO95LiN5L2/55SoVVRGLTjnvJbnoIFcbiAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5bCd6K+V5bCG5a2X56ym5Liy6L2s5o2i5Li6QnVmZmVy5YaN6L2s5Zue5a2X56ym5Liy77yM56Gu5L+dVVRGLTjnvJbnoIFcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0ciwgJ3V0ZjgnKS50b1N0cmluZygndXRmOCcpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBzdHI7IC8vIOWmguaenOi9rOaNouWksei0pe+8jOi/lOWbnuWOn+Wni+Wtl+espuS4slxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyOyAvLyDpnZ5XaW5kb3dz5bmz5Y+w55u05o6l6L+U5ZueXG4gIH1cblxuICAvKipcbiAgICog6L6T5Ye66LCD6K+V57qn5Yir5pel5b+XXG4gICAqIEBwYXJhbSBtZXNzYWdlIOaXpeW/l+a2iOaBr1xuICAgKiBAcGFyYW0gYXJncyDpop3lpJblj4LmlbBcbiAgICovXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuREVCVUcpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ+iwg+ivlScsIG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgICAgY29uc29sZS5sb2codGhpcy5lbnN1cmVVdGY4KGZvcm1hdHRlZE1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6L6T5Ye65L+h5oGv57qn5Yir5pel5b+XXG4gICAqIEBwYXJhbSBtZXNzYWdlIOaXpeW/l+a2iOaBr1xuICAgKiBAcGFyYW0gYXJncyDpop3lpJblj4LmlbBcbiAgICovXG4gIGluZm8obWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRNZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCfkv6Hmga8nLCBtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5zdXJlVXRmOChmb3JtYXR0ZWRNZXNzYWdlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOi+k+WHuuitpuWRiue6p+WIq+aXpeW/l1xuICAgKiBAcGFyYW0gbWVzc2FnZSDml6Xlv5fmtojmga9cbiAgICogQHBhcmFtIGFyZ3Mg6aKd5aSW5Y+C5pWwXG4gICAqL1xuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuV0FSTikge1xuICAgICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgn6K2m5ZGKJywgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICBjb25zb2xlLndhcm4odGhpcy5lbnN1cmVVdGY4KGZvcm1hdHRlZE1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6L6T5Ye66ZSZ6K+v57qn5Yir5pel5b+XXG4gICAqIEBwYXJhbSBtZXNzYWdlIOaXpeW/l+a2iOaBr1xuICAgKiBAcGFyYW0gYXJncyDpop3lpJblj4LmlbBcbiAgICovXG4gIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ+mUmeivrycsIG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgICAgY29uc29sZS5lcnJvcih0aGlzLmVuc3VyZVV0ZjgoZm9ybWF0dGVkTWVzc2FnZSkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyDliJvlu7rpu5jorqTml6Xlv5flrp7kvotcbmV4cG9ydCBjb25zdCBtYWluTG9nZ2VyID0gbmV3IExvZ2dlcih7IGxldmVsOiBMb2dMZXZlbC5ERUJVRywgcHJlZml4OiAn5Li76L+b56iLJyB9KTtcbmV4cG9ydCBjb25zdCBpcGNMb2dnZXIgPSBuZXcgTG9nZ2VyKHsgbGV2ZWw6IExvZ0xldmVsLkRFQlVHLCBwcmVmaXg6ICdJUEMnIH0pO1xuZXhwb3J0IGNvbnN0IGxsbUxvZ2dlciA9IG5ldyBMb2dnZXIoeyBsZXZlbDogTG9nTGV2ZWwuREVCVUcsIHByZWZpeDogJ0xMTScgfSk7XG5leHBvcnQgY29uc3Qgc3RvcmFnZUxvZ2dlciA9IG5ldyBMb2dnZXIoeyBsZXZlbDogTG9nTGV2ZWwuREVCVUcsIHByZWZpeDogJ+WtmOWCqCcgfSk7XG5leHBvcnQgY29uc3QgcHJveHlMb2dnZXIgPSBuZXcgTG9nZ2VyKHsgbGV2ZWw6IExvZ0xldmVsLkRFQlVHLCBwcmVmaXg6ICfku6PnkIYnIH0pO1xuXG4vLyDlr7zlh7rpu5jorqTml6Xlv5flh73mlbDvvIzmlrnkvr/nm7TmjqXkvb/nlKhcbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGVidWc6IG1haW5Mb2dnZXIuZGVidWcuYmluZChtYWluTG9nZ2VyKSxcbiAgaW5mbzogbWFpbkxvZ2dlci5pbmZvLmJpbmQobWFpbkxvZ2dlciksXG4gIHdhcm46IG1haW5Mb2dnZXIud2Fybi5iaW5kKG1haW5Mb2dnZXIpLFxuICBlcnJvcjogbWFpbkxvZ2dlci5lcnJvci5iaW5kKG1haW5Mb2dnZXIpLFxufTtcbiIsIi8qKlxuICog57yW56CB5bel5YW357G7XG4gKiDnu5/kuIDnrqHnkIbnvJbnoIHorr7nva7vvIznoa7kv53miYDmnInmtonlj4rnvJbnoIHnmoTlnLDmlrnpg73kvb/nlKhVVEYtOFxuICovXG5cbi8qKlxuICog6K6+572u5YWo5bGA57yW56CB5Li6VVRGLThcbiAqIOi/meS4quWHveaVsOW6lOivpeWcqOW6lOeUqOWQr+WKqOaXtuiwg+eUqFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0dXBHbG9iYWxFbmNvZGluZygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8g6K6+572uTm9kZS5qc+i/m+eoi+eahOe8lueggVxuICBwcm9jZXNzLmVudi5MQU5HID0gJ3poX0NOLlVURi04JztcbiAgcHJvY2Vzcy5lbnYuTENfQUxMID0gJ3poX0NOLlVURi04JztcbiAgcHJvY2Vzcy5lbnYuTENfQ1RZUEUgPSAnemhfQ04uVVRGLTgnO1xuXG4gIC8vIOiuvue9ruaOp+WItuWPsOi+k+WHuue8lueggVxuICBpZiAocHJvY2Vzcy5zdGRvdXQuaXNUVFkpIHtcbiAgICBwcm9jZXNzLnN0ZG91dC5zZXREZWZhdWx0RW5jb2RpbmcoJ3V0ZjgnKTtcbiAgfVxuICBpZiAocHJvY2Vzcy5zdGRlcnIuaXNUVFkpIHtcbiAgICBwcm9jZXNzLnN0ZGVyci5zZXREZWZhdWx0RW5jb2RpbmcoJ3V0ZjgnKTtcbiAgfVxuXG4gIC8vIOazqOaEj++8muaIkeS7rOS4jeWGjeWcqOi/memHjOiuvue9rldpbmRvd3PmjqfliLblj7Dku6PnoIHpobVcbiAgLy8g6L+Z5Liq5pON5L2c5bey57uP56e75YiwbWFpbi50c+S4re+8jOS7pemBv+WFjemHjeWkjeaJp+ihjFxufVxuXG4vKipcbiAqIOaWh+S7tuivu+WGmemAiemhue+8jOW8uuWItuS9v+eUqFVURi0457yW56CBXG4gKi9cbmV4cG9ydCBjb25zdCBVVEY4X09QVElPTlMgPSB7IGVuY29kaW5nOiAndXRmLTgnIH0gYXMgY29uc3Q7XG5cbi8qKlxuICog56Gu5L+d5a2X56ym5Liy5L2/55SoVVRGLTjnvJbnoIFcbiAqIOi/meS4quWHveaVsOWcqFdpbmRvd3Pnu4jnq6/kuK3nibnliKvmnInnlKhcbiAqIEBwYXJhbSBzdHIg6L6T5YWl5a2X56ym5LiyXG4gKiBAcmV0dXJucyBVVEYtOOe8lueggeeahOWtl+espuS4slxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlVXRmOChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIOWcqFdpbmRvd3PlubPlj7DkuIrvvIznu4jnq6/lj6/og73kuI3kvb/nlKhVVEYtOOe8lueggVxuICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuICAgIHRyeSB7XG4gICAgICAvLyDlsJ3or5XlsIblrZfnrKbkuLLovazmjaLkuLpCdWZmZXLlho3ovazlm57lrZfnrKbkuLLvvIznoa7kv51VVEYtOOe8lueggVxuICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0ciwgJ3V0ZjgnKS50b1N0cmluZygndXRmOCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfovazmjaLlrZfnrKbkuLLliLBVVEYtOOe8lueggeaXtuWHuumUmTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gc3RyOyAvLyDlpoLmnpzovazmjaLlpLHotKXvvIzov5Tlm57ljp/lp4vlrZfnrKbkuLJcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjsgLy8g6Z2eV2luZG93c+W5s+WPsOebtOaOpei/lOWbnlxufVxuXG4vKipcbiAqIOm7mOiupOWvvOWHulxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNldHVwR2xvYmFsRW5jb2RpbmcsXG4gIFVURjhfT1BUSU9OUyxcbiAgZW5zdXJlVXRmOCxcbn07XG4iLCJpbXBvcnQgeyBjb250ZXh0QnJpZGdlLCBpcGNSZW5kZXJlciB9IGZyb20gJ2VsZWN0cm9uJztcclxuaW1wb3J0IHR5cGUgeyBMTE1DaGF0T3B0aW9ucywgTExNUmVzcG9uc2UgfSBmcm9tICcuL2xsbS9CYXNlTExNJztcclxuaW1wb3J0IHR5cGUgeyBQcm94eUNvbmZpZyB9IGZyb20gJy4vUHJveHlNYW5hZ2VyJztcclxuLy8g5a+85YWl6KeS6Imy5ZKM5Ymn5pys57G75Z6L77yM56Gu5L+d5LiO5ZCO56uv5ZKM5YmN56uv5L2/55So55qE57G75Z6L5LiA6Ie0XHJcbmltcG9ydCB0eXBlIHsgQUlDaGFyYWN0ZXIsIFNjcmlwdCB9IGZyb20gJy4uL3NyYy90eXBlcyc7XHJcbmltcG9ydCB7IG1haW5Mb2dnZXIgYXMgbG9nZ2VyIH0gZnJvbSAnLi91dGlscy9sb2dnZXInOyAvLyDlr7zlhaXml6Xlv5flt6XlhbdcclxuaW1wb3J0IHsgc2V0dXBHbG9iYWxFbmNvZGluZyB9IGZyb20gJy4vdXRpbHMvZW5jb2RpbmcnOyAvLyDlr7zlhaXnvJbnoIHlt6XlhbdcclxuXHJcbi8vIOiuvue9ruWFqOWxgOe8lueggeS4ulVURi04XHJcbnNldHVwR2xvYmFsRW5jb2RpbmcoKS5jYXRjaChlcnIgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IoJ+iuvue9ruWFqOWxgOe8lueggeaXtuWHuumUmTonLCBlcnIpO1xyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLSDlkJHmuLLmn5Pov5vnqIvmmrTpnLLpgInmi6nmgKfnmoQgQVBJIC0tLS0tLS0tLVxyXG5jb250ZXh0QnJpZGdlLmV4cG9zZUluTWFpbldvcmxkKCdlbGVjdHJvbkFQSScsIHsgLy8g5L2/55So5LiN5ZCM55qE6ZSu5ZCN77yM6YG/5YWN6KaG55uW5Y+v6IO95a2Y5Zyo55qE5YW25LuWIGlwY1JlbmRlcmVyIOaatOmcslxyXG4gIC8vIC0tLSDnsr7noa7mmrTpnLLlrZjlgqjnm7jlhbPnmoQgaW52b2tlIOmAmumBkyAtLS1cclxuICAvLyDlsIblj4LmlbDnsbvlnovku44gYW55IOaUueS4uiB1bmtub3du77yM5LiOIGlwY0hhbmRsZXIg5L+d5oyB5LiA6Ie0XHJcbiAgcmVhZFN0b3JlOiAoZmlsZU5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiB1bmtub3duKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiB1bmtub3duOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdyZWFkLXN0b3JlJywgZmlsZU5hbWUsIGRlZmF1bHRWYWx1ZSksXHJcbiAgd3JpdGVTdG9yZTogKGZpbGVOYW1lOiBzdHJpbmcsIGRhdGE6IHVua25vd24pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgIGlwY1JlbmRlcmVyLmludm9rZSgnd3JpdGUtc3RvcmUnLCBmaWxlTmFtZSwgZGF0YSksXHJcbiAgLy8g5paw5aKe77ya5YiX5Ye66IGK5aSp5Lya6K+d5paH5Lu2XHJcbiAgbGlzdENoYXRTZXNzaW9uczogKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICBpcGNSZW5kZXJlci5pbnZva2UoJ2xpc3QtY2hhdC1zZXNzaW9ucycpLFxyXG4gIC8vIOaWsOWinu+8muWIoOmZpOiBiuWkqeS8muivneaWh+S7tlxyXG4gIGRlbGV0ZUNoYXRTZXNzaW9uOiAoZmlsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdkZWxldGUtY2hhdC1zZXNzaW9uJywgZmlsZU5hbWUpLFxyXG5cclxuICAvLyAtLS0gQ2hhdCBTZXNzaW9uIEFQSSAoU2F2ZSBvbmx5LCBMaXN0L0RlbGV0ZS9SZWFkIHZpYSBTdG9yZSBBUEkpIC0tLVxyXG4gIHNhdmVDaGF0U2Vzc2lvbjogKHNlc3Npb25JZDogc3RyaW5nLCBkYXRhOiB1bmtub3duKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+ID0+IC8vIDwtLSDmlrDlop7kv53lrZjogYrlpKnkvJror50gQVBJXHJcbiAgICBpcGNSZW5kZXJlci5pbnZva2UoJ3NhdmUtY2hhdC1zZXNzaW9uJywgc2Vzc2lvbklkLCBkYXRhKSxcclxuXHJcbiAgLy8gLS0tIENoYXJhY3RlciBEYXRhIEFQSSAtLS1cclxuICBsaXN0Q2hhcmFjdGVyczogKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogQUlDaGFyYWN0ZXJbXTsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgIGlwY1JlbmRlcmVyLmludm9rZSgnbGlzdC1jaGFyYWN0ZXJzJyksXHJcbiAgc2F2ZUNoYXJhY3RlcjogKGNoYXJhY3RlcjogQUlDaGFyYWN0ZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgIGlwY1JlbmRlcmVyLmludm9rZSgnc2F2ZS1jaGFyYWN0ZXInLCBjaGFyYWN0ZXIpLFxyXG4gIGRlbGV0ZUNoYXJhY3RlcjogKGNoYXJhY3RlcklkOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gPT4gLy8gPC0tIOWPguaVsOaUueS4uiBjaGFyYWN0ZXJJZFxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdkZWxldGUtY2hhcmFjdGVyJywgY2hhcmFjdGVySWQpLCAvLyA8LS0g5Lyg6YCSIGNoYXJhY3RlcklkXHJcblxyXG4gIC8vIC0tLSBTY3JpcHQgRGF0YSBBUEkgLS0tXHJcbiAgbGlzdFNjcmlwdHM6ICgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YT86IFNjcmlwdFtdOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdsaXN0LXNjcmlwdHMnKSxcclxuICBzYXZlU2NyaXB0OiAoc2NyaXB0OiBTY3JpcHQpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgIGlwY1JlbmRlcmVyLmludm9rZSgnc2F2ZS1zY3JpcHQnLCBzY3JpcHQpLFxyXG4gIGRlbGV0ZVNjcmlwdDogKHNjcmlwdElkOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gPT4gLy8gPC0tIOWPguaVsOaUueS4uiBzY3JpcHRJZFxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdkZWxldGUtc2NyaXB0Jywgc2NyaXB0SWQpLCAvLyA8LS0g5Lyg6YCSIHNjcmlwdElkXHJcblxyXG4gIC8vIC0tLSBMTE0g5pyN5Yqh55u45YWzIEFQSSAtLS1cclxuICBsbG1HZXRTZXJ2aWNlczogKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogeyBwcm92aWRlcklkOiBzdHJpbmc7IHByb3ZpZGVyTmFtZTogc3RyaW5nOyBkZWZhdWx0TW9kZWxzOiBzdHJpbmdbXSB9W107IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICBpcGNSZW5kZXJlci5pbnZva2UoJ2xsbS1nZXQtc2VydmljZXMnKSxcclxuICBsbG1TZXRBcGlLZXk6IChwcm92aWRlcklkOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdsbG0tc2V0LWFwaS1rZXknLCBwcm92aWRlcklkLCBhcGlLZXkpLFxyXG4gIGxsbUdldEF2YWlsYWJsZU1vZGVsczogKHByb3ZpZGVySWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICBpcGNSZW5kZXJlci5pbnZva2UoJ2xsbS1nZXQtYXZhaWxhYmxlLW1vZGVscycsIHByb3ZpZGVySWQpLFxyXG4gIC8vIOaWsOWinuiOt+WPluW3suS/neWtmCBLZXlzIOeahCBBUElcclxuICBsbG1HZXRTYXZlZEtleXM6ICgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YT86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+OyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdsbG0tZ2V0LXNhdmVkLWtleXMnKSxcclxuLy8g5paw5aKe77ya6LCD55So6IGK5aSp55Sf5oiQIEFQSVxyXG4gICAvLyDpnIDopoHlnKjosIPnlKjlpITnoa7kv50gb3B0aW9ucyDnrKblkIggTExNQ2hhdE9wdGlvbnMg57uT5p6EICjku44gJy4vbGxtL0Jhc2VMTE0nIOWvvOWFpSlcclxuICAgLy8g6L+U5Zue5YC8IGRhdGEg56ym5ZCIIExMTVJlc3BvbnNlIOe7k+aehFxyXG4gICBsbG1HZW5lcmF0ZUNoYXQ6IChwcm92aWRlcklkOiBzdHJpbmcsIG9wdGlvbnM6IExMTUNoYXRPcHRpb25zKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBMTE1SZXNwb25zZTsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgICBpcGNSZW5kZXJlci5pbnZva2UoJ2xsbS1nZW5lcmF0ZS1jaGF0JywgcHJvdmlkZXJJZCwgb3B0aW9ucyksXHJcbiAgLy8g5paw5aKe77ya6LCD55So5rWB5byP6IGK5aSp55Sf5oiQIEFQSSAo5Y+q6LSf6LSj5ZCv5Yqo77yM5a6e6ZmF5pWw5o2u6YCa6L+HIG9uTExNU3RyZWFtQ2h1bmsg5o6l5pS2KVxyXG4gIC8vIOS/ruaUue+8mua3u+WKoCBjaGFyYWN0ZXJJZCDlj4LmlbBcclxuICBsbG1HZW5lcmF0ZUNoYXRTdHJlYW06IChwcm92aWRlcklkOiBzdHJpbmcsIG9wdGlvbnM6IExMTUNoYXRPcHRpb25zLCBjaGFyYWN0ZXJJZD86IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgaXBjUmVuZGVyZXIuaW52b2tlKCdsbG0tZ2VuZXJhdGUtY2hhdC1zdHJlYW0nLCBwcm92aWRlcklkLCBvcHRpb25zLCBjaGFyYWN0ZXJJZCksXHJcbi8vIOaWsOWinu+8muiOt+WPluWSjOS/neWtmOiHquWumuS5ieaooeWei+WIl+ihqFxyXG4gIGxsbUdldEN1c3RvbU1vZGVsczogKHByb3ZpZGVySWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICBpcGNSZW5kZXJlci5pbnZva2UoJ2xsbS1nZXQtY3VzdG9tLW1vZGVscycsIHByb3ZpZGVySWQpLFxyXG4gICBsbG1TYXZlQ3VzdG9tTW9kZWxzOiAocHJvdmlkZXJJZDogc3RyaW5nLCBtb2RlbHM6IHN0cmluZ1tdKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICAgaXBjUmVuZGVyZXIuaW52b2tlKCdsbG0tc2F2ZS1jdXN0b20tbW9kZWxzJywgcHJvdmlkZXJJZCwgbW9kZWxzKSxcclxuXHJcbiAgIC8vIC0tLSDku6PnkIbnm7jlhbMgQVBJIC0tLVxyXG4gICBwcm94eUdldENvbmZpZzogKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogUHJveHlDb25maWc7IGVycm9yPzogc3RyaW5nIH0+ID0+XHJcbiAgICAgaXBjUmVuZGVyZXIuaW52b2tlKCdwcm94eS1nZXQtY29uZmlnJyksXHJcbiAgIHByb3h5U2V0Q29uZmlnOiAoY29uZmlnOiBQcm94eUNvbmZpZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiA9PlxyXG4gICAgIGlwY1JlbmRlcmVyLmludm9rZSgncHJveHktc2V0LWNvbmZpZycsIGNvbmZpZyksXHJcbiAgIHByb3h5VGVzdENvbm5lY3Rpb246ICgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YT86IHsgaXA6IHN0cmluZzsgcHJveHlVcmw6IHN0cmluZzsgcHJveHlNb2RlOiBzdHJpbmcgfTsgZXJyb3I/OiBzdHJpbmcgfT4gPT5cclxuICAgICBpcGNSZW5kZXJlci5pbnZva2UoJ3Byb3h5LXRlc3QtY29ubmVjdGlvbicpLFxyXG5cclxuICAvLyDlpoLmnpzov5jpnIDopoHpgJrnlKjnmoQgb24vb2ZmL3NlbmTvvIzlj6/ku6XlnKjov5nph4zljZXni6zmmrTpnLLvvIzmiJbogIXmjInpnIDmt7vliqBcclxuICAvLyBvbjogKGNoYW5uZWwsIGxpc3RlbmVyKSA9PiB7IC8qIC4uLiDlronlhajlrp7njrAgLi4uICovIH0sXHJcbiAgLy8gc2VuZDogKGNoYW5uZWwsIGRhdGEpID0+IHsgLyogLi4uIOWuieWFqOWunueOsCAuLi4gKi8gfSxcclxuXHJcbiAgLy8gLS0tIOaWsOWinu+8muWkhOeQhiBMTE0g5rWB5byP5ZON5bqUIC0tLVxyXG4gIC8vIOWumuS5iea1geW8j+aVsOaNruWdl+eahOmihOacn+e7k+aehCAo5Y+v5Lul5qC55o2u5a6e6ZmF5oOF5Ya16LCD5pW0KVxyXG4gIC8vIHR5cGUgTExNU3RyZWFtQ2h1bmsgPSB7IHRleHQ/OiBzdHJpbmc7IGVycm9yPzogc3RyaW5nOyBkb25lPzogYm9vbGVhbjsgdXNhZ2U/OiBvYmplY3Q7IG1ldHJpY3M/OiBvYmplY3Q7IHNlYXJjaD86IG9iamVjdDsgbWNwVG9vbFJlc3BvbnNlPzogb2JqZWN0OyBnZW5lcmF0ZUltYWdlPzogb2JqZWN0IH07XHJcbiAgLy8g5pqC5pe25L2/55SoIHVua25vd27vvIzlnKjmjqXmlLbnq6/ov5vooYznsbvlnovmo4Dmn6VcclxuICAvLyDkv67mlLnvvJrlm57osIPlh73mlbDmjqXmlLbljIXlkKsgY2h1bmsg5ZKMIHNvdXJjZUlkIOeahOWvueixoVxyXG4gIG9uTExNU3RyZWFtQ2h1bms6IChsaXN0ZW5lcjogKGRhdGE6IHsgY2h1bms6IHVua25vd247IHNvdXJjZUlkPzogc3RyaW5nIH0pID0+IHZvaWQpOiB7IGRpc3Bvc2U6ICgpID0+IHZvaWQgfSA9PiB7XHJcbiAgICBjb25zdCBjaGFubmVsID0gJ2xsbS1zdHJlYW0tY2h1bmsnO1xyXG4gICAgLy8g55uR5ZCs5Zmo546w5Zyo5o6l5pS25pW05LiqIGRhdGEg5a+56LGhXHJcbiAgICBjb25zdCBpbnRlcm5hbExpc3RlbmVyID0gKF9ldmVudDogRWxlY3Ryb24uSXBjUmVuZGVyZXJFdmVudCwgZGF0YTogeyBjaHVuazogdW5rbm93bjsgc291cmNlSWQ/OiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICAvLyDlj6/ku6Xmt7vliqDml6Xlv5forrDlvZXmjqXmlLbliLDnmoTmlbDmja7nu5PmnoRcclxuICAgICAgLy8gbG9nZ2VyLmRlYnVnKGBbUHJlbG9hZF0gUmVjZWl2ZWQgc3RyZWFtIGNodW5rIGRhdGEgb24gY2hhbm5lbCAke2NoYW5uZWx9OmAsIGRhdGEpO1xyXG4gICAgICAvLyDnm7TmjqXlsIbmlbTkuKogZGF0YSDlr7nosaHkvKDpgJLnu5nliY3nq6/nmoTlm57osIPlh73mlbBcclxuICAgICAgbGlzdGVuZXIoZGF0YSk7XHJcbiAgICB9O1xyXG4gICAgaXBjUmVuZGVyZXIub24oY2hhbm5lbCwgaW50ZXJuYWxMaXN0ZW5lcik7XHJcbiAgICAvLyDov5Tlm57kuIDkuKrljIXlkKsgZGlzcG9zZSDmlrnms5XnmoTlr7nosaHvvIznlKjkuo7lj5bmtojnm5HlkKxcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRpc3Bvc2U6ICgpID0+IHtcclxuICAgICAgICBpcGNSZW5kZXJlci5yZW1vdmVMaXN0ZW5lcihjaGFubmVsLCBpbnRlcm5hbExpc3RlbmVyKTtcclxuICAgICAgICBsb2dnZXIuaW5mbyhg5bey56e76Zmk55uR5ZCs5ZmoOiAke2NoYW5uZWx9YCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLy8g5L2g5Y+v5Lul5Zyo6L+Z6YeM5pq06Zyy5YW25LuW6ZyA6KaB55qEIEFQSeOAglxyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLSDpooTliqDovb3ohJrmnKzliqDovb0gLS0tLS0tLS0tXHJcbmZ1bmN0aW9uIGRvbVJlYWR5KGNvbmRpdGlvbjogRG9jdW1lbnRSZWFkeVN0YXRlW10gPSBbJ2NvbXBsZXRlJywgJ2ludGVyYWN0aXZlJ10pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICBpZiAoY29uZGl0aW9uLmluY2x1ZGVzKGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7XHJcbiAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGlmIChjb25kaXRpb24uaW5jbHVkZXMoZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHtcclxuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuY29uc3Qgc2FmZURPTSA9IHtcclxuICBhcHBlbmQocGFyZW50OiBIVE1MRWxlbWVudCwgY2hpbGQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoIUFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKS5maW5kKGUgPT4gZSA9PT0gY2hpbGQpKSB7XHJcbiAgICAgIHJldHVybiBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcmVtb3ZlKHBhcmVudDogSFRNTEVsZW1lbnQsIGNoaWxkOiBIVE1MRWxlbWVudCkge1xyXG4gICAgaWYgKEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKS5maW5kKGUgPT4gZSA9PT0gY2hpbGQpKSB7XHJcbiAgICAgIHJldHVybiBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG4vKipcclxuICog5p2l5rqQOiBodHRwczovL3RvYmlhc2FobGluLmNvbS9zcGlua2l0XHJcbiAqIO+8iOe6ryBDU1Mg5Yqo55S75pWI5p6c5LyY5LqOIEpTIOaJp+ihjO+8iVxyXG4gKi9cclxuLy8g6YeN5ZG95ZCN5Lul6YG/5YWN5Zyo6Z2eIFJlYWN0IOaWh+S7tuS4reinpuWPkSBFU0xpbnQgaG9vayDop4TliJnplJnor69cclxuZnVuY3Rpb24gY3JlYXRlTG9hZGluZ0luZGljYXRvcigpIHtcclxuICBjb25zdCBjbGFzc05hbWUgPSBgbG9hZGVycy1jc3NfX3NxdWFyZS1zcGluYDtcclxuICBjb25zdCBzdHlsZUNvbnRlbnQgPSBgXHJcbkBrZXlmcmFtZXMgc3F1YXJlLXNwaW4ge1xyXG4gIDI1JSB7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoMTAwcHgpIHJvdGF0ZVgoMTgwZGVnKSByb3RhdGVZKDApOyB9XHJcbiAgNTAlIHsgdHJhbnNmb3JtOiBwZXJzcGVjdGl2ZSgxMDBweCkgcm90YXRlWCgxODBkZWcpIHJvdGF0ZVkoMTgwZGVnKTsgfVxyXG4gIDc1JSB7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoMTAwcHgpIHJvdGF0ZVgoMCkgcm90YXRlWSgxODBkZWcpOyB9XHJcbiAgMTAwJSB7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoMTAwcHgpIHJvdGF0ZVgoMCkgcm90YXRlWSgwKTsgfVxyXG59XHJcbi4ke2NsYXNzTmFtZX0gPiBkaXYge1xyXG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgaGVpZ2h0OiA1MHB4O1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgYW5pbWF0aW9uOiBzcXVhcmUtc3BpbiAzcyAwcyBjdWJpYy1iZXppZXIoMC4wOSwgMC41NywgMC40OSwgMC45KSBpbmZpbml0ZTtcclxufVxyXG4uYXBwLWxvYWRpbmctd3JhcCB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHdpZHRoOiAxMDB2dztcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBiYWNrZ3JvdW5kOiAjMjgyYzM0O1xyXG4gIHotaW5kZXg6IDk7XHJcbn1cclxuICAgIGA7XHJcbiAgY29uc3Qgb1N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICBjb25zdCBvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gIG9TdHlsZS5pZCA9ICdhcHAtbG9hZGluZy1zdHlsZSc7XHJcbiAgb1N0eWxlLmlubmVySFRNTCA9IHN0eWxlQ29udGVudDtcclxuICBvRGl2LmNsYXNzTmFtZSA9ICdhcHAtbG9hZGluZy13cmFwJztcclxuICBvRGl2LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+PGRpdj48L2Rpdj48L2Rpdj5gO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgYXBwZW5kTG9hZGluZygpIHtcclxuICAgICAgc2FmZURPTS5hcHBlbmQoZG9jdW1lbnQuaGVhZCwgb1N0eWxlKTtcclxuICAgICAgc2FmZURPTS5hcHBlbmQoZG9jdW1lbnQuYm9keSwgb0Rpdik7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlTG9hZGluZygpIHtcclxuICAgICAgc2FmZURPTS5yZW1vdmUoZG9jdW1lbnQuaGVhZCwgb1N0eWxlKTtcclxuICAgICAgc2FmZURPTS5yZW1vdmUoZG9jdW1lbnQuYm9keSwgb0Rpdik7XHJcbiAgICB9LFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIOiwg+eUqOmHjeWRveWQjeWQjueahOWHveaVsFxyXG5jb25zdCB7IGFwcGVuZExvYWRpbmcsIHJlbW92ZUxvYWRpbmcgfSA9IGNyZWF0ZUxvYWRpbmdJbmRpY2F0b3IoKTtcclxuZG9tUmVhZHkoKS50aGVuKGFwcGVuZExvYWRpbmcpO1xyXG5cclxud2luZG93Lm9ubWVzc2FnZSA9IChldjogTWVzc2FnZUV2ZW50KSA9PiB7XHJcbiAgLy8g5L2/55SoIGlmIOivreWPpeS7peaPkOmrmOa4heaZsOW6pu+8jOa7oei2syBFU0xpbnQg6KaB5rGCXHJcbiAgaWYgKGV2LmRhdGEgJiYgZXYuZGF0YS5wYXlsb2FkID09PSAncmVtb3ZlTG9hZGluZycpIHtcclxuICAgIGxvZ2dlci5pbmZvKCfmlLbliLDnp7vpmaTliqDovb3mjIfnpLrlmajnmoTmtojmga8nKTtcclxuICAgIHJlbW92ZUxvYWRpbmcoKTtcclxuICB9XHJcbn07XHJcblxyXG5zZXRUaW1lb3V0KHJlbW92ZUxvYWRpbmcsIDQ5OTkpOyJdLCJuYW1lcyI6WyJMb2dMZXZlbCIsImNvbnRleHRCcmlkZ2UiLCJpcGNSZW5kZXJlciIsImxvZ2dlciJdLCJtYXBwaW5ncyI6Ijs7QUFNWSxJQUFBLDZCQUFBQSxjQUFMO0FBQ0xBLFlBQUFBLFVBQUEsV0FBUSxDQUFSLElBQUE7QUFDQUEsWUFBQUEsVUFBQSxVQUFPLENBQVAsSUFBQTtBQUNBQSxZQUFBQSxVQUFBLFVBQU8sQ0FBUCxJQUFBO0FBQ0FBLFlBQUFBLFVBQUEsV0FBUSxDQUFSLElBQUE7QUFKVUEsU0FBQUE7QUFBQSxHQUFBLFlBQUEsQ0FBQSxDQUFBO0FDR0wsTUFBTSxtQkFBOEI7QUFBQSxFQUN6QyxhQUFhLFNBQVM7QUFBQSxFQUN0QixjQUFjO0FBQUEsSUFDWixNQUFNLFNBQVM7QUFBQSxJQUNmLEtBQUssU0FBUztBQUFBLElBQ2QsS0FBSyxTQUFTO0FBQUEsSUFDZCxTQUFTLFNBQVM7QUFBQSxJQUNsQixPQUFPLFNBQVM7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsZUFBZTtBQUFBLEVBQ2YsaUJBQWlCO0FBQUEsRUFDakIsV0FBVztBQUNiO0FBTU8sU0FBUyxlQUEwQjtBQUdqQyxTQUFBO0FBQ1Q7QUNaTyxNQUFNLE9BQU87QUFBQTtBQUFBO0FBQUE7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
